{"version":3,"sources":["../node_modules/react/index.js","../node_modules/global/window.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/global/document.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/keycode/index.js","../node_modules/prop-types/index.js","../node_modules/clsx/dist/clsx.m.js","../node_modules/@material-ui/core/esm/utils/helpers.js","../node_modules/@material-ui/styles/esm/getThemeProps/getThemeProps.js","../node_modules/@material-ui/styles/esm/withStyles/withStyles.js","../node_modules/@material-ui/core/esm/styles/withStyles.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/warning/warning.js","../node_modules/react-dom/index.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@material-ui/core/esm/utils/reactHelpers.js","../node_modules/@material-ui/core/esm/styles/colorManipulator.js","../node_modules/@material-ui/core/esm/utils/useEventCallback.js","../node_modules/mux.js/lib/utils/stream.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/mux.js/lib/mp4/probe.js","../node_modules/deepmerge/dist/cjs.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/react-popup/dist/index.js","../node_modules/mux.js/lib/m2ts/stream-types.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/@material-ui/core/esm/styles/createBreakpoints.js","../node_modules/@material-ui/core/esm/styles/zIndex.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@material-ui/core/node_modules/is-plain-object/index.js","../node_modules/@material-ui/core/node_modules/isobject/index.js","../node_modules/@material-ui/core/esm/styles/createMixins.js","../node_modules/@material-ui/core/esm/colors/indigo.js","../node_modules/@material-ui/core/esm/colors/pink.js","../node_modules/@material-ui/core/esm/colors/grey.js","../node_modules/@material-ui/core/esm/colors/common.js","../node_modules/@material-ui/core/esm/styles/createPalette.js","../node_modules/@material-ui/core/esm/styles/createTypography.js","../node_modules/@material-ui/core/esm/styles/shadows.js","../node_modules/@material-ui/core/esm/styles/shape.js","../node_modules/@material-ui/core/esm/styles/transitions.js","../node_modules/@material-ui/core/esm/styles/createMuiTheme.js","../node_modules/@material-ui/core/esm/styles/defaultTheme.js","../node_modules/@material-ui/core/esm/styles/createSpacing.js","../node_modules/tsml/tsml.js","../node_modules/mpd-parser/dist/mpd-parser.es.js","../node_modules/@material-ui/core/esm/colors/red.js","../node_modules/webpack/buildin/global.js","../node_modules/function-bind/index.js","../node_modules/is-callable/index.js","../node_modules/mux.js/lib/mp4/transmuxer.js","../node_modules/mux.js/lib/aac/utils.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/mux.js/lib/tools/mp4-inspector.js","../node_modules/xhr/index.js","../node_modules/videojs-vtt.js/lib/browser-index.js","../node_modules/url-toolkit/src/url-toolkit.js","../node_modules/pannellum-react/es/elements/Pannellum.js","../node_modules/m3u8-parser/dist/m3u8-parser.es.js","../node_modules/pkcs7/dist/pkcs7.es.js","../node_modules/aes-decrypter/dist/aes-decrypter.es.js","../node_modules/video.js/dist/video.es.js","../node_modules/pannellum-react/es/elements/PannellumVideo.js","../node_modules/pannellum-react/es/pannellum/js/videojs-pannellum-plugin.js","../node_modules/pannellum-react/es/index.js","../node_modules/object-assign/index.js","../node_modules/react-popup/dist/Constants.js","../node_modules/react-popup/dist/Bem.js","../node_modules/pannellum-react/es/pannellum/js/libpannellum.js","../node_modules/pannellum-react/es/pannellum/js/pannellum.js","../node_modules/pannellum-react/es/pannellum/js/RequestAnimationFrame.js","../node_modules/define-properties/index.js","../node_modules/object-keys/isArguments.js","../node_modules/string.prototype.trim/implementation.js","../node_modules/es-abstract/GetIntrinsic.js","../node_modules/has/src/index.js","../node_modules/string.prototype.trim/polyfill.js","../node_modules/mux.js/lib/mp4/mp4-generator.js","../node_modules/mux.js/lib/m2ts/caption-stream.js","../node_modules/mux.js/lib/tools/caption-packet-parser.js","../node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/safe-json-parse/tuple.js","../node_modules/mux.js/lib/mp4/index.js","../node_modules/mux.js/lib/tools/ts-inspector.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/@material-ui/icons/Add.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/react-popup/dist/Popup.react.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/keymaster/keymaster.js","../node_modules/react-popup/dist/Store.js","../node_modules/events/events.js","../node_modules/react-popup/dist/Header.react.js","../node_modules/react-popup/dist/Footer.react.js","../node_modules/react-popup/dist/ButtonsSpace.react.js","../node_modules/react-popup/dist/ActionButton.react.js","../node_modules/is-function/index.js","../node_modules/parse-headers/parse-headers.js","../node_modules/string.prototype.trim/index.js","../node_modules/function-bind/implementation.js","../node_modules/object-keys/index.js","../node_modules/object-keys/implementation.js","../node_modules/es-abstract/es5.js","../node_modules/es-abstract/helpers/assertRecord.js","../node_modules/es-abstract/helpers/isNaN.js","../node_modules/es-abstract/helpers/isFinite.js","../node_modules/es-abstract/helpers/sign.js","../node_modules/es-abstract/helpers/mod.js","../node_modules/es-to-primitive/es5.js","../node_modules/es-to-primitive/helpers/isPrimitive.js","../node_modules/string.prototype.trim/shim.js","../node_modules/for-each/index.js","../node_modules/xtend/immutable.js","../node_modules/videojs-vtt.js/lib/vtt.js","../node_modules/videojs-vtt.js/lib/vttcue.js","../node_modules/videojs-vtt.js/lib/vttregion.js","../node_modules/mux.js/lib/utils/bin.js","../node_modules/mux.js/lib/mp4/frame-utils.js","../node_modules/mux.js/lib/mp4/audio-frame-utils.js","../node_modules/mux.js/lib/data/silence.js","../node_modules/mux.js/lib/utils/clock.js","../node_modules/mux.js/lib/mp4/track-decode-info.js","../node_modules/mux.js/lib/m2ts/m2ts.js","../node_modules/mux.js/lib/m2ts/metadata-stream.js","../node_modules/mux.js/lib/codecs/adts.js","../node_modules/mux.js/lib/codecs/h264.js","../node_modules/mux.js/lib/utils/exp-golomb.js","../node_modules/mux.js/lib/aac/index.js","../node_modules/mux.js/lib/mp4/caption-parser.js","../node_modules/mux.js/lib/m2ts/probe.js","../node_modules/react-is/index.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/@material-ui/icons/utils/createSvgIcon.js","../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@material-ui/core/esm/SvgIcon/SvgIcon.js","../node_modules/@material-ui/core/esm/SvgIcon/index.js","../node_modules/is-in-browser/dist/module.js","../node_modules/tiny-warning/dist/tiny-warning.esm.js","../node_modules/jss/dist/jss.esm.js","../node_modules/@material-ui/styles/esm/mergeClasses/mergeClasses.js","../node_modules/@material-ui/styles/esm/makeStyles/multiKeyStore.js","../node_modules/@material-ui/styles/esm/ThemeProvider/nested.js","../node_modules/@material-ui/styles/esm/createGenerateClassName/createGenerateClassName.js","../node_modules/jss-plugin-rule-value-function/dist/jss-plugin-rule-value-function.esm.js","../node_modules/jss-plugin-global/dist/jss-plugin-global.esm.js","../node_modules/jss-plugin-nested/dist/jss-plugin-nested.esm.js","../node_modules/hyphenate-style-name/index.js","../node_modules/jss-plugin-camel-case/dist/jss-plugin-camel-case.esm.js","../node_modules/jss-plugin-default-unit/dist/jss-plugin-default-unit.esm.js","../node_modules/css-vendor/dist/css-vendor.esm.js","../node_modules/jss-plugin-vendor-prefixer/dist/jss-plugin-vendor-prefixer.esm.js","../node_modules/jss-plugin-props-sort/dist/jss-plugin-props-sort.esm.js","../node_modules/@material-ui/styles/esm/jssPreset/jssPreset.js","../node_modules/@material-ui/styles/esm/StylesProvider/StylesProvider.js","../node_modules/@material-ui/styles/esm/makeStyles/indexCounter.js","../node_modules/@material-ui/styles/esm/getStylesCreator/getStylesCreator.js","../node_modules/@material-ui/styles/esm/getStylesCreator/noopTheme.js","../node_modules/@material-ui/styles/esm/makeStyles/makeStyles.js","../node_modules/@material-ui/core/esm/NoSsr/NoSsr.js","../node_modules/@material-ui/core/esm/utils/focusVisible.js","../node_modules/react-transition-group/esm/TransitionGroupContext.js","../node_modules/react-transition-group/esm/utils/ChildMapping.js","../node_modules/react-transition-group/esm/TransitionGroup.js","../node_modules/@material-ui/core/esm/ButtonBase/Ripple.js","../node_modules/@material-ui/core/esm/ButtonBase/TouchRipple.js","../node_modules/@material-ui/core/esm/ButtonBase/ButtonBase.js","../node_modules/@material-ui/core/esm/styles/makeStyles.js","../node_modules/@material-ui/core/esm/Icon/Icon.js","../node_modules/@material-ui/core/esm/Typography/Typography.js","../node_modules/@material-ui/core/esm/Grid/Grid.js","../node_modules/@material-ui/core/esm/Fab/Fab.js","../node_modules/@material-ui/core/esm/utils/ownerDocument.js","../node_modules/@material-ui/core/esm/Portal/Portal.js","../node_modules/@material-ui/core/esm/utils/getScrollbarSize.js","../node_modules/@material-ui/core/esm/utils/ownerWindow.js","../node_modules/@material-ui/core/esm/Modal/ModalManager.js","../node_modules/@material-ui/core/esm/Modal/TrapFocus.js","../node_modules/@material-ui/core/esm/Modal/SimpleBackdrop.js","../node_modules/@material-ui/core/esm/Modal/Modal.js","../node_modules/@material-ui/core/esm/FormControl/FormControlContext.js","../node_modules/@material-ui/core/esm/IconButton/IconButton.js","../node_modules/@material-ui/core/esm/internal/SwitchBase.js","../node_modules/@material-ui/core/esm/FormControl/useFormControl.js","../node_modules/@material-ui/core/esm/Switch/Switch.js","../node_modules/@material-ui/styles/esm/useTheme/ThemeContext.js","../node_modules/@material-ui/styles/esm/useTheme/useTheme.js"],"names":["module","exports","win","window","global","self","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","doccy","minDoc","document","topLevel","_objectWithoutProperties","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","keyCode","searchInput","hasKeyCode","which","charCode","names","foundNamedKey","search","String","codes","toLowerCase","aliases","charCodeAt","isEventKey","event","nameOrCode","undefined","code","fromCharCode","title","alias","toVal","mix","k","y","str","push","x","capitalize","string","charAt","toUpperCase","slice","createChainedFunction","_len","funcs","Array","_key","reduce","acc","func","_len2","args","_key2","params","theme","name","props","propName","defaultProps","stylesOrCreator","options","Component","defaultTheme","_options$withTheme","withTheme","stylesOptions","classNamePrefix","useStyles","makeStyles","displayName","WithStyles","forwardRef","ref","classes","innerRef","other","more","useTheme","createElement","_slicedToArray","arr","arrayWithHoles","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","done","value","err","nonIterableRest","warning","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","console","error","_assertThisInitialized","ReferenceError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_createClass","Constructor","protoProps","staticProps","setRef","current","useForkRef","refA","refB","useMemo","refValue","clamp","min","max","decomposeColor","color","type","substr","re","RegExp","concat","colors","match","map","n","parseInt","join","hexToRgb","marker","substring","Error","values","split","parseFloat","recomposeColor","getContrastRatio","foreground","background","lumA","getLuminance","lumB","Math","rgb","h","s","l","a","f","round","hslToRgb","val","pow","Number","toFixed","fade","darken","coefficient","lighten","useEnhancedEffect","useLayoutEffect","useEffect","useEventCallback","fn","useRef","useCallback","Stream","init","listeners","on","listener","off","index","splice","trigger","callbacks","dispose","pipe","destination","data","flushSource","flush","_classCallCheck","instance","TypeError","_findBox","parseType","timescale","startTime","getVideoTrackIds","toUnsigned","path","size","end","subresults","results","byteLength","subarray","buffer","result","trak","tkhd","version","id","mdhd","fragment","trafs","baseTimes","traf","tfhd","scale","tfdt","Infinity","isFinite","traks","videoTrackIds","forEach","hdlrs","tkhds","hdlr","view","trackId","handlerType","DataView","byteOffset","getUint8","getUint32","findBox","isMergeableObject","isNonNullObject","stringValue","toString","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","isArray","defaultArrayMerge","element","getKeys","keys","filter","symbol","getEnumerableOwnPropertySymbols","mergeObject","customMerge","getMergeFunction","arrayMerge","sourceIsArray","all","array","prev","deepmerge_1","_possibleConstructorReturn","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_objectWithoutPropertiesLoose","sourceKeys","_toConsumableArray","arr2","iterableToArray","_setPrototypeOf","p","_inherits","subClass","superClass","create","constructor","get","_Popup","default","obj","__esModule","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","_inheritsLoose","createBreakpoints","breakpoints","_breakpoints$values","xs","sm","md","lg","xl","_breakpoints$unit","unit","_breakpoints$step","step","up","between","start","endIndex","down","upperbound","only","width","mobileStepper","appBar","drawer","modal","snackbar","tooltip","_defineProperty","isObjectObject","isPlainObject","ctor","prot","createMixins","spacing","mixins","_toolbar","gutters","styles","paddingLeft","paddingRight","toolbar","minHeight","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","black","white","light","text","primary","secondary","disabled","hint","divider","paper","action","active","hover","hoverOpacity","selected","disabledBackground","dark","icon","addLightOrDark","intent","direction","shade","tonalOffset","main","caseAllCaps","textTransform","defaultFontFamily","createTypography","palette","typography","_ref","_ref$fontFamily","fontFamily","_ref$fontSize","fontSize","_ref$fontWeightLight","fontWeightLight","_ref$fontWeightRegula","fontWeightRegular","_ref$fontWeightMedium","fontWeightMedium","_ref$fontWeightBold","fontWeightBold","_ref$htmlFontSize","htmlFontSize","allVariants","coef","pxToRem","buildVariant","fontWeight","lineHeight","letterSpacing","casing","variants","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","button","caption","overline","shadowKeyUmbraOpacity","shadowKeyPenumbraOpacity","shadowAmbientShadowOpacity","createShadow","borderRadius","easing","easeInOut","easeOut","easeIn","sharp","duration","shortest","shorter","short","standard","complex","enteringScreen","leavingScreen","formatMs","milliseconds","_options$duration","durationOption","_options$easing","easingOption","_options$delay","delay","animatedProp","getAutoHeightDuration","height","constant","_options$breakpoints","breakpointsInput","_options$mixins","mixinsInput","_options$palette","paletteInput","shadowsInput","shadows","spacingInput","_options$typography","typographyInput","_palette$primary","_palette$secondary","_palette$error","red","_palette$type","_palette$contrastThre","contrastThreshold","_palette$tonalOffset","getContrastText","augmentColor","mainShade","lightShade","darkShade","contrastText","types","common","grey","createPalette","transform","mui","factor","output","createSpacing","overrides","shape","transitions","zIndex","clean","replace","sa","isObject","merge","objects","flatten","lists","from","list","errors","urlToolkit","createCommonjsModule","root","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","buildAbsoluteURL","baseURL","relativeURL","opts","trim","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","scheme","baseParts","netLoc","pathParts","exec","builtParts","query","baseURLPath","newPath","lastIndexOf","url","parts","reverse","resolveUrl","baseUrl","relativeUrl","test","location","href","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","range","_ref$indexRange","indexRange","segment","uri","resolvedUri","ranges","startRange","endRange","byterange","offset","byteRangeToString","segmentRange","static","attributes","_attributes$timescale","sourceDuration","ceil","dynamic","NOW","clientOffset","availabilityStartTime","_attributes$timescale2","_attributes$start","_attributes$minimumUp","minimumUpdatePeriod","_attributes$timeShift","timeShiftBufferDepth","now","periodStartWC","periodDuration","segmentCount","availableStart","floor","availableEnd","parseByDuration","_attributes$type","_attributes$timescale4","_segmentRange$type","segments","number","_attributes$timescale3","periodIndex","_attributes$startNumb","startNumber","timeline","time","toSegments","segmentsFromBase","_attributes$initializ","initialization","_attributes$indexRang","initSegment","sourceURL","segmentTimeInfo","addSegmentsToPlaylist","playlist","sidx","sidxByteRange","sidxEnd","mediaReferences","references","r","referenceType","startIndex","firstOffset","reference","referencedSize","subsegmentDuration","mergeDiscontiguousPlaylists","playlists","_acc$name$segments","lang","discontinuity","contentProtection","discontinuityStarts","e","addSegmentInfoFromSidx","sidxMapping","sidxKey","sidxMatch","formatAudioPlaylist","_attributes","NAME","BANDWIDTH","bandwidth","CODECS","codecs","endList","targetDuration","mediaSequence","formatVttPlaylist","_ref2","_attributes2","formatVideoPlaylist","_ref3","_attributes3","AUDIO","SUBTITLES","RESOLUTION","toM3u8","dashPlaylists","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","videoPlaylists","_ref4","mimeType","contentType","audioPlaylists","_ref5","vttPlaylists","_ref6","master","allowCache","mediaGroups","VIDEO","audio","mainPlaylist","formattedPlaylists","role","language","label","roleLabel","autoselect","organizeAudioPlaylists","subs","organizeVttPlaylists","getLiveRValue","parseByTimeline","segmentTimeline","_attributes$minimumUp2","_attributes$media","media","sIndex","S","d","repeat","segmentTime","t","count","nextS","identifierPattern","constructTemplateUrl","identifier","format","identifierReplacement","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","mapSegment","parseTemplateInfo","Time","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","segmentUrl","mediaRange","SegmentURLToSegmentObject","generateSegments","segmentAttributes","segmentsFn","segmentInfo","template","base","segmentsInfo","_segmentAttributes","_segmentAttributes$ti","findChildren","childNodes","tagName","getContent","textContent","parseDuration","_match$slice","year","month","day","hour","minute","second","parsers","mediaPresentationDuration","Date","parse","parsedValue","isNaN","DEFAULT","parseAttributes","el","parseFn","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","tag","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","generateKeySystemInformation","contentProtectionNodes","node","keySystem","schemeIdUri","psshNode","pssh","psshBuffer","b64Text","decodedString","atob","Uint8Array","decodeB64ToUint8Array","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","adaptationSetAttributes","adaptationSetBaseUrls","roleAttributes","attrs","representations","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","inheritBaseUrls","inheritAttributes","mpd","_options","_options$manifestUri","manifestUri","_options$NOW","_options$clientOffset","periods","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","toAdaptationSets","stringToMpdXml","manifestString","xml","DOMParser","parseFromString","documentElement","getElementsByTagName","parseUTCTiming","UTCTimingNode","method","parseUTCTimingScheme","g","Function","implementation","bind","fnToStr","constructorRegex","isES6ClassFn","fnStr","toStr","hasToStringTag","toStringTag","tryFunctionObject","strClass","_VideoSegmentStream","_AudioSegmentStream","_Transmuxer","_CoalesceStream","mp4","frameUtils","audioFrameUtils","trackDecodeInfo","m2ts","AdtsStream","H264Stream","AacStream","isLikelyAacData","AUDIO_PROPERTIES","VIDEO_PROPERTIES","arrayEquals","b","generateVideoSegmentTimingInfo","baseMediaDecodeTime","startDts","startPts","endDts","endPts","prependedContentDuration","dts","pts","track","adtsFrames","sequenceNumber","earliestAllowedDts","audioAppendStartTs","videoBaseMediaDecodeTime","collectDtsInfo","prop","setEarliestDts","earliestDts","timelineStartInfo","setVideoBaseMediaDecodeTime","setAudioAppendStart","timestamp","frames","moof","mdat","boxes","trimAdtsFramesByEarliestDts","calculateTrackBaseMediaDecodeTime","keepOriginalTimestamps","prefixWithSilence","samples","generateSampleTable","concatenateFrameData","set","clearDtsInfo","config","pps","nalUnits","gopsToAlignWith","minPTS","gopCache_","nalUnit","nalUnitType","sps","gopForFusion","gops","firstGop","lastGop","shift","resetStream_","groupNalsIntoFrames","groupFramesIntoGops","keyFrame","getGopForFusion_","unshift","nalCount","extendFirstKeyFrame","alignedGops","alignGopsAtEnd","alignGopsAtEnd_","alignGopsAtStart_","gop","pop","concatenateNalData","dtsDistance","nearestGopObj","currentGop","currentGopObj","nearestDistance","alignIndex","gopIndex","align","alignEndIndex","matchFound","trimIndex","metadata","total","alignGopsWith","newGopsToAlignWith","metadataStream","numberOfTracks","remux","remuxTracks","pendingTracks","videoTrack","pendingBoxes","pendingCaptions","pendingMetadata","pendingBytes","emittedTracks","audioTrack","id3","captions","captionStreams","info","timelineStartPts","endTime","stream","cueTime","dispatchType","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","MetadataStream","aacStream","audioTimestampRolloverStream","TimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","coalesceStream","headOfPipeline","frame","setTimestamp","timeStamp","audioSegmentStream","codec","setupTsPipeline","packetStream","TransportPacketStream","parseStream","TransportParseStream","elementaryStream","ElementaryStream","videoTimestampRolloverStream","h264Stream","captionStream","CaptionStream","tracks","videoSegmentStream","setBaseMediaDecodeTime","reset","isAac","resetCaptions","Transmuxer","VideoSegmentStream","AudioSegmentStream","ADTS_SAMPLING_FREQUENCIES","parseSyncSafeInteger","parseId3TagSize","header","byteIndex","returnSize","parseAdtsSize","lowThree","middle","parseSampleRate","packet","parseAacTimestamp","frameStart","frameSize","unescape","bytes","percentEncode","_typeof2","_typeof","inspectMp4","_textifyMp","parseMp4Date","seconds","parseSampleFlags","flags","isLeading","dependsOn","isDependedOn","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority","nalParse","avcStream","avcView","avc1","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","depth","avcC","numOfPictureParameterSets","nalSize","configurationVersion","avcProfileIndication","profileCompatibility","avcLevelIndication","lengthSizeMinusOne","numOfSequenceParameterSets","btrt","bufferSizeDB","maxBitrate","avgBitrate","esds","esId","streamPriority","decoderConfig","objectProfileIndication","streamType","bufferSize","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","ftyp","majorBrand","minorVersion","compatibleBrands","dinf","dref","dataReferences","decodeURIComponent","escape","nals","creationTime","modificationTime","mdia","mfhd","minf","mp4a","channelcount","samplesize","samplerate","streamDescriptor","moov","mvex","mvhd","rate","volume","matrix","Uint32Array","nextTrackId","pdin","initialDelay","sdtp","referenceId","earliestPresentationTime","referenceCount","startsWithSap","sapType","sapDeltaTime","smhd","balance","stbl","stco","chunkOffsets","entryCount","stsc","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","stsd","sampleDescriptions","stsz","sampleSize","entries","stts","timeToSamples","sampleCount","sampleDelta","styp","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","baseDataOffset","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","layer","alternateGroup","trex","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","trun","sample","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","dataOffset","getInt32","compositionTimeOffset","vmhd","graphicsmode","opcolor","Uint16Array","box","ab","ArrayBuffer","v","z","inspectedMp4","indent","prefix","_byte","line","JSON","stringify","inspect","textify","parseTfdt","parseHdlr","parseTfhd","parseTrun","parseSidx","isFunction","parseHeaders","xtend","initParams","callback","createXHR","_createXHR","called","response","body","getBody","xhr","responseText","responseType","responseXML","firefoxBugTakenEffect","nodeName","getXml","isJson","errorFunc","evt","clearTimeout","timeoutTimer","statusCode","failureResponse","loadFunc","aborted","status","useXDR","headers","rawRequest","getAllResponseHeaders","cors","XDomainRequest","XMLHttpRequest","sync","json","onreadystatechange","readyState","setTimeout","onload","onerror","onprogress","onabort","ontimeout","open","username","password","withCredentials","timeout","abort","setRequestHeader","isEmpty","beforeSend","send","forEachArray","vttjs","WebVTT","VTTCue","VTTRegion","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","shim","restore","_class","_temp","_PureComponent","Pannellum","_this","renderImage","state","children","hotspots","hotspotArray","hotspot","random","pitch","yaw","URL","cssClass","createTooltipFunc","hotspotTooltip","createTooltipArgs","tooltipArg","clickHandlerFunc","handleClick","handleClickHotspot","clickHandlerArgs","handleClickArg","jsonConfig","panorama","image","haov","vaov","vOffset","hfov","minHfov","maxHfov","minPitch","maxPitch","minYaw","maxYaw","autoRotate","compass","preview","previewTitle","previewAuthor","author","autoLoad","orientationOnByDefault","showZoomCtrl","keyboardZoom","mouseZoom","draggable","disableKeyboardCtrl","showFullscreenCtrl","showControls","hotSpotDebug","hotspotDebug","hotSpots","onRender","destroy","pannellum","viewer","onLoad","onScenechange","onScenechangefadedone","onError","onErrorcleared","onMousedown","onMouseup","onTouchstart","onTouchend","componentDidMount","log","hotSpotDiv","setAttribute","hDiv","classList","add","outDiv","inDiv","appendChild","getViewer","forceRender","componentDidUpdate","prevProps","prevState","snapshot","setYawBounds","setPitchBounds","setHfovBounds","setYaw","setPitch","setHfov","render","_this2","_props","divStyle","style","imageNode","propTypes","Hotspot","_proto","LineStream","_Stream","nextNewline","attr","ParseStream","customParsers","tagMappers","mapper","mappedLine","newLine","tagType","playlistType","allowed","URI","BYTERANGE","_attributes$BYTERANGE","resolution","dateTimeString","dateTimeObject","IV","PRECISE","addParser","_this3","expression","customType","dataParser","addTagMapper","Parser","lineStream","currentMap","uris","currentUri","defaultMediaGroups","currentTimeline","manifest","entry","mediaGroup","rendition","message","endlist","inf","discontinuitySequence","METHOD","iv","TYPE","mediaGroupType","AUTOSELECT","LANGUAGE","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","targetduration","totalduration","totalDuration","timeOffset","precise","cueOut","cueOutCont","cueIn","comment","custom","chunk","classCallCheck","createClass","defineProperties","possibleConstructorReturn","precompute","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","tEnc","tDec","aesTables","AES","_tables","j","tmp","encKey","decKey","keyLen","rcon","decrypt","encrypted0","encrypted1","encrypted2","encrypted3","out","c","a2","b2","c2","nInnerRounds","kIndex","table","table0","table1","table2","table3","_length","AsyncStream","jobs","timeout_","inherits","processJob_","job","ntoh","word","encrypted","initVector","encrypted32","Int32Array","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","Decrypter","STEP","asyncStream_","decryptChunk_","padded","_construct","Parent","Class","Reflect","construct","sham","Proxy","isNativeReflectConstruct","_taggedTemplateLiteralLoose","strings","raw","level","lvl","levels","lvlRegExp","createLogger","logByType","subname","debug","warn","history","fname","historyItem","clear","disable","enable","_len3","_key3","_len4","_key4","createLogger$1","object","each","sources","isPlain","getComputedStyle","cs","_templateObject","isNonBlankString","throwIfWhitespace","isReal","isEl","nodeType","isInFrame","parent","createQuerier","selector","context","querySelector","ctx","properties","content","getOwnPropertyNames","attrName","appendContent","innerText","prependTo","child","firstChild","insertBefore","hasClass","classToCheck","contains","className","addClass","classToAdd","removeClass","classToRemove","remove","toggleClass","classToToggle","predicate","has","setAttributes","attrValue","removeAttribute","getAttributes","knownBooleans","attrVal","getAttribute","attribute","blockTextSelection","focus","onselectstart","unblockTextSelection","getBoundingClientRect","parentNode","rect","findPosition","left","top","docEl","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","getPointerPosition","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","isTextNode","emptyEl","removeChild","normalizeContent","createTextNode","insertContent","isSingleLeftClick","buttons","$","$$","Dom","freeze","createEl","_guid","newGUID","elData","elIdAttr","performance","getData","hasData","removeData","_cleanUpEvents","elem","handlers","removeEventListener","dispatcher","detachEvent","_handleMultipleEvents","fixEvent","returnTrue","returnFalse","isPropagationStopped","old","preventDefault","srcElement","relatedTarget","fromElement","toElement","returnValue","defaultPrevented","stopPropagation","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","clientX","doc","clientY","_supportsPassive","addEventListener","passiveEvents","guid","hash","handlersCopy","m","passive","attachEvent","removeType","elemData","ownerDocument","bubbles","targetData","one","any","videojs","Events","_windowLoaded","autoSetup","vids","audios","divs","mediaEls","mediaEl","autoSetupTimeout","player","wait","vjs","EVENT_MAP","setTextContent","styleSheet","cssText","uid","bound","last","immediate","debounced","_later","cancel","EventTarget","allowedEvents_","ael","dispatchEvent","queueTrigger","Map","oldTimeout","isEvented","eventBusEl_","every","isValidEventType","validateTarget","validateEventType","validateListener","normalizeListenArgs","isTargetingSelf","listen","EventedMixin","_normalizeListenArgs","removeListenerOnDispose","removeRemoverOnTargetDispose","_normalizeListenArgs2","wrapper","largs","_normalizeListenArgs3","_len5","_key5","targetOrType","typeOrListener","evented","eventBusKey","eventedCallbacks","StatefulMixin","setState","stateUpdates","changes","to","stateful","defaultState","handleStateChanged","toTitleCase","mergeOptions","ready","play","player_","parentComponent_","options_","id_","name_","el_","children_","childIndex_","childNameIndex_","initChildren","reportTouchActivity","enableTouchActivity","localize","tokens","defaultValue","languages","primaryCode","primaryLang","localizedString","ret","contentEl","contentEl_","getChildById","getChild","addChild","component","componentName","componentClassName","componentClass","ComponentClass","getComponent","refNode","childFound","compEl","workingChildren","parentOptions","Tech","some","wchild","isTech","playerOptions","newChild","buildCSSClass","isReady_","readyQueue_","triggerReady","readyQueue","show","hide","lockShowing","unlockShowing","num","skipListeners","dimension","dimensions","widthOrHeight","pxIndex","currentDimension","computedWidthOrHeight","computedStyle","getPropertyValue","rule","currentDimensions","currentWidth","currentHeight","blur","handleKeyDown","handleKeyPress","emitTapEvents","couldBeTap","touchStart","firstTouch","touches","xdiff","ydiff","sqrt","noTap","reportUserActivity","touchHolding","report","clearInterval","setInterval","touchEnd","timeoutId","disposeFn","interval","intervalId","requestAnimationFrame","_this4","supportsRaf_","cancelAnimationFrame","registerComponent","ComponentToRegister","reason","isComp","isPrototypeOf","components_","Player","players","playerNames","pname","Boolean","USER_AGENT","navigator","userAgent","webkitVersionMap","appleWebkitVersion","IS_IPAD","IS_IPHONE","IS_IPOD","IS_IOS","IOS_VERSION","IS_ANDROID","ANDROID_VERSION","major","minor","IS_NATIVE_ANDROID","IS_FIREFOX","IS_EDGE","IS_CHROME","CHROME_VERSION","IE_VERSION","IS_SAFARI","IS_ANY_SAFARI","IS_WINDOWS","TOUCH_ENABLED","maxTouchPoints","DocumentTouch","browser","getRange","fnName","valueIndex","rangeIndex","maxIndex","rangeCheck","createTimeRangesObj","createTimeRanges","bufferedPercent","buffered","bufferedDuration","browserApi","FullscreenApi","prefixed","apiMap","specApi","MediaError","defaultMessages","errorTypes","1","2","3","4","5","errNum","isPromise","then","silencePromise","trackToJson_","cues","cue","textTrackConverter","tech","trackEls","trackObjs","trackEl","src","textTracks","addedTrack","addRemoteTextTrack","addCue","MODAL_CLASS_NAME","_Component","ModalDialog","opened_","hasBeenOpened_","hasBeenFilled_","closeable","uncloseable","descEl_","description","tabIndex","previouslyActiveEl_","desc","fillAlways","fill","wasPlaying_","paused","pauseOnOpen","pause","hadControls_","controls","conditionalFocus_","opened","close","conditionalBlur_","temporary","closeable_","temp","controlText","fillWith","parentEl","nextSiblingEl","nextSibling","empty","closeButton","content_","activeEl","activeElement","playerEl","focusIndex","focusableEls","focusableEls_","shiftKey","allChildren","querySelectorAll","HTMLAnchorElement","HTMLAreaElement","hasAttribute","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","HTMLButtonElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","TrackList","_EventTarget","tracks_","addTrack","removeTrack","rtrack","getTrackById","change","addtrack","removetrack","disableOthers","enabled","AudioTrackList","_TrackList","changing_","enabledChange_","disableOthers$1","VideoTrackList","selectedChange_","TextTrackList","queueChange_","triggerSelectedlanguagechange","triggerSelectedlanguagechange_","kind","selectedlanguagechange_","HtmlTrackElementList","trackElements","trackElements_","addTrackElement_","trackElement","getTrackElementByTrack_","trackElement_","removeTrackElement_","TextTrackCueList","setCues_","length_","oldLength","cues_","defineProp","getCueById","VideoTrackKind","alternative","sign","subtitles","commentary","AudioTrackKind","TextTrackKind","descriptions","chapters","TextTrackMode","hidden","showing","Track","trackProps","_loop","div","addToBody","host","protocol","innerHTML","details","getFileExtension","winLoc","urlInfo","Url","parseUrl","getAbsoluteURL","isCrossOrigin","srcContent","parser","StringDecoder","oncue","onparsingerror","onflush","groupCollapsed","groupEnd","crossOrigin","responseBody","loaded_","tech_","loadHandler","errorHandler","_Track","TextTrack","settings","srclang","mode","default_","activeCues_","activeCues","changed","timeupdateHandler","newMode","ct","currentTime","originalCue","originalCue_","removeCue","_removeCue","cuechange","AudioTrack","newEnabled","VideoTrack","newSelected","NONE","LOADED","HTMLTrackElement","load","LOADING","ERROR","NORMAL","ListClass","TrackClass","capitalName","video","getterName","privateName","REMOTE","remoteText","remoteTextEl","ALL","hasStarted_","featuresProgressEvents","manualProgressOn","featuresTimeupdateEvents","manualTimeUpdatesOn","nativeCaptions","nativeTextTracks","featuresNativeTextTracks","emulateTextTracks","autoRemoteTextTracks_","initTrackListeners","nativeControlsForTouch","triggerSourceset","onDurationChange","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","numBufferedPercent","bufferedPercent_","duration_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","manuallyTriggered","clearTracks","removeRemoteTextTrack","cleanupAutoTextTracks","error_","played","setCurrentTime","trackListChanges","addWebVttScript_","_this5","script","_this6","remoteTracks","remoteTextTracks","handleAddTrack","handleRemoveTrack","updateDisplay","textTracksChanges","addTextTrack","createTrackHelper","createRemoteTextTrack","manualCleanup","_this7","htmlTrackElement","remoteTextTrackEls","getVideoPlaybackQuality","requestPictureInPicture","PromiseClass","Promise","reject","setPoster","playsinline","setPlaysinline","overrideNativeAudioTracks","overrideNativeVideoTracks","canPlayType","canPlaySource","srcObj","registerTech","techs_","defaultTechOrder_","getTech","featuresVolumeControl","featuresMuteControl","featuresFullscreenResize","featuresPlaybackRate","featuresSourceset","withSourceHandlers","_Tech","registerSourceHandler","handler","sourceHandlers","can","selectSourceHandler","canHandleSource","sh","originalFn","sourceHandler_","setSource","nativeSourceHandler","disposeSourceHandler","currentSource_","handleSource","middlewares","middlewareInstances","TERMINATOR","setSourceHelper","middleware","lastRun","_middleware","mwFactory","mwrest","mw","mws","_mws$i","mwf","mwi","getOrCreateFactory","_src","mediate","arg","callMethod","middlewareValue","middlewareIterator","terminated","executeRight","allowedGetters","seekable","allowedSetters","setVolume","allowedMediators","MimetypesKind","opus","ogv","mov","m4v","mkv","m4a","mp3","aac","oga","m3u8","jpg","jpeg","gif","png","svg","webp","getMimetype","ext","fixSource","mimetype","MediaLoader","techOrder","techName","isSupported","loadTech_","ClickableComponent","tabIndex_","createControlTextEl","controlTextEl_","controlText_","localizedText","nonIconControl","enabled_","PosterImage","_ClickableComponent","update","poster","setSrc","backgroundImage","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","constructColor","opacity","hex","tryUpdateStyle","TextTrackDisplay","updateDisplayHandler","toggleDisplay","preselectTrack","firstDesc","firstCaptions","preferredTrack","modes","trackList","userPref","cache_","selectedLanguage","clearDisplay","processCues","allowMultipleShowingTracks","showingTracks","updateForTrack","descriptionsTrack","captionsSubtitlesTrack","_track","updateDisplayState","textTrackSettings","getValues","cueDiv","displayState","textOpacity","backgroundColor","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","bottom","fontVariant","_i2","_track2","_j","cueEl","LoadingSpinner","isAudio","playerType","dir","Button","BigPlayButton","_Button","mouseused_","handleMouseDown","playPromise","cb","playToggle","playFocus","CloseButton","PlayToggle","replay","handlePlay","handlePause","handleEnded","handleSeeked","defaultImplementation","guide","gm","gh","formatTime","TimeDisplay","throttledUpdateContent","updateContent","labelText_","updateTextNode_","textNode_","formattedTime_","formatTime_","updateFormattedTime_","formattedTime","CurrentTimeDisplay","_TimeDisplay","scrubbing","getCache","DurationDisplay","TimeDivider","RemainingTimeDisplay","remainingTimeDisplay","remainingTime","LiveDisplay","updateShowing","SeekToLive","updateLiveEdgeStatus","liveTracker","textEl_","atLiveEdge","seekToLiveEdge","Slider","bar","barName","vertical","playerEvent","handleMouseMove","handleMouseUp","progress","getPercent","percentage","calculateDistance","stepBack","stepForward","bool","vertical_","LoadProgressBar","partEls_","isLive","seekableEnd","bufferedEnd","controlTextPercentage","percentify","rounded","percent","part","TimeTooltip","seekBarRect","seekBarPoint","tooltipRect","playerRect","seekBarPointPx","spaceLeftOfPoint","spaceRightOfPoint","right","pullTooltipBy","write","updateTime","rafId_","liveWindow","secondsBehind","PlayProgressBar","timeTooltip","MouseTimeDisplay","_Slider","SeekBar","setEventHandlers_","updateInterval","enableInterval_","disableInterval_","toggleVisibility_","update_","liveCurrentTime","offsetParent","getCurrentTime_","seekableStart","videoWasPlaying","newTime","distance","mouseTimeDisplay","handleAction","gotoFraction","STEP_SECONDS","ProgressControl","throttledHandleMouseSeek","handleMouseSeek","seekBar","seekBarEl","PictureInPictureToggle","handlePictureInPictureChange","pictureInPictureEnabled","isInPictureInPicture","exitPictureInPicture","FullscreenToggle","handleFullscreenChange","fsApi_","fullscreenEnabled","isFullscreen","exitFullscreen","requestFullscreen","checkVolumeSupport","VolumeLevel","VolumeBar","updateLastVolume_","updateARIAAttributes","checkMuted","muted","ariaValue","volumeAsPercentage_","volumeBeforeDrag","lastVolume_","VolumeControl","volumeBar","throttledHandleMouseMove","orientationClass","checkMuteSupport","MuteToggle","vol","lastVolume","volumeToSet","updateIcon_","updateControlText_","VolumePanel","inline","volumeControl","volumePanelState_","sliderActive_","sliderInactive_","muteToggle","Menu","menuButton_","menuButton","focusedChild_","boundHandleBlur_","handleBlur","boundHandleTapClick_","handleTapClick","addEventListenerForItem","removeEventListenerForItem","addItem","childComponent","contentElType","append","btn","buttonPressed_","unpressButton","childComponents","foundComponent","stepChild","item","MenuButton","buttonClass","menu","handleSubmenuKeyDown","createMenu","items","hideThreshold_","titleEl","titleComponent","createItems","buildWrapperCSSClass","menuButtonClass","pressButton","handleSubmenuKeyPress","TrackButton","_MenuButton","updateHandler","MenuKeys","MenuItem","selectable","isSelected_","multiSelectable","_selected","_MenuItem","TextTrackMenuItem","kinds","changeHandler","handleTracksChange","selectedLanguageChangeHandler","handleSelectedLanguageChange","onchange","Event","createEvent","initEvent","referenceTrack","shouldBeSelected","OffTextTrackMenuItem","_TextTrackMenuItem","allHidden","TextTrackButton","_TrackButton","TrackMenuItem","label_","kinds_","kind_","ChaptersTrackMenuItem","ChaptersButton","_TextTrackButton","track_","setTrack","findChaptersTrack","updateHandler_","remoteTextTrackEl","_remoteTextTrackEl","getMenuCaption","mi","DescriptionsButton","SubtitlesButton","CaptionSettingsMenuItem","CaptionsButton","SubsCapsMenuItem","SubsCapsButton","language_","AudioTrackMenuItem","audioTracks","AudioTrackButton","PlaybackRateMenuItem","playbackRate","PlaybackRateMenuButton","updateVisibility","updateLabel","labelEl_","rates","playbackRates","currentRate","newRate","playbackRateSupported","Spacer","CustomControlSpacer","_Spacer","ControlBar","ErrorDisplay","_ModalDialog","COLOR_BLACK","COLOR_BLUE","COLOR_CYAN","COLOR_GREEN","COLOR_MAGENTA","COLOR_RED","COLOR_WHITE","COLOR_YELLOW","OPACITY_OPAQUE","OPACITY_SEMI","OPACITY_TRANS","selectConfigs","parseOptionValue","TextTrackSettings","endDialog","setDefaults","persistTextTrackSettings","saveSettings","restoreSettings","createElSelect_","legendId","selectLabelledbyIds","optionId","createElFgColor_","createElBgColor_","createElWinColor_","createElColors_","createElFont_","createElControls_","defaultsDescription","initial","accum","selectedIndex","setValues","setSelectedOption","localStorage","getItem","setItem","removeItem","ttDisplay","controlBar","subsCapsBtn","subsCapsButton","ccBtn","captionsButton","ResizeManager","RESIZE_OBSERVER_AVAILABLE","ResizeObserver","loadListener_","resizeObserver_","debouncedHandler_","resizeHandler","observe","contentWindow","unloadListener_","unobserve","disconnect","resizeObserver","LiveTracker","reset_","handleDurationchange","handleVisibilityChange","stopTracking","startTracking","isBehind_","timeupdateSeen_","seekableIncrement","seekableIncrement_","trackLive_","pastSeekEnd_","newSeekEnd","lastSeekEnd_","abs","pastSeekEnd","behindLiveEdge","behindLiveEdge_","isTracking","hasStarted","trackingInterval_","handleTimeupdate","seekableEnds","sort","seekableStarts","sourcesetLoad","srcUrls","innerHTMLDescriptorPolyfill","cloneNode","dummy","docFrag","createDocumentFragment","Element","getDescriptor","priority","getOwnPropertyDescriptor","firstSourceWatch","resetSourceWatch_","innerDescriptor","HTMLMediaElement","appendWrapper","appendFn","retval","srcDescriptorPolyfill","setupSourceset","resetSourceset_","srcDescriptor","oldSetAttribute","oldLoad","currentSrc","_templateObject$1","Html5","crossoriginTracks","initNetworkState_","handleLateInit_","enableSourceset","setupSourcesetHandling_","hasChildNodes","nodes","nodesLength","removeNodes","proxyNativeTracks_","restoreMetadataTracksInIOSNativePlayer_","setControls","proxyWebkitFullscreen_","disposeMediaElement","metadataTracksPreFullscreenState","takeMetadataTrackSnapshot","storedMode","restoreTrackMode","storedTrack","overrideNative_","override","lowerCaseType","eventName","proxyNativeTracksForType_","elTracks","techTracks","currentTarget","removeOldTracks","removeTracks","found","playerElIngest","movingMediaElementInDOM","techId","playerId","preload","settingsAttrs","networkState","loadstartFired","setLoadstartFired","triggerLoadstart","eventsToTrigger","checkProgress","NaN","endFn","beginFn","webkitPresentationMode","supportsFullScreen","webkitEnterFullScreen","enterFullScreen","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","resetMediaElement","videoPlaybackQuality","webkitDroppedFrameCount","webkitDecodedFrameCount","droppedVideoFrames","totalVideoFrames","timing","navigationStart","TEST_VID","canControlVolume","canMuteVolume","canControlPlaybackRate","canOverrideAttributes","noop","supportsNativeTextTracks","supportsNativeVideoTracks","videoTracks","supportsNativeAudioTracks","featuresNativeVideoTracks","featuresNativeAudioTracks","mpegurlRE","_templateObject$2","patchCanPlayType","unpatchCanPlayType","TECH_EVENTS_RETRIGGER","TECH_EVENTS_QUEUE","canplay","canplaythrough","playing","seeked","BREAKPOINT_ORDER","BREAKPOINT_CLASSES","DEFAULT_BREAKPOINTS","tiny","xsmall","small","medium","large","xlarge","huge","getTagSettings","closest","boundDocumentFullscreenChange_","documentFullscreenChange_","boundFullWindowOnEscKey_","fullWindowOnEscKey","isPosterFromTech_","queuedCallbacks_","userActive_","tagAttributes","languagesToLower","languages_","resetCache_","poster_","controls_","changingSrc_","playCallbacks_","playTerminatedQueue_","autoplay","plugins","scrubbing_","fluid_","updateStyleEl_","playerOptionsCopy","middleware_","flexNotSupported_","majorVersion","userActive","listenForUserActivity_","handleStageClick_","responsive","fullscreenchange","styleEl_","playerElIngest_","divEmbed","tabindex","VIDEOJS_NO_DYNAMIC_STYLE","defaultsStyleEl","head","fill_","fluid","aspectRatio","links","linkEl","_dimension","privDimension","parsedVal","ratio","aspectRatio_","idClass","ratioParts","videoWidth","videoHeight","ratioMultiplier","width_","height_","_width","_height","techEl","unloadTech_","titleTechName","camelTechName","techName_","techOptions","loop","techCanOverridePoster","TechClass","handleTechReady_","textTracksJson_","eventObj","seeking","handleTechLoadStart_","handleTechSourceset_","handleTechWaiting_","handleTechEnded_","handleTechSeeking_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechEnterPictureInPicture_","handleTechLeavePictureInPicture_","handleTechError_","handleTechPosterChange_","handleTechTextData_","handleTechRateChange_","usingNativeControls","techGet_","addTechControlsListeners_","safety","removeTechControlsListeners_","handleTechClick_","handleTechDoubleClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","techCall_","manualAutoplay_","promise","previouslyMuted","restoreMuted","mutedPromise","updateSourceCaches_","matchingSources","findMimetype","sourceElSources","sourceEls","matchingSourceEls","sourceObj","updateSourceCaches","playerSrc","currentSource","eventSrc","lastSource_","updateCache","techSrc","techGet","request","lastPlaybackRate","queued","timeWhenWaiting","timeUpdateListener","handleTechCanPlay_","handleTechCanPlayThrough_","handleTechPlaying_","handleTechSeeked_","starttime","userActions","doubleClick","userWasActive","toggleFullscreenClass_","isFs","fullscreenElement","matches","fullscreen","msMatchesSelector","togglePictureInPictureClass_","inactivityTimeout","defaultPlaybackRate","reduceRight","_this8","resolve","play_","_this9","isSrcReady","waitToPlay_","runPlayTerminatedQueue_","runPlayCallbacks_","queue","q","isScrubbing","liveui","percentAsDecimal","_muted","defaultMuted","_defaultMuted","isFS","isFullscreen_","fullscreenOptions","fsOptions","enterFullWindow","exitFullWindow","isFullWindow","docOrigOverflow","overflow","isPiP","isInPictureInPicture_","hotkeys","excludeElement","handleHotkeys","_hotkeys$fullscreenKe","fullscreenKey","keydownEvent","_hotkeys$muteKey","muteKey","_hotkeys$playPauseKey","playPauseKey","FSToggle","selectSource","_this10","techs","findFirstPassingTechSourcePair","outerArray","innerArray","tester","outerChoice","innerChoice","finder","sourceOrder","_this11","filterSource","newsrc","srcobj","middlewareSource","src_","notSupportedMessage","setTech","str1","str2","_this12","sourceTech","_this13","doReset_","resetControlBarUI_","resetProgressBar_","resetPlaybackRate_","resetVolumeBar_","_this$controlBar","durationDisplay","currentSources","currentType","techAutoplay","newPoster","usingNativeControls_","suppressNotSupportedError","triggerSuppressedError","errorDisplay","userActivity_","mouseInProgress","lastMoveX","lastMoveY","handleActivity","screenX","screenY","isAudio_","toJSON","createModal","_this14","updateCurrentBreakpoint_","currentBreakpoint","candidateBreakpoint","breakpoints_","breakpoint_","removeCurrentBreakpoint_","currentBreakpointClass","_breakpoints","responsive_","loadMedia","_this15","_this$cache_$media","artwork","tt","getMedia","baseOptions","tagOptions","dataSetup","_safeParseTuple","childName","html5","flash","userLanguage","navigationUI","pluginStorage","pluginExists","getPlugin","markPluginAsActive","triggerSetupEvent","before","createPluginFactory","PluginSubClass","plugin","getEventHash","Plugin","VERSION","isBasic","registerPlugin","basicPluginWrapper","createBasicPlugin","deregisterPlugin","getPlugins","getPluginVersion","BASE_PLUGIN_NAME","usingPlugin","hasPlugin","normalizeId","videojs$1","getPlayer","defaultView","hooks","hookFunction","PlayerComponent","hooks_","hook","hookOnce","original","removeHook","getPlayers","nId","_tag","_player","getAllPlayers","comp","use","writeable","extend","subClassMethods","methods","super_","addLanguage","_mergeOptions","createTimeRange","setFormatTime","customImplementation","resetFormatTime","dom","resolveManifestRedirect","handleManifestRedirect","req","responseURL","slicedToArray","sliceIterator","mergeOptions$1","EventTarget$1","log$1","forEachMediaGroup","mediaType","groupKey","labelKey","mediaProperties","updateMaster","mergedPlaylist","updateSegments","baseUri","resolveSegmentUris","setupMediaPlaylists","resolveMediaGroupUris","refreshDelay","lastSegment","PlaylistLoader","srcUrl","hls","_options$withCredenti","_options$handleManife","handleManifestRedirects","hls_","hlsOptions","customTagParsers","customTagMappers","playlistRequestError","haveMetadata","startingState","customParser","media_","mediaUpdateTimeout","stopRequest","finalRenditionTimeout","oldRequest","isFinalRendition","mediaChange","started","intervalDuration","endSequence","expired","backward","forward","backwardDuration","forwardDuration","sumDurations","durations","safeLiveIndex","distanceFromEnd","safeDistance","playlistEnd","useSafeLiveEnd","isWholeNumber","roundSignificantDigit","increment","numDecimalDigits","ceilLeastSignificantDigit","floorLeastSignificantDigit","isBlacklisted","excludeUntil","isIncompatible","isEnabled","blacklisted","isLowestEnabledRendition","currentBandwidth","MAX_VALUE","Playlist","getMediaInfoForTime","numSegments","mediaIndex","isDisabled","isAes","isFmp4","estimateSegmentRequestTime","segmentDuration","bytesReceived","videojsXHR","mergeOptions$1$1","xhrFactory","XhrFunction","beforeRequest","Hls","newOptions","reqResponse","responseTime","roundTripTime","requestTime","responseHeaders","timedout","originalAbort","segmentXhrHeaders","Range","byterangeEnd","byterangeStr","textRange","formatHexString","formatAsciiString","createTransferableMessage","transferable","isView","initSegmentId","segmentKeyId","hexDump","utils","tagDump","textRanges","getProgramTime","_ref$time","matchedSegment","segmentEnd","videoTimingInfo","transmuxedPresentationEnd","estimatedStart","transmuxedPresentationStart","findSegmentForPlayerTime","seekTime","programTimeObject","mediaSeconds","programTime","playerTime","transmuxerPrependedSeconds","offsetFromSegmentStart","getTime","playerTimeToProgramTime","programDateTime","toISOString","seekToProgramTime","_ref2$retryCount","retryCount","seekTo","_ref2$pauseAfterSeek","pauseAfterSeek","verifyProgramDateTimeTags","lastSegmentStart","lastSegmentDuration","findSegmentForProgramTime","mediaOffset","comparisonTimeStamp","segmentDateTime","segmentTimeEpoch","getOffsetFromTimestamp","seekToTime","filterRanges","timeRanges","findRange","findNextRange","printableRange","strArr","timeRangesToArray","timeRangesList","removeCuesFromTrack","durationOfVideo","sourceHandler","captionArray","metadataArray","Cue","WebKitDataCue","inbandTextTracks_","timestampOffset","videoDuration","mediaSource_","privateData","deprecateOldCue","metadataTrack_","cuesArray","cuesGroupedByStartTime","timeSlot","sortedStartTimes","idx","cueGroup","nextTime","TARGET","SCRIPT_TYPE","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","webkitURL","msURL","Worker","shimWorker","filename","forceFallback","objURL","createSourceObject","worker","term","terminate","revokeObjectURL","wrapTerminate","selfShim","postMessage","onmessage","isThisThread","testWorker","testArray","createObjectURL","Blob","blob","getBlob","TransmuxWorker","document$$1","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","UINT32_MAX","payload","setUint32","audioobjecttype","samplingfrequencyindex","trackFragments","videoSample","audioSample","sequenceParameterSets","pictureParameterSets","profileIdc","levelIdc","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","mp4Generator","fileType","movie","toUnsigned$1","probe","metaTable","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","sampleForFrame","currentNal","currentFrame","nalsByteLength","numberOfNals","highPrefix","lowPrefix","zeroFill","coneOfSilence","96000","88200","64000","48000","44100","32000","24000","16000","12000","11025","8000","silence","sampleRate","clock","baseMediaDecodeTimeTs","frameDuration","silentFrame","audioGapDuration","audioFillFrameCount","audioFillDuration","ONE_SECOND_IN_TS$1","minSegmentDts","minSegmentPts","sum","sumFrameByteLengths","maxSegmentDts","maxSegmentPts","captionPacketParser","payloadType","payloadSize","sei","userData","ccData","newLength","newData","emulationPreventionBytesPositions","sourceIndex","captionPackets_","ccStreams_","Cea608Stream","cc","newCaptionPackets","escapedRBSP","latestDts_","ignoreNextEqualDts_","numSameDts_","presortIndex","dispatchCea608Packet","activeCea608Channel_","ccStream","setsTextOrXDSActive","setsChannel1Active","setsChannel2Active","CHARACTER_TRANSLATION","getCharFromCode","ROWS","createDisplayBuffer","BOTTOM_ROW","field","dataChannel","field_","dataChannel_","setConstants","swap","char0","char1","lastControlCode_","PADDING_","RESUME_CAPTION_LOADING_","mode_","END_OF_CAPTION_","clearFormatting","flushDisplayed","displayed_","nonDisplayed_","startPts_","ROLL_UP_2_ROWS_","rollUpRows_","setRollUp","ROLL_UP_3_ROWS_","ROLL_UP_4_ROWS_","CARRIAGE_RETURN_","shiftRowsUp_","BACKSPACE_","row_","ERASE_DISPLAYED_MEMORY_","ERASE_NON_DISPLAYED_MEMORY_","RESUME_DIRECT_CAPTIONING_","isSpecialCharacter","column_","isExtCharacter","isMidRowCode","addFormatting","isOffsetControlCode","isPAC","row","formatting_","isColorPAC","isNormalChar","topRow_","BASE_","EXT_","CONTROL_","OFFSET_","_char","newBaseRow","popOn","baseRow","rollUp","paintOn","streamTypes","handleRollover","lastDTS","referenceDTS","type_","_MetadataStream","timestampRolloverStream","parseUtf8","tagParsers","TXXX","WXXX","PRIV","owner","tagSize","dataAlignmentIndicator","_TransportPacketStream","_TransportParseStream","_ElementaryStream","TimestampRolloverStream$1","bytesInBuffer","everything","parsePsi","parsePat","parsePmt","packetsWaitingForPmt","programMapTable","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","pmtPid","pmt","tableEnd","pid","processPes_","STREAM_TYPES","h264","adts","timedMetadata","flushStream","stream$$1","forceFlush","packetFlushable","packetData","pes","ptsDtsFlags","packetLength","parsePes","PAT_PID","MP2T_PACKET_LENGTH","_AdtsStream","m2ts_1","frameLength","protectionSkipBytes","frameEnd","oldBuffer","adtsFrameDuration","frameNum","_H264Stream","_NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","expGolomb","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBits","skipBytes","readBits","bits","valu","skipLeadingZeros","leadingZeroCount","skipUnsignedExpGolomb","skipExpGolomb","readUnsignedExpGolomb","clz","readExpGolomb","readBoolean","readUnsignedByte","syncPoint","swapBuffer","110","122","244","44","83","86","118","128","138","139","134","currentPts","currentDts","discardEmulationPreventionBytes","readSequenceParameterSet","skipScalingList","nalByteStream","expGolombDecoder","lastScale","nextScale","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","sarRatio","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","_AacStream","NalByteStream","bytesLeft","tempLength","isLikelyAacData$1","transmuxer","parseType$2","parse$$1","mp4Inspector$$1","discardEmulationPreventionBytes$1","CaptionStream$1","mapToSample","approximateOffset","parseCaptionNals","videoTrackId","mdats","captionNals","mdatTrafPairs","matchingTraf","pair","seiNals","headerInfo","truns","seiNal","lastMatchedSample","matchingSample","findSeiNals","allSamples","parseSamples","generator","CaptionParser","captionStream$$1","segmentCache","parsedCaptions","isInitialized","isNewInit","timescales","parsedData","cachedSegment","parseEmbeddedCaptions","pushNals","nal","clearParsedCaptions","resetCaptionStream","clearAllCaptions","MessageHandlers","initArray","typedArray","gopInfo","videoSegmentTimingInfo","wireTransmuxerEvents","appendStart","messageHandlers","defaultCodecs","videoCodec","videoObjectTypeIndicator","audioProfile","translateLegacyCodecs","orig","profile","avcLevel","parseCodecs","codecCount","parsed","makeMimeTypeString","container","mimeTypesForPlaylist","containerType","getContainerType","codecInfo","mediaAttributes","getCodecs","isMuxed","isMaat","audioGroup","groupId","audioGroupId","audioType","audioProfileFromDefault","codecStrings","justAudio","justVideo","bothVideoAudio","isAudioCodec","isVideoCodec","gopsSafeToAlignWith","mapping","currentTimePts","videoBuffer","audioBuffer","audioDisabled","arity","extents","videoBuffered","audioBuffered","VirtualSourceBuffer","_videojs$EventTarget","mediaSource","timestampOffset_","pendingBuffers_","bufferUpdating_","codecs_","audioCodec_","videoCodec_","audioDisabled_","appendAudioInitSegment_","gopBuffer_","timeMapping_","safeAppend_","transmuxer_","data_","done_","appendGopInfo_","videoSegmentTimingInfo_","videoBuffer_","audioBuffer_","appendWindowStart","updating","sourceBuffer","inBandMetadataTrackDispatchType","createTextTracksIfNecessary","processPendingSegments_","timingInfo","timingInfoInSeconds","decode","presentation","addSourceBuffer","realBuffer_","makeWrappedSourceBuffer","nativeMediaSource_","updateGopBuffer","updatedBuffer","removeGopBuffer","sortedSegments","segmentObj","createRealSourceBuffers_","triggerUpdateend","concatAndAppendSegments_","destinationBuffer","tempBuffer","appendBuffer","originalError","HtmlMediaSource","property","MediaSource","activeSourceBuffers_","sourceBuffers","updateActiveSourceBuffers_","disableCombined","disableAudioOnly","onPlayerMediachange_","onHlsReset_","onHlsSegmentTimeMapping_","url_","sourcebuffer","parsedType","parameters","parameter","parseContentType","urlCount","mediaSources","msObjectURL","swfId","isTypeSupported","supportsNativeMediaSources","URL$1","EventTarget$1$1","mergeOptions$2","updateMaster$1","oldMaster","newMaster","noChanges","playlistUpdate","group","_playlistUpdate","generateSidxKey","sidxInfo","sidxByteRangeEnd","compareSidxEntry","oldSidxMapping","newSidxMapping","currentSidxInfo","savedSidxInfo","requestSidx_","sidxRange","finishProcessingFn","DashPlaylistLoader","srcUrlOrPlaylist","masterPlaylistLoader","refreshXml_","refreshMedia_","loadedPlaylists_","sidxMapping_","setupChildLoader","masterPlaylistLoader_","childPlaylist_","minimumUpdatePeriodTimeout_","mediaRequest_","doneFn","sidxRequestFinished_","masterXml_","clientOffset_","phonyUri","_phonyUri","haveMaster_","date","masterLoaded_","syncClientServerClock_","onClientServerClockSync_","utcTiming","serverTime","parseMasterXml","hasPendingRequest","masterXml","mediaGroupSidx","updatedMaster","mediaUri","logger","SourceUpdater","sourceBufferEmitter","callbacks_","pendingCallback_","processedAppend_","mimeType_","logger_","createSourceBuffer_","sourceBuffer_","start_","started_","onUpdateendCallback_","pendingCallback","removing","runCallback_","queueCallback_","videoSegmentTimingInfoCallback","Config","GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","INITIAL_BANDWIDTH","BANDWIDTH_VARIANCE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","REQUEST_ERRORS","abortAll","activeXhrs","handleErrors","waitForCompletion","decrypter","didError","endOfAllRequests","encryptedBytes","decryptionHandler","requestId","keyBytes","decryptSegment","handleProgress","progressFn","stats","progressEvent","loaded","getProgressStats","firstBytesReceivedAt","mediaSegmentRequest","xhrOptions","decryptionWorker","captionParser","keyXhr","errorObj","handleKeyResponse","initSegmentXhr","segmentXhr","getRequestStats","fmp4Captions","handleSegmentResponse","stableSort","sortFn","newArray","cmp","leftBandwidth","rightBandwidth","detectEndOfStream","segmentIndex","appendedLastSegment","finite","SegmentLoader","throughput","roundTrip","resetStats_","hasPlayed_","hasPlayed","currentTime_","seekable_","seeking_","loaderType_","loaderType","startingMedia_","segmentMetadataTrack_","segmentMetadataTrack","goalBufferLength_","goalBufferLength","sourceType_","sourceType","inbandTextTracks","state_","checkBufferTimeout_","currentTimeline_","pendingSegment_","sourceUpdater_","xhrOptions_","activeInitSegmentId_","initSegments_","cacheEncryptionKeys_","cacheEncryptionKeys","keyCache_","captionParser_","decrypter_","syncController_","syncController","syncPoint_","ended_","fetchAtBuffer_","newState","mediaBytesTransferred","mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaSecondsLoaded","abort_","monitorBuffer_","abortRequests","_error","set$$1","storedMap","storedKey","playlist_","setDateTimeMapping","couldBeginLoading_","init_","sourceBufferEmitter_","resetEverything","newPlaylist","oldPlaylist","syncInfo","oldId","mediaSequenceDiff","saveExpiredSegmentInfo","resyncLoader","_mimeType","resetLoader","monitorBufferTick_","fillBuffer_","getSyncPoint","checkBuffer_","buffered_","isEndOfStream_","endOfStream","startOfSegment","loadSegment_","lastBufferedEnd","bufferedTime","getSyncSegmentCandidate_","generateSegmentInfo_","mediaSourceInfo","_mediaSourceInfo","segmentIndexArray","isSyncRequest","measuredBandwidth","requestTimeRemaining","timeUntilRebuffer$$1","timeUntilRebuffer","switchCandidate","duration$$1","compatiblePlaylists","enabledPlaylists","rebufferingEstimates","numRequests","rebufferingImpact","noRebufferingPlaylists","estimate","minRebufferMaxBandwidthSelector","timeSavedBySwitching","minimumTimeSaving","simpleSegment","abortRequestEarly_","trimBackBuffer_","createSimplifiedSegmentObj_","handleProgress_","segmentRequestFinished_","removeToTime","seekable$$1","safeBackBufferTrimTime","segmentKey","processSegmentResponse_","createCaptionsTrackIfNotExists","addCaptionData","handleSegment_","probeSegmentInfo","containsAudio","containsVideo","startingMedia","newSegmentMedia","illegalMediaSwitchError","blacklistDuration","timelineMapping","mappingForTimeline","initId","_segmentInfo$segment","_segmentInfo$playlist","seq","_segmentInfo$playlist2","segmentInfoString","handleVideoSegmentTimingInfo_","handleUpdateEnd_","isWalkingForward","recordThroughput_","addSegmentMetadataCue_","segmentProcessingTime","segmentProcessingThroughput","uint8ToUtf8","uintArray","VTT_LINE_TERMINATORS","_char2","_SegmentLoader","VTTSegmentLoader","subtitlesTrack_","combinedByteLength","combinedSegment","skipEmptySegments_","timestampOffsetForTimeline","requested","parseVTTCues_","updateTimeMapping_","timelines","decoder","decodeBytesToString","TextDecoder","timestampmap","MPEGTS","LOCAL","ontimestampmap","mapData","segmentData","mappingObj","diff","firstStart","lastStart","findAdCue","mediaTime","adStartTime","adEndTime","tsprobe","syncPointStrategies","run","datetimeToDisplayTime","lastDistance","segmentStart","discontinuitySync","discontinuities","SyncController","inspectCache_","syncPoints","runStrategies_","selectSyncPoint_","strategy","bestSyncPoint","bestDistance","bestStrategy","newDistance","lastRemovedSegment","playlistTimestamp","probeMp4Segment_","probeTsSegment_","calculateSegmentTimeMapping_","saveDiscontinuitySyncInfo_","timeInfo","segmentStartTime","segmentEndTime","dtsTime","accuracy","mediaIndexDiff","Decrypter$1","AsyncStream$$1","Decrypter$$1","decrypt$$1","audioTrackKind_","stopLoaders","segmentLoader","activePlaylistLoader","startLoaders","playlistLoader","segmentLoaders","mediaTypes","blacklistCurrentPlaylist","activeTrack","activeGroup","defaultTrack","onTrackChanged","setupListeners","requestOptions","initialize","_settings$mediaTypes$","groups","variantLabel","_settings$mediaTypes$2","_settings$mediaTypes$3","setupMediaGroups","onGroupChanged","_settings$segmentLoad","mainSegmentLoader","previousActiveLoader","_settings$segmentLoad2","onAudioTrackChanged","createMediaTypes","loaderStats","sumLoaderStat","stat","audioSegmentLoader_","mainSegmentLoader_","MasterPlaylistController","externHls","useCueTags","enableLowInitialPlaylist","seekTo_","useCueTags_","cueTagsTrack_","requestOptions_","mediaTypes_","handleSourceOpen_","segmentLoaderSettings","setupMasterPlaylistLoaderListeners_","subtitleSegmentLoader_","setupSegmentLoaderListeners_","requestTimeout","triggerPresenceUsage_","setupSourceBuffers_","setupFirstPlay","updatedPlaylist","excludeUnsupportedVariants_","selectedMedia","selectInitialPlaylist","selectPlaylist","initialMedia_","updateAdCues_","updateDuration","addSeekableRange","addSeekableRange_","onDurationchange","stuckAtPlaylistEnd_","defaultDemuxed","audioGroupKeys","nextPlaylist","currentPlaylist","forwardBuffer","bufferLowWaterLine","onSyncInfoUpdate_","onEndOfStream","ended","isEndOfStream","getExpiredTime","absolutePlaylistEnd","TIME_FUDGE_FACTOR","mainSeekable","audioSeekable","oldEnd","oldStart","oldDuration","newDuration","setDuration","mimeTypes","configureLoaderMimeTypes_","excludeIncompatibleVariants_","variant","codecString","variantCodecs","adOffset","adTotal","_segment$cueOutCont$s","_segment$cueOutCont$s2","Representation","hlsHandler","loader","playlistUri","changePlaylistFn","mpc","masterPlaylistController_","qualityChangeFunction","smoothQualityChange","incompatible","currentlyEnabled","timerCancelEvents","PlaybackWatcher","allowSeeksWithinUnsafeLiveWindow","consecutiveUpdates","lastRecordedTime","timer_","checkCurrentTimeTimeout_","canPlayHandler","monitorCurrentTime_","waitingHandler","techWaiting_","cancelTimerHandler","cancelTimer_","fixesBadSeeksHandler","fixesBadSeeks_","checkCurrentTime_","waiting_","afterSeekableWindow_","beforeSeekableWindow_","currentRange","livePoint","nextRange","videoUnderflow_","difference","skipTheGap_","allowedEnd","gap","gapFromVideoUnderflow_","scheduledCurrentTime","gaps","findGaps","defaultOptions","errorInterval","getSource","IWillNotUseThisInPlugins","reloadSourceOnError","initPlugin","lastCalled","localOptions","loadedMetadataHandler","cleanupEvents","vhs","source_","Hls$1","STANDARD_PLAYLIST_SELECTOR","playerBandwidth","playerWidth","playerHeight","limitRenditionByPlayerDimensions","sortedPlaylistReps","enabledPlaylistReps","rep","bandwidthPlaylistReps","highestRemainingBandwidthRep","bandwidthBestRep","_chosenRep","haveResolution","resolutionBestRepList","resolutionBestRep","resolutionPlusOneList","resolutionPlusOneSmallest","resolutionPlusOneRep","chosenRep","systemBandwidth","INITIAL_PLAYLIST_SELECTOR","comparePlaylistBandwidth","comparePlaylistResolution","leftWidth","rightWidth","simpleTypeFromSourceType","handleHlsMediaChange","qualityLevels","selectedIndex_","setupEmeOptions","eme","sourceOptions","keySystemOptions","videoPlaylist","audioPlaylist","keySystemContentTypes","audioContentType","videoContentType","emeKeySystems","keySystems","initializeMediaKeys","getVhsLocalStorage","storedObject","supportsNativeHls","canItPlay","supportsNativeDash","supportsTypeNatively","Component$1","HlsHandler","dash","setOptions_","overrideNative","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","smoothQualityChange_","pauseLoading","useBandwidthFromLocalStorage","option","playbackWatcher_","invBandwidth","invThroughput","mediaRequests_","mediaRequestsAborted_","mediaRequestsTimedout_","mediaRequestsErrored_","mediaTransferDuration_","mediaBytesTransferred_","mediaSecondsLoaded_","currentTech","playerDimensions","objectToStore","updateVhsLocalStorage","renditionSelectionMixin","setupQualityLevels_","qualityLevels_","addQualityLevel","receiver","getter","get$1","HlsSourceHandler","_videojs$mergeOptions","supportedType","canUseMsePlayback","vid","pnlmContainer","visibility","pnlmViewer","display","setUpdate","PannellumVideo","renderVideo","videoNode","cuurentHS","getConfig","hs","removeHotSpot","addHotSpot","componentWillUnmount","propIsEnumerable","toObject","test1","test2","test3","letter","shouldUseNative","symbols","SHOW","CLOSE","REFRESH","modifier","modifiers","finalClass","singleClass","libpannellum","Renderer","program","gl","vs","fs","fallbackImgSize","world","vtmps","pose","imageType","texCoordBuffer","cubeVertBuf","cubeVertTexCoordBuf","cubeVertIndBuf","globalParams","canvas","multiresNodeSort","multiresNodeRenderSort","MultiresNode","vertices","side","testMultiresNode","rotPersp","check1","checkInView","check2","check3","check4","testX","testY","checkSquareInView","theta","asin","atan2","PI","acos","sin","cos","inCurrent","nodeCache","nodeCacheTimestamp","currentNodes","cubeSize","cubeResolution","maxLevel","numTiles","invTileResolution","doubleTileSize","tileResolution","lastTileSize","ntmp","f1","f2","f3","i1","i2","i3","fullpath","rotateMatrix","angle","axis","transposeMatrix4","_image","_imageType","_dynamic","voffset","detachShader","deleteShader","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","texture","deleteTexture","deleteProgram","cubeImgWidth","faceMissing","fillMissingFaces","imgSize","nbytes","imageArray","Uint8ClampedArray","backgroundSquare","ImageData","getContext","alpha","getError","handleWebGLError1286","appVersion","basePath","fallbackPath","sides","faceCanvas","faceContext","drawImage","imgData","getImageData","putImageData","incLoaded","faceImg","Image","encodeURI","extension","maxWidth","getParameter","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","horizonPitch","horizonRoll","glBindType","TEXTURE_2D","viewport","drawingBufferWidth","drawingBufferHeight","createShader","VERTEX_SHADER","vertexSrc","vMulti","shaderSource","compileShader","FRAGMENT_SHADER","fragmentSrc","fragEquirectangular","TEXTURE_CUBE_MAP","fragCube","fragMulti","createProgram","attachShader","linkProgram","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","drawInProgress","clearColor","COLOR_BUFFER_BIT","texCoordLocation","getAttribLocation","enableVertexAttribArray","createBuffer","bufferData","Float32Array","STATIC_DRAW","vertexAttribPointer","FLOAT","getUniformLocation","uniform1f","vo","rot","uniform4fv","createTexture","bindTexture","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","RGB","UNSIGNED_BYTE","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","vertPosLocation","perspUniform","cubeUniform","getExtension","loseContext","resize","pixelRatio","devicePixelRatio","clientWidth","clientHeight","setPose","focal","roll","orig_pitch","orig_yaw","w","roll_adj","vfov","atan","tan","drawArrays","TRIANGLES","perspMatrix","aspect","znear","zfar","fovy","makePersp","newLevel","checkZoom","uniformMatrix4fv","removed","pendingTextureRequests","textureLoad","processNextTile","textureLoaded","drawElements","UNSIGNED_SHORT","multiresDraw","returnImage","toDataURL","transforms","u","zoom","faces","face","webkitTransform","isLoading","getCanvas","loadTexture","cacheTop","textureImageCache","TextureImageLoader","loadFn","img","tex","til","releaseTextureImageLoader","PendingTextureRequest","_crossOrigin","vpp","applyRotPerspToVec","winX","winY","winZ","fragEquiCubeBase","renderer","imagetype","Viewer","initialConfig","panoImage","prevTime","autoRotateStart","origHfov","origPitch","isUserInteracting","latestInteraction","onPointerDownPointerX","onPointerDownPointerY","onPointerDownPointerDist","onPointerDownYaw","onPointerDownPitch","keysDown","fullscreenActive","listenersAdded","speed","animating","orientation","orientationYawOffset","autoRotateSpeed","animatedMove","externalEventListeners","specifiedPhotoSphereExcludes","hotspotsCreated","defaultConfig","autoRotateInactivityDelay","autoRotateStopDelay","northOffset","doubleClickZoom","avoidShowingBackground","animationTimingFunction","touchPanSpeedCoeffFactor","capturedKeyNumbers","loadButtonLabel","loadingLabel","bylineLabel","noPanoramaError","fileAccessError","malformedURLError","iOS8WebGLError","genericWebGLError","textureSizeError","unknownError","getElementById","uiContainer","renderContainer","dragFix","infoDisplay","hotSpotDebugIndicator","boxp","lbox","lbar","lbarFill","msg","errorMsg","processOptions","zoomIn","animateInit","zoomOut","toggleFullscreen","mozFullScreenEnabled","webkitFullscreenEnabled","msFullscreenEnabled","stopOrientation","startOrientation","orientationSupport","startOrientationIfSupported","DeviceOrientationEvent","deviceOrientationTest","beta","gamma","multiRes","anError","itemsToLoad","onImageLoad","outerHTML","cubeMap","absoluteURL","sanitizeURL","onloadend","reader","FileReader","flagIndex","ignoreGPanoXMP","xmpData","getTag","xmp","fullWidth","croppedWidth","fullHeight","croppedHeight","topPixels","heading","readAsBinaryString","readAsText","parseGPanoXMP","lengthComputable","numerator","denominator","onDocumentMouseDown","onDocumentMouseMove","onDocumentMouseUp","onDocumentMouseWheel","onDocumentDoubleClick","onFullScreenChange","onDocumentResize","onDocumentKeyPress","onDocumentKeyUp","clearKeys","pointerAction","touchAction","onDocumentPointerDown","onDocumentPointerMove","onDocumentPointerUp","onDocumentTouchStart","onDocumentTouchMove","onDocumentTouchEnd","pointerEnabled","renderInitCallback","renderInit","fireEvent","mousePosition","bounds","pos","coords","mouseEventToCoords","stopAnimation","lookAt","canvasWidth","canvasHeight","pos0","targetTouches","pos1","clientDist","touchmovePanSpeedCoeff","firstScene","mergeConfig","pointerIDs","pointerCoordinates","pointerType","pointerId","defined","wheelDeltaY","wheelDelta","detail","keynumber","keycode","changeKey","keyChanged","animateMove","normTime","startPosition","endPosition","callbackArgs","animate","tmpyaw","hoffcut","hfov2","vfov2","yawRange","renderHotSpots","isKeyDown","prevPitch","prevYaw","prevZoom","timeDiff","yawDiff","maxSpeed","keyRepeat","autoRotateStartTime","Quaternion","computeQuaternion","quaternion","taitBryanToQuaternion","multiply","orientationListener","toEulerAngles","sceneFadeDuration","fadeImg","createHotSpot","createHotSpots","escapeHTML","span","paddingTop","sceneId","onclick","ontouchend","clicked","loadScene","targetPitch","targetYaw","targetHfov","scrollWidth","marginLeft","marginTop","scrollHeight","renderHotSpot","hsPitchSin","hsPitchCos","configPitchSin","configPitchCos","yawCos","yawSin","hfovTan","coord","rollSin","rollCos","MozTransform","photoSphereExcludes","scenes","scene","isPreview","link","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen","isFullScreen","innerWidth","screen","innerHeight","mozFullScreen","webkitIsFullScreen","constrainHfov","newHfov","fadeDone","workingPitch","workingYaw","workingHfov","transition","destroyHotSpots","isLoaded","getPitch","animated","getPitchBounds","getYaw","getYawBounds","getHfov","getHfovBounds","getNorthOffset","setNorthOffset","getHorizonRoll","setHorizonRoll","getHorizonPitch","setHorizonPitch","startAutoRotate","stopAutoRotate","getRenderer","getScene","addScene","removeScene","getContainer","hotSpotId","isOrientationSupported","isOrientationActive","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","hasSymbols","origDefineProperty","supportsDescriptors","_","arePropertyDescriptorsSupported","predicates","isArgs","callee","ES","leftWhitespace","rightWhitespace","ToString","CheckObjectCoercible","ThrowTypeError","getProto","asyncGenIterator","TypedArray","INTRINSICS","asyncIterator","Atomics","decodeURI","encodeURIComponent","eval","EvalError","Float64Array","Int8Array","Int16Array","valueOf","RangeError","Set","SharedArrayBuffer","SyntaxError","URIError","WeakMap","WeakSet","allowMissing","cea708Parser","parseSei","USER_DATA_REGISTERED_ITU_T_T35","parseUserData","parseCaptionPackets","_arrayWithHoles","_nonIterableRest","reviver","StreamTypes","ts","parseAudioPes_","pesType","pusi","endLoop","parsePesType","parsePayloadUnitStartIndicator","parsePesTime","parseVideoPes_","firstKeyFrame","videoPacketContainsKeyFrame","inspectTs_","parsePsi_","baseTimestamp","audioCount","audioTimescale","inspectAac_","audioBaseTimestamp","ptsTime","videoBaseTimestamp","adjustTimestamp_","_iterableToArray","iter","ReactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","KNOWN_STATICS","caller","MEMO_STATICS","compare","TYPE_STATICS","getStatics","isMemo","ForwardRef","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","_interopRequireDefault","_react","_default","aa","ba","ca","A","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","D","refs","updater","E","F","isReactComponent","forceUpdate","G","isPureReactComponent","H","I","suspense","J","K","L","__self","__source","M","_owner","N","O","P","Q","keyPrefix","R","U","T","ea","fa","V","da","W","X","Children","toArray","createRef","PureComponent","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","lazy","_ctor","_status","_result","memo","useContext","useImperativeHandle","useDebugValue","useReducer","useState","Fragment","Profiler","StrictMode","Suspense","unstable_SuspenseList","cloneElement","createFactory","isValidElement","unstable_withSuspenseConfig","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentBatchConfig","ReactCurrentOwner","IsSomeRendererActing","Y","Z","extractEvents","eventTypes","phasedRegistrationNames","ha","registrationName","ia","ja","dependencies","la","ma","na","oa","pa","qa","ta","va","wa","ra","xa","ya","za","Aa","_dispatchListeners","_dispatchInstances","isPersistent","release","Ba","Ca","injectEventPluginOrder","injectEventPluginsByName","Da","stateNode","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","return","Ma","dispatchConfig","Na","_targetInst","Oa","Pa","Qa","Ra","Sa","Ta","animationend","animationiteration","animationstart","transitionend","Ua","Va","Wa","animation","Xa","Ya","Za","bb","db","eb","fb","gb","hb","nativeEvent","Interface","isDefaultPrevented","jb","eventPool","kb","destructor","ib","getPooled","persist","eventPhase","cancelable","isTrusted","lb","mb","nb","ob","pb","documentMode","qb","sb","tb","ub","beforeInput","bubbled","captured","compositionEnd","compositionStart","compositionUpdate","vb","wb","xb","yb","Cb","locale","Ab","ctrlKey","altKey","metaKey","char","Bb","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","datetime","email","tel","week","Qb","Rb","correspondingUseElement","Sb","Tb","Vb","_valueTracker","getValue","setValue","Ub","Wb","checked","Xb","Yb","Zb","$b","ac","bc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","oc","pc","_debugOwner","_debugSource","fileName","lineNumber","qc","rc","sc","tc","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","xc","yc","zc","vc","wc","uc","setAttributeNS","Ac","Bc","defaultChecked","_wrapperState","initialChecked","Cc","initialValue","controlled","Dc","Ec","Fc","Gc","xlinkHref","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","Rc","Sc","Tc","Uc","Vc","_isInputEventSupported","Wc","Xc","Alt","Control","Meta","Shift","Yc","getModifierState","Zc","$c","ad","bd","cd","dd","movementX","movementY","ed","pressure","tangentialPressure","tiltX","tiltY","twist","isPrimary","fd","mouseEnter","mouseLeave","pointerEnter","pointerLeave","gd","parentWindow","alternate","hd","jd","kd","responder","ld","effectTag","od","qd","sibling","pd","rd","animationName","elapsedTime","pseudoElement","sd","clipboardData","td","ud","vd","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Apps","Scroll","MozPrintableKey","wd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","119","120","121","123","144","145","224","xd","yd","dataTransfer","zd","Ad","Bd","deltaX","wheelDeltaX","deltaY","deltaZ","deltaMode","Cd","Dd","Ed","Fd","Gd","Hd","Id","Jd","Kd","Ld","eventPriority","Md","getEventPriority","Nd","Od","Pd","targetInst","ancestors","containerInfo","topLevelType","Qd","Rd","Ud","Vd","Wd","Xd","Yd","Zd","ae","be","contentEditable","ce","de","select","ee","fe","ge","he","ie","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","je","onSelect","le","ke","me","defaultSelected","ne","dangerouslySetInnerHTML","oe","pe","qe","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","html","mathml","se","te","ue","ve","MSApp","execUnsafeLocalFunction","namespaceURI","we","lastChild","nodeValue","xe","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","order","orphans","tabSize","widows","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","ye","ze","Ae","setProperty","Ce","menuitem","area","br","col","embed","hr","input","keygen","meta","param","wbr","De","Ee","is","Fe","Ge","He","Ie","Je","autoFocus","Ke","__html","Le","Me","Ne","Oe","Pe","Qe","Re","Se","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Te","Ue","Ve","We","getChildContext","Xe","__reactInternalMemoizedMergedChildContext","Ye","Ze","unstable_runWithPriority","$e","unstable_scheduleCallback","af","unstable_cancelCallback","bf","unstable_shouldYield","cf","unstable_requestPaint","df","unstable_now","ef","unstable_getCurrentPriorityLevel","ff","unstable_ImmediatePriority","hf","unstable_UserBlockingPriority","jf","unstable_NormalPriority","kf","unstable_LowPriority","lf","unstable_IdlePriority","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","xf","yf","zf","Af","Cf","Df","Ef","Ff","Gf","Hf","If","Jf","childExpirationTime","Kf","firstContext","expirationTime","Lf","Mf","observedBits","responders","Nf","Of","baseState","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstEffect","lastEffect","firstCapturedEffect","lastCapturedEffect","Pf","Qf","suspenseConfig","nextEffect","Rf","Sf","updateQueue","memoizedState","Tf","Uf","Vf","Wf","Xf","Yf","Zf","$f","ag","bg","fg","_reactInternalFiber","cg","dg","eg","gg","shouldComponentUpdate","hg","ig","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","jg","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","kg","_stringRef","mg","ng","og","pg","elementType","qg","rg","sg","rb","delete","Be","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Hg","memoizedProps","revealOrder","Ig","Jg","Kg","Lg","Mg","Ng","Og","Pg","Qg","Rg","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","ch","dh","eh","fh","hh","ih","jh","baseUpdate","kh","lh","mh","lastRenderedReducer","dispatch","lastRenderedState","eagerReducer","eagerState","nh","deps","oh","ph","qh","rh","readContext","useResponder","uh","vh","wh","xh","yh","pendingProps","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","Ih","Jh","Kh","Lh","UNSAFE_componentWillUpdate","componentWillUpdate","Mh","Nh","pendingContext","Oh","Ph","fallback","unstable_avoidThisFallback","Qh","isBackwards","rendering","tail","tailExpiration","tailMode","Rh","Sh","Th","Uh","Vh","Wh","$h","ai","bi","stack","onClick","ci","di","gi","fi","hi","ii","ji","ei","ki","li","ni","_reactRootContainer","oi","wasMultiple","multiple","pi","qi","Yi","Zi","si","ti","ui","vi","wi","componentDidCatch","xi","componentStack","yi","zi","Ai","Bi","Ci","Di","Ei","Fi","Gi","Hi","Ii","Ji","Ki","Li","Mi","Ni","Oi","Pi","Qi","Ri","Si","Ti","Ui","Vi","Wi","timeoutMs","Xi","pingTime","firstPendingTime","lastPendingTime","callbackExpirationTime","callbackNode","$i","aj","bj","cj","ej","fj","gj","hj","finishedWork","finishedExpirationTime","timeoutHandle","ij","jj","pingCache","kj","lj","firstBatch","_defer","_expirationTime","_onComplete","dj","busyMinDurationMs","busyDelayMs","mj","createElementNS","rangeCount","zb","focusedElem","selectionRange","ua","oj","__reactInternalSnapshotBeforeUpdate","$d","compareDocumentPosition","createRange","setStart","removeAllRanges","addRange","setEnd","$a","nc","Fj","Xh","Yh","Gj","nd","Zh","gf","pj","rj","Bf","sj","hydrate","unstable_observedBits","uj","pendingChildren","vj","wj","xj","yj","zj","Bj","_root","_callbacks","_next","_hasChildren","_didComplete","_children","Cj","_didCommit","_onCommit","Dj","_internalRoot","Ej","Hj","Jj","Ij","Kj","Aj","form","commit","unmount","createBatch","Nj","createPortal","findDOMNode","unstable_renderSubtreeIntoContainer","unmountComponentAtNode","unstable_createPortal","unstable_batchedUpdates","unstable_interactiveUpdates","unstable_discreteUpdates","unstable_flushDiscreteUpdates","flushSync","unstable_createRoot","unstable_createSyncRoot","unstable_flushControlled","findFiberByHostInstance","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","tj","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","bundleType","rendererPackageName","Oj","Pj","unstable_forceFrameRate","MessageChannel","port2","port1","previous","priorityLevel","unstable_next","unstable_wrapCallback","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","_propTypes","_keymaster","_Store","_Header","_Footer","_Constants","_Bem","defaultKeyFilter","Store","handleClose","deleteScope","initialState","visible","noOverlay","closeOnOutsideClick","onClose","onOpen","Popup","_React$Component","onShow","onRefresh","containerClick","handleButtonClick","boxRef","defaultKeyBindings","ok","defaultOkKey","defaultCancelKey","removeListener","getId","popups","bringToFront","register","currentlyActive","refreshPosition","clearQueue","setPosition","popup","activePopup","setScope","escToClose","handleKeyEvent","bindKeyEvents","boxPosition","margin","_className","overlayStyle","closeBtn","closeHtml","boxClass","outline","btnClass","buttonClick","onOk","defaultOk","defaultCancel","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","propFullName","secret","getShim","isRequired","ReactPropTypes","arrayOf","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","_handlers","_mods","91","_scope","_MODIFIERS","alt","ctrl","control","command","_MAP","backspace","tab","enter","esc","space","del","home","pageup","pagedown","'","_downKeys","compareArray","a1","modifierMap","updateModifierKey","assignKey","scope","mods","getMods","shortcut","getScope","addEvent","modifiersMatch","previousKey","isPressed","getPressedKeyCodes","noConflict","unbind","multipleKeys","_events","PopupStore","_EventEmitter","emit","EventEmitter","ReflectOwnKeys","ReflectApply","ownKeys","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","prepend","events","existing","newListener","warned","emitter","_onceWrap","fired","wrapFn","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","setMaxListeners","getMaxListeners","doError","er","len","addListener","prependListener","once","prependOnceListener","originalListener","spliceOne","removeAllListeners","rawListeners","eventNames","PopupHeader","_ButtonsSpace","PopupFooter","_ActionButton","PopupFooterButtons","btns","btnComponent","PopupAction","alert","confirm","prompt","define","getPolyfill","boundTrim","ERROR_MESSAGE","binder","boundLength","boundArgs","Empty","origKeys","keysShim","originalKeys","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isArguments","isString","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","GetIntrinsic","$Object","$TypeError","$String","assertRecord","$isNaN","$isFinite","mod","IsCallable","toPrimitive","ES5","ToPrimitive","ToBoolean","ToNumber","ToInteger","ToInt32","ToUint32","ToUint16","posInt","ToObject","optMessage","SameValue","Type","IsPropertyDescriptor","Desc","isData","IsAccessor","IsAccessorDescriptor","IsDataDescriptor","IsGenericDescriptor","FromPropertyDescriptor","ToPropertyDescriptor","Obj","setter","$SyntaxError","recordType","argumentName","modulo","remain","isPrimitive","isCallable","ES5internalSlots","actualHint","polyfill","forEachString","forEachObject","thisArg","_objCreate","ParsingError","errorData","parseTimeStamp","computeSeconds","Settings","parseOptions","keyValueDelim","groupDelim","kv","parseCue","regionList","oInput","consumeTimeStamp","Errors","BadTimeStamp","skipWhitespace","region","vals","vals0","integer","lineAlign","snapToLines","positionAlign","consumeCueSettings","BadSignature","dflt","defaultKey","ESCAPE","TAG_NAME","ruby","rt","TAG_ANNOTATION","NEEDS_PARENT","parseContent","nextToken","unescape1","shouldAdd","localName","annotation","rootDiv","tagStack","createProcessingInstruction","strongRTLRanges","isStrongRTLChar","determineBidi","nodeStack","pushNodes","nextTextNode","StyleBox","CueStyleBox","styleOptions","writingMode","unicodeBidi","applyStyles","textAlign","font","whiteSpace","textPos","formatStyle","move","BoxPosition","offsetTop","rects","getClientRects","moveBoxToLinePosition","styleBox","containerBox","boxPositions","linePos","textTrackList","mediaElement","computeLinePos","maxPosition","initialAxis","calculatedPercentage","bestPosition","specifiedPosition","overlapsOppositeAxis","within","overlapsAny","intersectPercentage","findBestPosition","toCSSCompatValues","toMove","overlaps","getSimpleBoxPosition","convertCueToDOMTree","cuetext","overlay","paddedOverlay","hasBeenReset","shouldCompute","reportOrThrowError","collectNextLine","parseHeader","parseTimestampMap","xy","anchor","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseRegion","alreadyCollectedLine","hasSubstring","autoKeyword","directionSetting","alignSetting","findAlignSetting","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","setting","findDirectionSetting","getCueAsHTML","scrollSetting","isValidPercentValue","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","findScrollSetting","ONE_SECOND_IN_TS","m2tsStreamTypes","ExpGolomb","aacUtils","parsePid","parseAdaptionField","parseNalUnitType","payloadOffset","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","typeOf","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Lazy","Memo","Portal","isValidElementType","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","_SvgIcon","_extends2","muiName","_props$color","_props$component","_props$fontSize","htmlColor","titleAccess","_props$viewBox","viewBox","focusable","withStyles","userSelect","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","plainObjectConstrurctor","cloneStyle","newStyle","createRule","decl","jss","declCopy","onCreateRule","by","toCssValue","ignoreImportant","cssValue","indentStr","toCss","_options$indent","fallbacks","_prop","_value","_prop2","_value2","allowEmpty","escapeRegex","nativeEscape","CSS","BaseStyleRule","isProcessed","renderable","sheet","force","newValue","process","onChangeValue","isDefined","removeProperty","attached","_BaseStyleRule","StyleRule","selectorText","scoped","generateId","_proto2","applyTo","setSelector","replaceRule","pluginStyleRule","defaultToStringOptions","atRegExp","ConditionalRule","at","rules","atMatch","getRule","addRule","onProcessRule","keyRegExp","pluginConditionalRule","defaultToStringOptions$1","nameRegExp","KeyframesRule","nameMatch","keyRegExp$1","refRegExp","findReferencedKeyframe","keyframes","refKeyframe","onProcessStyle","KeyframeRule","pluginKeyframeRule","FontFaceRule","pluginFontFaceRule","ViewportRule","pluginViewportRule","SimpleRule","keysMap","defaultUpdateOptions","forceUpdateOptions","RuleList","ruleOptions","_this$options","unregister","plugins$$1","onUpdate","_this$options2","styleRule","nextValue","_nextValue","_prevValue","css","StyleSheet","deployed","attach","deploy","detach","insertRule","addRules","added","deleteRule","_this$rules","PluginsRegistry","internal","external","registry","onProcessSheet","processedValue","newPlugin","sheets","SheetsRegistry","globalThis","ns","moduleId","createGenerateId","ruleCounter","jssId","minify","memoize","cssRule","attributeStyleMap","getHead","findPrevNode","insertionPoint","findHigherSheet","findHighestSheet","findCommentNode","getNonce","_insertRule","cssRules","appendRule","createStyle","DomRenderer","hasInsertedRules","nonce","nextNode","insertionPointElement","insertStyle","insertRules","nativeParent","latestNativeParent","ruleStr","nativeRule","getRules","instanceCounter","Jss","setup","createStyleSheet","removeStyleSheet","hasCSSTOMSupport","baseClasses","newClasses","nextClasses","cache","key1","key2","subCache","pseudoClasses","fnValuesNs","fnRuleNs","fnValues","fnRule","atPrefix","GlobalContainerRule","GlobalPrefixedRule","separatorRegExp","addScope","handleNestedGlobalContainerRule","handlePrefixedGlobalRule","parentRegExp","getReplaceRef","replaceParentRefs","nestedProp","parentProp","parentSelectors","nestedSelectors","nested","getOptions","nestingLevel","replaceRef","isNested","isNestedConditional","uppercasePattern","msPattern","toHyphenLower","hName","convertCase","converted","hyphenatedProp","px","ms","addCamelCasedVersion","regExp","newObj","units","border","padding","motion","perspective","grid","iterate","innerProp","_innerProp","camelCasedOptions","js","vendor","isTouch","jsCssMap","Moz","Webkit","appearence","noPrefill","supportedProperty","toUpper","camelize","pascalize","breakPropsOld","colorAdjust","propMap","propKeys","prefixCss","propMap$1","newProp","pascalized","propertyDetectors","computed","key$1","el$1","cache$1","transitionProperties","transPropsRegExp","prefixTransitionCallback","p1","p2","supportedValue","prefixedValue","cacheKey","atRule","changeProp","supportedProp","changeValue","supportedValue$$1","prop0","prop1","disableGeneration","generateClassName","_options$disableGloba","disableGlobal","_options$productionPr","productionPrefix","_options$seed","seed","seedPrefix","createGenerateClassName","sheetsCache","sheetsManager","sheetsRegistry","StylesContext","indexCounter","themingEnabled","stylesWithOverrides","getClasses","cacheClasses","lastProp","lastJSS","generate","stylesCreator","sheetManager","staticSheet","dynamicStyles","flip","serverGenerateClassName","getDynamicStyles","extracted","dynamicSheet","useSynchronousEffect","currentKey","classNamePrefixOption","_options$defaultTheme","stylesOptions2","listenToTheme","shouldUpdate","_props$defer","defer","_props$fallback","_React$useState","_React$useState2","mountedState","setMountedState","hadKeyboardEvent","hadFocusVisibleRecently","hadFocusVisibleRecentlyTimeout","inputTypesWhitelist","handlePointerDown","visibilityState","readOnly","isContentEditable","focusTriggersKeyboardModality","handleBlurVisible","useIsFocusVisible","isFocusVisible","onBlurVisible","getChildMapping","mapFn","getProp","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","mergeChildMappings","hasPrev","hasNext","prevChild","isLeaving","in","exit","TransitionGroup","handleExited","contextValue","isMounting","firstRender","mounted","appear","currentChildMapping","_this$props","childFactory","TransitionGroupContext","_props$pulsate","pulsate","rippleX","rippleY","rippleSize","inProp","_props$onExited","leaving","setLeaving","rippleClassName","ripple","rippleVisible","ripplePulsate","rippleStyles","childClassName","childLeaving","childPulsate","_props$center","center","centerProp","ripples","setRipples","rippleCallback","ignoringMouseDown","startTimer","startTimerCommit","startCommit","oldRipples","_options$pulsate","_options$center","_options$fakeElement","fakeElement","sizeX","sizeY","stop","pointerEvents","animationDuration","buttonRefProp","buttonRef","_props$centerRipple","centerRipple","classNameProp","_props$disableRipple","disableRipple","_props$disableTouchRi","disableTouchRipple","_props$focusRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","_props$tabIndex","TouchRippleProps","_props$type","rippleRef","focusVisible","setFocusVisible","_useIsFocusVisible","focusVisibleRef","useRippleHandler","rippleAction","eventCallback","skipRippleAction","handleDragLeave","handleMouseLeave","handleTouchStart","handleTouchEnd","handleTouchMove","handleFocus","keydownRef","handleKeyUp","ComponentProp","buttonProps","handleUserRef","handleOwnRef","handleRef","alignItems","justifyContent","WebkitTapHighlightColor","cursor","verticalAlign","textDecoration","borderStyle","Icon","defaultVariantMapping","Typography","_props$align","_props$display","_props$gutterBottom","gutterBottom","_props$noWrap","noWrap","_props$paragraph","paragraph","_props$variant","_props$variantMapping","variantMapping","srOnly","alignLeft","alignCenter","alignRight","alignJustify","textOverflow","marginBottom","colorInherit","colorTextPrimary","colorTextSecondary","displayInline","displayBlock","SPACINGS","GRID_SIZES","Grid","_props$alignContent","alignContent","_props$alignItems","_props$container","_props$direction","_props$item","_props$justify","justify","_props$lg","_props$md","_props$sm","_props$spacing","_props$wrap","wrap","_props$xl","_props$xs","_props$zeroMinWidth","zeroMinWidth","StyledGrid","boxSizing","flexWrap","minWidth","flexDirection","breakpoint","themeSpacing","generateGutter","accumulator","globalStyles","flexBasis","generateGrid","Fab","_props$disabled","_props$disableFocusRi","disableFocusRipple","_props$size","extended","inherit","boxShadow","sizeSmall","sizeMedium","_props$disablePortal","disablePortal","onRendered","mountNode","setMountNode","scrollDiv","scrollbarSize","ariaHidden","getPaddingRight","BLACKLIST","siblings","mount","currentNode","nodesToExclude","isHideable","ariaHiddenSiblings","findIndexOf","handleContainer","fixedNodes","restoreStyle","restorePaddings","disableScrollLock","isOverflowing","ModalManager","modals","contaniners","modalIndex","modalRef","hiddenSiblingNodes","hiddenSiblings","getHiddenSiblings","containerIndex","nextTop","_props$disableAutoFoc","disableAutoFocus","_props$disableEnforce","disableEnforceFocus","_props$disableRestore","disableRestoreFocus","getDoc","ignoreNextEnforceFocus","sentinelStart","sentinelEnd","nodeToRestore","rootRef","contain","loopFocus","invisible","_props$invisible","defaultManager","_props$BackdropCompon","BackdropComponent","BackdropProps","_props$closeAfterTran","closeAfterTransition","_props$disableBackdro","disableBackdropClick","_props$disableEscapeK","disableEscapeKeyDown","_props$disableScrollL","_props$hideBackdrop","hideBackdrop","_props$keepMounted","keepMounted","_props$manager","manager","onBackdropClick","onEscapeKeyDown","exited","setExited","mountNodeRef","hasTransition","getHasTransition","getModal","handleMounted","handleOpen","resolvedContainer","isTopModal","handlePortalRef","inlineStyle","childProps","onEnter","FormControlContext","_props$edge","edge","ButtonBase","edgeStart","edgeEnd","marginRight","checkedProp","checkedIcon","disabledProp","inputProps","inputRef","onChange","required","isControlled","checkedState","setCheckedState","muiFormControl","hasLabelFor","thumb","switchBase","willChange"],"mappings":"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AG,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAIA,EAAa,EAAG,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG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","file":"static/js/2.5188e395.chunk.js","sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}","var win;\n\nif (typeof window !== \"undefined\") {\n  win = window;\n} else if (typeof global !== \"undefined\") {\n  win = global;\n} else if (typeof self !== \"undefined\") {\n  win = self;\n} else {\n  win = {};\n}\n\nmodule.exports = win;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","var topLevel = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\n\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n  doccy = document;\n} else {\n  doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n  if (!doccy) {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n  }\n}\n\nmodule.exports = doccy;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n    if (hasKeyCode) searchInput = hasKeyCode;\n  } // Numbers\n\n\n  if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n  var search = String(searchInput); // check codes\n\n  var foundNamedKey = codes[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // check aliases\n\n  var foundNamedKey = aliases[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // weird character?\n\n  if (search.length === 1) return search.charCodeAt(0);\n  return undefined;\n}\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\n\n\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode;\n\n    if (keyCode === null || keyCode === undefined) {\n      return false;\n    }\n\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      } // check aliases\n\n\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n\n    return false;\n  }\n};\n\nexports = module.exports = keyCode;\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222 // Helper aliases\n\n};\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '': 16,\n  '': 18,\n  '': 17,\n  '': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n  /*!\n   * Programatically add the following\n   */\n  // lower case chars\n\n};\n\nfor (i = 97; i < 123; i++) {\n  codes[String.fromCharCode(i)] = i - 32;\n} // numbers\n\n\nfor (var i = 48; i < 58; i++) {\n  codes[i - 48] = i;\n} // function keys\n\n\nfor (i = 1; i < 13; i++) {\n  codes['f' + i] = i + 111;\n} // numpad keys\n\n\nfor (i = 0; i < 10; i++) {\n  codes['numpad ' + i] = i + 96;\n}\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\n\nvar names = exports.names = exports.title = {}; // title for backward compat\n// Create reverse mapping\n\nfor (i in codes) {\n  names[codes[i]] = i;\n} // Add aliases\n\n\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias];\n}","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is'); // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}","function toVal(mix) {\n  var k,\n      y,\n      str = '';\n\n  if (mix) {\n    if (typeof mix === 'object') {\n      if (!!mix.push) {\n        for (k = 0; k < mix.length; k++) {\n          if (mix[k] && (y = toVal(mix[k]))) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      } else {\n        for (k in mix) {\n          if (mix[k] && (y = toVal(k))) {\n            str && (str += ' ');\n            str += y;\n          }\n        }\n      }\n    } else if (typeof mix !== 'boolean' && !mix.call) {\n      str && (str += ' ');\n      str += mix;\n    }\n  }\n\n  return str;\n}\n\nexport default function () {\n  var i = 0,\n      x,\n      str = '';\n\n  while (i < arguments.length) {\n    if (x = toVal(arguments[i++])) {\n      str && (str += ' ');\n      str += x;\n    }\n  }\n\n  return str;\n}","import warning from 'warning'; // It should to be noted that this function isn't equivalent to `text-transform: capitalize`.\n//\n// A strict capitalization should uppercase the first letter of each word a the sentence.\n// We only handle the first word.\n\nexport function capitalize(string) {\n  if (process.env.NODE_ENV !== 'production' && typeof string !== 'string') {\n    throw new Error('Material-UI: capitalize(string) expects a string argument.');\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\n\nexport function createChainedFunction() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.reduce(function (acc, func) {\n    if (func == null) {\n      return acc;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(typeof func === 'function', 'Material-UI: invalid Argument Type, must only provide functions, undefined, or null.') : void 0;\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      acc.apply(this, args);\n      func.apply(this, args);\n    };\n  }, function () {});\n}","/* eslint-disable no-restricted-syntax */\nfunction getThemeProps(params) {\n  var theme = params.theme,\n      name = params.name,\n      props = params.props;\n\n  if (!theme || !theme.props || !theme.props[name]) {\n    return props;\n  } // Resolve default props, code borrow from React source.\n  // https://github.com/facebook/react/blob/15a8f031838a553e41c0b66eb1bcf1da8448104d/packages/react/src/ReactElement.js#L221\n\n\n  var defaultProps = theme.props[name];\n  var propName;\n\n  for (propName in defaultProps) {\n    if (props[propName] === undefined) {\n      props[propName] = defaultProps[propName];\n    }\n  }\n\n  return props;\n}\n\nexport default getThemeProps;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport makeStyles from '../makeStyles';\nimport getThemeProps from '../getThemeProps';\nimport useTheme from '../useTheme'; // Link a style sheet with a component.\n// It does not modify the component passed to it;\n// instead, it returns a new component, with a `classes` property.\n\nvar withStyles = function withStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var defaultTheme = options.defaultTheme,\n        _options$withTheme = options.withTheme,\n        withTheme = _options$withTheme === void 0 ? false : _options$withTheme,\n        name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"defaultTheme\", \"withTheme\", \"name\"]);\n\n    if (process.env.NODE_ENV !== 'production' && Component === undefined) {\n      throw new Error(['You are calling withStyles(styles)(Component) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production' && !name) {\n      // Provide a better DX outside production.\n      var displayName = getDisplayName(Component);\n\n      if (displayName !== undefined) {\n        classNamePrefix = displayName;\n      }\n    }\n\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      defaultTheme: defaultTheme,\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var WithStyles = React.forwardRef(function WithStyles(props, ref) {\n      var classesProp = props.classes,\n          innerRef = props.innerRef,\n          other = _objectWithoutProperties(props, [\"classes\", \"innerRef\"]);\n\n      var classes = useStyles(props);\n      var theme;\n      var more = other;\n\n      if (typeof name === 'string' || withTheme) {\n        // name and withTheme are invariant in the outer scope\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        theme = useTheme() || defaultTheme;\n\n        if (name) {\n          more = getThemeProps({\n            theme: theme,\n            name: name,\n            props: other\n          });\n        } // Provide the theme to the wrapped component.\n        // So we don't have to use the `withTheme()` Higher-order Component.\n\n\n        if (withTheme && !more.theme) {\n          more.theme = theme;\n        }\n      }\n\n      return React.createElement(Component, _extends({\n        ref: innerRef || ref,\n        classes: classes\n      }, more));\n    });\n    process.env.NODE_ENV !== \"production\" ? WithStyles.propTypes = {\n      /**\n       * Override or extend the styles applied to the component.\n       */\n      classes: PropTypes.object,\n\n      /**\n       * Use that prop to pass a ref callback to the decorated component.\n       * @deprecated\n       */\n      innerRef: chainPropTypes(PropTypes.oneOfType([PropTypes.func, PropTypes.object]), function (props) {\n        if (props.innerRef == null) {\n          return null;\n        }\n\n        return null; // return new Error(\n        //   'Material-UI: the `innerRef` prop is deprecated and will be removed in v5. ' +\n        //     'Refs are now automatically forwarded to the inner component.',\n        // );\n      })\n    } : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      WithStyles.displayName = \"WithStyles(\".concat(getDisplayName(Component), \")\");\n    }\n\n    hoistNonReactStatics(WithStyles, Component);\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Exposed for test purposes.\n      WithStyles.Naked = Component;\n      WithStyles.options = options;\n      WithStyles.useStyles = useStyles;\n    }\n\n    return WithStyles;\n  };\n};\n\nexport default withStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withStyles as withStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction withStyles(stylesOrCreator, options) {\n  return withStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default withStyles;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function warning() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  warning = function warning(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function') {\n    return;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import React from 'react';\nexport function isMuiElement(element, muiNames) {\n  return React.isValidElement(element) && muiNames.indexOf(element.type.muiName) !== -1;\n} // TODO: Make it private only in v5\n\nexport function setRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\nexport function useForkRef(refA, refB) {\n  /**\n   * This will create a new function if the ref props change and are defined.\n   * This means react will call the old forkRef with `null` and the new forkRef\n   * with the ref. Cleanup naturally emerges from this behavior\n   */\n  return React.useMemo(function () {\n    if (refA == null && refB == null) {\n      return null;\n    }\n\n    return function (refValue) {\n      setRef(refA, refValue);\n      setRef(refB, refValue);\n    };\n  }, [refA, refB]);\n}","/* eslint-disable no-use-before-define */\nimport warning from 'warning';\n/**\n * Returns a number whose value is limited to the given range.\n *\n * @param {number} value The value to be clamped\n * @param {number} min The lower boundary of the output range\n * @param {number} max The upper boundary of the output range\n * @returns {number} A number in the range [min, max]\n */\n\nfunction clamp(value) {\n  var min = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  process.env.NODE_ENV !== \"production\" ? warning(value >= min && value <= max, \"Material-UI: the value provided \".concat(value, \" is out of range [\").concat(min, \", \").concat(max, \"].\")) : void 0;\n\n  if (value < min) {\n    return min;\n  }\n\n  if (value > max) {\n    return max;\n  }\n\n  return value;\n}\n/**\n * Converts a color from CSS hex format to CSS rgb format.\n *\n * @param {string} color - Hex color, i.e. #nnn or #nnnnnn\n * @returns {string} A CSS rgb color string\n */\n\n\nexport function hexToRgb(color) {\n  color = color.substr(1);\n  var re = new RegExp(\".{1,\".concat(color.length / 3, \"}\"), 'g');\n  var colors = color.match(re);\n\n  if (colors && colors[0].length === 1) {\n    colors = colors.map(function (n) {\n      return n + n;\n    });\n  }\n\n  return colors ? \"rgb(\".concat(colors.map(function (n) {\n    return parseInt(n, 16);\n  }).join(', '), \")\") : '';\n}\n\nfunction intToHex(_int) {\n  var hex = _int.toString(16);\n\n  return hex.length === 1 ? \"0\".concat(hex) : hex;\n}\n/**\n * Converts a color from CSS rgb format to CSS hex format.\n *\n * @param {string} color - RGB color, i.e. rgb(n, n, n)\n * @returns {string} A CSS rgb color string, i.e. #nnnnnn\n */\n\n\nexport function rgbToHex(color) {\n  // Idempotent\n  if (color.indexOf('#') === 0) {\n    return color;\n  }\n\n  var _decomposeColor = decomposeColor(color),\n      values = _decomposeColor.values;\n\n  return \"#\".concat(values.map(function (n) {\n    return intToHex(n);\n  }).join(''));\n}\n/**\n * Converts a color from hsl format to rgb format.\n *\n * @param {string} color - HSL color values\n * @returns {string} rgb color values\n */\n\nexport function hslToRgb(color) {\n  color = decomposeColor(color);\n  var _color = color,\n      values = _color.values;\n  var h = values[0];\n  var s = values[1] / 100;\n  var l = values[2] / 100;\n  var a = s * Math.min(l, 1 - l);\n\n  var f = function f(n) {\n    var k = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (n + h / 30) % 12;\n    return l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n  };\n\n  var type = 'rgb';\n  var rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];\n\n  if (color.type === 'hsla') {\n    type += 'a';\n    rgb.push(values[3]);\n  }\n\n  return recomposeColor({\n    type: type,\n    values: rgb\n  });\n}\n/**\n * Returns an object with the type and values of a color.\n *\n * Note: Does not support rgb % values.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {object} - A MUI color object: {type: string, values: number[]}\n */\n\nexport function decomposeColor(color) {\n  // Idempotent\n  if (color.type) {\n    return color;\n  }\n\n  if (color.charAt(0) === '#') {\n    return decomposeColor(hexToRgb(color));\n  }\n\n  var marker = color.indexOf('(');\n  var type = color.substring(0, marker);\n\n  if (['rgb', 'rgba', 'hsl', 'hsla'].indexOf(type) === -1) {\n    throw new Error([\"Material-UI: unsupported `\".concat(color, \"` color.\"), 'We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla().'].join('\\n'));\n  }\n\n  var values = color.substring(marker + 1, color.length - 1).split(',');\n  values = values.map(function (value) {\n    return parseFloat(value);\n  });\n  return {\n    type: type,\n    values: values\n  };\n}\n/**\n * Converts a color object with type and values to a string.\n *\n * @param {object} color - Decomposed color\n * @param {string} color.type - One of: 'rgb', 'rgba', 'hsl', 'hsla'\n * @param {array} color.values - [n,n,n] or [n,n,n,n]\n * @returns {string} A CSS color string\n */\n\nexport function recomposeColor(color) {\n  var type = color.type;\n  var values = color.values;\n\n  if (type.indexOf('rgb') !== -1) {\n    // Only convert the first 3 values to int (i.e. not alpha)\n    values = values.map(function (n, i) {\n      return i < 3 ? parseInt(n, 10) : n;\n    });\n  } else if (type.indexOf('hsl') !== -1) {\n    values[1] = \"\".concat(values[1], \"%\");\n    values[2] = \"\".concat(values[2], \"%\");\n  }\n\n  return \"\".concat(type, \"(\").concat(values.join(', '), \")\");\n}\n/**\n * Calculates the contrast ratio between two colors.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} foreground - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {string} background - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} A contrast ratio value in the range 0 - 21.\n */\n\nexport function getContrastRatio(foreground, background) {\n  var lumA = getLuminance(foreground);\n  var lumB = getLuminance(background);\n  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);\n}\n/**\n * The relative brightness of any point in a color space,\n * normalized to 0 for darkest black and 1 for lightest white.\n *\n * Formula: https://www.w3.org/TR/WCAG20-TECHS/G17.html#G17-tests\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @returns {number} The relative brightness of the color in the range 0 - 1\n */\n\nexport function getLuminance(color) {\n  color = decomposeColor(color);\n  var rgb = color.type === 'hsl' ? decomposeColor(hslToRgb(color)).values : color.values;\n  rgb = rgb.map(function (val) {\n    val /= 255; // normalized\n\n    return val <= 0.03928 ? val / 12.92 : Math.pow((val + 0.055) / 1.055, 2.4);\n  }); // Truncate at 3 digits\n\n  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));\n}\n/**\n * Darken or lighten a color, depending on its luminance.\n * Light colors are darkened, dark colors are lightened.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient=0.15 - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function emphasize(color) {\n  var coefficient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.15;\n  return getLuminance(color) > 0.5 ? darken(color, coefficient) : lighten(color, coefficient);\n}\n/**\n * Set the absolute transparency of a color.\n * Any existing alpha values are overwritten.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} value - value to set the alpha channel to in the range 0 -1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function fade(color, value) {\n  color = decomposeColor(color);\n  value = clamp(value);\n\n  if (color.type === 'rgb' || color.type === 'hsl') {\n    color.type += 'a';\n  }\n\n  color.values[3] = value;\n  return recomposeColor(color);\n}\n/**\n * Darkens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function darken(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] *= 1 - coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] *= 1 - coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}\n/**\n * Lightens a color.\n *\n * @param {string} color - CSS color, i.e. one of: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()\n * @param {number} coefficient - multiplier in the range 0 - 1\n * @returns {string} A CSS color string. Hex input values are returned as rgb\n */\n\nexport function lighten(color, coefficient) {\n  color = decomposeColor(color);\n  coefficient = clamp(coefficient);\n\n  if (color.type.indexOf('hsl') !== -1) {\n    color.values[2] += (100 - color.values[2]) * coefficient;\n  } else if (color.type.indexOf('rgb') !== -1) {\n    for (var i = 0; i < 3; i += 1) {\n      color.values[i] += (255 - color.values[i]) * coefficient;\n    }\n  }\n\n  return recomposeColor(color);\n}","import React from 'react';\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @param {function} fn\n */\n\nexport default function useEventCallback(fn) {\n  var ref = React.useRef(fn);\n  useEnhancedEffect(function () {\n    ref.current = fn;\n  });\n  return React.useCallback(function (event) {\n    return (0, ref.current)(event);\n  }, []);\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A lightweight readable stream implemention that handles event dispatching.\n * Objects that inherit from streams should call init in their constructors.\n */\n'use strict';\n\nvar Stream = function Stream() {\n  this.init = function () {\n    var listeners = {};\n    /**\n     * Add a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n    this.on = function (type, listener) {\n      if (!listeners[type]) {\n        listeners[type] = [];\n      }\n\n      listeners[type] = listeners[type].concat(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} a function previously registered for this\n     * type of event through `on`\n     */\n\n\n    this.off = function (type, listener) {\n      var index;\n\n      if (!listeners[type]) {\n        return false;\n      }\n\n      index = listeners[type].indexOf(listener);\n      listeners[type] = listeners[type].slice();\n      listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     * @param type {string} the event name\n     */\n\n\n    this.trigger = function (type) {\n      var callbacks, i, length, args;\n      callbacks = listeners[type];\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = [];\n        i = arguments.length;\n\n        for (i = 1; i < arguments.length; ++i) {\n          args.push(arguments[i]);\n        }\n\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    this.dispose = function () {\n      listeners = {};\n    };\n  };\n};\n/**\n * Forwards all `data` events on this stream to the destination stream. The\n * destination stream should provide a method `push` to receive the data\n * events as they arrive.\n * @param destination {stream} the stream that will receive all `data` events\n * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n *                            when the current stream emits a 'done' event\n * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n */\n\n\nStream.prototype.pipe = function (destination) {\n  this.on('data', function (data) {\n    destination.push(data);\n  });\n  this.on('done', function (flushSource) {\n    destination.flush(flushSource);\n  });\n  return destination;\n}; // Default stream functions that are expected to be overridden to perform\n// actual work. These are provided by the prototype as a sort of no-op\n// implementation so that we don't have to check for their existence in the\n// `pipe` function above.\n\n\nStream.prototype.push = function (data) {\n  this.trigger('data', data);\n};\n\nStream.prototype.flush = function (flushSource) {\n  this.trigger('done', flushSource);\n};\n\nmodule.exports = Stream;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about MP4s.\n */\n'use strict';\n\nvar toUnsigned = require('../utils/bin').toUnsigned;\n\nvar _findBox, parseType, timescale, startTime, getVideoTrackIds; // Find the data for a box specified by its path\n\n\n_findBox = function findBox(data, path) {\n  var results = [],\n      i,\n      size,\n      type,\n      end,\n      subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size = toUnsigned(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n    type = parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = _findBox(data.subarray(i + 8, end), path.slice(1));\n\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n\n    i = end;\n  } // we've finished searching all of data\n\n\n  return results;\n};\n/**\n * Returns the string representation of an ASCII encoded four byte buffer.\n * @param buffer {Uint8Array} a four-byte buffer to translate\n * @return {string} the corresponding string\n */\n\n\nparseType = function parseType(buffer) {\n  var result = '';\n  result += String.fromCharCode(buffer[0]);\n  result += String.fromCharCode(buffer[1]);\n  result += String.fromCharCode(buffer[2]);\n  result += String.fromCharCode(buffer[3]);\n  return result;\n};\n/**\n * Parses an MP4 initialization segment and extracts the timescale\n * values for any declared tracks. Timescale values indicate the\n * number of clock ticks per second to assume for time-based values\n * elsewhere in the MP4.\n *\n * To determine the start time of an MP4, you need two pieces of\n * information: the timescale unit and the earliest base media decode\n * time. Multiple timescales can be specified within an MP4 but the\n * base media decode time is always expressed in the timescale from\n * the media header box for the track:\n * ```\n * moov > trak > mdia > mdhd.timescale\n * ```\n * @param init {Uint8Array} the bytes of the init segment\n * @return {object} a hash of track ids to timescale values or null if\n * the init segment is malformed.\n */\n\n\ntimescale = function timescale(init) {\n  var result = {},\n      traks = _findBox(init, ['moov', 'trak']); // mdhd timescale\n\n\n  return traks.reduce(function (result, trak) {\n    var tkhd, version, index, id, mdhd;\n    tkhd = _findBox(trak, ['tkhd'])[0];\n\n    if (!tkhd) {\n      return null;\n    }\n\n    version = tkhd[0];\n    index = version === 0 ? 12 : 20;\n    id = toUnsigned(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n    mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (!mdhd) {\n      return null;\n    }\n\n    version = mdhd[0];\n    index = version === 0 ? 12 : 20;\n    result[id] = toUnsigned(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n    return result;\n  }, result);\n};\n/**\n * Determine the base media decode start time, in seconds, for an MP4\n * fragment. If multiple fragments are specified, the earliest time is\n * returned.\n *\n * The base media decode time can be parsed from track fragment\n * metadata:\n * ```\n * moof > traf > tfdt.baseMediaDecodeTime\n * ```\n * It requires the timescale value from the mdhd to interpret.\n *\n * @param timescale {object} a hash of track ids to timescale values.\n * @return {number} the earliest base media decode start time for the\n * fragment, in seconds\n */\n\n\nstartTime = function startTime(timescale, fragment) {\n  var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n  trafs = _findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n  baseTimes = [].concat.apply([], trafs.map(function (traf) {\n    return _findBox(traf, ['tfhd']).map(function (tfhd) {\n      var id, scale, baseTime; // get the track id from the tfhd\n\n      id = toUnsigned(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n      scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n      baseTime = _findBox(traf, ['tfdt']).map(function (tfdt) {\n        var version, result;\n        version = tfdt[0];\n        result = toUnsigned(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n        if (version === 1) {\n          result *= Math.pow(2, 32);\n          result += toUnsigned(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n        }\n\n        return result;\n      })[0];\n      baseTime = baseTime || Infinity; // convert base time to seconds\n\n      return baseTime / scale;\n    });\n  })); // return the minimum\n\n  result = Math.min.apply(null, baseTimes);\n  return isFinite(result) ? result : 0;\n};\n/**\n  * Find the trackIds of the video tracks in this source.\n  * Found by parsing the Handler Reference and Track Header Boxes:\n  *   moov > trak > mdia > hdlr\n  *   moov > trak > tkhd\n  *\n  * @param {Uint8Array} init - The bytes of the init segment for this source\n  * @return {Number[]} A list of trackIds\n  *\n  * @see ISO-BMFF-12/2015, Section 8.4.3\n **/\n\n\ngetVideoTrackIds = function getVideoTrackIds(init) {\n  var traks = _findBox(init, ['moov', 'trak']);\n\n  var videoTrackIds = [];\n  traks.forEach(function (trak) {\n    var hdlrs = _findBox(trak, ['mdia', 'hdlr']);\n\n    var tkhds = _findBox(trak, ['tkhd']);\n\n    hdlrs.forEach(function (hdlr, index) {\n      var handlerType = parseType(hdlr.subarray(8, 12));\n      var tkhd = tkhds[index];\n      var view;\n      var version;\n      var trackId;\n\n      if (handlerType === 'vide') {\n        view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n        version = view.getUint8(0);\n        trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n        videoTrackIds.push(trackId);\n      }\n    });\n  });\n  return videoTrackIds;\n};\n\nmodule.exports = {\n  findBox: _findBox,\n  parseType: parseType,\n  timescale: timescale,\n  startTime: startTime,\n  videoTrackIds: getVideoTrackIds\n};","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n  return isNonNullObject(value) && !isSpecial(value);\n};\n\nfunction isNonNullObject(value) {\n  return !!value && typeof value === 'object';\n}\n\nfunction isSpecial(value) {\n  var stringValue = Object.prototype.toString.call(value);\n  return stringValue === '[object RegExp]' || stringValue === '[object Date]' || isReactElement(value);\n} // see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\n\n\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n  return value.$$typeof === REACT_ELEMENT_TYPE;\n}\n\nfunction emptyTarget(val) {\n  return Array.isArray(val) ? [] : {};\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;\n}\n\nfunction defaultArrayMerge(target, source, options) {\n  return target.concat(source).map(function (element) {\n    return cloneUnlessOtherwiseSpecified(element, options);\n  });\n}\n\nfunction getMergeFunction(key, options) {\n  if (!options.customMerge) {\n    return deepmerge;\n  }\n\n  var customMerge = options.customMerge(key);\n  return typeof customMerge === 'function' ? customMerge : deepmerge;\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n  return Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(target).filter(function (symbol) {\n    return target.propertyIsEnumerable(symbol);\n  }) : [];\n}\n\nfunction getKeys(target) {\n  return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target));\n}\n\nfunction mergeObject(target, source, options) {\n  var destination = {};\n\n  if (options.isMergeableObject(target)) {\n    getKeys(target).forEach(function (key) {\n      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n    });\n  }\n\n  getKeys(source).forEach(function (key) {\n    if (!options.isMergeableObject(source[key]) || !target[key]) {\n      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n    } else {\n      destination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n    }\n  });\n  return destination;\n}\n\nfunction deepmerge(target, source, options) {\n  options = options || {};\n  options.arrayMerge = options.arrayMerge || defaultArrayMerge;\n  options.isMergeableObject = options.isMergeableObject || isMergeableObject;\n  var sourceIsArray = Array.isArray(source);\n  var targetIsArray = Array.isArray(target);\n  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n  if (!sourceAndTargetTypesMatch) {\n    return cloneUnlessOtherwiseSpecified(source, options);\n  } else if (sourceIsArray) {\n    return options.arrayMerge(target, source, options);\n  } else {\n    return mergeObject(target, source, options);\n  }\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n  if (!Array.isArray(array)) {\n    throw new Error('first argument should be an array');\n  }\n\n  return array.reduce(function (prev, next) {\n    return deepmerge(prev, next, options);\n  }, {});\n};\n\nvar deepmerge_1 = deepmerge;\nmodule.exports = deepmerge_1;","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Popup.default;\n  }\n});\n\nvar _Popup = _interopRequireDefault(require(\"./Popup.react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nmodule.exports = {\n  H264_STREAM_TYPE: 0x1B,\n  ADTS_STREAM_TYPE: 0x0F,\n  METADATA_STREAM_TYPE: 0x15\n};","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // Sorted ASC by size. That's important.\n// It can't be configured as it's used statically for propTypes.\n\nexport var keys = ['xs', 'sm', 'md', 'lg', 'xl']; // Keep in mind that @media is inclusive by the CSS specification.\n\nexport default function createBreakpoints(breakpoints) {\n  var _breakpoints$values = breakpoints.values,\n      values = _breakpoints$values === void 0 ? {\n    xs: 0,\n    sm: 600,\n    md: 960,\n    lg: 1280,\n    xl: 1920\n  } : _breakpoints$values,\n      _breakpoints$unit = breakpoints.unit,\n      unit = _breakpoints$unit === void 0 ? 'px' : _breakpoints$unit,\n      _breakpoints$step = breakpoints.step,\n      step = _breakpoints$step === void 0 ? 5 : _breakpoints$step,\n      other = _objectWithoutProperties(breakpoints, [\"values\", \"unit\", \"step\"]);\n\n  function up(key) {\n    var value = typeof values[key] === 'number' ? values[key] : key;\n    return \"@media (min-width:\".concat(value).concat(unit, \")\");\n  }\n\n  function down(key) {\n    var endIndex = keys.indexOf(key) + 1;\n    var upperbound = values[keys[endIndex]];\n\n    if (endIndex === keys.length) {\n      // xl down applies to all sizes\n      return up('xs');\n    }\n\n    var value = typeof upperbound === 'number' && endIndex > 0 ? upperbound : key;\n    return \"@media (max-width:\".concat(value - step / 100).concat(unit, \")\");\n  }\n\n  function between(start, end) {\n    var endIndex = keys.indexOf(end) + 1;\n\n    if (endIndex === keys.length) {\n      return up(start);\n    }\n\n    return \"@media (min-width:\".concat(values[start]).concat(unit, \") and \") + \"(max-width:\".concat(values[keys[endIndex]] - step / 100).concat(unit, \")\");\n  }\n\n  function only(key) {\n    return between(key, key);\n  }\n\n  function width(key) {\n    return values[key];\n  }\n\n  return _extends({\n    keys: keys,\n    values: values,\n    up: up,\n    down: down,\n    between: between,\n    only: only,\n    width: width\n  }, other);\n}","// We need to centralize the zIndex definitions as they work\n// like global values in the browser.\nvar zIndex = {\n  mobileStepper: 1000,\n  appBar: 1100,\n  drawer: 1200,\n  modal: 1300,\n  snackbar: 1400,\n  tooltip: 1500\n};\nexport default zIndex;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nimport isObject from 'isobject';\n\nfunction isObjectObject(o) {\n  return isObject(o) === true && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nexport default function isPlainObject(o) {\n  var ctor, prot;\n  if (isObjectObject(o) === false) return false; // If has modified constructor\n\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false; // If has modified prototype\n\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false; // If constructor does not have an Object-specific method\n\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\nexport default function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n}\n;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // import warning from 'warning';\n\nexport default function createMixins(breakpoints, spacing, mixins) {\n  var _toolbar;\n\n  return _extends({\n    gutters: function gutters() {\n      var styles = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; // To deprecate in v4.1\n      //       warning(\n      //         false,\n      //         [\n      //           'Material-UI: theme.mixins.gutters() is deprecated.',\n      //           'You can use the source of the mixin directly:',\n      //           `\n      // paddingLeft: theme.spacing(2),\n      // paddingRight: theme.spacing(2),\n      // [theme.breakpoints.up('sm')]: {\n      //   paddingLeft: theme.spacing(3),\n      //   paddingRight: theme.spacing(3),\n      // },\n      // `,\n      //         ].join('\\n'),\n      //       );\n\n      return _extends({\n        paddingLeft: spacing(2),\n        paddingRight: spacing(2)\n      }, styles, _defineProperty({}, breakpoints.up('sm'), _extends({\n        paddingLeft: spacing(3),\n        paddingRight: spacing(3)\n      }, styles[breakpoints.up('sm')])));\n    },\n    toolbar: (_toolbar = {\n      minHeight: 56\n    }, _defineProperty(_toolbar, \"\".concat(breakpoints.up('xs'), \" and (orientation: landscape)\"), {\n      minHeight: 48\n    }), _defineProperty(_toolbar, breakpoints.up('sm'), {\n      minHeight: 64\n    }), _toolbar)\n  }, mixins);\n}","var indigo = {\n  50: '#e8eaf6',\n  100: '#c5cae9',\n  200: '#9fa8da',\n  300: '#7986cb',\n  400: '#5c6bc0',\n  500: '#3f51b5',\n  600: '#3949ab',\n  700: '#303f9f',\n  800: '#283593',\n  900: '#1a237e',\n  A100: '#8c9eff',\n  A200: '#536dfe',\n  A400: '#3d5afe',\n  A700: '#304ffe'\n};\nexport default indigo;","var pink = {\n  50: '#fce4ec',\n  100: '#f8bbd0',\n  200: '#f48fb1',\n  300: '#f06292',\n  400: '#ec407a',\n  500: '#e91e63',\n  600: '#d81b60',\n  700: '#c2185b',\n  800: '#ad1457',\n  900: '#880e4f',\n  A100: '#ff80ab',\n  A200: '#ff4081',\n  A400: '#f50057',\n  A700: '#c51162'\n};\nexport default pink;","var grey = {\n  50: '#fafafa',\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575',\n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n  A100: '#d5d5d5',\n  A200: '#aaaaaa',\n  A400: '#303030',\n  A700: '#616161'\n};\nexport default grey;","var common = {\n  black: '#000',\n  white: '#fff'\n};\nexport default common;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport warning from 'warning';\nimport deepmerge from 'deepmerge'; // < 1kb payload overhead when lodash/merge is > 3kb.\n\nimport indigo from '../colors/indigo';\nimport pink from '../colors/pink';\nimport grey from '../colors/grey';\nimport red from '../colors/red';\nimport common from '../colors/common';\nimport { getContrastRatio, darken, lighten } from './colorManipulator';\nexport var light = {\n  // The colors used to style the text.\n  text: {\n    // The most important text.\n    primary: 'rgba(0, 0, 0, 0.87)',\n    // Secondary text.\n    secondary: 'rgba(0, 0, 0, 0.54)',\n    // Disabled text have even lower visual prominence.\n    disabled: 'rgba(0, 0, 0, 0.38)',\n    // Text hints.\n    hint: 'rgba(0, 0, 0, 0.38)'\n  },\n  // The color used to divide different elements.\n  divider: 'rgba(0, 0, 0, 0.12)',\n  // The background colors used to style the surfaces.\n  // Consistency between these values is important.\n  background: {\n    paper: common.white,\n    default: grey[50]\n  },\n  // The colors used to style the action elements.\n  action: {\n    // The color of an active action like an icon button.\n    active: 'rgba(0, 0, 0, 0.54)',\n    // The color of an hovered action.\n    hover: 'rgba(0, 0, 0, 0.08)',\n    hoverOpacity: 0.08,\n    // The color of a selected action.\n    selected: 'rgba(0, 0, 0, 0.14)',\n    // The color of a disabled action.\n    disabled: 'rgba(0, 0, 0, 0.26)',\n    // The background color of a disabled action.\n    disabledBackground: 'rgba(0, 0, 0, 0.12)'\n  }\n};\nexport var dark = {\n  text: {\n    primary: common.white,\n    secondary: 'rgba(255, 255, 255, 0.7)',\n    disabled: 'rgba(255, 255, 255, 0.5)',\n    hint: 'rgba(255, 255, 255, 0.5)',\n    icon: 'rgba(255, 255, 255, 0.5)'\n  },\n  divider: 'rgba(255, 255, 255, 0.12)',\n  background: {\n    paper: grey[800],\n    default: '#303030'\n  },\n  action: {\n    active: common.white,\n    hover: 'rgba(255, 255, 255, 0.1)',\n    hoverOpacity: 0.1,\n    selected: 'rgba(255, 255, 255, 0.2)',\n    disabled: 'rgba(255, 255, 255, 0.3)',\n    disabledBackground: 'rgba(255, 255, 255, 0.12)'\n  }\n};\n\nfunction addLightOrDark(intent, direction, shade, tonalOffset) {\n  if (!intent[direction]) {\n    if (intent.hasOwnProperty(shade)) {\n      intent[direction] = intent[shade];\n    } else if (direction === 'light') {\n      intent.light = lighten(intent.main, tonalOffset);\n    } else if (direction === 'dark') {\n      intent.dark = darken(intent.main, tonalOffset * 1.5);\n    }\n  }\n}\n\nexport default function createPalette(palette) {\n  var _palette$primary = palette.primary,\n      primary = _palette$primary === void 0 ? {\n    light: indigo[300],\n    main: indigo[500],\n    dark: indigo[700]\n  } : _palette$primary,\n      _palette$secondary = palette.secondary,\n      secondary = _palette$secondary === void 0 ? {\n    light: pink.A200,\n    main: pink.A400,\n    dark: pink.A700\n  } : _palette$secondary,\n      _palette$error = palette.error,\n      error = _palette$error === void 0 ? {\n    light: red[300],\n    main: red[500],\n    dark: red[700]\n  } : _palette$error,\n      _palette$type = palette.type,\n      type = _palette$type === void 0 ? 'light' : _palette$type,\n      _palette$contrastThre = palette.contrastThreshold,\n      contrastThreshold = _palette$contrastThre === void 0 ? 3 : _palette$contrastThre,\n      _palette$tonalOffset = palette.tonalOffset,\n      tonalOffset = _palette$tonalOffset === void 0 ? 0.2 : _palette$tonalOffset,\n      other = _objectWithoutProperties(palette, [\"primary\", \"secondary\", \"error\", \"type\", \"contrastThreshold\", \"tonalOffset\"]); // Use the same logic as\n  // Bootstrap: https://github.com/twbs/bootstrap/blob/1d6e3710dd447de1a200f29e8fa521f8a0908f70/scss/_functions.scss#L59\n  // and material-components-web https://github.com/material-components/material-components-web/blob/ac46b8863c4dab9fc22c4c662dc6bd1b65dd652f/packages/mdc-theme/_functions.scss#L54\n\n\n  function getContrastText(background) {\n    process.env.NODE_ENV !== \"production\" ? warning(background, \"Material-UI: missing background argument in getContrastText(\".concat(background, \").\")) : void 0;\n    var contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;\n\n    if (process.env.NODE_ENV !== 'production') {\n      var contrast = getContrastRatio(background, contrastText);\n      process.env.NODE_ENV !== \"production\" ? warning(contrast >= 3, [\"Material-UI: the contrast ratio of \".concat(contrast, \":1 for \").concat(contrastText, \" on \").concat(background), 'falls below the WACG recommended absolute minimum contrast ratio of 3:1.', 'https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast'].join('\\n')) : void 0;\n    }\n\n    return contrastText;\n  }\n\n  function augmentColor(color) {\n    var mainShade = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n    var lightShade = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;\n    var darkShade = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 700;\n    color = _extends({}, color);\n\n    if (!color.main && color[mainShade]) {\n      color.main = color[mainShade];\n    }\n\n    if (process.env.NODE_ENV !== 'production' && !color.main) {\n      throw new Error(['Material-UI: the color provided to augmentColor(color) is invalid.', \"The color object needs to have a `main` property or a `\".concat(mainShade, \"` property.\")].join('\\n'));\n    }\n\n    addLightOrDark(color, 'light', lightShade, tonalOffset);\n    addLightOrDark(color, 'dark', darkShade, tonalOffset);\n\n    if (!color.contrastText) {\n      color.contrastText = getContrastText(color.main);\n    }\n\n    return color;\n  }\n\n  var types = {\n    dark: dark,\n    light: light\n  };\n  process.env.NODE_ENV !== \"production\" ? warning(types[type], \"Material-UI: the palette type `\".concat(type, \"` is not supported.\")) : void 0;\n  var paletteOutput = deepmerge(_extends({\n    // A collection of common colors.\n    common: common,\n    // The palette type, can be light or dark.\n    type: type,\n    // The colors used to represent primary interface elements for a user.\n    primary: augmentColor(primary),\n    // The colors used to represent secondary interface elements for a user.\n    secondary: augmentColor(secondary, 'A400', 'A200', 'A700'),\n    // The colors used to represent interface elements that the user should be made aware of.\n    error: augmentColor(error),\n    // The grey colors.\n    grey: grey,\n    // Used by `getContrastText()` to maximize the contrast between the background and\n    // the text.\n    contrastThreshold: contrastThreshold,\n    // Take a background color and return the color of the text to maximize the contrast.\n    getContrastText: getContrastText,\n    // Generate a rich color object.\n    augmentColor: augmentColor,\n    // Used by the functions below to shift a color's luminance by approximately\n    // two indexes within its tonal palette.\n    // E.g., shift from Red 500 to Red 300 or Red 700.\n    tonalOffset: tonalOffset\n  }, types[type]), other, {\n    clone: false // No need to clone deep\n\n  });\n  return paletteOutput;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport deepmerge from 'deepmerge'; // < 1kb payload overhead when lodash/merge is > 3kb.\n\nimport warning from 'warning';\n\nfunction round(value) {\n  return Math.round(value * 1e5) / 1e5;\n}\n\nvar caseAllCaps = {\n  textTransform: 'uppercase'\n};\nvar defaultFontFamily = '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';\n/**\n * @see @link{https://material.io/design/typography/the-type-system.html}\n * @see @link{https://material.io/design/typography/understanding-typography.html}\n */\n\nexport default function createTypography(palette, typography) {\n  var _ref = typeof typography === 'function' ? typography(palette) : typography,\n      _ref$fontFamily = _ref.fontFamily,\n      fontFamily = _ref$fontFamily === void 0 ? defaultFontFamily : _ref$fontFamily,\n      _ref$fontSize = _ref.fontSize,\n      fontSize = _ref$fontSize === void 0 ? 14 : _ref$fontSize,\n      _ref$fontWeightLight = _ref.fontWeightLight,\n      fontWeightLight = _ref$fontWeightLight === void 0 ? 300 : _ref$fontWeightLight,\n      _ref$fontWeightRegula = _ref.fontWeightRegular,\n      fontWeightRegular = _ref$fontWeightRegula === void 0 ? 400 : _ref$fontWeightRegula,\n      _ref$fontWeightMedium = _ref.fontWeightMedium,\n      fontWeightMedium = _ref$fontWeightMedium === void 0 ? 500 : _ref$fontWeightMedium,\n      _ref$fontWeightBold = _ref.fontWeightBold,\n      fontWeightBold = _ref$fontWeightBold === void 0 ? 700 : _ref$fontWeightBold,\n      _ref$htmlFontSize = _ref.htmlFontSize,\n      htmlFontSize = _ref$htmlFontSize === void 0 ? 16 : _ref$htmlFontSize,\n      allVariants = _ref.allVariants,\n      other = _objectWithoutProperties(_ref, [\"fontFamily\", \"fontSize\", \"fontWeightLight\", \"fontWeightRegular\", \"fontWeightMedium\", \"fontWeightBold\", \"htmlFontSize\", \"allVariants\"]);\n\n  process.env.NODE_ENV !== \"production\" ? warning(typeof fontSize === 'number', \"Material-UI: 'fontSize' is required to be a number.\") : void 0;\n  process.env.NODE_ENV !== \"production\" ? warning(typeof htmlFontSize === 'number', \"Material-UI: 'htmlFontSize' is required to be a number.\") : void 0;\n  var coef = fontSize / 14;\n\n  var pxToRem = function pxToRem(size) {\n    return \"\".concat(size / htmlFontSize * coef, \"rem\");\n  };\n\n  var buildVariant = function buildVariant(fontWeight, size, lineHeight, letterSpacing, casing) {\n    return _extends({\n      fontFamily: fontFamily,\n      fontWeight: fontWeight,\n      fontSize: pxToRem(size),\n      // Unitless following https://meyerweb.com/eric/thoughts/2006/02/08/unitless-line-heights/\n      lineHeight: lineHeight\n    }, fontFamily === defaultFontFamily ? {\n      letterSpacing: \"\".concat(round(letterSpacing / size), \"em\")\n    } : {}, {}, casing, {}, allVariants);\n  };\n\n  var variants = {\n    h1: buildVariant(fontWeightLight, 96, 1, -1.5),\n    h2: buildVariant(fontWeightLight, 60, 1, -0.5),\n    h3: buildVariant(fontWeightRegular, 48, 1.04, 0),\n    h4: buildVariant(fontWeightRegular, 34, 1.17, 0.25),\n    h5: buildVariant(fontWeightRegular, 24, 1.33, 0),\n    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),\n    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),\n    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),\n    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),\n    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),\n    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),\n    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),\n    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)\n  };\n  return deepmerge(_extends({\n    htmlFontSize: htmlFontSize,\n    pxToRem: pxToRem,\n    round: round,\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    fontWeightLight: fontWeightLight,\n    fontWeightRegular: fontWeightRegular,\n    fontWeightMedium: fontWeightMedium,\n    fontWeightBold: fontWeightBold\n  }, variants), other, {\n    clone: false // No need to clone deep\n\n  });\n}","var shadowKeyUmbraOpacity = 0.2;\nvar shadowKeyPenumbraOpacity = 0.14;\nvar shadowAmbientShadowOpacity = 0.12;\n\nfunction createShadow() {\n  return [\"\".concat(arguments.length <= 0 ? undefined : arguments[0], \"px \").concat(arguments.length <= 1 ? undefined : arguments[1], \"px \").concat(arguments.length <= 2 ? undefined : arguments[2], \"px \").concat(arguments.length <= 3 ? undefined : arguments[3], \"px rgba(0,0,0,\").concat(shadowKeyUmbraOpacity, \")\"), \"\".concat(arguments.length <= 4 ? undefined : arguments[4], \"px \").concat(arguments.length <= 5 ? undefined : arguments[5], \"px \").concat(arguments.length <= 6 ? undefined : arguments[6], \"px \").concat(arguments.length <= 7 ? undefined : arguments[7], \"px rgba(0,0,0,\").concat(shadowKeyPenumbraOpacity, \")\"), \"\".concat(arguments.length <= 8 ? undefined : arguments[8], \"px \").concat(arguments.length <= 9 ? undefined : arguments[9], \"px \").concat(arguments.length <= 10 ? undefined : arguments[10], \"px \").concat(arguments.length <= 11 ? undefined : arguments[11], \"px rgba(0,0,0,\").concat(shadowAmbientShadowOpacity, \")\")].join(',');\n}\n\nvar shadows = ['none', createShadow(0, 1, 3, 0, 0, 1, 1, 0, 0, 2, 1, -1), createShadow(0, 1, 5, 0, 0, 2, 2, 0, 0, 3, 1, -2), createShadow(0, 1, 8, 0, 0, 3, 4, 0, 0, 3, 3, -2), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];\nexport default shadows;","var shape = {\n  borderRadius: 4\n};\nexport default shape;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/* eslint-disable no-restricted-globals */\n\nimport warning from 'warning'; // Follow https://material.google.com/motion/duration-easing.html#duration-easing-natural-easing-curves\n// to learn the context in which each easing should be used.\n\nexport var easing = {\n  // This is the most common easing curve.\n  easeInOut: 'cubic-bezier(0.4, 0, 0.2, 1)',\n  // Objects enter the screen at full velocity from off-screen and\n  // slowly decelerate to a resting point.\n  easeOut: 'cubic-bezier(0.0, 0, 0.2, 1)',\n  // Objects leave the screen at full velocity. They do not decelerate when off-screen.\n  easeIn: 'cubic-bezier(0.4, 0, 1, 1)',\n  // The sharp curve is used by objects that may return to the screen at any time.\n  sharp: 'cubic-bezier(0.4, 0, 0.6, 1)'\n}; // Follow https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n// to learn when use what timing\n\nexport var duration = {\n  shortest: 150,\n  shorter: 200,\n  short: 250,\n  // most basic recommended timing\n  standard: 300,\n  // this is to be used in complex animations\n  complex: 375,\n  // recommended when something is entering screen\n  enteringScreen: 225,\n  // recommended when something is leaving screen\n  leavingScreen: 195\n};\nexport var formatMs = function formatMs(milliseconds) {\n  return \"\".concat(Math.round(milliseconds), \"ms\");\n};\nexport var isString = function isString(value) {\n  return typeof value === 'string';\n};\nexport var isNumber = function isNumber(value) {\n  return !isNaN(parseFloat(value));\n};\n/**\n * @param {string|Array} props\n * @param {object} param\n * @param {string} param.prop\n * @param {number} param.duration\n * @param {string} param.easing\n * @param {number} param.delay\n */\n\nexport default {\n  easing: easing,\n  duration: duration,\n  create: function create() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['all'];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$duration = options.duration,\n        durationOption = _options$duration === void 0 ? duration.standard : _options$duration,\n        _options$easing = options.easing,\n        easingOption = _options$easing === void 0 ? easing.easeInOut : _options$easing,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 0 : _options$delay,\n        other = _objectWithoutProperties(options, [\"duration\", \"easing\", \"delay\"]);\n\n    process.env.NODE_ENV !== \"production\" ? warning(isString(props) || Array.isArray(props), 'Material-UI: argument \"props\" must be a string or Array.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(isNumber(durationOption) || isString(durationOption), \"Material-UI: argument \\\"duration\\\" must be a number or a string but found \".concat(durationOption, \".\")) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(isString(easingOption), 'Material-UI: argument \"easing\" must be a string.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(isNumber(delay) || isString(delay), 'Material-UI: argument \"delay\" must be a number or a string.') : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(Object.keys(other).length === 0, \"Material-UI: unrecognized argument(s) [\".concat(Object.keys(other).join(','), \"]\")) : void 0;\n    return (Array.isArray(props) ? props : [props]).map(function (animatedProp) {\n      return \"\".concat(animatedProp, \" \").concat(typeof durationOption === 'string' ? durationOption : formatMs(durationOption), \" \").concat(easingOption, \" \").concat(typeof delay === 'string' ? delay : formatMs(delay));\n    }).join(',');\n  },\n  getAutoHeightDuration: function getAutoHeightDuration(height) {\n    if (!height) {\n      return 0;\n    }\n\n    var constant = height / 36; // https://www.wolframalpha.com/input/?i=(4+%2B+15+*+(x+%2F+36+)+**+0.25+%2B+(x+%2F+36)+%2F+5)+*+10\n\n    return Math.round((4 + 15 * Math.pow(constant, 0.25) + constant / 5) * 10);\n  }\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport deepmerge from 'deepmerge'; // < 1kb payload overhead when lodash/merge is > 3kb.\n\nimport isPlainObject from 'is-plain-object';\nimport warning from 'warning';\nimport createBreakpoints from './createBreakpoints';\nimport createMixins from './createMixins';\nimport createPalette from './createPalette';\nimport createTypography from './createTypography';\nimport shadows from './shadows';\nimport shape from './shape';\nimport createSpacing from './createSpacing';\nimport transitions from './transitions';\nimport zIndex from './zIndex';\n\nfunction createMuiTheme() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options$breakpoints = options.breakpoints,\n      breakpointsInput = _options$breakpoints === void 0 ? {} : _options$breakpoints,\n      _options$mixins = options.mixins,\n      mixinsInput = _options$mixins === void 0 ? {} : _options$mixins,\n      _options$palette = options.palette,\n      paletteInput = _options$palette === void 0 ? {} : _options$palette,\n      shadowsInput = options.shadows,\n      spacingInput = options.spacing,\n      _options$typography = options.typography,\n      typographyInput = _options$typography === void 0 ? {} : _options$typography,\n      other = _objectWithoutProperties(options, [\"breakpoints\", \"mixins\", \"palette\", \"shadows\", \"spacing\", \"typography\"]);\n\n  var palette = createPalette(paletteInput);\n  var breakpoints = createBreakpoints(breakpointsInput);\n  var spacing = createSpacing(spacingInput);\n\n  var muiTheme = _extends({\n    breakpoints: breakpoints,\n    direction: 'ltr',\n    mixins: createMixins(breakpoints, spacing, mixinsInput),\n    overrides: {},\n    // Inject custom styles\n    palette: palette,\n    props: {},\n    // Inject custom props\n    shadows: shadowsInput || shadows,\n    typography: createTypography(palette, typographyInput),\n    spacing: spacing\n  }, deepmerge({\n    shape: shape,\n    transitions: transitions,\n    zIndex: zIndex\n  }, other, {\n    isMergeableObject: isPlainObject\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    var pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected'];\n\n    var traverse = function traverse(node, parentKey) {\n      var depth = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      var key; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n      for (key in node) {\n        var child = node[key];\n\n        if (depth === 1) {\n          if (key.indexOf('Mui') === 0 && child) {\n            traverse(child, key, depth + 1);\n          }\n        } else if (pseudoClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {\n          process.env.NODE_ENV !== \"production\" ? warning(false, [\"Material-UI: the `\".concat(parentKey, \"` component increases \") + \"the CSS specificity of the `\".concat(key, \"` internal state.\"), 'You can not override it like this: ', JSON.stringify(node, null, 2), '', 'Instead, you need to use the $ruleName syntax:', JSON.stringify({\n            root: _defineProperty({}, \"&$\".concat(key), child)\n          }, null, 2), '', 'https://material-ui.com/r/pseudo-classes-guide'].join('\\n')) : void 0; // Remove the style to prevent global conflicts.\n\n          node[key] = {};\n        }\n      }\n    };\n\n    traverse(muiTheme.overrides);\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(muiTheme.shadows.length === 25, 'Material-UI: the shadows array provided to createMuiTheme should support 25 elevations.') : void 0;\n  return muiTheme;\n}\n\nexport default createMuiTheme;","import createMuiTheme from './createMuiTheme';\nvar defaultTheme = createMuiTheme();\nexport default defaultTheme;","import warning from 'warning';\nvar warnOnce;\nexport default function createSpacing() {\n  var spacingInput = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 8; // Already transformed.\n\n  if (spacingInput.mui) {\n    return spacingInput;\n  } // All components align to an 8dp square baseline grid for mobile, tablet, and desktop.\n  // https://material.io/design/layout/understanding-layout.html#pixel-density\n\n\n  var transform;\n\n  if (typeof spacingInput === 'function') {\n    transform = spacingInput;\n  } else {\n    process.env.NODE_ENV !== \"production\" ? warning(typeof spacingInput === 'number', [\"Material-UI: the `theme.spacing` value (\".concat(spacingInput, \") is invalid.\"), 'It should be a number or a function.'].join('\\n')) : void 0;\n\n    transform = function transform(factor) {\n      process.env.NODE_ENV !== \"production\" ? warning(typeof factor === 'number', \"Expected spacing argument to be a number, got \".concat(factor)) : void 0;\n      return spacingInput * factor;\n    };\n  }\n\n  var spacing = function spacing() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(args.length <= 4, \"Material-UI: Too many arguments provided, expected between 0 and 4, got \".concat(args.length)) : void 0;\n\n    if (args.length === 0) {\n      return transform(1);\n    }\n\n    if (args.length === 1) {\n      return transform(args[0]);\n    }\n\n    return args.map(function (factor) {\n      var output = transform(factor);\n      return typeof output === 'number' ? \"\".concat(output, \"px\") : output;\n    }).join(' ');\n  }; // Backward compatibility, to remove in v5.\n\n\n  Object.defineProperty(spacing, 'unit', {\n    get: function get() {\n      if (process.env.NODE_ENV !== 'production') {\n        process.env.NODE_ENV !== \"production\" ? warning(warnOnce && process.env.NODE_ENV !== 'test', ['Material-UI: theme.spacing.unit usage has been deprecated.', 'It will be removed in v5.', 'You can replace `theme.spacing.unit * y` with `theme.spacing(y)`.', '', 'You can use the `https://github.com/mui-org/material-ui/tree/master/packages/material-ui-codemod/README.md#theme-spacing-api` migration helper to make the process smoother.'].join('\\n')) : void 0;\n        warnOnce = true;\n      }\n\n      return spacingInput;\n    }\n  });\n  spacing.mui = true;\n  return spacing;\n}","function clean(s) {\n  return s.replace(/\\n\\r?\\s*/g, '');\n}\n\nmodule.exports = function tsml(sa) {\n  var s = '',\n      i = 0;\n\n  for (; i < arguments.length; i++) {\n    s += clean(sa[i]) + (arguments[i + 1] || '');\n  }\n\n  return s;\n};","/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */\nimport window$1 from 'global/window';\nvar version = \"0.8.1\";\n\nvar isObject = function isObject(obj) {\n  return !!obj && typeof obj === 'object';\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n    objects[_key] = arguments[_key];\n  }\n\n  return objects.reduce(function (result, source) {\n    Object.keys(source).forEach(function (key) {\n      if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n        result[key] = result[key].concat(source[key]);\n      } else if (isObject(result[key]) && isObject(source[key])) {\n        result[key] = merge(result[key], source[key]);\n      } else {\n        result[key] = source[key];\n      }\n    });\n    return result;\n  }, {});\n};\n\nvar values = function values(o) {\n  return Object.keys(o).map(function (k) {\n    return o[k];\n  });\n};\n\nvar range = function range(start, end) {\n  var result = [];\n\n  for (var i = start; i < end; i++) {\n    result.push(i);\n  }\n\n  return result;\n};\n\nvar flatten = function flatten(lists) {\n  return lists.reduce(function (x, y) {\n    return x.concat(y);\n  }, []);\n};\n\nvar from = function from(list) {\n  if (!list.length) {\n    return [];\n  }\n\n  var result = [];\n\n  for (var i = 0; i < list.length; i++) {\n    result.push(list[i]);\n  }\n\n  return result;\n};\n\nvar findIndexes = function findIndexes(l, key) {\n  return l.reduce(function (a, e, i) {\n    if (e[key]) {\n      a.push(i);\n    }\n\n    return a;\n  }, []);\n};\n\nvar errors = {\n  INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n  DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n  DASH_INVALID_XML: 'DASH_INVALID_XML',\n  NO_BASE_URL: 'NO_BASE_URL',\n  MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n  SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n  UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n};\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar urlToolkit = createCommonjsModule(function (module, exports) {\n  // see https://tools.ietf.org/html/rfc1808\n\n  /* jshint ignore:start */\n  (function (root) {\n    /* jshint ignore:end */\n    var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n    var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n    var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n    var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n    var URLToolkit = {\n      // jshint ignore:line\n      // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n      // E.g\n      // With opts.alwaysNormalize = false (default, spec compliant)\n      // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n      // With opts.alwaysNormalize = true (not spec compliant)\n      // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n      buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n        opts = opts || {}; // remove any remaining space and CRLF\n\n        baseURL = baseURL.trim();\n        relativeURL = relativeURL.trim();\n\n        if (!relativeURL) {\n          // 2a) If the embedded URL is entirely empty, it inherits the\n          // entire base URL (i.e., is set equal to the base URL)\n          // and we are done.\n          if (!opts.alwaysNormalize) {\n            return baseURL;\n          }\n\n          var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n          if (!basePartsForNormalise) {\n            throw new Error('Error trying to parse base URL.');\n          }\n\n          basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n          return URLToolkit.buildURLFromParts(basePartsForNormalise);\n        }\n\n        var relativeParts = URLToolkit.parseURL(relativeURL);\n\n        if (!relativeParts) {\n          throw new Error('Error trying to parse relative URL.');\n        }\n\n        if (relativeParts.scheme) {\n          // 2b) If the embedded URL starts with a scheme name, it is\n          // interpreted as an absolute URL and we are done.\n          if (!opts.alwaysNormalize) {\n            return relativeURL;\n          }\n\n          relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n          return URLToolkit.buildURLFromParts(relativeParts);\n        }\n\n        var baseParts = URLToolkit.parseURL(baseURL);\n\n        if (!baseParts) {\n          throw new Error('Error trying to parse base URL.');\n        }\n\n        if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n          // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n          // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n          var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n          baseParts.netLoc = pathParts[1];\n          baseParts.path = pathParts[2];\n        }\n\n        if (baseParts.netLoc && !baseParts.path) {\n          baseParts.path = '/';\n        }\n\n        var builtParts = {\n          // 2c) Otherwise, the embedded URL inherits the scheme of\n          // the base URL.\n          scheme: baseParts.scheme,\n          netLoc: relativeParts.netLoc,\n          path: null,\n          params: relativeParts.params,\n          query: relativeParts.query,\n          fragment: relativeParts.fragment\n        };\n\n        if (!relativeParts.netLoc) {\n          // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n          // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n          // (if any) of the base URL.\n          builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n          // path is not relative and we skip to Step 7.\n\n          if (relativeParts.path[0] !== '/') {\n            if (!relativeParts.path) {\n              // 5) If the embedded URL path is empty (and not preceded by a\n              // slash), then the embedded URL inherits the base URL path\n              builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <params> of the base\n              // URL (if any) and\n\n              if (!relativeParts.params) {\n                builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n                // step 7; otherwise, it inherits the <query> of the base\n                // URL (if any) and we skip to step 7.\n\n                if (!relativeParts.query) {\n                  builtParts.query = baseParts.query;\n                }\n              }\n            } else {\n              // 6) The last segment of the base URL's path (anything\n              // following the rightmost slash \"/\", or the entire path if no\n              // slash is present) is removed and the embedded URL's path is\n              // appended in its place.\n              var baseURLPath = baseParts.path;\n              var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n              builtParts.path = URLToolkit.normalizePath(newPath);\n            }\n          }\n        }\n\n        if (builtParts.path === null) {\n          builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n        }\n\n        return URLToolkit.buildURLFromParts(builtParts);\n      },\n      parseURL: function parseURL(url) {\n        var parts = URL_REGEX.exec(url);\n\n        if (!parts) {\n          return null;\n        }\n\n        return {\n          scheme: parts[1] || '',\n          netLoc: parts[2] || '',\n          path: parts[3] || '',\n          params: parts[4] || '',\n          query: parts[5] || '',\n          fragment: parts[6] || ''\n        };\n      },\n      normalizePath: function normalizePath(path) {\n        // The following operations are\n        // then applied, in order, to the new path:\n        // 6a) All occurrences of \"./\", where \".\" is a complete path\n        // segment, are removed.\n        // 6b) If the path ends with \".\" as a complete path segment,\n        // that \".\" is removed.\n        path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n        // complete path segment not equal to \"..\", are removed.\n        // Removal of these path segments is performed iteratively,\n        // removing the leftmost matching pattern on each iteration,\n        // until no matching pattern remains.\n        // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n        // complete path segment not equal to \"..\", that\n        // \"<segment>/..\" is removed.\n\n        while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n        return path.split('').reverse().join('');\n      },\n      buildURLFromParts: function buildURLFromParts(parts) {\n        return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n      }\n    };\n    /* jshint ignore:start */\n\n    module.exports = URLToolkit;\n  })(commonjsGlobal);\n  /* jshint ignore:end */\n\n});\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = urlToolkit.buildAbsoluteURL(window$1.location.href, baseUrl);\n  }\n\n  return urlToolkit.buildAbsoluteURL(baseUrl, relativeUrl);\n};\n/**\n * @typedef {Object} SingleUri\n * @property {string} uri - relative location of segment\n * @property {string} resolvedUri - resolved location of segment\n * @property {Object} byterange - Object containing information on how to make byte range\n *   requests following byte-range-spec per RFC2616.\n * @property {String} byterange.length - length of range request\n * @property {String} byterange.offset - byte offset of range request\n *\n * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n */\n\n/**\n * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n * that conforms to how m3u8-parser is structured\n *\n * @see https://github.com/videojs/m3u8-parser\n *\n * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n * @param {string} source - source url for segment\n * @param {string} range - optional range used for range calls,\n *   follows  RFC 2616, Clause 14.35.1\n * @return {SingleUri} full segment information transformed into a format similar\n *   to m3u8-parser\n */\n\n\nvar urlTypeToSegment = function urlTypeToSegment(_ref) {\n  var _ref$baseUrl = _ref.baseUrl,\n      baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n      _ref$source = _ref.source,\n      source = _ref$source === void 0 ? '' : _ref$source,\n      _ref$range = _ref.range,\n      range = _ref$range === void 0 ? '' : _ref$range,\n      _ref$indexRange = _ref.indexRange,\n      indexRange = _ref$indexRange === void 0 ? '' : _ref$indexRange;\n  var segment = {\n    uri: source,\n    resolvedUri: resolveUrl(baseUrl || '', source)\n  };\n\n  if (range || indexRange) {\n    var rangeStr = range ? range : indexRange;\n    var ranges = rangeStr.split('-');\n    var startRange = parseInt(ranges[0], 10);\n    var endRange = parseInt(ranges[1], 10); // byterange should be inclusive according to\n    // RFC 2616, Clause 14.35.1\n\n    segment.byterange = {\n      length: endRange - startRange + 1,\n      offset: startRange\n    };\n  }\n\n  return segment;\n};\n\nvar byteRangeToString = function byteRangeToString(byterange) {\n  // `endRange` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n  var endRange = byterange.offset + byterange.length - 1;\n  return byterange.offset + \"-\" + endRange;\n};\n/**\n * Functions for calculating the range of available segments in static and dynamic\n * manifests.\n */\n\n\nvar segmentRange = {\n  /**\n   * Returns the entire range of available segments for a static MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  static: function _static(attributes) {\n    var duration = attributes.duration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        sourceDuration = attributes.sourceDuration;\n    return {\n      start: 0,\n      end: Math.ceil(sourceDuration / (duration / timescale))\n    };\n  },\n\n  /**\n   * Returns the current live window range of available segments for a dynamic MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  dynamic: function dynamic(attributes) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        duration = attributes.duration,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n        _attributes$timeShift = attributes.timeShiftBufferDepth,\n        timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    var segmentCount = Math.ceil(periodDuration * timescale / duration);\n    var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n    var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n    return {\n      start: Math.max(0, availableStart),\n      end: Math.min(segmentCount, availableEnd)\n    };\n  }\n};\n/**\n * Maps a range of numbers to objects with information needed to build the corresponding\n * segment list\n *\n * @name toSegmentsCallback\n * @function\n * @param {number} number\n *        Number of the segment\n * @param {number} index\n *        Index of the number in the range list\n * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n *         Object with segment timing and duration info\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping a range of numbers to\n * information needed to build the segment list.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {toSegmentsCallback}\n *         Callback map function\n */\n\nvar toSegments = function toSegments(attributes) {\n  return function (number, index) {\n    var duration = attributes.duration,\n        _attributes$timescale3 = attributes.timescale,\n        timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n        periodIndex = attributes.periodIndex,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n    return {\n      number: startNumber + number,\n      duration: duration / timescale,\n      timeline: periodIndex,\n      time: index * duration\n    };\n  };\n};\n/**\n * Returns a list of objects containing segment timing and duration info used for\n * building the list of segments. This uses the @duration attribute specified\n * in the MPD manifest to derive the range of segments.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByDuration = function parseByDuration(attributes) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      duration = attributes.duration,\n      _attributes$timescale4 = attributes.timescale,\n      timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n      sourceDuration = attributes.sourceDuration;\n\n  var _segmentRange$type = segmentRange[type](attributes),\n      start = _segmentRange$type.start,\n      end = _segmentRange$type.end;\n\n  var segments = range(start, end).map(toSegments(attributes));\n\n  if (type === 'static') {\n    var index = segments.length - 1; // final segment may be less than full segment duration\n\n    segments[index].duration = sourceDuration - duration / timescale * index;\n  }\n\n  return segments;\n};\n/**\n * Translates SegmentBase into a set of segments.\n * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromBase = function segmentsFromBase(attributes) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$indexRang = attributes.indexRange,\n      indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n      duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n  if (!baseUrl) {\n    throw new Error(errors.NO_BASE_URL);\n  }\n\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: baseUrl,\n    indexRange: indexRange\n  });\n  segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n  // (since SegmentBase is only for one total segment)\n\n  if (duration) {\n    var segmentTimeInfo = parseByDuration(attributes);\n\n    if (segmentTimeInfo.length) {\n      segment.duration = segmentTimeInfo[0].duration;\n      segment.timeline = segmentTimeInfo[0].timeline;\n    }\n  } else if (sourceDuration) {\n    segment.duration = sourceDuration / timescale;\n    segment.timeline = 0;\n  } // This is used for mediaSequence\n\n\n  segment.number = 0;\n  return [segment];\n};\n/**\n * Given a playlist, a sidx box, and a baseUrl, update the segment list of the playlist\n * according to the sidx information given.\n *\n * playlist.sidx has metadadata about the sidx where-as the sidx param\n * is the parsed sidx box itself.\n *\n * @param {Object} playlist the playlist to update the sidx information for\n * @param {Object} sidx the parsed sidx box\n * @return {Object} the playlist object with the updated sidx information\n */\n\n\nvar addSegmentsToPlaylist = function addSegmentsToPlaylist(playlist, sidx, baseUrl) {\n  // Retain init segment information\n  var initSegment = playlist.sidx.map ? playlist.sidx.map : null; // Retain source duration from initial master manifest parsing\n\n  var sourceDuration = playlist.sidx.duration; // Retain source timeline\n\n  var timeline = playlist.timeline || 0;\n  var sidxByteRange = playlist.sidx.byterange;\n  var sidxEnd = sidxByteRange.offset + sidxByteRange.length; // Retain timescale of the parsed sidx\n\n  var timescale = sidx.timescale; // referenceType 1 refers to other sidx boxes\n\n  var mediaReferences = sidx.references.filter(function (r) {\n    return r.referenceType !== 1;\n  });\n  var segments = []; // firstOffset is the offset from the end of the sidx box\n\n  var startIndex = sidxEnd + sidx.firstOffset;\n\n  for (var i = 0; i < mediaReferences.length; i++) {\n    var reference = sidx.references[i]; // size of the referenced (sub)segment\n\n    var size = reference.referencedSize; // duration of the referenced (sub)segment, in  the  timescale\n    // this will be converted to seconds when generating segments\n\n    var duration = reference.subsegmentDuration; // should be an inclusive range\n\n    var endIndex = startIndex + size - 1;\n    var indexRange = startIndex + \"-\" + endIndex;\n    var attributes = {\n      baseUrl: baseUrl,\n      timescale: timescale,\n      timeline: timeline,\n      // this is used in parseByDuration\n      periodIndex: timeline,\n      duration: duration,\n      sourceDuration: sourceDuration,\n      indexRange: indexRange\n    };\n    var segment = segmentsFromBase(attributes)[0];\n\n    if (initSegment) {\n      segment.map = initSegment;\n    }\n\n    segments.push(segment);\n    startIndex += size;\n  }\n\n  playlist.segments = segments;\n  return playlist;\n};\n\nvar mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n  var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n    // assuming playlist IDs are the same across periods\n    // TODO: handle multiperiod where representation sets are not the same\n    // across periods\n    var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n    if (acc[name]) {\n      var _acc$name$segments; // first segment of subsequent periods signal a discontinuity\n\n\n      if (playlist.segments[0]) {\n        playlist.segments[0].discontinuity = true;\n      }\n\n      (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n      // has the same contentProtection\n\n\n      if (playlist.attributes.contentProtection) {\n        acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n      }\n    } else {\n      // first Period\n      acc[name] = playlist;\n    }\n\n    return acc;\n  }, {}));\n  return mergedPlaylists.map(function (playlist) {\n    playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n    return playlist;\n  });\n};\n\nvar addSegmentInfoFromSidx = function addSegmentInfoFromSidx(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!Object.keys(sidxMapping).length) {\n    return playlists;\n  }\n\n  for (var i in playlists) {\n    var playlist = playlists[i];\n\n    if (!playlist.sidx) {\n      continue;\n    }\n\n    var sidxKey = playlist.sidx.uri + '-' + byteRangeToString(playlist.sidx.byterange);\n    var sidxMatch = sidxMapping[sidxKey] && sidxMapping[sidxKey].sidx;\n\n    if (playlist.sidx && sidxMatch) {\n      addSegmentsToPlaylist(playlist, sidxMatch, playlist.sidx.resolvedUri);\n    }\n  }\n\n  return playlists;\n};\n\nvar formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n  var _attributes;\n\n  var attributes = _ref.attributes,\n      segments = _ref.segments,\n      sidx = _ref.sidx;\n  var playlist = {\n    attributes: (_attributes = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth,\n      CODECS: attributes.codecs\n    }, _attributes['PROGRAM-ID'] = 1, _attributes),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar formatVttPlaylist = function formatVttPlaylist(_ref2) {\n  var _attributes2;\n\n  var attributes = _ref2.attributes,\n      segments = _ref2.segments;\n\n  if (typeof segments === 'undefined') {\n    // vtt tracks may use single file in BaseURL\n    segments = [{\n      uri: attributes.baseUrl,\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      duration: attributes.sourceDuration,\n      number: 0\n    }]; // targetDuration should be the same duration as the only segment\n\n    attributes.duration = attributes.sourceDuration;\n  }\n\n  return {\n    attributes: (_attributes2 = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: attributes.baseUrl || '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n};\n\nvar organizeAudioPlaylists = function organizeAudioPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  var mainPlaylist;\n  var formattedPlaylists = playlists.reduce(function (a, playlist) {\n    var role = playlist.attributes.role && playlist.attributes.role.value || '';\n    var language = playlist.attributes.lang || '';\n    var label = 'main';\n\n    if (language) {\n      var roleLabel = role ? \" (\" + role + \")\" : '';\n      label = \"\" + playlist.attributes.lang + roleLabel;\n    } // skip if we already have the highest quality audio for a language\n\n\n    if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n      return a;\n    }\n\n    a[label] = {\n      language: language,\n      autoselect: true,\n      default: role === 'main',\n      playlists: addSegmentInfoFromSidx([formatAudioPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n\n    if (typeof mainPlaylist === 'undefined' && role === 'main') {\n      mainPlaylist = playlist;\n      mainPlaylist.default = true;\n    }\n\n    return a;\n  }, {}); // if no playlists have role \"main\", mark the first as main\n\n  if (!mainPlaylist) {\n    var firstLabel = Object.keys(formattedPlaylists)[0];\n    formattedPlaylists[firstLabel].default = true;\n  }\n\n  return formattedPlaylists;\n};\n\nvar organizeVttPlaylists = function organizeVttPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  return playlists.reduce(function (a, playlist) {\n    var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n    if (a[label]) {\n      return a;\n    }\n\n    a[label] = {\n      language: label,\n      default: false,\n      autoselect: false,\n      playlists: addSegmentInfoFromSidx([formatVttPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n    return a;\n  }, {});\n};\n\nvar formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n  var _attributes3;\n\n  var attributes = _ref3.attributes,\n      segments = _ref3.segments,\n      sidx = _ref3.sidx;\n  var playlist = {\n    attributes: (_attributes3 = {\n      NAME: attributes.id,\n      AUDIO: 'audio',\n      SUBTITLES: 'subs',\n      RESOLUTION: {\n        width: attributes.width,\n        height: attributes.height\n      },\n      CODECS: attributes.codecs,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes3['PROGRAM-ID'] = 1, _attributes3),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar toM3u8 = function toM3u8(dashPlaylists, sidxMapping) {\n  var _mediaGroups;\n\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!dashPlaylists.length) {\n    return {};\n  } // grab all master attributes\n\n\n  var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n      duration = _dashPlaylists$0$attr.sourceDuration,\n      _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.minimumUpdatePeriod,\n      minimumUpdatePeriod = _dashPlaylists$0$attr2 === void 0 ? 0 : _dashPlaylists$0$attr2;\n\n  var videoOnly = function videoOnly(_ref4) {\n    var attributes = _ref4.attributes;\n    return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n  };\n\n  var audioOnly = function audioOnly(_ref5) {\n    var attributes = _ref5.attributes;\n    return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n  };\n\n  var vttOnly = function vttOnly(_ref6) {\n    var attributes = _ref6.attributes;\n    return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n  };\n\n  var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n  var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n  var vttPlaylists = dashPlaylists.filter(vttOnly);\n  var master = {\n    allowCache: true,\n    discontinuityStarts: [],\n    segments: [],\n    endList: true,\n    mediaGroups: (_mediaGroups = {\n      AUDIO: {},\n      VIDEO: {}\n    }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n    uri: '',\n    duration: duration,\n    playlists: addSegmentInfoFromSidx(videoPlaylists, sidxMapping),\n    minimumUpdatePeriod: minimumUpdatePeriod * 1000\n  };\n\n  if (audioPlaylists.length) {\n    master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists, sidxMapping);\n  }\n\n  if (vttPlaylists.length) {\n    master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists, sidxMapping);\n  }\n\n  return master;\n};\n/**\n * Calculates the R (repetition) value for a live stream (for the final segment\n * in a manifest where the r value is negative 1)\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {number} time\n *        current time (typically the total time up until the final segment)\n * @param {number} duration\n *        duration property for the given <S />\n *\n * @return {number}\n *        R value to reach the end of the given period\n */\n\n\nvar getLiveRValue = function getLiveRValue(attributes, time, duration) {\n  var NOW = attributes.NOW,\n      clientOffset = attributes.clientOffset,\n      availabilityStartTime = attributes.availabilityStartTime,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$start = attributes.start,\n      start = _attributes$start === void 0 ? 0 : _attributes$start,\n      _attributes$minimumUp = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n  var now = (NOW + clientOffset) / 1000;\n  var periodStartWC = availabilityStartTime + start;\n  var periodEndWC = now + minimumUpdatePeriod;\n  var periodDuration = periodEndWC - periodStartWC;\n  return Math.ceil((periodDuration * timescale - time) / duration);\n};\n/**\n * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n * timing and duration\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n      _attributes$media = attributes.media,\n      media = _attributes$media === void 0 ? '' : _attributes$media,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale2 = attributes.timescale,\n      timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n      _attributes$startNumb = attributes.startNumber,\n      startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n      timeline = attributes.periodIndex;\n  var segments = [];\n  var time = -1;\n\n  for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n    var S = segmentTimeline[sIndex];\n    var duration = S.d;\n    var repeat = S.r || 0;\n    var segmentTime = S.t || 0;\n\n    if (time < 0) {\n      // first segment\n      time = segmentTime;\n    }\n\n    if (segmentTime && segmentTime > time) {\n      // discontinuity\n      // TODO: How to handle this type of discontinuity\n      // timeline++ here would treat it like HLS discontuity and content would\n      // get appended without gap\n      // E.G.\n      //  <S t=\"0\" d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S t=\"5\" d=\"1\" />\n      // would have $Time$ values of [0, 1, 2, 5]\n      // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n      // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n      // does the value of sourceDuration consider this when calculating arbitrary\n      // negative @r repeat value?\n      // E.G. Same elements as above with this added at the end\n      //  <S d=\"1\" r=\"-1\" />\n      //  with a sourceDuration of 10\n      // Would the 2 gaps be included in the time duration calculations resulting in\n      // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n      // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n      time = segmentTime;\n    }\n\n    var count = void 0;\n\n    if (repeat < 0) {\n      var nextS = sIndex + 1;\n\n      if (nextS === segmentTimeline.length) {\n        // last segment\n        if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n          count = getLiveRValue(attributes, time, duration);\n        } else {\n          // TODO: This may be incorrect depending on conclusion of TODO above\n          count = (sourceDuration * timescale - time) / duration;\n        }\n      } else {\n        count = (segmentTimeline[nextS].t - time) / duration;\n      }\n    } else {\n      count = repeat + 1;\n    }\n\n    var end = startNumber + segments.length + count;\n    var number = startNumber + segments.length;\n\n    while (number < end) {\n      segments.push({\n        number: number,\n        duration: duration / timescale,\n        time: time,\n        timeline: timeline\n      });\n      time += duration;\n      number++;\n    }\n  }\n\n  return segments;\n};\n\nvar identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n/**\n * Replaces template identifiers with corresponding values. To be used as the callback\n * for String.prototype.replace\n *\n * @name replaceCallback\n * @function\n * @param {string} match\n *        Entire match of identifier\n * @param {string} identifier\n *        Name of matched identifier\n * @param {string} format\n *        Format tag string. Its presence indicates that padding is expected\n * @param {string} width\n *        Desired length of the replaced value. Values less than this width shall be left\n *        zero padded\n * @return {string}\n *         Replacement for the matched identifier\n */\n\n/**\n * Returns a function to be used as a callback for String.prototype.replace to replace\n * template identifiers\n *\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {replaceCallback}\n *         Callback to be used with String.prototype.replace to replace identifiers\n */\n\nvar identifierReplacement = function identifierReplacement(values) {\n  return function (match, identifier, format, width) {\n    if (match === '$$') {\n      // escape sequence\n      return '$';\n    }\n\n    if (typeof values[identifier] === 'undefined') {\n      return match;\n    }\n\n    var value = '' + values[identifier];\n\n    if (identifier === 'RepresentationID') {\n      // Format tag shall not be present with RepresentationID\n      return value;\n    }\n\n    if (!format) {\n      width = 1;\n    } else {\n      width = parseInt(width, 10);\n    }\n\n    if (value.length >= width) {\n      return value;\n    }\n\n    return \"\" + new Array(width - value.length + 1).join('0') + value;\n  };\n};\n/**\n * Constructs a segment url from a template string\n *\n * @param {string} url\n *        Template string to construct url from\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {string}\n *         Segment url with identifiers replaced\n */\n\n\nvar constructTemplateUrl = function constructTemplateUrl(url, values) {\n  return url.replace(identifierPattern, identifierReplacement(values));\n};\n/**\n * Generates a list of objects containing timing and duration information about each\n * segment needed to generate segment uris and the complete segment object\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n  if (!attributes.duration && !segmentTimeline) {\n    // if neither @duration or SegmentTimeline are present, then there shall be exactly\n    // one media segment\n    return [{\n      number: attributes.startNumber || 1,\n      duration: attributes.sourceDuration,\n      time: 0,\n      timeline: attributes.periodIndex\n    }];\n  }\n\n  if (attributes.duration) {\n    return parseByDuration(attributes);\n  }\n\n  return parseByTimeline(attributes, segmentTimeline);\n};\n/**\n * Generates a list of segments using information provided by the SegmentTemplate element\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object[]}\n *         List of segment objects\n */\n\n\nvar segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n  var templateValues = {\n    RepresentationID: attributes.id,\n    Bandwidth: attributes.bandwidth || 0\n  };\n  var _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {\n    sourceURL: '',\n    range: ''\n  } : _attributes$initializ;\n  var mapSegment = urlTypeToSegment({\n    baseUrl: attributes.baseUrl,\n    source: constructTemplateUrl(initialization.sourceURL, templateValues),\n    range: initialization.range\n  });\n  var segments = parseTemplateInfo(attributes, segmentTimeline);\n  return segments.map(function (segment) {\n    templateValues.Number = segment.number;\n    templateValues.Time = segment.time;\n    var uri = constructTemplateUrl(attributes.media || '', templateValues);\n    return {\n      uri: uri,\n      timeline: segment.timeline,\n      duration: segment.duration,\n      resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n      map: mapSegment,\n      number: segment.number\n    };\n  });\n};\n/**\n * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n * to an object that matches the output of a segment in videojs/mpd-parser\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object} segmentUrl\n *   <SegmentURL> node to translate into a segment object\n * @return {Object} translated segment object\n */\n\n\nvar SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: segmentUrl.media,\n    range: segmentUrl.mediaRange\n  });\n  segment.map = initSegment;\n  return segment;\n};\n/**\n * Generates a list of segments using information provided by the SegmentList element\n * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n  var duration = attributes.duration,\n      _attributes$segmentUr = attributes.segmentUrls,\n      segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n  // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n  if (!duration && !segmentTimeline || duration && segmentTimeline) {\n    throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n  }\n\n  var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n    return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n  });\n  var segmentTimeInfo;\n\n  if (duration) {\n    segmentTimeInfo = parseByDuration(attributes);\n  }\n\n  if (segmentTimeline) {\n    segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n  }\n\n  var segments = segmentTimeInfo.map(function (segmentTime, index) {\n    if (segmentUrlMap[index]) {\n      var segment = segmentUrlMap[index];\n      segment.timeline = segmentTime.timeline;\n      segment.duration = segmentTime.duration;\n      segment.number = segmentTime.number;\n      return segment;\n    } // Since we're mapping we should get rid of any blank segments (in case\n    // the given SegmentTimeline is handling for more elements than we have\n    // SegmentURLs for).\n\n  }).filter(function (segment) {\n    return segment;\n  });\n  return segments;\n};\n\nvar generateSegments = function generateSegments(_ref) {\n  var attributes = _ref.attributes,\n      segmentInfo = _ref.segmentInfo;\n  var segmentAttributes;\n  var segmentsFn;\n\n  if (segmentInfo.template) {\n    segmentsFn = segmentsFromTemplate;\n    segmentAttributes = merge(attributes, segmentInfo.template);\n  } else if (segmentInfo.base) {\n    segmentsFn = segmentsFromBase;\n    segmentAttributes = merge(attributes, segmentInfo.base);\n  } else if (segmentInfo.list) {\n    segmentsFn = segmentsFromList;\n    segmentAttributes = merge(attributes, segmentInfo.list);\n  }\n\n  var segmentsInfo = {\n    attributes: attributes\n  };\n\n  if (!segmentsFn) {\n    return segmentsInfo;\n  }\n\n  var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n  // must be in seconds. Since we've generated the segment list, we no longer need\n  // @duration to be in @timescale units, so we can convert it here.\n\n  if (segmentAttributes.duration) {\n    var _segmentAttributes = segmentAttributes,\n        duration = _segmentAttributes.duration,\n        _segmentAttributes$ti = _segmentAttributes.timescale,\n        timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n    segmentAttributes.duration = duration / timescale;\n  } else if (segments.length) {\n    // if there is no @duration attribute, use the largest segment duration as\n    // as target duration\n    segmentAttributes.duration = segments.reduce(function (max, segment) {\n      return Math.max(max, Math.ceil(segment.duration));\n    }, 0);\n  } else {\n    segmentAttributes.duration = 0;\n  }\n\n  segmentsInfo.attributes = segmentAttributes;\n  segmentsInfo.segments = segments; // This is a sidx box without actual segment information\n\n  if (segmentInfo.base && segmentAttributes.indexRange) {\n    segmentsInfo.sidx = segments[0];\n    segmentsInfo.segments = [];\n  }\n\n  return segmentsInfo;\n};\n\nvar toPlaylists = function toPlaylists(representations) {\n  return representations.map(generateSegments);\n};\n\nvar findChildren = function findChildren(element, name) {\n  return from(element.childNodes).filter(function (_ref) {\n    var tagName = _ref.tagName;\n    return tagName === name;\n  });\n};\n\nvar getContent = function getContent(element) {\n  return element.textContent.trim();\n};\n\nvar parseDuration = function parseDuration(str) {\n  var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n  var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n  var SECONDS_IN_DAY = 24 * 60 * 60;\n  var SECONDS_IN_HOUR = 60 * 60;\n  var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n  var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n  var match = durationRegex.exec(str);\n\n  if (!match) {\n    return 0;\n  }\n\n  var _match$slice = match.slice(1),\n      year = _match$slice[0],\n      month = _match$slice[1],\n      day = _match$slice[2],\n      hour = _match$slice[3],\n      minute = _match$slice[4],\n      second = _match$slice[5];\n\n  return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n};\n\nvar parseDate = function parseDate(str) {\n  // Date format without timezone according to ISO 8601\n  // YYY-MM-DDThh:mm:ss.ssssss\n  var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n  // expressed by ending with 'Z'\n\n  if (dateRegex.test(str)) {\n    str += 'Z';\n  }\n\n  return Date.parse(str);\n};\n\nvar parsers = {\n  /**\n   * Specifies the duration of the entire Media Presentation. Format is a duration string\n   * as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  mediaPresentationDuration: function mediaPresentationDuration(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the Segment availability start time for all Segments referred to in this\n   * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n   * time. Format is a date string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The date as seconds from unix epoch\n   */\n  availabilityStartTime: function availabilityStartTime(value) {\n    return parseDate(value) / 1000;\n  },\n\n  /**\n   * Specifies the smallest period between potential changes to the MPD. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the duration of the smallest time shifting buffer for any Representation\n   * in the MPD. Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n   * Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  start: function start(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the width of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed width\n   */\n  width: function width(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the height of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed height\n   */\n  height: function height(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the bitrate of the representation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed bandwidth\n   */\n  bandwidth: function bandwidth(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the number of the first Media Segment in this Representation in the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  startNumber: function startNumber(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the timescale in units per seconds\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The aprsed timescale\n   */\n  timescale: function timescale(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the constant approximate Segment duration\n   * NOTE: The <Period> element also contains an @duration attribute. This duration\n   *       specifies the duration of the Period. This attribute is currently not\n   *       supported by the rest of the parser, however we still check for it to prevent\n   *       errors.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  duration: function duration(value) {\n    var parsedValue = parseInt(value, 10);\n\n    if (isNaN(parsedValue)) {\n      return parseDuration(value);\n    }\n\n    return parsedValue;\n  },\n\n  /**\n   * Specifies the Segment duration, in units of the value of the @timescale.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  d: function d(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the MPD start time, in @timescale units, the first Segment in the series\n   * starts relative to the beginning of the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed time\n   */\n  t: function t(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the repeat count of the number of following contiguous Segments with the\n   * same duration expressed by the value of @d\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  r: function r(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Default parser for all other attributes. Acts as a no-op and just returns the value\n   * as a string\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {string}\n   *         Unparsed value\n   */\n  DEFAULT: function DEFAULT(value) {\n    return value;\n  }\n};\n/**\n * Gets all the attributes and values of the provided node, parses attributes with known\n * types, and returns an object with attribute names mapped to values.\n *\n * @param {Node} el\n *        The node to parse attributes from\n * @return {Object}\n *         Object with all attributes of el parsed\n */\n\nvar parseAttributes = function parseAttributes(el) {\n  if (!(el && el.attributes)) {\n    return {};\n  }\n\n  return from(el.attributes).reduce(function (a, e) {\n    var parseFn = parsers[e.name] || parsers.DEFAULT;\n    a[e.name] = parseFn(e.value);\n    return a;\n  }, {});\n};\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = window$1.atob(b64Text);\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n\nvar keySystemsMap = {\n  'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n  'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n  'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n  'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n};\n/**\n * Builds a list of urls that is the product of the reference urls and BaseURL values\n *\n * @param {string[]} referenceUrls\n *        List of reference urls to resolve to\n * @param {Node[]} baseUrlElements\n *        List of BaseURL nodes from the mpd\n * @return {string[]}\n *         List of resolved urls\n */\n\nvar buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n  if (!baseUrlElements.length) {\n    return referenceUrls;\n  }\n\n  return flatten(referenceUrls.map(function (reference) {\n    return baseUrlElements.map(function (baseUrlElement) {\n      return resolveUrl(reference, getContent(baseUrlElement));\n    });\n  }));\n};\n/**\n * Contains all Segment information for its containing AdaptationSet\n *\n * @typedef {Object} SegmentInformation\n * @property {Object|undefined} template\n *           Contains the attributes for the SegmentTemplate node\n * @property {Object[]|undefined} timeline\n *           Contains a list of atrributes for each S node within the SegmentTimeline node\n * @property {Object|undefined} list\n *           Contains the attributes for the SegmentList node\n * @property {Object|undefined} base\n *           Contains the attributes for the SegmentBase node\n */\n\n/**\n * Returns all available Segment information contained within the AdaptationSet node\n *\n * @param {Node} adaptationSet\n *        The AdaptationSet node to get Segment information from\n * @return {SegmentInformation}\n *         The Segment information contained within the provided AdaptationSet\n */\n\n\nvar getSegmentInformation = function getSegmentInformation(adaptationSet) {\n  var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n  var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n  var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n    return merge({\n      tag: 'SegmentURL'\n    }, parseAttributes(s));\n  });\n  var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n  var segmentTimelineParentNode = segmentList || segmentTemplate;\n  var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n  var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n  var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n  // @initialization and an <Initialization> node.  @initialization can be templated,\n  // while the node can have a url and range specified.  If the <SegmentTemplate> has\n  // both @initialization and an <Initialization> subelement we opt to override with\n  // the node, as this interaction is not defined in the spec.\n\n  var template = segmentTemplate && parseAttributes(segmentTemplate);\n\n  if (template && segmentInitialization) {\n    template.initialization = segmentInitialization && parseAttributes(segmentInitialization);\n  } else if (template && template.initialization) {\n    // If it is @initialization we convert it to an object since this is the format that\n    // later functions will rely on for the initialization segment.  This is only valid\n    // for <SegmentTemplate>\n    template.initialization = {\n      sourceURL: template.initialization\n    };\n  }\n\n  var segmentInfo = {\n    template: template,\n    timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n      return parseAttributes(s);\n    }),\n    list: segmentList && merge(parseAttributes(segmentList), {\n      segmentUrls: segmentUrls,\n      initialization: parseAttributes(segmentInitialization)\n    }),\n    base: segmentBase && merge(parseAttributes(segmentBase), {\n      initialization: parseAttributes(segmentInitialization)\n    })\n  };\n  Object.keys(segmentInfo).forEach(function (key) {\n    if (!segmentInfo[key]) {\n      delete segmentInfo[key];\n    }\n  });\n  return segmentInfo;\n};\n/**\n * Contains Segment information and attributes needed to construct a Playlist object\n * from a Representation\n *\n * @typedef {Object} RepresentationInformation\n * @property {SegmentInformation} segmentInfo\n *           Segment information for this Representation\n * @property {Object} attributes\n *           Inherited attributes for this Representation\n */\n\n/**\n * Maps a Representation node to an object containing Segment information and attributes\n *\n * @name inheritBaseUrlsCallback\n * @function\n * @param {Node} representation\n *        Representation node from the mpd\n * @return {RepresentationInformation}\n *         Representation information needed to construct a Playlist object\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Representation nodes to\n * Segment information and attributes using inherited BaseURL nodes.\n *\n * @param {Object} adaptationSetAttributes\n *        Contains attributes inherited by the AdaptationSet\n * @param {string[]} adaptationSetBaseUrls\n *        Contains list of resolved base urls inherited by the AdaptationSet\n * @param {SegmentInformation} adaptationSetSegmentInfo\n *        Contains Segment information for the AdaptationSet\n * @return {inheritBaseUrlsCallback}\n *         Callback map function\n */\n\n\nvar inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n  return function (representation) {\n    var repBaseUrlElements = findChildren(representation, 'BaseURL');\n    var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n    var attributes = merge(adaptationSetAttributes, parseAttributes(representation));\n    var representationSegmentInfo = getSegmentInformation(representation);\n    return repBaseUrls.map(function (baseUrl) {\n      return {\n        segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n        attributes: merge(attributes, {\n          baseUrl: baseUrl\n        })\n      };\n    });\n  };\n};\n/**\n * Tranforms a series of content protection nodes to\n * an object containing pssh data by key system\n *\n * @param {Node[]} contentProtectionNodes\n *        Content protection nodes\n * @return {Object}\n *        Object containing pssh data by key system\n */\n\n\nvar generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n  return contentProtectionNodes.reduce(function (acc, node) {\n    var attributes = parseAttributes(node);\n    var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n    if (keySystem) {\n      acc[keySystem] = {\n        attributes: attributes\n      };\n      var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n      if (psshNode) {\n        var pssh = getContent(psshNode);\n        var psshBuffer = pssh && decodeB64ToUint8Array(pssh);\n        acc[keySystem].pssh = psshBuffer;\n      }\n    }\n\n    return acc;\n  }, {});\n};\n/**\n * Maps an AdaptationSet node to a list of Representation information objects\n *\n * @name toRepresentationsCallback\n * @function\n * @param {Node} adaptationSet\n *        AdaptationSet node from the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n * Representation information objects\n *\n * @param {Object} periodAttributes\n *        Contains attributes inherited by the Period\n * @param {string[]} periodBaseUrls\n *        Contains list of resolved base urls inherited by the Period\n * @param {string[]} periodSegmentInfo\n *        Contains Segment Information at the period level\n * @return {toRepresentationsCallback}\n *         Callback map function\n */\n\n\nvar toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n  return function (adaptationSet) {\n    var adaptationSetAttributes = parseAttributes(adaptationSet);\n    var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n    var role = findChildren(adaptationSet, 'Role')[0];\n    var roleAttributes = {\n      role: parseAttributes(role)\n    };\n    var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n    var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n    if (Object.keys(contentProtection).length) {\n      attrs = merge(attrs, {\n        contentProtection: contentProtection\n      });\n    }\n\n    var segmentInfo = getSegmentInformation(adaptationSet);\n    var representations = findChildren(adaptationSet, 'Representation');\n    var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n    return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n  };\n};\n/**\n * Maps an Period node to a list of Representation inforamtion objects for all\n * AdaptationSet nodes contained within the Period\n *\n * @name toAdaptationSetsCallback\n * @function\n * @param {Node} period\n *        Period node from the mpd\n * @param {number} periodIndex\n *        Index of the Period within the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n * Representation information objects\n *\n * @param {Object} mpdAttributes\n *        Contains attributes inherited by the mpd\n * @param {string[]} mpdBaseUrls\n *        Contains list of resolved base urls inherited by the mpd\n * @return {toAdaptationSetsCallback}\n *         Callback map function\n */\n\n\nvar toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n  return function (period, index) {\n    var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n    var periodAtt = parseAttributes(period);\n    var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n    var periodIndex = window$1.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n    var periodAttributes = merge(mpdAttributes, {\n      periodIndex: periodIndex\n    });\n    var adaptationSets = findChildren(period, 'AdaptationSet');\n    var periodSegmentInfo = getSegmentInformation(period);\n    return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n  };\n};\n/**\n * Traverses the mpd xml tree to generate a list of Representation information objects\n * that have inherited attributes from parent nodes\n *\n * @param {Node} mpd\n *        The root node of the mpd\n * @param {Object} options\n *        Available options for inheritAttributes\n * @param {string} options.manifestUri\n *        The uri source of the mpd\n * @param {number} options.NOW\n *        Current time per DASH IOP.  Default is current time in ms since epoch\n * @param {number} options.clientOffset\n *        Client time difference from NOW (in milliseconds)\n * @return {RepresentationInformation[]}\n *         List of objects containing Representation information\n */\n\n\nvar inheritAttributes = function inheritAttributes(mpd, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$manifestUri = _options.manifestUri,\n      manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n      _options$NOW = _options.NOW,\n      NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n      _options$clientOffset = _options.clientOffset,\n      clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n  var periods = findChildren(mpd, 'Period');\n\n  if (!periods.length) {\n    throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n  }\n\n  var mpdAttributes = parseAttributes(mpd);\n  var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n  mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n  mpdAttributes.NOW = NOW;\n  mpdAttributes.clientOffset = clientOffset;\n  return flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)));\n};\n\nvar stringToMpdXml = function stringToMpdXml(manifestString) {\n  if (manifestString === '') {\n    throw new Error(errors.DASH_EMPTY_MANIFEST);\n  }\n\n  var parser = new window$1.DOMParser();\n  var xml = parser.parseFromString(manifestString, 'application/xml');\n  var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n  if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n    throw new Error(errors.DASH_INVALID_XML);\n  }\n\n  return mpd;\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} mpd\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n  var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n  if (!UTCTimingNode) {\n    return null;\n  }\n\n  var attributes = parseAttributes(UTCTimingNode);\n\n  switch (attributes.schemeIdUri) {\n    case 'urn:mpeg:dash:utc:http-head:2014':\n    case 'urn:mpeg:dash:utc:http-head:2012':\n      attributes.method = 'HEAD';\n      break;\n\n    case 'urn:mpeg:dash:utc:http-xsdate:2014':\n    case 'urn:mpeg:dash:utc:http-iso:2014':\n    case 'urn:mpeg:dash:utc:http-xsdate:2012':\n    case 'urn:mpeg:dash:utc:http-iso:2012':\n      attributes.method = 'GET';\n      break;\n\n    case 'urn:mpeg:dash:utc:direct:2014':\n    case 'urn:mpeg:dash:utc:direct:2012':\n      attributes.method = 'DIRECT';\n      attributes.value = Date.parse(attributes.value);\n      break;\n\n    case 'urn:mpeg:dash:utc:http-ntp:2014':\n    case 'urn:mpeg:dash:utc:ntp:2014':\n    case 'urn:mpeg:dash:utc:sntp:2014':\n    default:\n      throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n  }\n\n  return attributes;\n};\n\nvar VERSION = version;\n\nvar parse = function parse(manifestString, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return toM3u8(toPlaylists(inheritAttributes(stringToMpdXml(manifestString), options)), options.sidxMapping);\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} manifestString\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTiming = function parseUTCTiming(manifestString) {\n  return parseUTCTimingScheme(stringToMpdXml(manifestString));\n};\n\nexport { VERSION, parse, parseUTCTiming };","var red = {\n  50: '#ffebee',\n  100: '#ffcdd2',\n  200: '#ef9a9a',\n  300: '#e57373',\n  400: '#ef5350',\n  500: '#f44336',\n  600: '#e53935',\n  700: '#d32f2f',\n  800: '#c62828',\n  900: '#b71c1c',\n  A100: '#ff8a80',\n  A200: '#ff5252',\n  A400: '#ff1744',\n  A700: '#d50000'\n};\nexport default red;","var g; // This works in non-strict mode\n\ng = function () {\n  return this;\n}();\n\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n} // g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\n\nmodule.exports = g;","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar constructorRegex = /^\\s*class\\b/;\n\nvar isES6ClassFn = function isES6ClassFunction(value) {\n  try {\n    var fnStr = fnToStr.call(value);\n    return constructorRegex.test(fnStr);\n  } catch (e) {\n    return false; // not a function\n  }\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n  try {\n    if (isES6ClassFn(value)) {\n      return false;\n    }\n\n    fnToStr.call(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isCallable(value) {\n  if (!value) {\n    return false;\n  }\n\n  if (typeof value !== 'function' && typeof value !== 'object') {\n    return false;\n  }\n\n  if (typeof value === 'function' && !value.prototype) {\n    return true;\n  }\n\n  if (hasToStringTag) {\n    return tryFunctionObject(value);\n  }\n\n  if (isES6ClassFn(value)) {\n    return false;\n  }\n\n  var strClass = toStr.call(value);\n  return strClass === fnClass || strClass === genClass;\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A stream-based mp2t to mp4 converter. This utility can be used to\n * deliver mp4s to a SourceBuffer on platforms that support native\n * Media Source Extensions.\n */\n'use strict';\n\nvar Stream = require('../utils/stream.js');\n\nvar mp4 = require('./mp4-generator.js');\n\nvar frameUtils = require('./frame-utils');\n\nvar audioFrameUtils = require('./audio-frame-utils');\n\nvar trackDecodeInfo = require('./track-decode-info');\n\nvar m2ts = require('../m2ts/m2ts.js');\n\nvar AdtsStream = require('../codecs/adts.js');\n\nvar H264Stream = require('../codecs/h264').H264Stream;\n\nvar AacStream = require('../aac');\n\nvar isLikelyAacData = require('../aac/utils').isLikelyAacData; // constants\n\n\nvar AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\nvar VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility']; // object types\n\nvar _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n/**\n * Compare two arrays (even typed) for same-ness\n */\n\n\nvar arrayEquals = function arrayEquals(a, b) {\n  var i;\n\n  if (a.length !== b.length) {\n    return false;\n  } // compare the value of each element in the array\n\n\n  for (i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n  var ptsOffsetFromDts = startPts - startDts,\n      decodeDuration = endDts - startDts,\n      presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n  // however, the player time values will reflect a start from the baseMediaDecodeTime.\n  // In order to provide relevant values for the player times, base timing info on the\n  // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n  return {\n    start: {\n      dts: baseMediaDecodeTime,\n      pts: baseMediaDecodeTime + ptsOffsetFromDts\n    },\n    end: {\n      dts: baseMediaDecodeTime + decodeDuration,\n      pts: baseMediaDecodeTime + presentationDuration\n    },\n    prependedContentDuration: prependedContentDuration,\n    baseMediaDecodeTime: baseMediaDecodeTime\n  };\n};\n/**\n * Constructs a single-track, ISO BMFF media segment from AAC data\n * events. The output of this stream can be fed to a SourceBuffer\n * configured with a suitable initialization segment.\n * @param track {object} track metadata configuration\n * @param options {object} transmuxer options object\n * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n *        in the source; false to adjust the first segment to start at 0.\n */\n\n\n_AudioSegmentStream = function AudioSegmentStream(track, options) {\n  var adtsFrames = [],\n      sequenceNumber = 0,\n      earliestAllowedDts = 0,\n      audioAppendStartTs = 0,\n      videoBaseMediaDecodeTime = Infinity;\n  options = options || {};\n\n  _AudioSegmentStream.prototype.init.call(this);\n\n  this.push = function (data) {\n    trackDecodeInfo.collectDtsInfo(track, data);\n\n    if (track) {\n      AUDIO_PROPERTIES.forEach(function (prop) {\n        track[prop] = data[prop];\n      });\n    } // buffer audio data until end() is called\n\n\n    adtsFrames.push(data);\n  };\n\n  this.setEarliestDts = function (earliestDts) {\n    earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n  };\n\n  this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n    videoBaseMediaDecodeTime = baseMediaDecodeTime;\n  };\n\n  this.setAudioAppendStart = function (timestamp) {\n    audioAppendStartTs = timestamp;\n  };\n\n  this.flush = function () {\n    var frames, moof, mdat, boxes; // return early if no audio data has been observed\n\n    if (adtsFrames.length === 0) {\n      this.trigger('done', 'AudioSegmentStream');\n      return;\n    }\n\n    frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n    track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n    audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n    // samples (that is, adts frames) in the audio data\n\n    track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n    mdat = mp4.mdat(audioFrameUtils.concatenateFrameData(frames));\n    adtsFrames = [];\n    moof = mp4.moof(sequenceNumber, [track]);\n    boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n    sequenceNumber++;\n    boxes.set(moof);\n    boxes.set(mdat, moof.byteLength);\n    trackDecodeInfo.clearDtsInfo(track);\n    this.trigger('data', {\n      track: track,\n      boxes: boxes\n    });\n    this.trigger('done', 'AudioSegmentStream');\n  };\n};\n\n_AudioSegmentStream.prototype = new Stream();\n/**\n * Constructs a single-track, ISO BMFF media segment from H264 data\n * events. The output of this stream can be fed to a SourceBuffer\n * configured with a suitable initialization segment.\n * @param track {object} track metadata configuration\n * @param options {object} transmuxer options object\n * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n *        gopsToAlignWith list when attempting to align gop pts\n * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n *        in the source; false to adjust the first segment to start at 0.\n */\n\n_VideoSegmentStream = function VideoSegmentStream(track, options) {\n  var sequenceNumber = 0,\n      nalUnits = [],\n      gopsToAlignWith = [],\n      config,\n      pps;\n  options = options || {};\n\n  _VideoSegmentStream.prototype.init.call(this);\n\n  delete track.minPTS;\n  this.gopCache_ = [];\n  /**\n    * Constructs a ISO BMFF segment given H264 nalUnits\n    * @param {Object} nalUnit A data event representing a nalUnit\n    * @param {String} nalUnit.nalUnitType\n    * @param {Object} nalUnit.config Properties for a mp4 track\n    * @param {Uint8Array} nalUnit.data The nalUnit bytes\n    * @see lib/codecs/h264.js\n   **/\n\n  this.push = function (nalUnit) {\n    trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n    if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n      config = nalUnit.config;\n      track.sps = [nalUnit.data];\n      VIDEO_PROPERTIES.forEach(function (prop) {\n        track[prop] = config[prop];\n      }, this);\n    }\n\n    if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n      pps = nalUnit.data;\n      track.pps = [nalUnit.data];\n    } // buffer video until flush() is called\n\n\n    nalUnits.push(nalUnit);\n  };\n  /**\n    * Pass constructed ISO BMFF track and boxes on to the\n    * next stream in the pipeline\n   **/\n\n\n  this.flush = function () {\n    var frames,\n        gopForFusion,\n        gops,\n        moof,\n        mdat,\n        boxes,\n        prependedContentDuration = 0,\n        firstGop,\n        lastGop; // Throw away nalUnits at the start of the byte stream until\n    // we find the first AUD\n\n    while (nalUnits.length) {\n      if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n        break;\n      }\n\n      nalUnits.shift();\n    } // Return early if no video data has been observed\n\n\n    if (nalUnits.length === 0) {\n      this.resetStream_();\n      this.trigger('done', 'VideoSegmentStream');\n      return;\n    } // Organize the raw nal-units into arrays that represent\n    // higher-level constructs such as frames and gops\n    // (group-of-pictures)\n\n\n    frames = frameUtils.groupNalsIntoFrames(nalUnits);\n    gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n    // a problem since MSE (on Chrome) requires a leading keyframe.\n    //\n    // We have two approaches to repairing this situation:\n    // 1) GOP-FUSION:\n    //    This is where we keep track of the GOPS (group-of-pictures)\n    //    from previous fragments and attempt to find one that we can\n    //    prepend to the current fragment in order to create a valid\n    //    fragment.\n    // 2) KEYFRAME-PULLING:\n    //    Here we search for the first keyframe in the fragment and\n    //    throw away all the frames between the start of the fragment\n    //    and that keyframe. We then extend the duration and pull the\n    //    PTS of the keyframe forward so that it covers the time range\n    //    of the frames that were disposed of.\n    //\n    // #1 is far prefereable over #2 which can cause \"stuttering\" but\n    // requires more things to be just right.\n\n    if (!gops[0][0].keyFrame) {\n      // Search for a gop for fusion from our gopCache\n      gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n      if (gopForFusion) {\n        // in order to provide more accurate timing information about the segment, save\n        // the number of seconds prepended to the original segment due to GOP fusion\n        prependedContentDuration = gopForFusion.duration;\n        gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n        // new gop at the beginning\n\n        gops.byteLength += gopForFusion.byteLength;\n        gops.nalCount += gopForFusion.nalCount;\n        gops.pts = gopForFusion.pts;\n        gops.dts = gopForFusion.dts;\n        gops.duration += gopForFusion.duration;\n      } else {\n        // If we didn't find a candidate gop fall back to keyframe-pulling\n        gops = frameUtils.extendFirstKeyFrame(gops);\n      }\n    } // Trim gops to align with gopsToAlignWith\n\n\n    if (gopsToAlignWith.length) {\n      var alignedGops;\n\n      if (options.alignGopsAtEnd) {\n        alignedGops = this.alignGopsAtEnd_(gops);\n      } else {\n        alignedGops = this.alignGopsAtStart_(gops);\n      }\n\n      if (!alignedGops) {\n        // save all the nals in the last GOP into the gop cache\n        this.gopCache_.unshift({\n          gop: gops.pop(),\n          pps: track.pps,\n          sps: track.sps\n        }); // Keep a maximum of 6 GOPs in the cache\n\n        this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n        nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n        this.resetStream_();\n        this.trigger('done', 'VideoSegmentStream');\n        return;\n      } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n      // when recalculated before sending off to CoalesceStream\n\n\n      trackDecodeInfo.clearDtsInfo(track);\n      gops = alignedGops;\n    }\n\n    trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n    // samples (that is, frames) in the video data\n\n    track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n    mdat = mp4.mdat(frameUtils.concatenateNalData(gops));\n    track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n    this.trigger('processedGopsInfo', gops.map(function (gop) {\n      return {\n        pts: gop.pts,\n        dts: gop.dts,\n        byteLength: gop.byteLength\n      };\n    }));\n    firstGop = gops[0];\n    lastGop = gops[gops.length - 1];\n    this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration)); // save all the nals in the last GOP into the gop cache\n\n    this.gopCache_.unshift({\n      gop: gops.pop(),\n      pps: track.pps,\n      sps: track.sps\n    }); // Keep a maximum of 6 GOPs in the cache\n\n    this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n    nalUnits = [];\n    this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n    this.trigger('timelineStartInfo', track.timelineStartInfo);\n    moof = mp4.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n    // throwing away hundreds of media segment fragments\n\n    boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n    sequenceNumber++;\n    boxes.set(moof);\n    boxes.set(mdat, moof.byteLength);\n    this.trigger('data', {\n      track: track,\n      boxes: boxes\n    });\n    this.resetStream_(); // Continue with the flush process now\n\n    this.trigger('done', 'VideoSegmentStream');\n  };\n\n  this.resetStream_ = function () {\n    trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n    // for instance, when we are rendition switching\n\n    config = undefined;\n    pps = undefined;\n  }; // Search for a candidate Gop for gop-fusion from the gop cache and\n  // return it or return null if no good candidate was found\n\n\n  this.getGopForFusion_ = function (nalUnit) {\n    var halfSecond = 45000,\n        // Half-a-second in a 90khz clock\n    allowableOverlap = 10000,\n        // About 3 frames @ 30fps\n    nearestDistance = Infinity,\n        dtsDistance,\n        nearestGopObj,\n        currentGop,\n        currentGopObj,\n        i; // Search for the GOP nearest to the beginning of this nal unit\n\n    for (i = 0; i < this.gopCache_.length; i++) {\n      currentGopObj = this.gopCache_[i];\n      currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n      if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n        continue;\n      } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n      if (currentGop.dts < track.timelineStartInfo.dts) {\n        continue;\n      } // The distance between the end of the gop and the start of the nalUnit\n\n\n      dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n      // a half-second of the nal unit\n\n      if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n        // Always use the closest GOP we found if there is more than\n        // one candidate\n        if (!nearestGopObj || nearestDistance > dtsDistance) {\n          nearestGopObj = currentGopObj;\n          nearestDistance = dtsDistance;\n        }\n      }\n    }\n\n    if (nearestGopObj) {\n      return nearestGopObj.gop;\n    }\n\n    return null;\n  }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n  // of gopsToAlignWith starting from the START of the list\n\n\n  this.alignGopsAtStart_ = function (gops) {\n    var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n    byteLength = gops.byteLength;\n    nalCount = gops.nalCount;\n    duration = gops.duration;\n    alignIndex = gopIndex = 0;\n\n    while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n      align = gopsToAlignWith[alignIndex];\n      gop = gops[gopIndex];\n\n      if (align.pts === gop.pts) {\n        break;\n      }\n\n      if (gop.pts > align.pts) {\n        // this current gop starts after the current gop we want to align on, so increment\n        // align index\n        alignIndex++;\n        continue;\n      } // current gop starts before the current gop we want to align on. so increment gop\n      // index\n\n\n      gopIndex++;\n      byteLength -= gop.byteLength;\n      nalCount -= gop.nalCount;\n      duration -= gop.duration;\n    }\n\n    if (gopIndex === 0) {\n      // no gops to trim\n      return gops;\n    }\n\n    if (gopIndex === gops.length) {\n      // all gops trimmed, skip appending all gops\n      return null;\n    }\n\n    alignedGops = gops.slice(gopIndex);\n    alignedGops.byteLength = byteLength;\n    alignedGops.duration = duration;\n    alignedGops.nalCount = nalCount;\n    alignedGops.pts = alignedGops[0].pts;\n    alignedGops.dts = alignedGops[0].dts;\n    return alignedGops;\n  }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n  // of gopsToAlignWith starting from the END of the list\n\n\n  this.alignGopsAtEnd_ = function (gops) {\n    var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n    alignIndex = gopsToAlignWith.length - 1;\n    gopIndex = gops.length - 1;\n    alignEndIndex = null;\n    matchFound = false;\n\n    while (alignIndex >= 0 && gopIndex >= 0) {\n      align = gopsToAlignWith[alignIndex];\n      gop = gops[gopIndex];\n\n      if (align.pts === gop.pts) {\n        matchFound = true;\n        break;\n      }\n\n      if (align.pts > gop.pts) {\n        alignIndex--;\n        continue;\n      }\n\n      if (alignIndex === gopsToAlignWith.length - 1) {\n        // gop.pts is greater than the last alignment candidate. If no match is found\n        // by the end of this loop, we still want to append gops that come after this\n        // point\n        alignEndIndex = gopIndex;\n      }\n\n      gopIndex--;\n    }\n\n    if (!matchFound && alignEndIndex === null) {\n      return null;\n    }\n\n    var trimIndex;\n\n    if (matchFound) {\n      trimIndex = gopIndex;\n    } else {\n      trimIndex = alignEndIndex;\n    }\n\n    if (trimIndex === 0) {\n      return gops;\n    }\n\n    var alignedGops = gops.slice(trimIndex);\n    var metadata = alignedGops.reduce(function (total, gop) {\n      total.byteLength += gop.byteLength;\n      total.duration += gop.duration;\n      total.nalCount += gop.nalCount;\n      return total;\n    }, {\n      byteLength: 0,\n      duration: 0,\n      nalCount: 0\n    });\n    alignedGops.byteLength = metadata.byteLength;\n    alignedGops.duration = metadata.duration;\n    alignedGops.nalCount = metadata.nalCount;\n    alignedGops.pts = alignedGops[0].pts;\n    alignedGops.dts = alignedGops[0].dts;\n    return alignedGops;\n  };\n\n  this.alignGopsWith = function (newGopsToAlignWith) {\n    gopsToAlignWith = newGopsToAlignWith;\n  };\n};\n\n_VideoSegmentStream.prototype = new Stream();\n/**\n * A Stream that can combine multiple streams (ie. audio & video)\n * into a single output segment for MSE. Also supports audio-only\n * and video-only streams.\n * @param options {object} transmuxer options object\n * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n *        in the source; false to adjust the first segment to start at media timeline start.\n */\n\n_CoalesceStream = function CoalesceStream(options, metadataStream) {\n  // Number of Tracks per output segment\n  // If greater than 1, we combine multiple\n  // tracks into a single segment\n  this.numberOfTracks = 0;\n  this.metadataStream = metadataStream;\n  options = options || {};\n\n  if (typeof options.remux !== 'undefined') {\n    this.remuxTracks = !!options.remux;\n  } else {\n    this.remuxTracks = true;\n  }\n\n  if (typeof options.keepOriginalTimestamps === 'boolean') {\n    this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n  }\n\n  this.pendingTracks = [];\n  this.videoTrack = null;\n  this.pendingBoxes = [];\n  this.pendingCaptions = [];\n  this.pendingMetadata = [];\n  this.pendingBytes = 0;\n  this.emittedTracks = 0;\n\n  _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n  this.push = function (output) {\n    // buffer incoming captions until the associated video segment\n    // finishes\n    if (output.text) {\n      return this.pendingCaptions.push(output);\n    } // buffer incoming id3 tags until the final flush\n\n\n    if (output.frames) {\n      return this.pendingMetadata.push(output);\n    } // Add this track to the list of pending tracks and store\n    // important information required for the construction of\n    // the final segment\n\n\n    this.pendingTracks.push(output.track);\n    this.pendingBoxes.push(output.boxes);\n    this.pendingBytes += output.boxes.byteLength;\n\n    if (output.track.type === 'video') {\n      this.videoTrack = output.track;\n    }\n\n    if (output.track.type === 'audio') {\n      this.audioTrack = output.track;\n    }\n  };\n};\n\n_CoalesceStream.prototype = new Stream();\n\n_CoalesceStream.prototype.flush = function (flushSource) {\n  var offset = 0,\n      event = {\n    captions: [],\n    captionStreams: {},\n    metadata: [],\n    info: {}\n  },\n      caption,\n      id3,\n      initSegment,\n      timelineStartPts = 0,\n      i;\n\n  if (this.pendingTracks.length < this.numberOfTracks) {\n    if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n      // Return because we haven't received a flush from a data-generating\n      // portion of the segment (meaning that we have only recieved meta-data\n      // or captions.)\n      return;\n    } else if (this.remuxTracks) {\n      // Return until we have enough tracks from the pipeline to remux (if we\n      // are remuxing audio and video into a single MP4)\n      return;\n    } else if (this.pendingTracks.length === 0) {\n      // In the case where we receive a flush without any data having been\n      // received we consider it an emitted track for the purposes of coalescing\n      // `done` events.\n      // We do this for the case where there is an audio and video track in the\n      // segment but no audio data. (seen in several playlists with alternate\n      // audio tracks and no audio present in the main TS segments.)\n      this.emittedTracks++;\n\n      if (this.emittedTracks >= this.numberOfTracks) {\n        this.trigger('done');\n        this.emittedTracks = 0;\n      }\n\n      return;\n    }\n  }\n\n  if (this.videoTrack) {\n    timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n    VIDEO_PROPERTIES.forEach(function (prop) {\n      event.info[prop] = this.videoTrack[prop];\n    }, this);\n  } else if (this.audioTrack) {\n    timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n    AUDIO_PROPERTIES.forEach(function (prop) {\n      event.info[prop] = this.audioTrack[prop];\n    }, this);\n  }\n\n  if (this.pendingTracks.length === 1) {\n    event.type = this.pendingTracks[0].type;\n  } else {\n    event.type = 'combined';\n  }\n\n  this.emittedTracks += this.pendingTracks.length;\n  initSegment = mp4.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n  event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n  // and track definitions\n\n  event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n  event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n  for (i = 0; i < this.pendingBoxes.length; i++) {\n    event.data.set(this.pendingBoxes[i], offset);\n    offset += this.pendingBoxes[i].byteLength;\n  } // Translate caption PTS times into second offsets to match the\n  // video timeline for the segment, and add track info\n\n\n  for (i = 0; i < this.pendingCaptions.length; i++) {\n    caption = this.pendingCaptions[i];\n    caption.startTime = caption.startPts;\n\n    if (!this.keepOriginalTimestamps) {\n      caption.startTime -= timelineStartPts;\n    }\n\n    caption.startTime /= 90e3;\n    caption.endTime = caption.endPts;\n\n    if (!this.keepOriginalTimestamps) {\n      caption.endTime -= timelineStartPts;\n    }\n\n    caption.endTime /= 90e3;\n    event.captionStreams[caption.stream] = true;\n    event.captions.push(caption);\n  } // Translate ID3 frame PTS times into second offsets to match the\n  // video timeline for the segment\n\n\n  for (i = 0; i < this.pendingMetadata.length; i++) {\n    id3 = this.pendingMetadata[i];\n    id3.cueTime = id3.pts;\n\n    if (!this.keepOriginalTimestamps) {\n      id3.cueTime -= timelineStartPts;\n    }\n\n    id3.cueTime /= 90e3;\n    event.metadata.push(id3);\n  } // We add this to every single emitted segment even though we only need\n  // it for the first\n\n\n  event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n  this.pendingTracks.length = 0;\n  this.videoTrack = null;\n  this.pendingBoxes.length = 0;\n  this.pendingCaptions.length = 0;\n  this.pendingBytes = 0;\n  this.pendingMetadata.length = 0; // Emit the built segment\n\n  this.trigger('data', event); // Only emit `done` if all tracks have been flushed and emitted\n\n  if (this.emittedTracks >= this.numberOfTracks) {\n    this.trigger('done');\n    this.emittedTracks = 0;\n  }\n};\n/**\n * A Stream that expects MP2T binary data as input and produces\n * corresponding media segments, suitable for use with Media Source\n * Extension (MSE) implementations that support the ISO BMFF byte\n * stream format, like Chrome.\n */\n\n\n_Transmuxer = function Transmuxer(options) {\n  var self = this,\n      hasFlushed = true,\n      videoTrack,\n      audioTrack;\n\n  _Transmuxer.prototype.init.call(this);\n\n  options = options || {};\n  this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n  this.transmuxPipeline_ = {};\n\n  this.setupAacPipeline = function () {\n    var pipeline = {};\n    this.transmuxPipeline_ = pipeline;\n    pipeline.type = 'aac';\n    pipeline.metadataStream = new m2ts.MetadataStream(); // set up the parsing pipeline\n\n    pipeline.aacStream = new AacStream();\n    pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\n    pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\n    pipeline.adtsStream = new AdtsStream();\n    pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n    pipeline.headOfPipeline = pipeline.aacStream;\n    pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n    pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n    pipeline.metadataStream.on('timestamp', function (frame) {\n      pipeline.aacStream.setTimestamp(frame.timeStamp);\n    });\n    pipeline.aacStream.on('data', function (data) {\n      if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n        audioTrack = audioTrack || {\n          timelineStartInfo: {\n            baseMediaDecodeTime: self.baseMediaDecodeTime\n          },\n          codec: 'adts',\n          type: 'audio'\n        }; // hook up the audio segment stream to the first track with aac data\n\n        pipeline.coalesceStream.numberOfTracks++;\n        pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n        pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n      }\n    }); // Re-emit any data coming from the coalesce stream to the outside world\n\n    pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n    pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n  };\n\n  this.setupTsPipeline = function () {\n    var pipeline = {};\n    this.transmuxPipeline_ = pipeline;\n    pipeline.type = 'ts';\n    pipeline.metadataStream = new m2ts.MetadataStream(); // set up the parsing pipeline\n\n    pipeline.packetStream = new m2ts.TransportPacketStream();\n    pipeline.parseStream = new m2ts.TransportParseStream();\n    pipeline.elementaryStream = new m2ts.ElementaryStream();\n    pipeline.videoTimestampRolloverStream = new m2ts.TimestampRolloverStream('video');\n    pipeline.audioTimestampRolloverStream = new m2ts.TimestampRolloverStream('audio');\n    pipeline.timedMetadataTimestampRolloverStream = new m2ts.TimestampRolloverStream('timed-metadata');\n    pipeline.adtsStream = new AdtsStream();\n    pipeline.h264Stream = new H264Stream();\n    pipeline.captionStream = new m2ts.CaptionStream();\n    pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n    pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n    pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream); // !!THIS ORDER IS IMPORTANT!!\n    // demux the streams\n\n    pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream);\n    pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n    pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n    pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n    pipeline.elementaryStream.on('data', function (data) {\n      var i;\n\n      if (data.type === 'metadata') {\n        i = data.tracks.length; // scan the tracks listed in the metadata\n\n        while (i--) {\n          if (!videoTrack && data.tracks[i].type === 'video') {\n            videoTrack = data.tracks[i];\n            videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n          } else if (!audioTrack && data.tracks[i].type === 'audio') {\n            audioTrack = data.tracks[i];\n            audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n          }\n        } // hook up the video segment stream to the first track with h264 data\n\n\n        if (videoTrack && !pipeline.videoSegmentStream) {\n          pipeline.coalesceStream.numberOfTracks++;\n          pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n          pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n            // When video emits timelineStartInfo data after a flush, we forward that\n            // info to the AudioSegmentStream, if it exists, because video timeline\n            // data takes precedence.\n            if (audioTrack) {\n              audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n              // very earliest DTS we have seen in video because Chrome will\n              // interpret any video track with a baseMediaDecodeTime that is\n              // non-zero as a gap.\n\n              pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n            }\n          });\n          pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n          pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n          pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n            if (audioTrack) {\n              pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n            }\n          }); // Set up the final part of the video pipeline\n\n          pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n        }\n\n        if (audioTrack && !pipeline.audioSegmentStream) {\n          // hook up the audio segment stream to the first track with aac data\n          pipeline.coalesceStream.numberOfTracks++;\n          pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n          pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n        }\n      }\n    }); // Re-emit any data coming from the coalesce stream to the outside world\n\n    pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n    pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n  }; // hook up the segment streams once track metadata is delivered\n\n\n  this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n    var pipeline = this.transmuxPipeline_;\n\n    if (!options.keepOriginalTimestamps) {\n      this.baseMediaDecodeTime = baseMediaDecodeTime;\n    }\n\n    if (audioTrack) {\n      audioTrack.timelineStartInfo.dts = undefined;\n      audioTrack.timelineStartInfo.pts = undefined;\n      trackDecodeInfo.clearDtsInfo(audioTrack);\n\n      if (!options.keepOriginalTimestamps) {\n        audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n      }\n\n      if (pipeline.audioTimestampRolloverStream) {\n        pipeline.audioTimestampRolloverStream.discontinuity();\n      }\n    }\n\n    if (videoTrack) {\n      if (pipeline.videoSegmentStream) {\n        pipeline.videoSegmentStream.gopCache_ = [];\n        pipeline.videoTimestampRolloverStream.discontinuity();\n      }\n\n      videoTrack.timelineStartInfo.dts = undefined;\n      videoTrack.timelineStartInfo.pts = undefined;\n      trackDecodeInfo.clearDtsInfo(videoTrack);\n      pipeline.captionStream.reset();\n\n      if (!options.keepOriginalTimestamps) {\n        videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n      }\n    }\n\n    if (pipeline.timedMetadataTimestampRolloverStream) {\n      pipeline.timedMetadataTimestampRolloverStream.discontinuity();\n    }\n  };\n\n  this.setAudioAppendStart = function (timestamp) {\n    if (audioTrack) {\n      this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n    }\n  };\n\n  this.alignGopsWith = function (gopsToAlignWith) {\n    if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n      this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n    }\n  }; // feed incoming data to the front of the parsing pipeline\n\n\n  this.push = function (data) {\n    if (hasFlushed) {\n      var isAac = isLikelyAacData(data);\n\n      if (isAac && this.transmuxPipeline_.type !== 'aac') {\n        this.setupAacPipeline();\n      } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n        this.setupTsPipeline();\n      }\n\n      hasFlushed = false;\n    }\n\n    this.transmuxPipeline_.headOfPipeline.push(data);\n  }; // flush any buffered data\n\n\n  this.flush = function () {\n    hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n    this.transmuxPipeline_.headOfPipeline.flush();\n  }; // Caption data has to be reset when seeking outside buffered range\n\n\n  this.resetCaptions = function () {\n    if (this.transmuxPipeline_.captionStream) {\n      this.transmuxPipeline_.captionStream.reset();\n    }\n  };\n};\n\n_Transmuxer.prototype = new Stream();\nmodule.exports = {\n  Transmuxer: _Transmuxer,\n  VideoSegmentStream: _VideoSegmentStream,\n  AudioSegmentStream: _AudioSegmentStream,\n  AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n  VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n  // exported for testing\n  generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about Aac data.\n */\n'use strict';\n\nvar ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\nvar isLikelyAacData = function isLikelyAacData(data) {\n  if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n    return true;\n  }\n\n  return false;\n};\n\nvar parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n  return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n}; // return a percent-encoded representation of the specified byte range\n// @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\nvar percentEncode = function percentEncode(bytes, start, end) {\n  var i,\n      result = '';\n\n  for (i = start; i < end; i++) {\n    result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n  }\n\n  return result;\n}; // return the string representation of the specified byte range,\n// interpreted as ISO-8859-1.\n\n\nvar parseIso88591 = function parseIso88591(bytes, start, end) {\n  return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n};\n\nvar parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n  var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n      flags = header[byteIndex + 5],\n      footerPresent = (flags & 16) >> 4;\n\n  if (footerPresent) {\n    return returnSize + 20;\n  }\n\n  return returnSize + 10;\n};\n\nvar parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n  var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n      middle = header[byteIndex + 4] << 3,\n      highTwo = header[byteIndex + 3] & 0x3 << 11;\n  return highTwo | middle | lowThree;\n};\n\nvar parseType = function parseType(header, byteIndex) {\n  if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n    return 'timed-metadata';\n  } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n    return 'audio';\n  }\n\n  return null;\n};\n\nvar parseSampleRate = function parseSampleRate(packet) {\n  var i = 0;\n\n  while (i + 5 < packet.length) {\n    if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n      // If a valid header was not found,  jump one forward and attempt to\n      // find a valid ADTS header starting at the next byte\n      i++;\n      continue;\n    }\n\n    return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\n  }\n\n  return null;\n};\n\nvar parseAacTimestamp = function parseAacTimestamp(packet) {\n  var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n  frameStart = 10;\n\n  if (packet[5] & 0x40) {\n    // advance the frame start past the extended header\n    frameStart += 4; // header size field\n\n    frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\n  } // parse one or more ID3 frames\n  // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n  do {\n    // determine the number of bytes in this frame\n    frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\n\n    if (frameSize < 1) {\n      return null;\n    }\n\n    frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n    if (frameHeader === 'PRIV') {\n      frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n      for (var i = 0; i < frame.byteLength; i++) {\n        if (frame[i] === 0) {\n          var owner = parseIso88591(frame, 0, i);\n\n          if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var d = frame.subarray(i + 1);\n            var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n            size *= 4;\n            size += d[7] & 0x03;\n            return size;\n          }\n\n          break;\n        }\n      }\n    }\n\n    frameStart += 10; // advance past the frame header\n\n    frameStart += frameSize; // advance past the frame body\n  } while (frameStart < packet.byteLength);\n\n  return null;\n};\n\nmodule.exports = {\n  isLikelyAacData: isLikelyAacData,\n  parseId3TagSize: parseId3TagSize,\n  parseAdtsSize: parseAdtsSize,\n  parseType: parseType,\n  parseSampleRate: parseSampleRate,\n  parseAacTimestamp: parseAacTimestamp\n};","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse the internal MP4 structure into an equivalent javascript\n * object.\n */\n'use strict';\n\nvar inspectMp4,\n    _textifyMp,\n    parseType = require('../mp4/probe').parseType,\n    parseMp4Date = function parseMp4Date(seconds) {\n  return new Date(seconds * 1000 - 2082844800000);\n},\n    parseSampleFlags = function parseSampleFlags(flags) {\n  return {\n    isLeading: (flags[0] & 0x0c) >>> 2,\n    dependsOn: flags[0] & 0x03,\n    isDependedOn: (flags[1] & 0xc0) >>> 6,\n    hasRedundancy: (flags[1] & 0x30) >>> 4,\n    paddingValue: (flags[1] & 0x0e) >>> 1,\n    isNonSyncSample: flags[1] & 0x01,\n    degradationPriority: flags[2] << 8 | flags[3]\n  };\n},\n    nalParse = function nalParse(avcStream) {\n  var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n      result = [],\n      i,\n      length;\n\n  for (i = 0; i + 4 < avcStream.length; i += length) {\n    length = avcView.getUint32(i);\n    i += 4; // bail if this doesn't appear to be an H264 stream\n\n    if (length <= 0) {\n      result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n      continue;\n    }\n\n    switch (avcStream[i] & 0x1F) {\n      case 0x01:\n        result.push('slice_layer_without_partitioning_rbsp');\n        break;\n\n      case 0x05:\n        result.push('slice_layer_without_partitioning_rbsp_idr');\n        break;\n\n      case 0x06:\n        result.push('sei_rbsp');\n        break;\n\n      case 0x07:\n        result.push('seq_parameter_set_rbsp');\n        break;\n\n      case 0x08:\n        result.push('pic_parameter_set_rbsp');\n        break;\n\n      case 0x09:\n        result.push('access_unit_delimiter_rbsp');\n        break;\n\n      default:\n        result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n        break;\n    }\n  }\n\n  return result;\n},\n    // registry of handlers for individual mp4 box types\nparse = {\n  // codingname, not a first-class box type. stsd entries share the\n  // same format as real boxes so the parsing infrastructure can be\n  // shared\n  avc1: function avc1(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      dataReferenceIndex: view.getUint16(6),\n      width: view.getUint16(24),\n      height: view.getUint16(26),\n      horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n      vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n      frameCount: view.getUint16(40),\n      depth: view.getUint16(74),\n      config: inspectMp4(data.subarray(78, data.byteLength))\n    };\n  },\n  avcC: function avcC(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      configurationVersion: data[0],\n      avcProfileIndication: data[1],\n      profileCompatibility: data[2],\n      avcLevelIndication: data[3],\n      lengthSizeMinusOne: data[4] & 0x03,\n      sps: [],\n      pps: []\n    },\n        numOfSequenceParameterSets = data[5] & 0x1f,\n        numOfPictureParameterSets,\n        nalSize,\n        offset,\n        i; // iterate past any SPSs\n\n    offset = 6;\n\n    for (i = 0; i < numOfSequenceParameterSets; i++) {\n      nalSize = view.getUint16(offset);\n      offset += 2;\n      result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n      offset += nalSize;\n    } // iterate past any PPSs\n\n\n    numOfPictureParameterSets = data[offset];\n    offset++;\n\n    for (i = 0; i < numOfPictureParameterSets; i++) {\n      nalSize = view.getUint16(offset);\n      offset += 2;\n      result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n      offset += nalSize;\n    }\n\n    return result;\n  },\n  btrt: function btrt(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      bufferSizeDB: view.getUint32(0),\n      maxBitrate: view.getUint32(4),\n      avgBitrate: view.getUint32(8)\n    };\n  },\n  esds: function esds(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      esId: data[6] << 8 | data[7],\n      streamPriority: data[8] & 0x1f,\n      decoderConfig: {\n        objectProfileIndication: data[11],\n        streamType: data[12] >>> 2 & 0x3f,\n        bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n        maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n        avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n        decoderConfigDescriptor: {\n          tag: data[24],\n          length: data[25],\n          audioObjectType: data[26] >>> 3 & 0x1f,\n          samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n          channelConfiguration: data[27] >>> 3 & 0x0f\n        }\n      }\n    };\n  },\n  ftyp: function ftyp(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      majorBrand: parseType(data.subarray(0, 4)),\n      minorVersion: view.getUint32(4),\n      compatibleBrands: []\n    },\n        i = 8;\n\n    while (i < data.byteLength) {\n      result.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\n      i += 4;\n    }\n\n    return result;\n  },\n  dinf: function dinf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  dref: function dref(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      dataReferences: inspectMp4(data.subarray(8))\n    };\n  },\n  hdlr: function hdlr(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      handlerType: parseType(data.subarray(8, 12)),\n      name: ''\n    },\n        i = 8; // parse out the name field\n\n    for (i = 24; i < data.byteLength; i++) {\n      if (data[i] === 0x00) {\n        // the name field is null-terminated\n        i++;\n        break;\n      }\n\n      result.name += String.fromCharCode(data[i]);\n    } // decode UTF-8 to javascript's internal representation\n    // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n    result.name = decodeURIComponent(escape(result.name));\n    return result;\n  },\n  mdat: function mdat(data) {\n    return {\n      byteLength: data.byteLength,\n      nals: nalParse(data)\n    };\n  },\n  mdhd: function mdhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        language,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      language: ''\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n    // each field is the packed difference between its ASCII value and 0x60\n\n    language = view.getUint16(i);\n    result.language += String.fromCharCode((language >> 10) + 0x60);\n    result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n    result.language += String.fromCharCode((language & 0x1f) + 0x60);\n    return result;\n  },\n  mdia: function mdia(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mfhd: function mfhd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n    };\n  },\n  minf: function minf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  // codingname, not a first-class box type. stsd entries share the\n  // same format as real boxes so the parsing infrastructure can be\n  // shared\n  mp4a: function mp4a(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      // 6 bytes reserved\n      dataReferenceIndex: view.getUint16(6),\n      // 4 + 4 bytes reserved\n      channelcount: view.getUint16(16),\n      samplesize: view.getUint16(18),\n      // 2 bytes pre_defined\n      // 2 bytes reserved\n      samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n    }; // if there are more bytes to process, assume this is an ISO/IEC\n    // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n    if (data.byteLength > 28) {\n      result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n    }\n\n    return result;\n  },\n  moof: function moof(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  moov: function moov(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mvex: function mvex(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mvhd: function mvhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4; // convert fixed-point, base 16 back to a number\n\n    result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    i += 4;\n    result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n    i += 2;\n    i += 2;\n    i += 2 * 4;\n    result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n    i += 9 * 4;\n    i += 6 * 4;\n    result.nextTrackId = view.getUint32(i);\n    return result;\n  },\n  pdin: function pdin(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      rate: view.getUint32(4),\n      initialDelay: view.getUint32(8)\n    };\n  },\n  sdtp: function sdtp(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      samples: []\n    },\n        i;\n\n    for (i = 4; i < data.byteLength; i++) {\n      result.samples.push({\n        dependsOn: (data[i] & 0x30) >> 4,\n        isDependedOn: (data[i] & 0x0c) >> 2,\n        hasRedundancy: data[i] & 0x03\n      });\n    }\n\n    return result;\n  },\n  sidx: function sidx(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      references: [],\n      referenceId: view.getUint32(4),\n      timescale: view.getUint32(8),\n      earliestPresentationTime: view.getUint32(12),\n      firstOffset: view.getUint32(16)\n    },\n        referenceCount = view.getUint16(22),\n        i;\n\n    for (i = 24; referenceCount; i += 12, referenceCount--) {\n      result.references.push({\n        referenceType: (data[i] & 0x80) >>> 7,\n        referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n        subsegmentDuration: view.getUint32(i + 4),\n        startsWithSap: !!(data[i + 8] & 0x80),\n        sapType: (data[i + 8] & 0x70) >>> 4,\n        sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n      });\n    }\n\n    return result;\n  },\n  smhd: function smhd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      balance: data[4] + data[5] / 256\n    };\n  },\n  stbl: function stbl(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  stco: function stco(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      chunkOffsets: []\n    },\n        entryCount = view.getUint32(4),\n        i;\n\n    for (i = 8; entryCount; i += 4, entryCount--) {\n      result.chunkOffsets.push(view.getUint32(i));\n    }\n\n    return result;\n  },\n  stsc: function stsc(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        entryCount = view.getUint32(4),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleToChunks: []\n    },\n        i;\n\n    for (i = 8; entryCount; i += 12, entryCount--) {\n      result.sampleToChunks.push({\n        firstChunk: view.getUint32(i),\n        samplesPerChunk: view.getUint32(i + 4),\n        sampleDescriptionIndex: view.getUint32(i + 8)\n      });\n    }\n\n    return result;\n  },\n  stsd: function stsd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleDescriptions: inspectMp4(data.subarray(8))\n    };\n  },\n  stsz: function stsz(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleSize: view.getUint32(4),\n      entries: []\n    },\n        i;\n\n    for (i = 12; i < data.byteLength; i += 4) {\n      result.entries.push(view.getUint32(i));\n    }\n\n    return result;\n  },\n  stts: function stts(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      timeToSamples: []\n    },\n        entryCount = view.getUint32(4),\n        i;\n\n    for (i = 8; entryCount; i += 8, entryCount--) {\n      result.timeToSamples.push({\n        sampleCount: view.getUint32(i),\n        sampleDelta: view.getUint32(i + 4)\n      });\n    }\n\n    return result;\n  },\n  styp: function styp(data) {\n    return parse.ftyp(data);\n  },\n  tfdt: function tfdt(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n    };\n\n    if (result.version === 1) {\n      result.baseMediaDecodeTime *= Math.pow(2, 32);\n      result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n    }\n\n    return result;\n  },\n  tfhd: function tfhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      trackId: view.getUint32(4)\n    },\n        baseDataOffsetPresent = result.flags[2] & 0x01,\n        sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n        defaultSampleDurationPresent = result.flags[2] & 0x08,\n        defaultSampleSizePresent = result.flags[2] & 0x10,\n        defaultSampleFlagsPresent = result.flags[2] & 0x20,\n        durationIsEmpty = result.flags[0] & 0x010000,\n        defaultBaseIsMoof = result.flags[0] & 0x020000,\n        i;\n    i = 8;\n\n    if (baseDataOffsetPresent) {\n      i += 4; // truncate top 4 bytes\n      // FIXME: should we read the full 64 bits?\n\n      result.baseDataOffset = view.getUint32(12);\n      i += 4;\n    }\n\n    if (sampleDescriptionIndexPresent) {\n      result.sampleDescriptionIndex = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleDurationPresent) {\n      result.defaultSampleDuration = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleSizePresent) {\n      result.defaultSampleSize = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleFlagsPresent) {\n      result.defaultSampleFlags = view.getUint32(i);\n    }\n\n    if (durationIsEmpty) {\n      result.durationIsEmpty = true;\n    }\n\n    if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n      result.baseDataOffsetIsMoof = true;\n    }\n\n    return result;\n  },\n  tkhd: function tkhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.trackId = view.getUint32(i);\n      i += 4;\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.trackId = view.getUint32(i);\n      i += 4;\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4;\n    i += 2 * 4;\n    result.layer = view.getUint16(i);\n    i += 2;\n    result.alternateGroup = view.getUint16(i);\n    i += 2; // convert fixed-point, base 16 back to a number\n\n    result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n    i += 2;\n    i += 2;\n    result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n    i += 9 * 4;\n    result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    i += 4;\n    result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    return result;\n  },\n  traf: function traf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  trak: function trak(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  trex: function trex(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      trackId: view.getUint32(4),\n      defaultSampleDescriptionIndex: view.getUint32(8),\n      defaultSampleDuration: view.getUint32(12),\n      defaultSampleSize: view.getUint32(16),\n      sampleDependsOn: data[20] & 0x03,\n      sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n      sampleHasRedundancy: (data[21] & 0x30) >> 4,\n      samplePaddingValue: (data[21] & 0x0e) >> 1,\n      sampleIsDifferenceSample: !!(data[21] & 0x01),\n      sampleDegradationPriority: view.getUint16(22)\n    };\n  },\n  trun: function trun(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      samples: []\n    },\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        // Flag interpretation\n    dataOffsetPresent = result.flags[2] & 0x01,\n        // compare with 2nd byte of 0x1\n    firstSampleFlagsPresent = result.flags[2] & 0x04,\n        // compare with 2nd byte of 0x4\n    sampleDurationPresent = result.flags[1] & 0x01,\n        // compare with 2nd byte of 0x100\n    sampleSizePresent = result.flags[1] & 0x02,\n        // compare with 2nd byte of 0x200\n    sampleFlagsPresent = result.flags[1] & 0x04,\n        // compare with 2nd byte of 0x400\n    sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n        // compare with 2nd byte of 0x800\n    sampleCount = view.getUint32(4),\n        offset = 8,\n        sample;\n\n    if (dataOffsetPresent) {\n      // 32 bit signed integer\n      result.dataOffset = view.getInt32(offset);\n      offset += 4;\n    } // Overrides the flags for the first sample only. The order of\n    // optional values will be: duration, size, compositionTimeOffset\n\n\n    if (firstSampleFlagsPresent && sampleCount) {\n      sample = {\n        flags: parseSampleFlags(data.subarray(offset, offset + 4))\n      };\n      offset += 4;\n\n      if (sampleDurationPresent) {\n        sample.duration = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleSizePresent) {\n        sample.size = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleCompositionTimeOffsetPresent) {\n        // Note: this should be a signed int if version is 1\n        sample.compositionTimeOffset = view.getUint32(offset);\n        offset += 4;\n      }\n\n      result.samples.push(sample);\n      sampleCount--;\n    }\n\n    while (sampleCount--) {\n      sample = {};\n\n      if (sampleDurationPresent) {\n        sample.duration = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleSizePresent) {\n        sample.size = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleFlagsPresent) {\n        sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n        offset += 4;\n      }\n\n      if (sampleCompositionTimeOffsetPresent) {\n        // Note: this should be a signed int if version is 1\n        sample.compositionTimeOffset = view.getUint32(offset);\n        offset += 4;\n      }\n\n      result.samples.push(sample);\n    }\n\n    return result;\n  },\n  'url ': function url(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n  },\n  vmhd: function vmhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      graphicsmode: view.getUint16(4),\n      opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n    };\n  }\n};\n/**\n * Return a javascript array of box objects parsed from an ISO base\n * media file.\n * @param data {Uint8Array} the binary data of the media to be inspected\n * @return {array} a javascript array of potentially nested box objects\n */\n\n\ninspectMp4 = function inspectMp4(data) {\n  var i = 0,\n      result = [],\n      view,\n      size,\n      type,\n      end,\n      box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n  var ab = new ArrayBuffer(data.length);\n  var v = new Uint8Array(ab);\n\n  for (var z = 0; z < data.length; ++z) {\n    v[z] = data[z];\n  }\n\n  view = new DataView(ab);\n\n  while (i < data.byteLength) {\n    // parse box data\n    size = view.getUint32(i);\n    type = parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n    box = (parse[type] || function (data) {\n      return {\n        data: data\n      };\n    })(data.subarray(i + 8, end));\n\n    box.size = size;\n    box.type = type; // store this box and move to the next\n\n    result.push(box);\n    i = end;\n  }\n\n  return result;\n};\n/**\n * Returns a textual representation of the javascript represtentation\n * of an MP4 file. You can use it as an alternative to\n * JSON.stringify() to compare inspected MP4s.\n * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n * file\n * @param depth {number} (optional) the number of ancestor boxes of\n * the elements of inspectedMp4. Assumed to be zero if unspecified.\n * @return {string} a text representation of the parsed MP4\n */\n\n\n_textifyMp = function textifyMp4(inspectedMp4, depth) {\n  var indent;\n  depth = depth || 0;\n  indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n  return inspectedMp4.map(function (box, index) {\n    // list the box type first at the current indentation level\n    return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n    Object.keys(box).filter(function (key) {\n      return key !== 'type' && key !== 'boxes'; // output all the box properties\n    }).map(function (key) {\n      var prefix = indent + '  ' + key + ': ',\n          value = box[key]; // print out raw bytes as hexademical\n\n      if (value instanceof Uint8Array || value instanceof Uint32Array) {\n        var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (_byte) {\n          return ' ' + ('00' + _byte.toString(16)).slice(-2);\n        }).join('').match(/.{1,24}/g);\n\n        if (!bytes) {\n          return prefix + '<>';\n        }\n\n        if (bytes.length === 1) {\n          return prefix + '<' + bytes.join('').slice(1) + '>';\n        }\n\n        return prefix + '<\\n' + bytes.map(function (line) {\n          return indent + '  ' + line;\n        }).join('\\n') + '\\n' + indent + '  >';\n      } // stringify generic objects\n\n\n      return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n        if (index === 0) {\n          return line;\n        }\n\n        return indent + '  ' + line;\n      }).join('\\n');\n    }).join('\\n') + ( // recursively textify the child boxes\n    box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n  }).join('\\n');\n};\n\nmodule.exports = {\n  inspect: inspectMp4,\n  textify: _textifyMp,\n  parseTfdt: parse.tfdt,\n  parseHdlr: parse.hdlr,\n  parseTfhd: parse.tfhd,\n  parseTrun: parse.trun,\n  parseSidx: parse.sidx\n};","\"use strict\";\n\nvar window = require(\"global/window\");\n\nvar isFunction = require(\"is-function\");\n\nvar parseHeaders = require(\"parse-headers\");\n\nvar xtend = require(\"xtend\");\n\nmodule.exports = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop;\ncreateXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window.XDomainRequest;\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n  createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n    options = initParams(uri, options, callback);\n    options.method = method.toUpperCase();\n    return _createXHR(options);\n  };\n});\n\nfunction forEachArray(array, iterator) {\n  for (var i = 0; i < array.length; i++) {\n    iterator(array[i]);\n  }\n}\n\nfunction isEmpty(obj) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) return false;\n  }\n\n  return true;\n}\n\nfunction initParams(uri, options, callback) {\n  var params = uri;\n\n  if (isFunction(options)) {\n    callback = options;\n\n    if (typeof uri === \"string\") {\n      params = {\n        uri: uri\n      };\n    }\n  } else {\n    params = xtend(options, {\n      uri: uri\n    });\n  }\n\n  params.callback = callback;\n  return params;\n}\n\nfunction createXHR(uri, options, callback) {\n  options = initParams(uri, options, callback);\n  return _createXHR(options);\n}\n\nfunction _createXHR(options) {\n  if (typeof options.callback === \"undefined\") {\n    throw new Error(\"callback argument missing\");\n  }\n\n  var called = false;\n\n  var callback = function cbOnce(err, response, body) {\n    if (!called) {\n      called = true;\n      options.callback(err, response, body);\n    }\n  };\n\n  function readystatechange() {\n    if (xhr.readyState === 4) {\n      setTimeout(loadFunc, 0);\n    }\n  }\n\n  function getBody() {\n    // Chrome with requestType=blob throws errors arround when even testing access to responseText\n    var body = undefined;\n\n    if (xhr.response) {\n      body = xhr.response;\n    } else {\n      body = xhr.responseText || getXml(xhr);\n    }\n\n    if (isJson) {\n      try {\n        body = JSON.parse(body);\n      } catch (e) {}\n    }\n\n    return body;\n  }\n\n  function errorFunc(evt) {\n    clearTimeout(timeoutTimer);\n\n    if (!(evt instanceof Error)) {\n      evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n    }\n\n    evt.statusCode = 0;\n    return callback(evt, failureResponse);\n  } // will load the data & process the response in a special response object\n\n\n  function loadFunc() {\n    if (aborted) return;\n    var status;\n    clearTimeout(timeoutTimer);\n\n    if (options.useXDR && xhr.status === undefined) {\n      //IE8 CORS GET successful response doesn't have a status field, but body is fine\n      status = 200;\n    } else {\n      status = xhr.status === 1223 ? 204 : xhr.status;\n    }\n\n    var response = failureResponse;\n    var err = null;\n\n    if (status !== 0) {\n      response = {\n        body: getBody(),\n        statusCode: status,\n        method: method,\n        headers: {},\n        url: uri,\n        rawRequest: xhr\n      };\n\n      if (xhr.getAllResponseHeaders) {\n        //remember xhr can in fact be XDR for CORS in IE\n        response.headers = parseHeaders(xhr.getAllResponseHeaders());\n      }\n    } else {\n      err = new Error(\"Internal XMLHttpRequest Error\");\n    }\n\n    return callback(err, response, response.body);\n  }\n\n  var xhr = options.xhr || null;\n\n  if (!xhr) {\n    if (options.cors || options.useXDR) {\n      xhr = new createXHR.XDomainRequest();\n    } else {\n      xhr = new createXHR.XMLHttpRequest();\n    }\n  }\n\n  var key;\n  var aborted;\n  var uri = xhr.url = options.uri || options.url;\n  var method = xhr.method = options.method || \"GET\";\n  var body = options.body || options.data;\n  var headers = xhr.headers = options.headers || {};\n  var sync = !!options.sync;\n  var isJson = false;\n  var timeoutTimer;\n  var failureResponse = {\n    body: undefined,\n    headers: {},\n    statusCode: 0,\n    method: method,\n    url: uri,\n    rawRequest: xhr\n  };\n\n  if (\"json\" in options && options.json !== false) {\n    isJson = true;\n    headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n    if (method !== \"GET\" && method !== \"HEAD\") {\n      headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      body = JSON.stringify(options.json === true ? body : options.json);\n    }\n  }\n\n  xhr.onreadystatechange = readystatechange;\n  xhr.onload = loadFunc;\n  xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n  xhr.onprogress = function () {// IE must die\n  };\n\n  xhr.onabort = function () {\n    aborted = true;\n  };\n\n  xhr.ontimeout = errorFunc;\n  xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n  if (!sync) {\n    xhr.withCredentials = !!options.withCredentials;\n  } // Cannot set timeout with sync request\n  // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n  // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n  if (!sync && options.timeout > 0) {\n    timeoutTimer = setTimeout(function () {\n      if (aborted) return;\n      aborted = true; //IE9 may still call readystatechange\n\n      xhr.abort(\"timeout\");\n      var e = new Error(\"XMLHttpRequest timeout\");\n      e.code = \"ETIMEDOUT\";\n      errorFunc(e);\n    }, options.timeout);\n  }\n\n  if (xhr.setRequestHeader) {\n    for (key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (options.headers && !isEmpty(options.headers)) {\n    throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n  }\n\n  if (\"responseType\" in options) {\n    xhr.responseType = options.responseType;\n  }\n\n  if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n    options.beforeSend(xhr);\n  } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n  // XMLHttpRequest spec says to pass null as body to indicate no body\n  // See https://github.com/naugtur/xhr/issues/100.\n\n\n  xhr.send(body || null);\n  return xhr;\n}\n\nfunction getXml(xhr) {\n  if (xhr.responseType === \"document\") {\n    return xhr.responseXML;\n  }\n\n  var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n  if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n    return xhr.responseXML;\n  }\n\n  return null;\n}\n\nfunction noop() {}","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Default exports for Node. Export the extended versions of VTTCue and\n// VTTRegion in Node since we likely want the capability to convert back and\n// forth between JSON. If we don't then it's not that big of a deal since we're\n// off browser.\nvar window = require('global/window');\n\nvar vttjs = module.exports = {\n  WebVTT: require(\"./vtt.js\"),\n  VTTCue: require(\"./vttcue.js\"),\n  VTTRegion: require(\"./vttregion.js\")\n};\nwindow.vttjs = vttjs;\nwindow.WebVTT = vttjs.WebVTT;\nvar cueShim = vttjs.VTTCue;\nvar regionShim = vttjs.VTTRegion;\nvar nativeVTTCue = window.VTTCue;\nvar nativeVTTRegion = window.VTTRegion;\n\nvttjs.shim = function () {\n  window.VTTCue = cueShim;\n  window.VTTRegion = regionShim;\n};\n\nvttjs.restore = function () {\n  window.VTTCue = nativeVTTCue;\n  window.VTTRegion = nativeVTTRegion;\n};\n\nif (!window.VTTCue) {\n  vttjs.shim();\n}","// see https://tools.ietf.org/html/rfc1808\n\n/* jshint ignore:start */\n(function (root) {\n  /* jshint ignore:end */\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n  var URLToolkit = {\n    // jshint ignore:line\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n      opts = opts || {}; // remove any remaining space and CRLF\n\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n\n      var baseParts = URLToolkit.parseURL(baseURL);\n\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function parseURL(url) {\n      var parts = URL_REGEX.exec(url);\n\n      if (!parts) {\n        return null;\n      }\n\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function normalizePath(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function buildURLFromParts(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n  /* jshint ignore:start */\n\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = URLToolkit;else if (typeof define === 'function' && define.amd) define([], function () {\n    return URLToolkit;\n  });else if (typeof exports === 'object') exports[\"URLToolkit\"] = URLToolkit;else root[\"URLToolkit\"] = URLToolkit;\n})(this);\n/* jshint ignore:end */","var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport propTypes from \"prop-types\";\nimport React, { PureComponent } from \"react\";\nimport \"../pannellum/css/pannellum.css\";\nimport \"../pannellum/css/style-textInfo.css\";\nimport \"../pannellum/js/libpannellum.js\";\nimport \"../pannellum/js/pannellum.js\";\nimport \"../pannellum/js/RequestAnimationFrame\";\nvar Pannellum = (_temp = _class = function (_PureComponent) {\n  _inherits(Pannellum, _PureComponent);\n\n  function Pannellum(props) {\n    _classCallCheck(this, Pannellum);\n\n    var _this = _possibleConstructorReturn(this, _PureComponent.call(this, props));\n\n    _this.renderImage = function (state) {\n      var children = _this.props.children; // make the array of sub components, even if its one, it become array of one\n\n      var hotspots = [].concat(children);\n      var hotspotArray = [];\n\n      if (Array.isArray(hotspots)) {\n        hotspots.map(function (hotspot) {\n          switch (hotspot.props.type) {\n            case \"info\":\n              return hotspotArray.push({\n                id: Math.random().toString(36).substr(2, 9),\n                type: hotspot.props.type,\n                pitch: hotspot.props.pitch ? hotspot.props.pitch : 10,\n                yaw: hotspot.props.yaw ? hotspot.props.yaw : 10,\n                text: hotspot.props.text ? hotspot.props.text : \"\",\n                URL: hotspot.props.URL ? hotspot.props.URL : \"\"\n              });\n\n            case \"custom\":\n              return hotspotArray.push({\n                id: Math.random().toString(36).substr(2, 9),\n                pitch: hotspot.props.pitch ? hotspot.props.pitch : 10,\n                yaw: hotspot.props.yaw ? hotspot.props.yaw : 10,\n                cssClass: hotspot.props.cssClass ? hotspot.props.cssClass : \"tooltipcss\",\n                createTooltipFunc: hotspot.props.tooltip ? hotspot.props.tooltip : _this.hotspotTooltip,\n                createTooltipArgs: hotspot.props.tooltipArg ? hotspot.props.tooltipArg : {},\n                clickHandlerFunc: hotspot.props.handleClick ? hotspot.props.handleClick : _this.handleClickHotspot,\n                clickHandlerArgs: hotspot.props.handleClickArg ? hotspot.props.handleClickArg : {\n                  name: \"test\"\n                }\n              });\n\n            default:\n              return [];\n          }\n        });\n      }\n\n      var jsonConfig = {\n        type: \"equirectangular\",\n        panorama: _this.props.image,\n        haov: _this.props.haov,\n        vaov: _this.props.vaov,\n        vOffset: _this.props.vOffset,\n        yaw: _this.props.yaw,\n        pitch: _this.props.pitch,\n        hfov: _this.props.hfov,\n        minHfov: _this.props.minHfov,\n        maxHfov: _this.props.maxHfov,\n        minPitch: _this.props.minPitch,\n        maxPitch: _this.props.maxPitch,\n        minYaw: _this.props.minYaw,\n        maxYaw: _this.props.maxYaw,\n        autoRotate: _this.props.autoRotate,\n        compass: _this.props.compass,\n        preview: _this.props.preview,\n        previewTitle: _this.props.previewTitle,\n        previewAuthor: _this.props.previewAuthor,\n        author: _this.props.author,\n        title: _this.props.title,\n        autoLoad: _this.props.autoLoad,\n        orientationOnByDefault: _this.props.orientationOnByDefault,\n        showZoomCtrl: _this.props.showZoomCtrl,\n        keyboardZoom: _this.props.keyboardZoom,\n        mouseZoom: _this.props.mouseZoom,\n        draggable: _this.props.draggable,\n        disableKeyboardCtrl: _this.props.disableKeyboardCtrl,\n        showFullscreenCtrl: _this.props.showFullscreenCtrl,\n        showControls: _this.props.showControls,\n        hotSpotDebug: _this.props.hotspotDebug,\n        hotSpots: hotspotArray,\n        onRender: _this.props.onRender\n      };\n      Object.keys(jsonConfig).forEach(function (key) {\n        return jsonConfig[key] === \"\" && delete jsonConfig[key];\n      }); // this.setState({ jsonConfig });\n\n      if (state === \"update\") {\n        _this.panorama.destroy();\n      }\n\n      _this.panorama = pannellum.viewer(_this.props.id ? _this.props.id : _this.state.id, jsonConfig);\n\n      _this.panorama.on(\"load\", _this.props.onLoad);\n\n      _this.panorama.on(\"scenechange\", _this.props.onScenechange);\n\n      _this.panorama.on(\"scenechangefadedone\", _this.props.onScenechangefadedone);\n\n      _this.panorama.on(\"error\", _this.props.onError);\n\n      _this.panorama.on(\"errorcleared\", _this.props.onErrorcleared);\n\n      _this.panorama.on(\"mousedown\", _this.props.onMousedown);\n\n      _this.panorama.on(\"mouseup\", _this.props.onMouseup);\n\n      _this.panorama.on(\"touchstart\", _this.props.onTouchstart);\n\n      _this.panorama.on(\"touchend\", _this.props.onTouchend);\n    };\n\n    _this.componentDidMount = function () {\n      _this.renderImage(\"mount\");\n    };\n\n    _this.handleClickHotspot = function (e, args) {\n      console.log(\"hotspot clicked\", args.name);\n    };\n\n    _this.hotspotTooltip = function (hotSpotDiv, args) {\n      hotSpotDiv.setAttribute(\"id\", \"textInfo\");\n      var hDiv = document.createElement(\"div\");\n      hDiv.classList.add(\"hotspot\");\n      var outDiv = document.createElement(\"div\");\n      outDiv.classList.add(\"out\");\n      var inDiv = document.createElement(\"div\");\n      inDiv.classList.add(\"in\");\n      var imageDiv = document.createElement(\"div\");\n      imageDiv.classList.add(\"image\");\n      hotSpotDiv.appendChild(hDiv);\n      hDiv.appendChild(inDiv);\n      hDiv.appendChild(outDiv);\n    };\n\n    _this.getViewer = function () {\n      return _this.panorama;\n    };\n\n    _this.forceRender = function () {\n      _this.renderImage(\"update\");\n    };\n\n    _this.state = {\n      id: Math.random().toString(36).substr(2, 9)\n    };\n    return _this;\n  }\n\n  Pannellum.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.image !== this.props.image || prevProps.width !== this.props.width || prevProps.height !== this.props.height || prevProps.compass !== this.props.compass || prevProps.title !== this.props.title || prevProps.author !== this.props.author || prevProps.preview !== this.props.preview || prevProps.previewTitle !== this.props.previewTitle || prevProps.previewAuthor !== this.props.previewAuthor || prevProps.showZoomCtrl !== this.props.showZoomCtrl || prevProps.showFullscreenCtrl !== this.props.showFullscreenCtrl || prevProps.showControls !== this.props.showControls || prevProps.children.length !== this.props.children.length) {\n      this.renderImage(\"update\");\n    }\n\n    if (prevProps.maxYaw !== this.props.maxYaw || prevProps.minYaw !== this.props.minYaw || prevProps.maxPitch !== this.props.maxPitch || prevProps.minPitch !== this.props.minPitch || prevProps.maxHfov !== this.props.maxHfov || prevProps.minHfov !== this.props.minHfov) {\n      this.panorama.setYawBounds([this.props.minYaw, this.props.maxYaw]);\n      this.panorama.setPitchBounds([this.props.minPitch, this.props.maxPitch]);\n      this.panorama.setHfovBounds([this.props.minHfov, this.props.maxHfov]);\n    }\n\n    if (prevProps.yaw !== this.props.yaw) {\n      this.panorama.setYaw(this.props.yaw);\n    }\n\n    if (prevProps.pitch !== this.props.pitch) {\n      this.panorama.setPitch(this.props.pitch);\n    }\n\n    if (prevProps.hfov !== this.props.hfov) {\n      this.panorama.setHfov(this.props.hfov);\n    }\n  };\n\n  Pannellum.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        width = _props.width,\n        height = _props.height;\n    var divStyle = {\n      width: width,\n      height: height\n    };\n    return React.createElement(\"div\", {\n      id: this.props.id ? this.props.id : this.state.id,\n      style: divStyle,\n      ref: function ref(node) {\n        return _this2.imageNode = node;\n      }\n    });\n  };\n\n  return Pannellum;\n}(PureComponent), _class.defaultProps = {\n  children: [],\n  width: \"100%\",\n  height: \"400px\",\n  image: \"\",\n  haov: 360,\n  vaov: 180,\n  vOffset: 0,\n  yaw: 0,\n  pitch: 0,\n  hfov: 100,\n  minHfov: 50,\n  maxHfov: 150,\n  minPitch: -90,\n  maxPitch: 90,\n  minYaw: -180,\n  maxYaw: 180,\n  autoRotate: 0,\n  compass: false,\n  preview: \"\",\n  previewTitle: \"\",\n  previewAuthor: \"\",\n  title: \"\",\n  author: \"\",\n  autoLoad: false,\n  orientationOnByDefault: false,\n  showZoomCtrl: true,\n  keyboardZoom: true,\n  mouseZoom: true,\n  draggable: true,\n  disableKeyboardCtrl: false,\n  showFullscreenCtrl: true,\n  showControls: true,\n  onLoad: function onLoad() {},\n  onScenechange: function onScenechange() {},\n  onScenechangefadedone: function onScenechangefadedone() {},\n  onError: function onError() {},\n  onErrorcleared: function onErrorcleared() {},\n  onMousedown: function onMousedown() {},\n  onMouseup: function onMouseup() {},\n  onTouchstart: function onTouchstart() {},\n  onTouchend: function onTouchend() {},\n  hotspotDebug: false,\n  onRender: null\n}, _temp);\nPannellum.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: propTypes.oneOfType([propTypes.arrayOf(propTypes.node), propTypes.node]),\n  id: propTypes.string,\n  width: propTypes.string,\n  height: propTypes.string,\n  image: propTypes.string,\n  haov: propTypes.number,\n  vaov: propTypes.number,\n  vOffset: propTypes.number,\n  yaw: propTypes.number,\n  pitch: propTypes.number,\n  hfov: propTypes.number,\n  minHfov: propTypes.number,\n  maxHfov: propTypes.number,\n  minPitch: propTypes.number,\n  maxPitch: propTypes.number,\n  minYaw: propTypes.number,\n  maxYaw: propTypes.number,\n  autoRotate: propTypes.number,\n  compass: propTypes.bool,\n  preview: propTypes.string,\n  previewTitle: propTypes.string,\n  previewAuthor: propTypes.string,\n  title: propTypes.string,\n  author: propTypes.string,\n  autoLoad: propTypes.bool,\n  orientationOnByDefault: propTypes.bool,\n  showZoomCtrl: propTypes.bool,\n  keyboardZoom: propTypes.bool,\n  mouseZoom: propTypes.bool,\n  draggable: propTypes.bool,\n  disableKeyboardCtrl: propTypes.bool,\n  showFullscreenCtrl: propTypes.bool,\n  showControls: propTypes.bool,\n  onLoad: propTypes.func,\n  onScenechange: propTypes.func,\n  onScenechangefadedone: propTypes.func,\n  onError: propTypes.func,\n  onErrorcleared: propTypes.func,\n  onMousedown: propTypes.func,\n  onMouseup: propTypes.func,\n  onTouchstart: propTypes.func,\n  onTouchend: propTypes.func,\n  hotspotDebug: propTypes.bool,\n  tooltip: propTypes.func,\n  tooltipArg: propTypes.object,\n  handleClick: propTypes.func,\n  handleClickArg: propTypes.object,\n  cssClass: propTypes.string,\n  onRender: propTypes.func\n} : {};\n\nPannellum.Hotspot = function () {};\n\nPannellum.Hotspot = function () {};\n\nexport default Pannellum;","/*! @name m3u8-parser @version 4.3.0 @license Apache-2.0 */\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implementation that handles event dispatching.\n *\n * @class Stream\n */\n\n\nvar Stream =\n/*#__PURE__*/\nfunction () {\n  function Stream() {\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  var _proto = Stream.prototype;\n\n  _proto.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  };\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {boolean} if we could turn it off or not\n   */\n\n\n  _proto.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  };\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {string} type the event name\n   */\n\n\n  _proto.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n    var i;\n    var length;\n    var args;\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      args = Array.prototype.slice.call(arguments, 1);\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n  };\n  /**\n   * Destroys the stream and cleans up.\n   */\n\n\n  _proto.dispose = function dispose() {\n    this.listeners = {};\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  _proto.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n/**\n * A stream that buffers string input and generates a `data` event for each\n * line.\n *\n * @class LineStream\n * @extends Stream\n */\n\n\nvar LineStream =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(LineStream, _Stream);\n\n  function LineStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.buffer = '';\n    return _this;\n  }\n  /**\n   * Add new data to be parsed.\n   *\n   * @param {string} data the text to process\n   */\n\n\n  var _proto = LineStream.prototype;\n\n  _proto.push = function push(data) {\n    var nextNewline;\n    this.buffer += data;\n    nextNewline = this.buffer.indexOf('\\n');\n\n    for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n      this.trigger('data', this.buffer.substring(0, nextNewline));\n      this.buffer = this.buffer.substring(nextNewline + 1);\n    }\n  };\n\n  return LineStream;\n}(Stream);\n/**\n * \"forgiving\" attribute list psuedo-grammar:\n * attributes -> keyvalue (',' keyvalue)*\n * keyvalue   -> key '=' value\n * key        -> [^=]*\n * value      -> '\"' [^\"]* '\"' | [^,]*\n */\n\n\nvar attributeSeparator = function attributeSeparator() {\n  var key = '[^=]*';\n  var value = '\"[^\"]*\"|[^,]*';\n  var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n  return new RegExp('(?:^|,)(' + keyvalue + ')');\n};\n/**\n * Parse attributes from a line given the separator\n *\n * @param {string} attributes the attribute line to parse\n */\n\n\nvar parseAttributes = function parseAttributes(attributes) {\n  // split the string using attributes as the separator\n  var attrs = attributes.split(attributeSeparator());\n  var result = {};\n  var i = attrs.length;\n  var attr;\n\n  while (i--) {\n    // filter out unmatched portions of the string\n    if (attrs[i] === '') {\n      continue;\n    } // split the key and value\n\n\n    attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n    attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n    result[attr[0]] = attr[1];\n  }\n\n  return result;\n};\n/**\n * A line-level M3U8 parser event stream. It expects to receive input one\n * line at a time and performs a context-free parse of its contents. A stream\n * interpretation of a manifest can be useful if the manifest is expected to\n * be too large to fit comfortably into memory or the entirety of the input\n * is not immediately available. Otherwise, it's probably much easier to work\n * with a regular `Parser` object.\n *\n * Produces `data` events with an object that captures the parser's\n * interpretation of the input. That object has a property `tag` that is one\n * of `uri`, `comment`, or `tag`. URIs only have a single additional\n * property, `line`, which captures the entirety of the input without\n * interpretation. Comments similarly have a single additional property\n * `text` which is the input without the leading `#`.\n *\n * Tags always have a property `tagType` which is the lower-cased version of\n * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n * tags are given the tag type `unknown` and a single additional property\n * `data` with the remainder of the input.\n *\n * @class ParseStream\n * @extends Stream\n */\n\n\nvar ParseStream =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(ParseStream, _Stream);\n\n  function ParseStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.customParsers = [];\n    _this.tagMappers = [];\n    return _this;\n  }\n  /**\n   * Parses an additional line of input.\n   *\n   * @param {string} line a single line of an M3U8 file to parse\n   */\n\n\n  var _proto = ParseStream.prototype;\n\n  _proto.push = function push(line) {\n    var _this2 = this;\n\n    var match;\n    var event; // strip whitespace\n\n    line = line.trim();\n\n    if (line.length === 0) {\n      // ignore empty lines\n      return;\n    } // URIs\n\n\n    if (line[0] !== '#') {\n      this.trigger('data', {\n        type: 'uri',\n        uri: line\n      });\n      return;\n    } // map tags\n\n\n    var newLines = this.tagMappers.reduce(function (acc, mapper) {\n      var mappedLine = mapper(line); // skip if unchanged\n\n      if (mappedLine === line) {\n        return acc;\n      }\n\n      return acc.concat([mappedLine]);\n    }, [line]);\n    newLines.forEach(function (newLine) {\n      for (var i = 0; i < _this2.customParsers.length; i++) {\n        if (_this2.customParsers[i].call(_this2, newLine)) {\n          return;\n        }\n      } // Comments\n\n\n      if (newLine.indexOf('#EXT') !== 0) {\n        _this2.trigger('data', {\n          type: 'comment',\n          text: newLine.slice(1)\n        });\n\n        return;\n      } // strip off any carriage returns here so the regex matching\n      // doesn't have to account for them.\n\n\n      newLine = newLine.replace('\\r', ''); // Tags\n\n      match = /^#EXTM3U/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'm3u'\n        });\n\n        return;\n      }\n\n      match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'inf'\n        };\n\n        if (match[1]) {\n          event.duration = parseFloat(match[1]);\n        }\n\n        if (match[2]) {\n          event.title = match[2];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'targetduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'totalduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'version'\n        };\n\n        if (match[1]) {\n          event.version = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'discontinuity-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'playlist-type'\n        };\n\n        if (match[1]) {\n          event.playlistType = match[1];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'byterange'\n        };\n\n        if (match[1]) {\n          event.length = parseInt(match[1], 10);\n        }\n\n        if (match[2]) {\n          event.offset = parseInt(match[2], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'allow-cache'\n        };\n\n        if (match[1]) {\n          event.allowed = !/NO/.test(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'map'\n        };\n\n        if (match[1]) {\n          var attributes = parseAttributes(match[1]);\n\n          if (attributes.URI) {\n            event.uri = attributes.URI;\n          }\n\n          if (attributes.BYTERANGE) {\n            var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                length = _attributes$BYTERANGE[0],\n                offset = _attributes$BYTERANGE[1];\n\n            event.byterange = {};\n\n            if (length) {\n              event.byterange.length = parseInt(length, 10);\n            }\n\n            if (offset) {\n              event.byterange.offset = parseInt(offset, 10);\n            }\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'stream-inf'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n\n          if (event.attributes.RESOLUTION) {\n            var split = event.attributes.RESOLUTION.split('x');\n            var resolution = {};\n\n            if (split[0]) {\n              resolution.width = parseInt(split[0], 10);\n            }\n\n            if (split[1]) {\n              resolution.height = parseInt(split[1], 10);\n            }\n\n            event.attributes.RESOLUTION = resolution;\n          }\n\n          if (event.attributes.BANDWIDTH) {\n            event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n          }\n\n          if (event.attributes['PROGRAM-ID']) {\n            event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'endlist'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'discontinuity'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'program-date-time'\n        };\n\n        if (match[1]) {\n          event.dateTimeString = match[1];\n          event.dateTimeObject = new Date(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'key'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n          if (event.attributes.IV) {\n            if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n              event.attributes.IV = event.attributes.IV.substring(2);\n            }\n\n            event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n            event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n            event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n            event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n            event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n            event.attributes.IV = new Uint32Array(event.attributes.IV);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'start'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n          event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n          event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out-cont'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-in'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      } // unknown tag type\n\n\n      _this2.trigger('data', {\n        type: 'tag',\n        data: newLine.slice(4)\n      });\n    });\n  };\n  /**\n   * Add a parser for custom headers\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.customType   the custom type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n\n\n  _proto.addParser = function addParser(_ref) {\n    var _this3 = this;\n\n    var expression = _ref.expression,\n        customType = _ref.customType,\n        dataParser = _ref.dataParser,\n        segment = _ref.segment;\n\n    if (typeof dataParser !== 'function') {\n      dataParser = function dataParser(line) {\n        return line;\n      };\n    }\n\n    this.customParsers.push(function (line) {\n      var match = expression.exec(line);\n\n      if (match) {\n        _this3.trigger('data', {\n          type: 'custom',\n          data: dataParser(line),\n          customType: customType,\n          segment: segment\n        });\n\n        return true;\n      }\n    });\n  };\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n\n\n  _proto.addTagMapper = function addTagMapper(_ref2) {\n    var expression = _ref2.expression,\n        map = _ref2.map;\n\n    var mapFn = function mapFn(line) {\n      if (expression.test(line)) {\n        return map(line);\n      }\n\n      return line;\n    };\n\n    this.tagMappers.push(mapFn);\n  };\n\n  return ParseStream;\n}(Stream);\n/**\n * A parser for M3U8 files. The current interpretation of the input is\n * exposed as a property `manifest` on parser objects. It's just two lines to\n * create and parse a manifest once you have the contents available as a string:\n *\n * ```js\n * var parser = new m3u8.Parser();\n * parser.push(xhr.responseText);\n * ```\n *\n * New input can later be applied to update the manifest object by calling\n * `push` again.\n *\n * The parser attempts to create a usable manifest object even if the\n * underlying input is somewhat nonsensical. It emits `info` and `warning`\n * events during the parse if it encounters input that seems invalid or\n * requires some property of the manifest object to be defaulted.\n *\n * @class Parser\n * @extends Stream\n */\n\n\nvar Parser =\n/*#__PURE__*/\nfunction (_Stream) {\n  _inheritsLoose(Parser, _Stream);\n\n  function Parser() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.lineStream = new LineStream();\n    _this.parseStream = new ParseStream();\n\n    _this.lineStream.pipe(_this.parseStream);\n    /* eslint-disable consistent-this */\n\n\n    var self = _assertThisInitialized(_assertThisInitialized(_this));\n    /* eslint-enable consistent-this */\n\n\n    var uris = [];\n    var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n    var currentMap; // if specified, the active decryption key\n\n    var _key;\n\n    var noop = function noop() {};\n\n    var defaultMediaGroups = {\n      'AUDIO': {},\n      'VIDEO': {},\n      'CLOSED-CAPTIONS': {},\n      'SUBTITLES': {}\n    }; // group segments into numbered timelines delineated by discontinuities\n\n    var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n    _this.manifest = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: []\n    }; // update the manifest with the m3u8 entry from the parse stream\n\n    _this.parseStream.on('data', function (entry) {\n      var mediaGroup;\n      var rendition;\n      ({\n        tag: function tag() {\n          // switch based on the tag type\n          (({\n            'allow-cache': function allowCache() {\n              this.manifest.allowCache = entry.allowed;\n\n              if (!('allowed' in entry)) {\n                this.trigger('info', {\n                  message: 'defaulting allowCache to YES'\n                });\n                this.manifest.allowCache = true;\n              }\n            },\n            byterange: function byterange() {\n              var byterange = {};\n\n              if ('length' in entry) {\n                currentUri.byterange = byterange;\n                byterange.length = entry.length;\n\n                if (!('offset' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting offset to zero'\n                  });\n                  entry.offset = 0;\n                }\n              }\n\n              if ('offset' in entry) {\n                currentUri.byterange = byterange;\n                byterange.offset = entry.offset;\n              }\n            },\n            endlist: function endlist() {\n              this.manifest.endList = true;\n            },\n            inf: function inf() {\n              if (!('mediaSequence' in this.manifest)) {\n                this.manifest.mediaSequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting media sequence to zero'\n                });\n              }\n\n              if (!('discontinuitySequence' in this.manifest)) {\n                this.manifest.discontinuitySequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting discontinuity sequence to zero'\n                });\n              }\n\n              if (entry.duration > 0) {\n                currentUri.duration = entry.duration;\n              }\n\n              if (entry.duration === 0) {\n                currentUri.duration = 0.01;\n                this.trigger('info', {\n                  message: 'updating zero segment duration to a small value'\n                });\n              }\n\n              this.manifest.segments = uris;\n            },\n            key: function key() {\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without attribute list'\n                });\n                return;\n              } // clear the active encryption key\n\n\n              if (entry.attributes.METHOD === 'NONE') {\n                _key = null;\n                return;\n              }\n\n              if (!entry.attributes.URI) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without URI'\n                });\n                return;\n              }\n\n              if (!entry.attributes.METHOD) {\n                this.trigger('warn', {\n                  message: 'defaulting key method to AES-128'\n                });\n              } // setup an encryption key for upcoming segments\n\n\n              _key = {\n                method: entry.attributes.METHOD || 'AES-128',\n                uri: entry.attributes.URI\n              };\n\n              if (typeof entry.attributes.IV !== 'undefined') {\n                _key.iv = entry.attributes.IV;\n              }\n            },\n            'media-sequence': function mediaSequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid media sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.mediaSequence = entry.number;\n            },\n            'discontinuity-sequence': function discontinuitySequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.discontinuitySequence = entry.number;\n              currentTimeline = entry.number;\n            },\n            'playlist-type': function playlistType() {\n              if (!/VOD|EVENT/.test(entry.playlistType)) {\n                this.trigger('warn', {\n                  message: 'ignoring unknown playlist type: ' + entry.playlist\n                });\n                return;\n              }\n\n              this.manifest.playlistType = entry.playlistType;\n            },\n            map: function map() {\n              currentMap = {};\n\n              if (entry.uri) {\n                currentMap.uri = entry.uri;\n              }\n\n              if (entry.byterange) {\n                currentMap.byterange = entry.byterange;\n              }\n            },\n            'stream-inf': function streamInf() {\n              this.manifest.playlists = uris;\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring empty stream-inf attributes'\n                });\n                return;\n              }\n\n              if (!currentUri.attributes) {\n                currentUri.attributes = {};\n              }\n\n              _extends(currentUri.attributes, entry.attributes);\n            },\n            media: function media() {\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                this.trigger('warn', {\n                  message: 'ignoring incomplete or missing media group'\n                });\n                return;\n              } // find the media group, creating defaults as necessary\n\n\n              var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n              mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n              mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n              rendition = {\n                default: /yes/i.test(entry.attributes.DEFAULT)\n              };\n\n              if (rendition.default) {\n                rendition.autoselect = true;\n              } else {\n                rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n              }\n\n              if (entry.attributes.LANGUAGE) {\n                rendition.language = entry.attributes.LANGUAGE;\n              }\n\n              if (entry.attributes.URI) {\n                rendition.uri = entry.attributes.URI;\n              }\n\n              if (entry.attributes['INSTREAM-ID']) {\n                rendition.instreamId = entry.attributes['INSTREAM-ID'];\n              }\n\n              if (entry.attributes.CHARACTERISTICS) {\n                rendition.characteristics = entry.attributes.CHARACTERISTICS;\n              }\n\n              if (entry.attributes.FORCED) {\n                rendition.forced = /yes/i.test(entry.attributes.FORCED);\n              } // insert the new rendition\n\n\n              mediaGroup[entry.attributes.NAME] = rendition;\n            },\n            discontinuity: function discontinuity() {\n              currentTimeline += 1;\n              currentUri.discontinuity = true;\n              this.manifest.discontinuityStarts.push(uris.length);\n            },\n            'program-date-time': function programDateTime() {\n              if (typeof this.manifest.dateTimeString === 'undefined') {\n                // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                // to the manifest object\n                // TODO: Consider removing this in future major version\n                this.manifest.dateTimeString = entry.dateTimeString;\n                this.manifest.dateTimeObject = entry.dateTimeObject;\n              }\n\n              currentUri.dateTimeString = entry.dateTimeString;\n              currentUri.dateTimeObject = entry.dateTimeObject;\n            },\n            targetduration: function targetduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid target duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.targetDuration = entry.duration;\n            },\n            totalduration: function totalduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid total duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.totalDuration = entry.duration;\n            },\n            start: function start() {\n              if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                this.trigger('warn', {\n                  message: 'ignoring start declaration without appropriate attribute list'\n                });\n                return;\n              }\n\n              this.manifest.start = {\n                timeOffset: entry.attributes['TIME-OFFSET'],\n                precise: entry.attributes.PRECISE\n              };\n            },\n            'cue-out': function cueOut() {\n              currentUri.cueOut = entry.data;\n            },\n            'cue-out-cont': function cueOutCont() {\n              currentUri.cueOutCont = entry.data;\n            },\n            'cue-in': function cueIn() {\n              currentUri.cueIn = entry.data;\n            }\n          })[entry.tagType] || noop).call(self);\n        },\n        uri: function uri() {\n          currentUri.uri = entry.uri;\n          uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n          if (this.manifest.targetDuration && !('duration' in currentUri)) {\n            this.trigger('warn', {\n              message: 'defaulting segment duration to the target duration'\n            });\n            currentUri.duration = this.manifest.targetDuration;\n          } // annotate with encryption information, if necessary\n\n\n          if (_key) {\n            currentUri.key = _key;\n          }\n\n          currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n          if (currentMap) {\n            currentUri.map = currentMap;\n          } // prepare for the next URI\n\n\n          currentUri = {};\n        },\n        comment: function comment() {// comments are not important for playback\n        },\n        custom: function custom() {\n          // if this is segment-level data attach the output to the segment\n          if (entry.segment) {\n            currentUri.custom = currentUri.custom || {};\n            currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n          } else {\n            this.manifest.custom = this.manifest.custom || {};\n            this.manifest.custom[entry.customType] = entry.data;\n          }\n        }\n      })[entry.type].call(self);\n    });\n\n    return _this;\n  }\n  /**\n   * Parse the input string and update the manifest object.\n   *\n   * @param {string} chunk a potentially incomplete portion of the manifest\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.push = function push(chunk) {\n    this.lineStream.push(chunk);\n  };\n  /**\n   * Flush any remaining input. This can be handy if the last line of an M3U8\n   * manifest did not contain a trailing newline but the file has been\n   * completely received.\n   */\n\n\n  _proto.end = function end() {\n    // flush any buffered input\n    this.lineStream.push('\\n');\n  };\n  /**\n   * Add an additional parser for non-standard tags\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.type         the type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n\n\n  _proto.addParser = function addParser(options) {\n    this.parseStream.addParser(options);\n  };\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n\n\n  _proto.addTagMapper = function addTagMapper(options) {\n    this.parseStream.addTagMapper(options);\n  };\n\n  return Parser;\n}(Stream);\n/**\n * @file m3u8/index.js\n *\n * Utilities for parsing M3U8 files. If the entire manifest is available,\n * `Parser` will create an object representation with enough detail for managing\n * playback. `ParseStream` and `LineStream` are lower-level parsing primitives\n * that do not assume the entirety of the manifest is ready and expose a\n * ReadableStream-like interface.\n */\n\n\nexport { LineStream, ParseStream, Parser };","/*\n * pkcs7.pad\n * https://github.com/brightcove/pkcs7\n *\n * Copyright (c) 2014 Brightcove\n * Licensed under the apache2 license.\n */\nvar PADDING = void 0;\n/**\n * Returns a new Uint8Array that is padded with PKCS#7 padding.\n * @param plaintext {Uint8Array} the input bytes before encryption\n * @return {Uint8Array} the padded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\n\nfunction pad(plaintext) {\n  var padding = PADDING[plaintext.byteLength % 16 || 0];\n  var result = new Uint8Array(plaintext.byteLength + padding.length);\n  result.set(plaintext);\n  result.set(padding, plaintext.byteLength);\n  return result;\n} // pre-define the padding values\n\n\nPADDING = [[16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16], [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15], [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14], [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13], [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12], [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11], [10, 10, 10, 10, 10, 10, 10, 10, 10, 10], [9, 9, 9, 9, 9, 9, 9, 9, 9], [8, 8, 8, 8, 8, 8, 8, 8], [7, 7, 7, 7, 7, 7, 7], [6, 6, 6, 6, 6, 6], [5, 5, 5, 5, 5], [4, 4, 4, 4], [3, 3, 3], [2, 2], [1]];\n/**\n * Returns the subarray of a Uint8Array without PKCS#7 padding.\n * @param padded {Uint8Array} unencrypted bytes that have been padded\n * @return {Uint8Array} the unpadded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\n\nfunction unpad(padded) {\n  return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n}\n\nvar version = \"1.0.2\";\nexport { pad, unpad, version as VERSION };","import { unpad } from 'pkcs7';\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/**\n * @file aes.js\n *\n * This file contains an adaptation of the AES decryption algorithm\n * from the Standford Javascript Cryptography Library. That work is\n * covered by the following copyright and permissions notice:\n *\n * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation\n * are those of the authors and should not be interpreted as representing\n * official policies, either expressed or implied, of the authors.\n */\n\n/**\n * Expand the S-box tables.\n *\n * @private\n */\n\n\nvar precompute = function precompute() {\n  var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n  var encTable = tables[0];\n  var decTable = tables[1];\n  var sbox = encTable[4];\n  var sboxInv = decTable[4];\n  var i = void 0;\n  var x = void 0;\n  var xInv = void 0;\n  var d = [];\n  var th = [];\n  var x2 = void 0;\n  var x4 = void 0;\n  var x8 = void 0;\n  var s = void 0;\n  var tEnc = void 0;\n  var tDec = void 0; // Compute double and third tables\n\n  for (i = 0; i < 256; i++) {\n    th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n  }\n\n  for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n    // Compute sbox\n    s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n    s = s >> 8 ^ s & 255 ^ 99;\n    sbox[x] = s;\n    sboxInv[s] = x; // Compute MixColumns\n\n    x8 = d[x4 = d[x2 = d[x]]];\n    tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n    tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n    for (i = 0; i < 4; i++) {\n      encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n      decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n    }\n  } // Compactify. Considerable speedup on Firefox.\n\n\n  for (i = 0; i < 5; i++) {\n    encTable[i] = encTable[i].slice(0);\n    decTable[i] = decTable[i].slice(0);\n  }\n\n  return tables;\n};\n\nvar aesTables = null;\n/**\n * Schedule out an AES key for both encryption and decryption. This\n * is a low-level class. Use a cipher mode to do bulk encryption.\n *\n * @class AES\n * @param key {Array} The key as an array of 4, 6 or 8 words.\n */\n\nvar AES = function () {\n  function AES(key) {\n    classCallCheck(this, AES);\n    /**\n     * The expanded S-box and inverse S-box tables. These will be computed\n     * on the client so that we don't have to send them down the wire.\n     *\n     * There are two tables, _tables[0] is for encryption and\n     * _tables[1] is for decryption.\n     *\n     * The first 4 sub-tables are the expanded S-box with MixColumns. The\n     * last (_tables[01][4]) is the S-box itself.\n     *\n     * @private\n     */\n    // if we have yet to precompute the S-box tables\n    // do so now\n\n    if (!aesTables) {\n      aesTables = precompute();\n    } // then make a copy of that object for use\n\n\n    this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n    var i = void 0;\n    var j = void 0;\n    var tmp = void 0;\n    var encKey = void 0;\n    var decKey = void 0;\n    var sbox = this._tables[0][4];\n    var decTable = this._tables[1];\n    var keyLen = key.length;\n    var rcon = 1;\n\n    if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n      throw new Error('Invalid aes key size');\n    }\n\n    encKey = key.slice(0);\n    decKey = [];\n    this._key = [encKey, decKey]; // schedule encryption keys\n\n    for (i = keyLen; i < 4 * keyLen + 28; i++) {\n      tmp = encKey[i - 1]; // apply sbox\n\n      if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n        tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n        if (i % keyLen === 0) {\n          tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n          rcon = rcon << 1 ^ (rcon >> 7) * 283;\n        }\n      }\n\n      encKey[i] = encKey[i - keyLen] ^ tmp;\n    } // schedule decryption keys\n\n\n    for (j = 0; i; j++, i--) {\n      tmp = encKey[j & 3 ? i : i - 4];\n\n      if (i <= 4 || j < 4) {\n        decKey[j] = tmp;\n      } else {\n        decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n      }\n    }\n  }\n  /**\n   * Decrypt 16 bytes, specified as four 32-bit words.\n   *\n   * @param {Number} encrypted0 the first word to decrypt\n   * @param {Number} encrypted1 the second word to decrypt\n   * @param {Number} encrypted2 the third word to decrypt\n   * @param {Number} encrypted3 the fourth word to decrypt\n   * @param {Int32Array} out the array to write the decrypted words\n   * into\n   * @param {Number} offset the offset into the output array to start\n   * writing results\n   * @return {Array} The plaintext.\n   */\n\n\n  AES.prototype.decrypt = function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n    var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n    var a = encrypted0 ^ key[0];\n    var b = encrypted3 ^ key[1];\n    var c = encrypted2 ^ key[2];\n    var d = encrypted1 ^ key[3];\n    var a2 = void 0;\n    var b2 = void 0;\n    var c2 = void 0; // key.length === 2 ?\n\n    var nInnerRounds = key.length / 4 - 2;\n    var i = void 0;\n    var kIndex = 4;\n    var table = this._tables[1]; // load up the tables\n\n    var table0 = table[0];\n    var table1 = table[1];\n    var table2 = table[2];\n    var table3 = table[3];\n    var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n    for (i = 0; i < nInnerRounds; i++) {\n      a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n      b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n      c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n      d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n      kIndex += 4;\n      a = a2;\n      b = b2;\n      c = c2;\n    } // Last round.\n\n\n    for (i = 0; i < 4; i++) {\n      out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n      a2 = a;\n      a = b;\n      b = c;\n      c = d;\n      d = a2;\n    }\n  };\n\n  return AES;\n}();\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implemention that handles event dispatching.\n *\n * @class Stream\n */\n\n\nvar Stream = function () {\n  function Stream() {\n    classCallCheck(this, Stream);\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  Stream.prototype.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  };\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {Boolean} if we could turn it off or not\n   */\n\n\n  Stream.prototype.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  };\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {String} type the event name\n   */\n\n\n  Stream.prototype.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      var length = callbacks.length;\n\n      for (var i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      var _length = callbacks.length;\n\n      for (var _i = 0; _i < _length; ++_i) {\n        callbacks[_i].apply(this, args);\n      }\n    }\n  };\n  /**\n   * Destroys the stream and cleans up.\n   */\n\n\n  Stream.prototype.dispose = function dispose() {\n    this.listeners = {};\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  Stream.prototype.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n/**\n * @file async-stream.js\n */\n\n/**\n * A wrapper around the Stream class to use setTiemout\n * and run stream \"jobs\" Asynchronously\n *\n * @class AsyncStream\n * @extends Stream\n */\n\n\nvar AsyncStream = function (_Stream) {\n  inherits(AsyncStream, _Stream);\n\n  function AsyncStream() {\n    classCallCheck(this, AsyncStream);\n\n    var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n    _this.jobs = [];\n    _this.delay = 1;\n    _this.timeout_ = null;\n    return _this;\n  }\n  /**\n   * process an async job\n   *\n   * @private\n   */\n\n\n  AsyncStream.prototype.processJob_ = function processJob_() {\n    this.jobs.shift()();\n\n    if (this.jobs.length) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    } else {\n      this.timeout_ = null;\n    }\n  };\n  /**\n   * push a job into the stream\n   *\n   * @param {Function} job the job to push into the stream\n   */\n\n\n  AsyncStream.prototype.push = function push(job) {\n    this.jobs.push(job);\n\n    if (!this.timeout_) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    }\n  };\n\n  return AsyncStream;\n}(Stream);\n/**\n * @file decrypter.js\n *\n * An asynchronous implementation of AES-128 CBC decryption with\n * PKCS#7 padding.\n */\n\n/**\n * Convert network-order (big-endian) bytes into their little-endian\n * representation.\n */\n\n\nvar ntoh = function ntoh(word) {\n  return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n};\n/**\n * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * use for the first round of CBC.\n * @return {Uint8Array} the decrypted bytes\n *\n * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n * @see https://tools.ietf.org/html/rfc2315\n */\n\n\nvar decrypt = function decrypt(encrypted, key, initVector) {\n  // word-level access to the encrypted bytes\n  var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n  var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n  var decrypted = new Uint8Array(encrypted.byteLength);\n  var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n  // decrypted data\n\n  var init0 = void 0;\n  var init1 = void 0;\n  var init2 = void 0;\n  var init3 = void 0;\n  var encrypted0 = void 0;\n  var encrypted1 = void 0;\n  var encrypted2 = void 0;\n  var encrypted3 = void 0; // iteration variable\n\n  var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n  // passed-in reference and easier access\n\n  init0 = initVector[0];\n  init1 = initVector[1];\n  init2 = initVector[2];\n  init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n  // to each decrypted block\n\n  for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n    // convert big-endian (network order) words into little-endian\n    // (javascript order)\n    encrypted0 = ntoh(encrypted32[wordIx]);\n    encrypted1 = ntoh(encrypted32[wordIx + 1]);\n    encrypted2 = ntoh(encrypted32[wordIx + 2]);\n    encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n    decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n    // plaintext\n\n    decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n    decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n    decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n    decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n    init0 = encrypted0;\n    init1 = encrypted1;\n    init2 = encrypted2;\n    init3 = encrypted3;\n  }\n\n  return decrypted;\n};\n/**\n * The `Decrypter` class that manages decryption of AES\n * data through `AsyncStream` objects and the `decrypt`\n * function\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * @param {Function} done the function to run when done\n * @class Decrypter\n */\n\n\nvar Decrypter = function () {\n  function Decrypter(encrypted, key, initVector, done) {\n    classCallCheck(this, Decrypter);\n    var step = Decrypter.STEP;\n    var encrypted32 = new Int32Array(encrypted.buffer);\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var i = 0;\n    this.asyncStream_ = new AsyncStream(); // split up the encryption job and do the individual chunks asynchronously\n\n    this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n    for (i = step; i < encrypted32.length; i += step) {\n      initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n    } // invoke the done() callback when everything is finished\n\n\n    this.asyncStream_.push(function () {\n      // remove pkcs#7 padding from the decrypted bytes\n      done(null, unpad(decrypted));\n    });\n  }\n  /**\n   * a getter for step the maximum number of bytes to process at one time\n   *\n   * @return {Number} the value of step 32000\n   */\n\n  /**\n   * @private\n   */\n\n\n  Decrypter.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n    return function () {\n      var bytes = decrypt(encrypted, key, initVector);\n      decrypted.set(bytes, encrypted.byteOffset);\n    };\n  };\n\n  createClass(Decrypter, null, [{\n    key: 'STEP',\n    get: function get$$1() {\n      // 4 * 8000;\n      return 32000;\n    }\n  }]);\n  return Decrypter;\n}();\n/**\n * @file index.js\n *\n * Index module to easily import the primary components of AES-128\n * decryption. Like this:\n *\n * ```js\n * import {Decrypter, decrypt, AsyncStream} from 'aes-decrypter';\n * ```\n */\n\n\nexport { decrypt, Decrypter, AsyncStream };","/**\n * @license\n * Video.js 7.6.0 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\nimport window$1 from 'global/window';\nimport document from 'global/document';\nimport tsml from 'tsml';\nimport safeParseTuple from 'safe-json-parse/tuple';\nimport keycode from 'keycode';\nimport XHR from 'xhr';\nimport vtt from 'videojs-vtt.js';\nimport URLToolkit from 'url-toolkit';\nimport { Parser } from 'm3u8-parser';\nimport { parse, parseUTCTiming } from 'mpd-parser';\nimport mp4Inspector from 'mux.js/lib/tools/mp4-inspector';\nimport mp4probe from 'mux.js/lib/mp4/probe';\nimport { CaptionParser } from 'mux.js/lib/mp4';\nimport tsInspector from 'mux.js/lib/tools/ts-inspector.js';\nimport { Decrypter, AsyncStream, decrypt } from 'aes-decrypter';\nvar version = \"7.6.0\";\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n/**\n * @file create-logger.js\n * @module create-logger\n */\n\n\nvar history = [];\n/**\n * Log messages to the console and history based on the type of message\n *\n * @private\n * @param  {string} type\n *         The name of the console method to use.\n *\n * @param  {Array} args\n *         The arguments to be passed to the matching console method.\n */\n\nvar LogByTypeFactory = function LogByTypeFactory(name, log) {\n  return function (type, level, args) {\n    var lvl = log.levels[level];\n    var lvlRegExp = new RegExp(\"^(\" + lvl + \")$\");\n\n    if (type !== 'log') {\n      // Add the type to the front of the message when it's not \"log\".\n      args.unshift(type.toUpperCase() + ':');\n    } // Add console prefix after adding to history.\n\n\n    args.unshift(name + ':'); // Add a clone of the args at this point to history.\n\n    if (history) {\n      history.push([].concat(args));\n    } // If there's no console then don't try to output messages, but they will\n    // still be stored in history.\n\n\n    if (!window$1.console) {\n      return;\n    } // Was setting these once outside of this function, but containing them\n    // in the function makes it easier to test cases where console doesn't exist\n    // when the module is executed.\n\n\n    var fn = window$1.console[type];\n\n    if (!fn && type === 'debug') {\n      // Certain browsers don't have support for console.debug. For those, we\n      // should default to the closest comparable log.\n      fn = window$1.console.info || window$1.console.log;\n    } // Bail out if there's no console or if this type is not allowed by the\n    // current logging level.\n\n\n    if (!fn || !lvl || !lvlRegExp.test(type)) {\n      return;\n    }\n\n    fn[Array.isArray(args) ? 'apply' : 'call'](window$1.console, args);\n  };\n};\n\nfunction createLogger(name) {\n  // This is the private tracking variable for logging level.\n  var level = 'info'; // the curried logByType bound to the specific log and history\n\n  var logByType;\n  /**\n   * Logs plain debug messages. Similar to `console.log`.\n   *\n   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n   * of our JSDoc template, we cannot properly document this as both a function\n   * and a namespace, so its function signature is documented here.\n   *\n   * #### Arguments\n   * ##### *args\n   * Mixed[]\n   *\n   * Any combination of values that could be passed to `console.log()`.\n   *\n   * #### Return Value\n   *\n   * `undefined`\n   *\n   * @namespace\n   * @param    {Mixed[]} args\n   *           One or more messages or objects that should be logged.\n   */\n\n  var log = function log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    logByType('log', level, args);\n  }; // This is the logByType helper that the logging methods below use\n\n\n  logByType = LogByTypeFactory(name, log);\n  /**\n   * Create a new sublogger which chains the old name to the new name.\n   *\n   * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:\n   * ```js\n   *  mylogger('foo');\n   *  // > VIDEOJS: player: foo\n   * ```\n   *\n   * @param {string} name\n   *        The name to add call the new logger\n   * @return {Object}\n   */\n\n  log.createLogger = function (subname) {\n    return createLogger(name + ': ' + subname);\n  };\n  /**\n   * Enumeration of available logging levels, where the keys are the level names\n   * and the values are `|`-separated strings containing logging methods allowed\n   * in that logging level. These strings are used to create a regular expression\n   * matching the function name being called.\n   *\n   * Levels provided by Video.js are:\n   *\n   * - `off`: Matches no calls. Any value that can be cast to `false` will have\n   *   this effect. The most restrictive.\n   * - `all`: Matches only Video.js-provided functions (`debug`, `log`,\n   *   `log.warn`, and `log.error`).\n   * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.\n   * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.\n   * - `warn`: Matches `log.warn` and `log.error` calls.\n   * - `error`: Matches only `log.error` calls.\n   *\n   * @type {Object}\n   */\n\n\n  log.levels = {\n    all: 'debug|log|warn|error',\n    off: '',\n    debug: 'debug|log|warn|error',\n    info: 'log|warn|error',\n    warn: 'warn|error',\n    error: 'error',\n    DEFAULT: level\n  };\n  /**\n   * Get or set the current logging level.\n   *\n   * If a string matching a key from {@link module:log.levels} is provided, acts\n   * as a setter.\n   *\n   * @param  {string} [lvl]\n   *         Pass a valid level to set a new logging level.\n   *\n   * @return {string}\n   *         The current logging level.\n   */\n\n  log.level = function (lvl) {\n    if (typeof lvl === 'string') {\n      if (!log.levels.hasOwnProperty(lvl)) {\n        throw new Error(\"\\\"\" + lvl + \"\\\" in not a valid log level\");\n      }\n\n      level = lvl;\n    }\n\n    return level;\n  };\n  /**\n   * Returns an array containing everything that has been logged to the history.\n   *\n   * This array is a shallow clone of the internal history record. However, its\n   * contents are _not_ cloned; so, mutating objects inside this array will\n   * mutate them in history.\n   *\n   * @return {Array}\n   */\n\n\n  log.history = function () {\n    return history ? [].concat(history) : [];\n  };\n  /**\n   * Allows you to filter the history by the given logger name\n   *\n   * @param {string} fname\n   *        The name to filter by\n   *\n   * @return {Array}\n   *         The filtered list to return\n   */\n\n\n  log.history.filter = function (fname) {\n    return (history || []).filter(function (historyItem) {\n      // if the first item in each historyItem includes `fname`, then it's a match\n      return new RegExp(\".*\" + fname + \".*\").test(historyItem[0]);\n    });\n  };\n  /**\n   * Clears the internal history tracking, but does not prevent further history\n   * tracking.\n   */\n\n\n  log.history.clear = function () {\n    if (history) {\n      history.length = 0;\n    }\n  };\n  /**\n   * Disable history tracking if it is currently enabled.\n   */\n\n\n  log.history.disable = function () {\n    if (history !== null) {\n      history.length = 0;\n      history = null;\n    }\n  };\n  /**\n   * Enable history tracking if it is currently disabled.\n   */\n\n\n  log.history.enable = function () {\n    if (history === null) {\n      history = [];\n    }\n  };\n  /**\n   * Logs error messages. Similar to `console.error`.\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as an error\n   */\n\n\n  log.error = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return logByType('error', level, args);\n  };\n  /**\n   * Logs warning messages. Similar to `console.warn`.\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as a warning.\n   */\n\n\n  log.warn = function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return logByType('warn', level, args);\n  };\n  /**\n   * Logs debug messages. Similar to `console.debug`, but may also act as a comparable\n   * log if `console.debug` is not available\n   *\n   * @param {Mixed[]} args\n   *        One or more messages or objects that should be logged as debug.\n   */\n\n\n  log.debug = function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return logByType('debug', level, args);\n  };\n\n  return log;\n}\n/**\n * @file log.js\n * @module log\n */\n\n\nvar log = createLogger('VIDEOJS');\nvar createLogger$1 = log.createLogger;\n/**\n * @file obj.js\n * @module obj\n */\n\n/**\n * @callback obj:EachCallback\n *\n * @param {Mixed} value\n *        The current key for the object that is being iterated over.\n *\n * @param {string} key\n *        The current key-value for object that is being iterated over\n */\n\n/**\n * @callback obj:ReduceCallback\n *\n * @param {Mixed} accum\n *        The value that is accumulating over the reduce loop.\n *\n * @param {Mixed} value\n *        The current key for the object that is being iterated over.\n *\n * @param {string} key\n *        The current key-value for object that is being iterated over\n *\n * @return {Mixed}\n *         The new accumulated value.\n */\n\nvar toString = Object.prototype.toString;\n/**\n * Get the keys of an Object\n *\n * @param {Object}\n *        The Object to get the keys from\n *\n * @return {string[]}\n *         An array of the keys from the object. Returns an empty array if the\n *         object passed in was invalid or had no keys.\n *\n * @private\n */\n\nvar keys = function keys(object) {\n  return isObject(object) ? Object.keys(object) : [];\n};\n/**\n * Array-like iteration for objects.\n *\n * @param {Object} object\n *        The object to iterate over\n *\n * @param {obj:EachCallback} fn\n *        The callback function which is called for each key in the object.\n */\n\n\nfunction each(object, fn) {\n  keys(object).forEach(function (key) {\n    return fn(object[key], key);\n  });\n}\n/**\n * Array-like reduce for objects.\n *\n * @param {Object} object\n *        The Object that you want to reduce.\n *\n * @param {Function} fn\n *         A callback function which is called for each key in the object. It\n *         receives the accumulated value and the per-iteration value and key\n *         as arguments.\n *\n * @param {Mixed} [initial = 0]\n *        Starting value\n *\n * @return {Mixed}\n *         The final accumulated value.\n */\n\n\nfunction reduce(object, fn, initial) {\n  if (initial === void 0) {\n    initial = 0;\n  }\n\n  return keys(object).reduce(function (accum, key) {\n    return fn(accum, object[key], key);\n  }, initial);\n}\n/**\n * Object.assign-style object shallow merge/extend.\n *\n * @param  {Object} target\n * @param  {Object} ...sources\n * @return {Object}\n */\n\n\nfunction assign(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (Object.assign) {\n    return Object.assign.apply(Object, [target].concat(sources));\n  }\n\n  sources.forEach(function (source) {\n    if (!source) {\n      return;\n    }\n\n    each(source, function (value, key) {\n      target[key] = value;\n    });\n  });\n  return target;\n}\n/**\n * Returns whether a value is an object of any kind - including DOM nodes,\n * arrays, regular expressions, etc. Not functions, though.\n *\n * This avoids the gotcha where using `typeof` on a `null` value\n * results in `'object'`.\n *\n * @param  {Object} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  return !!value && typeof value === 'object';\n}\n/**\n * Returns whether an object appears to be a \"plain\" object - that is, a\n * direct instance of `Object`.\n *\n * @param  {Object} value\n * @return {boolean}\n */\n\n\nfunction isPlain(value) {\n  return isObject(value) && toString.call(value) === '[object Object]' && value.constructor === Object;\n}\n/**\n * @file computed-style.js\n * @module computed-style\n */\n\n/**\n * A safe getComputedStyle.\n *\n * This is needed because in Firefox, if the player is loaded in an iframe with\n * `display:none`, then `getComputedStyle` returns `null`, so, we do a\n * null-check to make sure that the player doesn't break in these cases.\n *\n * @function\n * @param    {Element} el\n *           The element you want the computed style of\n *\n * @param    {string} prop\n *           The property name you want\n *\n * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\n\n\nfunction computedStyle(el, prop) {\n  if (!el || !prop) {\n    return '';\n  }\n\n  if (typeof window$1.getComputedStyle === 'function') {\n    var cs = window$1.getComputedStyle(el);\n    return cs ? cs[prop] : '';\n  }\n\n  return '';\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set \", \" to \", \".\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * Detect if a value is a string with any non-whitespace characters.\n *\n * @private\n * @param  {string} str\n *         The string to check\n *\n * @return {boolean}\n *         Will be `true` if the string is non-blank, `false` otherwise.\n *\n */\n\n\nfunction isNonBlankString(str) {\n  return typeof str === 'string' && /\\S/.test(str);\n}\n/**\n * Throws an error if the passed string has whitespace. This is used by\n * class methods to be relatively consistent with the classList API.\n *\n * @private\n * @param  {string} str\n *         The string to check for whitespace.\n *\n * @throws {Error}\n *         Throws an error if there is whitespace in the string.\n */\n\n\nfunction throwIfWhitespace(str) {\n  if (/\\s/.test(str)) {\n    throw new Error('class has illegal whitespace characters');\n  }\n}\n/**\n * Produce a regular expression for matching a className within an elements className.\n *\n * @private\n * @param  {string} className\n *         The className to generate the RegExp for.\n *\n * @return {RegExp}\n *         The RegExp that will check for a specific `className` in an elements\n *         className.\n */\n\n\nfunction classRegExp(className) {\n  return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n}\n/**\n * Whether the current DOM interface appears to be real (i.e. not simulated).\n *\n * @return {boolean}\n *         Will be `true` if the DOM appears to be real, `false` otherwise.\n */\n\n\nfunction isReal() {\n  // Both document and window will never be undefined thanks to `global`.\n  return document === window$1.document;\n}\n/**\n * Determines, via duck typing, whether or not a value is a DOM element.\n *\n * @param  {Mixed} value\n *         The value to check.\n *\n * @return {boolean}\n *         Will be `true` if the value is a DOM element, `false` otherwise.\n */\n\n\nfunction isEl(value) {\n  return isObject(value) && value.nodeType === 1;\n}\n/**\n * Determines if the current DOM is embedded in an iframe.\n *\n * @return {boolean}\n *         Will be `true` if the DOM is embedded in an iframe, `false`\n *         otherwise.\n */\n\n\nfunction isInFrame() {\n  // We need a try/catch here because Safari will throw errors when attempting\n  // to get either `parent` or `self`\n  try {\n    return window$1.parent !== window$1.self;\n  } catch (x) {\n    return true;\n  }\n}\n/**\n * Creates functions to query the DOM using a given method.\n *\n * @private\n * @param   {string} method\n *          The method to create the query with.\n *\n * @return  {Function}\n *          The query method\n */\n\n\nfunction createQuerier(method) {\n  return function (selector, context) {\n    if (!isNonBlankString(selector)) {\n      return document[method](null);\n    }\n\n    if (isNonBlankString(context)) {\n      context = document.querySelector(context);\n    }\n\n    var ctx = isEl(context) ? context : document;\n    return ctx[method] && ctx[method](selector);\n  };\n}\n/**\n * Creates an element and applies properties, attributes, and inserts content.\n *\n * @param  {string} [tagName='div']\n *         Name of tag to be created.\n *\n * @param  {Object} [properties={}]\n *         Element properties to be applied.\n *\n * @param  {Object} [attributes={}]\n *         Element attributes to be applied.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor object.\n *\n * @return {Element}\n *         The element that was created.\n */\n\n\nfunction createEl(tagName, properties, attributes, content) {\n  if (tagName === void 0) {\n    tagName = 'div';\n  }\n\n  if (properties === void 0) {\n    properties = {};\n  }\n\n  if (attributes === void 0) {\n    attributes = {};\n  }\n\n  var el = document.createElement(tagName);\n  Object.getOwnPropertyNames(properties).forEach(function (propName) {\n    var val = properties[propName]; // See #2176\n    // We originally were accepting both properties and attributes in the\n    // same object, but that doesn't work so well.\n\n    if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n      log.warn(tsml(_templateObject(), propName, val));\n      el.setAttribute(propName, val); // Handle textContent since it's not supported everywhere and we have a\n      // method for it.\n    } else if (propName === 'textContent') {\n      textContent(el, val);\n    } else {\n      el[propName] = val;\n    }\n  });\n  Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n    el.setAttribute(attrName, attributes[attrName]);\n  });\n\n  if (content) {\n    appendContent(el, content);\n  }\n\n  return el;\n}\n/**\n * Injects text into an element, replacing any existing contents entirely.\n *\n * @param  {Element} el\n *         The element to add text content into\n *\n * @param  {string} text\n *         The text content to add.\n *\n * @return {Element}\n *         The element with added text content.\n */\n\n\nfunction textContent(el, text) {\n  if (typeof el.textContent === 'undefined') {\n    el.innerText = text;\n  } else {\n    el.textContent = text;\n  }\n\n  return el;\n}\n/**\n * Insert an element as the first child node of another\n *\n * @param {Element} child\n *        Element to insert\n *\n * @param {Element} parent\n *        Element to insert child into\n */\n\n\nfunction prependTo(child, parent) {\n  if (parent.firstChild) {\n    parent.insertBefore(child, parent.firstChild);\n  } else {\n    parent.appendChild(child);\n  }\n}\n/**\n * Check if an element has a class name.\n *\n * @param  {Element} element\n *         Element to check\n *\n * @param  {string} classToCheck\n *         Class name to check for\n *\n * @return {boolean}\n *         Will be `true` if the element has a class, `false` otherwise.\n *\n * @throws {Error}\n *         Throws an error if `classToCheck` has white space.\n */\n\n\nfunction hasClass(element, classToCheck) {\n  throwIfWhitespace(classToCheck);\n\n  if (element.classList) {\n    return element.classList.contains(classToCheck);\n  }\n\n  return classRegExp(classToCheck).test(element.className);\n}\n/**\n * Add a class name to an element.\n *\n * @param  {Element} element\n *         Element to add class name to.\n *\n * @param  {string} classToAdd\n *         Class name to add.\n *\n * @return {Element}\n *         The DOM element with the added class name.\n */\n\n\nfunction addClass(element, classToAdd) {\n  if (element.classList) {\n    element.classList.add(classToAdd); // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n    // in the case of classList not being supported.\n  } else if (!hasClass(element, classToAdd)) {\n    element.className = (element.className + ' ' + classToAdd).trim();\n  }\n\n  return element;\n}\n/**\n * Remove a class name from an element.\n *\n * @param  {Element} element\n *         Element to remove a class name from.\n *\n * @param  {string} classToRemove\n *         Class name to remove\n *\n * @return {Element}\n *         The DOM element with class name removed.\n */\n\n\nfunction removeClass(element, classToRemove) {\n  if (element.classList) {\n    element.classList.remove(classToRemove);\n  } else {\n    throwIfWhitespace(classToRemove);\n    element.className = element.className.split(/\\s+/).filter(function (c) {\n      return c !== classToRemove;\n    }).join(' ');\n  }\n\n  return element;\n}\n/**\n * The callback definition for toggleClass.\n *\n * @callback module:dom~PredicateCallback\n * @param    {Element} element\n *           The DOM element of the Component.\n *\n * @param    {string} classToToggle\n *           The `className` that wants to be toggled\n *\n * @return   {boolean|undefined}\n *           If `true` is returned, the `classToToggle` will be added to the\n *           `element`. If `false`, the `classToToggle` will be removed from\n *           the `element`. If `undefined`, the callback will be ignored.\n */\n\n/**\n * Adds or removes a class name to/from an element depending on an optional\n * condition or the presence/absence of the class name.\n *\n * @param  {Element} element\n *         The element to toggle a class name on.\n *\n * @param  {string} classToToggle\n *         The class that should be toggled.\n *\n * @param  {boolean|module:dom~PredicateCallback} [predicate]\n *         See the return value for {@link module:dom~PredicateCallback}\n *\n * @return {Element}\n *         The element with a class that has been toggled.\n */\n\n\nfunction toggleClass(element, classToToggle, predicate) {\n  // This CANNOT use `classList` internally because IE11 does not support the\n  // second parameter to the `classList.toggle()` method! Which is fine because\n  // `classList` will be used by the add/remove functions.\n  var has = hasClass(element, classToToggle);\n\n  if (typeof predicate === 'function') {\n    predicate = predicate(element, classToToggle);\n  }\n\n  if (typeof predicate !== 'boolean') {\n    predicate = !has;\n  } // If the necessary class operation matches the current state of the\n  // element, no action is required.\n\n\n  if (predicate === has) {\n    return;\n  }\n\n  if (predicate) {\n    addClass(element, classToToggle);\n  } else {\n    removeClass(element, classToToggle);\n  }\n\n  return element;\n}\n/**\n * Apply attributes to an HTML element.\n *\n * @param {Element} el\n *        Element to add attributes to.\n *\n * @param {Object} [attributes]\n *        Attributes to be applied.\n */\n\n\nfunction setAttributes(el, attributes) {\n  Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n    var attrValue = attributes[attrName];\n\n    if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n      el.removeAttribute(attrName);\n    } else {\n      el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n    }\n  });\n}\n/**\n * Get an element's attribute values, as defined on the HTML tag.\n *\n * Attributes are not the same as properties. They're defined on the tag\n * or with setAttribute.\n *\n * @param  {Element} tag\n *         Element from which to get tag attributes.\n *\n * @return {Object}\n *         All attributes of the element. Boolean attributes will be `true` or\n *         `false`, others will be strings.\n */\n\n\nfunction getAttributes(tag) {\n  var obj = {}; // known boolean attributes\n  // we can check for matching boolean properties, but not all browsers\n  // and not all tags know about these attributes, so, we still want to check them manually\n\n  var knownBooleans = ',' + 'autoplay,controls,playsinline,loop,muted,default,defaultMuted' + ',';\n\n  if (tag && tag.attributes && tag.attributes.length > 0) {\n    var attrs = tag.attributes;\n\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      var attrName = attrs[i].name;\n      var attrVal = attrs[i].value; // check for known booleans\n      // the matching element property will return a value for typeof\n\n      if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n        // the value of an included boolean attribute is typically an empty\n        // string ('') which would equal false if we just check for a false value.\n        // we also don't want support bad code like autoplay='false'\n        attrVal = attrVal !== null ? true : false;\n      }\n\n      obj[attrName] = attrVal;\n    }\n  }\n\n  return obj;\n}\n/**\n * Get the value of an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to get the value of.\n *\n * @return {string}\n *         The value of the attribute.\n */\n\n\nfunction getAttribute(el, attribute) {\n  return el.getAttribute(attribute);\n}\n/**\n * Set the value of an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to set.\n *\n * @param {string} value\n *        Value to set the attribute to.\n */\n\n\nfunction setAttribute(el, attribute, value) {\n  el.setAttribute(attribute, value);\n}\n/**\n * Remove an element's attribute.\n *\n * @param {Element} el\n *        A DOM element.\n *\n * @param {string} attribute\n *        Attribute to remove.\n */\n\n\nfunction removeAttribute(el, attribute) {\n  el.removeAttribute(attribute);\n}\n/**\n * Attempt to block the ability to select text.\n */\n\n\nfunction blockTextSelection() {\n  document.body.focus();\n\n  document.onselectstart = function () {\n    return false;\n  };\n}\n/**\n * Turn off text selection blocking.\n */\n\n\nfunction unblockTextSelection() {\n  document.onselectstart = function () {\n    return true;\n  };\n}\n/**\n * Identical to the native `getBoundingClientRect` function, but ensures that\n * the method is supported at all (it is in all browsers we claim to support)\n * and that the element is in the DOM before continuing.\n *\n * This wrapper function also shims properties which are not provided by some\n * older browsers (namely, IE8).\n *\n * Additionally, some browsers do not support adding properties to a\n * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard\n * properties (except `x` and `y` which are not widely supported). This helps\n * avoid implementations where keys are non-enumerable.\n *\n * @param  {Element} el\n *         Element whose `ClientRect` we want to calculate.\n *\n * @return {Object|undefined}\n *         Always returns a plain object - or `undefined` if it cannot.\n */\n\n\nfunction getBoundingClientRect(el) {\n  if (el && el.getBoundingClientRect && el.parentNode) {\n    var rect = el.getBoundingClientRect();\n    var result = {};\n    ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(function (k) {\n      if (rect[k] !== undefined) {\n        result[k] = rect[k];\n      }\n    });\n\n    if (!result.height) {\n      result.height = parseFloat(computedStyle(el, 'height'));\n    }\n\n    if (!result.width) {\n      result.width = parseFloat(computedStyle(el, 'width'));\n    }\n\n    return result;\n  }\n}\n/**\n * Represents the position of a DOM element on the page.\n *\n * @typedef  {Object} module:dom~Position\n *\n * @property {number} left\n *           Pixels to the left.\n *\n * @property {number} top\n *           Pixels from the top.\n */\n\n/**\n * Get the position of an element in the DOM.\n *\n * Uses `getBoundingClientRect` technique from John Resig.\n *\n * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/\n *\n * @param  {Element} el\n *         Element from which to get offset.\n *\n * @return {module:dom~Position}\n *         The position of the element that was passed in.\n */\n\n\nfunction findPosition(el) {\n  var box;\n\n  if (el.getBoundingClientRect && el.parentNode) {\n    box = el.getBoundingClientRect();\n  }\n\n  if (!box) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var docEl = document.documentElement;\n  var body = document.body;\n  var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n  var scrollLeft = window$1.pageXOffset || body.scrollLeft;\n  var left = box.left + scrollLeft - clientLeft;\n  var clientTop = docEl.clientTop || body.clientTop || 0;\n  var scrollTop = window$1.pageYOffset || body.scrollTop;\n  var top = box.top + scrollTop - clientTop; // Android sometimes returns slightly off decimal values, so need to round\n\n  return {\n    left: Math.round(left),\n    top: Math.round(top)\n  };\n}\n/**\n * Represents x and y coordinates for a DOM element or mouse pointer.\n *\n * @typedef  {Object} module:dom~Coordinates\n *\n * @property {number} x\n *           x coordinate in pixels\n *\n * @property {number} y\n *           y coordinate in pixels\n */\n\n/**\n * Get the pointer position within an element.\n *\n * The base on the coordinates are the bottom left of the element.\n *\n * @param  {Element} el\n *         Element on which to get the pointer position on.\n *\n * @param  {EventTarget~Event} event\n *         Event object.\n *\n * @return {module:dom~Coordinates}\n *         A coordinates object corresponding to the mouse position.\n *\n */\n\n\nfunction getPointerPosition(el, event) {\n  var position = {};\n  var box = findPosition(el);\n  var boxW = el.offsetWidth;\n  var boxH = el.offsetHeight;\n  var boxY = box.top;\n  var boxX = box.left;\n  var pageY = event.pageY;\n  var pageX = event.pageX;\n\n  if (event.changedTouches) {\n    pageX = event.changedTouches[0].pageX;\n    pageY = event.changedTouches[0].pageY;\n  }\n\n  position.y = Math.max(0, Math.min(1, (boxY - pageY + boxH) / boxH));\n  position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n  return position;\n}\n/**\n * Determines, via duck typing, whether or not a value is a text node.\n *\n * @param  {Mixed} value\n *         Check if this value is a text node.\n *\n * @return {boolean}\n *         Will be `true` if the value is a text node, `false` otherwise.\n */\n\n\nfunction isTextNode(value) {\n  return isObject(value) && value.nodeType === 3;\n}\n/**\n * Empties the contents of an element.\n *\n * @param  {Element} el\n *         The element to empty children from\n *\n * @return {Element}\n *         The element with no children\n */\n\n\nfunction emptyEl(el) {\n  while (el.firstChild) {\n    el.removeChild(el.firstChild);\n  }\n\n  return el;\n}\n/**\n * This is a mixed value that describes content to be injected into the DOM\n * via some method. It can be of the following types:\n *\n * Type       | Description\n * -----------|-------------\n * `string`   | The value will be normalized into a text node.\n * `Element`  | The value will be accepted as-is.\n * `TextNode` | The value will be accepted as-is.\n * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).\n * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.\n *\n * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor\n */\n\n/**\n * Normalizes content for eventual insertion into the DOM.\n *\n * This allows a wide range of content definition methods, but helps protect\n * from falling into the trap of simply writing to `innerHTML`, which could\n * be an XSS concern.\n *\n * The content for an element can be passed in multiple types and\n * combinations, whose behavior is as follows:\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Array}\n *         All of the content that was passed in, normalized to an array of\n *         elements or text nodes.\n */\n\n\nfunction normalizeContent(content) {\n  // First, invoke content if it is a function. If it produces an array,\n  // that needs to happen before normalization.\n  if (typeof content === 'function') {\n    content = content();\n  } // Next up, normalize to an array, so one or many items can be normalized,\n  // filtered, and returned.\n\n\n  return (Array.isArray(content) ? content : [content]).map(function (value) {\n    // First, invoke value if it is a function to produce a new value,\n    // which will be subsequently normalized to a Node of some kind.\n    if (typeof value === 'function') {\n      value = value();\n    }\n\n    if (isEl(value) || isTextNode(value)) {\n      return value;\n    }\n\n    if (typeof value === 'string' && /\\S/.test(value)) {\n      return document.createTextNode(value);\n    }\n  }).filter(function (value) {\n    return value;\n  });\n}\n/**\n * Normalizes and appends content to an element.\n *\n * @param  {Element} el\n *         Element to append normalized content to.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Element}\n *         The element with appended normalized content.\n */\n\n\nfunction appendContent(el, content) {\n  normalizeContent(content).forEach(function (node) {\n    return el.appendChild(node);\n  });\n  return el;\n}\n/**\n * Normalizes and inserts content into an element; this is identical to\n * `appendContent()`, except it empties the element first.\n *\n * @param {Element} el\n *        Element to insert normalized content into.\n *\n * @param {module:dom~ContentDescriptor} content\n *        A content descriptor value.\n *\n * @return {Element}\n *         The element with inserted normalized content.\n */\n\n\nfunction insertContent(el, content) {\n  return appendContent(emptyEl(el), content);\n}\n/**\n * Check if an event was a single left click.\n *\n * @param  {EventTarget~Event} event\n *         Event object.\n *\n * @return {boolean}\n *         Will be `true` if a single left click, `false` otherwise.\n */\n\n\nfunction isSingleLeftClick(event) {\n  // Note: if you create something draggable, be sure to\n  // call it on both `mousedown` and `mousemove` event,\n  // otherwise `mousedown` should be enough for a button\n  if (event.button === undefined && event.buttons === undefined) {\n    // Why do we need `buttons` ?\n    // Because, middle mouse sometimes have this:\n    // e.button === 0 and e.buttons === 4\n    // Furthermore, we want to prevent combination click, something like\n    // HOLD middlemouse then left click, that would be\n    // e.button === 0, e.buttons === 5\n    // just `button` is not gonna work\n    // Alright, then what this block does ?\n    // this is for chrome `simulate mobile devices`\n    // I want to support this as well\n    return true;\n  }\n\n  if (event.button === 0 && event.buttons === undefined) {\n    // Touch screen, sometimes on some specific device, `buttons`\n    // doesn't have anything (safari on ios, blackberry...)\n    return true;\n  } // `mouseup` event on a single left click has\n  // `button` and `buttons` equal to 0\n\n\n  if (event.button === 0 && event.buttons === 0) {\n    return true;\n  }\n\n  if (event.button !== 0 || event.buttons !== 1) {\n    // This is the reason we have those if else block above\n    // if any special case we can catch and let it slide\n    // we do it above, when get to here, this definitely\n    // is-not-left-click\n    return false;\n  }\n\n  return true;\n}\n/**\n * Finds a single DOM element matching `selector` within the optional\n * `context` of another DOM element (defaulting to `document`).\n *\n * @param  {string} selector\n *         A valid CSS selector, which will be passed to `querySelector`.\n *\n * @param  {Element|String} [context=document]\n *         A DOM element within which to query. Can also be a selector\n *         string in which case the first matching element will be used\n *         as context. If missing (or no element matches selector), falls\n *         back to `document`.\n *\n * @return {Element|null}\n *         The element that was found or null.\n */\n\n\nvar $ = createQuerier('querySelector');\n/**\n * Finds a all DOM elements matching `selector` within the optional\n * `context` of another DOM element (defaulting to `document`).\n *\n * @param  {string} selector\n *         A valid CSS selector, which will be passed to `querySelectorAll`.\n *\n * @param  {Element|String} [context=document]\n *         A DOM element within which to query. Can also be a selector\n *         string in which case the first matching element will be used\n *         as context. If missing (or no element matches selector), falls\n *         back to `document`.\n *\n * @return {NodeList}\n *         A element list of elements that were found. Will be empty if none\n *         were found.\n *\n */\n\nvar $$ = createQuerier('querySelectorAll');\nvar Dom =\n/*#__PURE__*/\nObject.freeze({\n  isReal: isReal,\n  isEl: isEl,\n  isInFrame: isInFrame,\n  createEl: createEl,\n  textContent: textContent,\n  prependTo: prependTo,\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass,\n  toggleClass: toggleClass,\n  setAttributes: setAttributes,\n  getAttributes: getAttributes,\n  getAttribute: getAttribute,\n  setAttribute: setAttribute,\n  removeAttribute: removeAttribute,\n  blockTextSelection: blockTextSelection,\n  unblockTextSelection: unblockTextSelection,\n  getBoundingClientRect: getBoundingClientRect,\n  findPosition: findPosition,\n  getPointerPosition: getPointerPosition,\n  isTextNode: isTextNode,\n  emptyEl: emptyEl,\n  normalizeContent: normalizeContent,\n  appendContent: appendContent,\n  insertContent: insertContent,\n  isSingleLeftClick: isSingleLeftClick,\n  $: $,\n  $$: $$\n});\n/**\n * @file guid.js\n * @module guid\n */\n\n/**\n * Unique ID for an element or function\n * @type {Number}\n */\n\nvar _guid = 1;\n/**\n * Get a unique auto-incrementing ID by number that has not been returned before.\n *\n * @return {number}\n *         A new unique ID.\n */\n\nfunction newGUID() {\n  return _guid++;\n}\n/**\n * @file dom-data.js\n * @module dom-data\n */\n\n/**\n * Element Data Store.\n *\n * Allows for binding data to an element without putting it directly on the\n * element. Ex. Event listeners are stored here.\n * (also from jsninja.com, slightly modified and updated for closure compiler)\n *\n * @type {Object}\n * @private\n */\n\n\nvar elData = {};\n/*\n * Unique attribute name to store an element's guid in\n *\n * @type {String}\n * @constant\n * @private\n */\n\nvar elIdAttr = 'vdata' + Math.floor(window$1.performance && window$1.performance.now() || Date.now());\n/**\n * Returns the cache object where data for an element is stored\n *\n * @param {Element} el\n *        Element to store data for.\n *\n * @return {Object}\n *         The cache object for that el that was passed in.\n */\n\nfunction getData(el) {\n  var id = el[elIdAttr];\n\n  if (!id) {\n    id = el[elIdAttr] = newGUID();\n  }\n\n  if (!elData[id]) {\n    elData[id] = {};\n  }\n\n  return elData[id];\n}\n/**\n * Returns whether or not an element has cached data\n *\n * @param {Element} el\n *        Check if this element has cached data.\n *\n * @return {boolean}\n *         - True if the DOM element has cached data.\n *         - False otherwise.\n */\n\n\nfunction hasData(el) {\n  var id = el[elIdAttr];\n\n  if (!id) {\n    return false;\n  }\n\n  return !!Object.getOwnPropertyNames(elData[id]).length;\n}\n/**\n * Delete data for the element from the cache and the guid attr from getElementById\n *\n * @param {Element} el\n *        Remove cached data for this element.\n */\n\n\nfunction removeData(el) {\n  var id = el[elIdAttr];\n\n  if (!id) {\n    return;\n  } // Remove all stored data\n\n\n  delete elData[id]; // Remove the elIdAttr property from the DOM node\n\n  try {\n    delete el[elIdAttr];\n  } catch (e) {\n    if (el.removeAttribute) {\n      el.removeAttribute(elIdAttr);\n    } else {\n      // IE doesn't appear to support removeAttribute on the document element\n      el[elIdAttr] = null;\n    }\n  }\n}\n/**\n * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n * robust as jquery's, so there's probably some differences.\n *\n * @file events.js\n * @module events\n */\n\n/**\n * Clean up the listener cache and dispatchers\n *\n * @param {Element|Object} elem\n *        Element to clean up\n *\n * @param {string} type\n *        Type of event to clean up\n */\n\n\nfunction _cleanUpEvents(elem, type) {\n  var data = getData(elem); // Remove the events of a particular type if there are none left\n\n  if (data.handlers[type].length === 0) {\n    delete data.handlers[type]; // data.handlers[type] = null;\n    // Setting to null was causing an error with data.handlers\n    // Remove the meta-handler from the element\n\n    if (elem.removeEventListener) {\n      elem.removeEventListener(type, data.dispatcher, false);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + type, data.dispatcher);\n    }\n  } // Remove the events object if there are no types left\n\n\n  if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n    delete data.handlers;\n    delete data.dispatcher;\n    delete data.disabled;\n  } // Finally remove the element data if there is no data left\n\n\n  if (Object.getOwnPropertyNames(data).length === 0) {\n    removeData(elem);\n  }\n}\n/**\n * Loops through an array of event types and calls the requested method for each type.\n *\n * @param {Function} fn\n *        The event method we want to use.\n *\n * @param {Element|Object} elem\n *        Element or object to bind listeners to\n *\n * @param {string} type\n *        Type of event to bind to.\n *\n * @param {EventTarget~EventListener} callback\n *        Event listener.\n */\n\n\nfunction _handleMultipleEvents(fn, elem, types, callback) {\n  types.forEach(function (type) {\n    // Call the event method for each one of the types\n    fn(elem, type, callback);\n  });\n}\n/**\n * Fix a native event to have standard property values\n *\n * @param {Object} event\n *        Event object to fix.\n *\n * @return {Object}\n *         Fixed event object.\n */\n\n\nfunction fixEvent(event) {\n  function returnTrue() {\n    return true;\n  }\n\n  function returnFalse() {\n    return false;\n  } // Test if fixing up is needed\n  // Used to check if !event.stopPropagation instead of isPropagationStopped\n  // But native events return true for stopPropagation, but don't have\n  // other expected methods like isPropagationStopped. Seems to be a problem\n  // with the Javascript Ninja code. So we're just overriding all events now.\n\n\n  if (!event || !event.isPropagationStopped) {\n    var old = event || window$1.event;\n    event = {}; // Clone the old object so that we can modify the values event = {};\n    // IE8 Doesn't like when you mess with native event properties\n    // Firefox returns false for event.hasOwnProperty('type') and other props\n    //  which makes copying more difficult.\n    // TODO: Probably best to create a whitelist of event props\n\n    for (var key in old) {\n      // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n      // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n      // and webkitMovementX/Y\n      if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY') {\n        // Chrome 32+ warns if you try to copy deprecated returnValue, but\n        // we still want to if preventDefault isn't supported (IE8).\n        if (!(key === 'returnValue' && old.preventDefault)) {\n          event[key] = old[key];\n        }\n      }\n    } // The event occurred on this element\n\n\n    if (!event.target) {\n      event.target = event.srcElement || document;\n    } // Handle which other element the event is related to\n\n\n    if (!event.relatedTarget) {\n      event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n    } // Stop the default browser action\n\n\n    event.preventDefault = function () {\n      if (old.preventDefault) {\n        old.preventDefault();\n      }\n\n      event.returnValue = false;\n      old.returnValue = false;\n      event.defaultPrevented = true;\n    };\n\n    event.defaultPrevented = false; // Stop the event from bubbling\n\n    event.stopPropagation = function () {\n      if (old.stopPropagation) {\n        old.stopPropagation();\n      }\n\n      event.cancelBubble = true;\n      old.cancelBubble = true;\n      event.isPropagationStopped = returnTrue;\n    };\n\n    event.isPropagationStopped = returnFalse; // Stop the event from bubbling and executing other handlers\n\n    event.stopImmediatePropagation = function () {\n      if (old.stopImmediatePropagation) {\n        old.stopImmediatePropagation();\n      }\n\n      event.isImmediatePropagationStopped = returnTrue;\n      event.stopPropagation();\n    };\n\n    event.isImmediatePropagationStopped = returnFalse; // Handle mouse position\n\n    if (event.clientX !== null && event.clientX !== undefined) {\n      var doc = document.documentElement;\n      var body = document.body;\n      event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // Handle key presses\n\n\n    event.which = event.charCode || event.keyCode; // Fix button for mouse clicks:\n    // 0 == left; 1 == middle; 2 == right\n\n    if (event.button !== null && event.button !== undefined) {\n      // The following is disabled because it does not pass videojs-standard\n      // and... yikes.\n\n      /* eslint-disable */\n      event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n      /* eslint-enable */\n    }\n  } // Returns fixed-up instance\n\n\n  return event;\n}\n/**\n * Whether passive event listeners are supported\n */\n\n\nvar _supportsPassive = false;\n\n(function () {\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        _supportsPassive = true;\n      }\n    });\n    window$1.addEventListener('test', null, opts);\n    window$1.removeEventListener('test', null, opts);\n  } catch (e) {// disregard\n  }\n})();\n/**\n * Touch events Chrome expects to be passive\n */\n\n\nvar passiveEvents = ['touchstart', 'touchmove'];\n/**\n * Add an event listener to element\n * It stores the handler function in a separate cache object\n * and adds a generic handler to the element's event,\n * along with a unique id (guid) to the element.\n *\n * @param {Element|Object} elem\n *        Element or object to bind listeners to\n *\n * @param {string|string[]} type\n *        Type of event to bind to.\n *\n * @param {EventTarget~EventListener} fn\n *        Event listener.\n */\n\nfunction on(elem, type, fn) {\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(on, elem, type, fn);\n  }\n\n  var data = getData(elem); // We need a place to store all our handler data\n\n  if (!data.handlers) {\n    data.handlers = {};\n  }\n\n  if (!data.handlers[type]) {\n    data.handlers[type] = [];\n  }\n\n  if (!fn.guid) {\n    fn.guid = newGUID();\n  }\n\n  data.handlers[type].push(fn);\n\n  if (!data.dispatcher) {\n    data.disabled = false;\n\n    data.dispatcher = function (event, hash) {\n      if (data.disabled) {\n        return;\n      }\n\n      event = fixEvent(event);\n      var handlers = data.handlers[event.type];\n\n      if (handlers) {\n        // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n        var handlersCopy = handlers.slice(0);\n\n        for (var m = 0, n = handlersCopy.length; m < n; m++) {\n          if (event.isImmediatePropagationStopped()) {\n            break;\n          } else {\n            try {\n              handlersCopy[m].call(elem, event, hash);\n            } catch (e) {\n              log.error(e);\n            }\n          }\n        }\n      }\n    };\n  }\n\n  if (data.handlers[type].length === 1) {\n    if (elem.addEventListener) {\n      var options = false;\n\n      if (_supportsPassive && passiveEvents.indexOf(type) > -1) {\n        options = {\n          passive: true\n        };\n      }\n\n      elem.addEventListener(type, data.dispatcher, options);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + type, data.dispatcher);\n    }\n  }\n}\n/**\n * Removes event listeners from an element\n *\n * @param {Element|Object} elem\n *        Object to remove listeners from.\n *\n * @param {string|string[]} [type]\n *        Type of listener to remove. Don't include to remove all events from element.\n *\n * @param {EventTarget~EventListener} [fn]\n *        Specific listener to remove. Don't include to remove listeners for an event\n *        type.\n */\n\n\nfunction off(elem, type, fn) {\n  // Don't want to add a cache object through getElData if not needed\n  if (!hasData(elem)) {\n    return;\n  }\n\n  var data = getData(elem); // If no events exist, nothing to unbind\n\n  if (!data.handlers) {\n    return;\n  }\n\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(off, elem, type, fn);\n  } // Utility function\n\n\n  var removeType = function removeType(el, t) {\n    data.handlers[t] = [];\n\n    _cleanUpEvents(el, t);\n  }; // Are we removing all bound events?\n\n\n  if (type === undefined) {\n    for (var t in data.handlers) {\n      if (Object.prototype.hasOwnProperty.call(data.handlers || {}, t)) {\n        removeType(elem, t);\n      }\n    }\n\n    return;\n  }\n\n  var handlers = data.handlers[type]; // If no handlers exist, nothing to unbind\n\n  if (!handlers) {\n    return;\n  } // If no listener was provided, remove all listeners for type\n\n\n  if (!fn) {\n    removeType(elem, type);\n    return;\n  } // We're only removing a single handler\n\n\n  if (fn.guid) {\n    for (var n = 0; n < handlers.length; n++) {\n      if (handlers[n].guid === fn.guid) {\n        handlers.splice(n--, 1);\n      }\n    }\n  }\n\n  _cleanUpEvents(elem, type);\n}\n/**\n * Trigger an event for an element\n *\n * @param {Element|Object} elem\n *        Element to trigger an event on\n *\n * @param {EventTarget~Event|string} event\n *        A string (the type) or an event object with a type attribute\n *\n * @param {Object} [hash]\n *        data hash to pass along with the event\n *\n * @return {boolean|undefined}\n *         Returns the opposite of `defaultPrevented` if default was\n *         prevented. Otherwise, returns `undefined`\n */\n\n\nfunction trigger(elem, event, hash) {\n  // Fetches element data and a reference to the parent (for bubbling).\n  // Don't want to add a data object to cache for every parent,\n  // so checking hasElData first.\n  var elemData = hasData(elem) ? getData(elem) : {};\n  var parent = elem.parentNode || elem.ownerDocument; // type = event.type || event,\n  // handler;\n  // If an event name was passed as a string, creates an event out of it\n\n  if (typeof event === 'string') {\n    event = {\n      type: event,\n      target: elem\n    };\n  } else if (!event.target) {\n    event.target = elem;\n  } // Normalizes the event properties.\n\n\n  event = fixEvent(event); // If the passed element has a dispatcher, executes the established handlers.\n\n  if (elemData.dispatcher) {\n    elemData.dispatcher.call(elem, event, hash);\n  } // Unless explicitly stopped or the event does not bubble (e.g. media events)\n  // recursively calls this function to bubble the event up the DOM.\n\n\n  if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n    trigger.call(null, parent, event, hash); // If at the top of the DOM, triggers the default action unless disabled.\n  } else if (!parent && !event.defaultPrevented && event.target && event.target[event.type]) {\n    var targetData = getData(event.target); // Checks if the target has a default action for this event.\n\n    if (event.target[event.type]) {\n      // Temporarily disables event dispatching on the target as we have already executed the handler.\n      targetData.disabled = true; // Executes the default action.\n\n      if (typeof event.target[event.type] === 'function') {\n        event.target[event.type]();\n      } // Re-enables event dispatching.\n\n\n      targetData.disabled = false;\n    }\n  } // Inform the triggerer if the default was prevented by returning false\n\n\n  return !event.defaultPrevented;\n}\n/**\n * Trigger a listener only once for an event.\n *\n * @param {Element|Object} elem\n *        Element or object to bind to.\n *\n * @param {string|string[]} type\n *        Name/type of event\n *\n * @param {Event~EventListener} fn\n *        Event listener function\n */\n\n\nfunction one(elem, type, fn) {\n  if (Array.isArray(type)) {\n    return _handleMultipleEvents(one, elem, type, fn);\n  }\n\n  var func = function func() {\n    off(elem, type, func);\n    fn.apply(this, arguments);\n  }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n  func.guid = fn.guid = fn.guid || newGUID();\n  on(elem, type, func);\n}\n/**\n * Trigger a listener only once and then turn if off for all\n * configured events\n *\n * @param {Element|Object} elem\n *        Element or object to bind to.\n *\n * @param {string|string[]} type\n *        Name/type of event\n *\n * @param {Event~EventListener} fn\n *        Event listener function\n */\n\n\nfunction any(elem, type, fn) {\n  var func = function func() {\n    off(elem, type, func);\n    fn.apply(this, arguments);\n  }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n  func.guid = fn.guid = fn.guid || newGUID(); // multiple ons, but one off for everything\n\n  on(elem, type, func);\n}\n\nvar Events =\n/*#__PURE__*/\nObject.freeze({\n  fixEvent: fixEvent,\n  on: on,\n  off: off,\n  trigger: trigger,\n  one: one,\n  any: any\n});\n/**\n * @file setup.js - Functions for setting up a player without\n * user interaction based on the data-setup `attribute` of the video tag.\n *\n * @module setup\n */\n\nvar _windowLoaded = false;\nvar videojs;\n/**\n * Set up any tags that have a data-setup `attribute` when the player is started.\n */\n\nvar autoSetup = function autoSetup() {\n  // Protect against breakage in non-browser environments and check global autoSetup option.\n  if (!isReal() || videojs.options.autoSetup === false) {\n    return;\n  }\n\n  var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n  var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n  var divs = Array.prototype.slice.call(document.getElementsByTagName('video-js'));\n  var mediaEls = vids.concat(audios, divs); // Check if any media elements exist\n\n  if (mediaEls && mediaEls.length > 0) {\n    for (var i = 0, e = mediaEls.length; i < e; i++) {\n      var mediaEl = mediaEls[i]; // Check if element exists, has getAttribute func.\n\n      if (mediaEl && mediaEl.getAttribute) {\n        // Make sure this player hasn't already been set up.\n        if (mediaEl.player === undefined) {\n          var options = mediaEl.getAttribute('data-setup'); // Check if data-setup attr exists.\n          // We only auto-setup if they've added the data-setup attr.\n\n          if (options !== null) {\n            // Create new video.js instance.\n            videojs(mediaEl);\n          }\n        } // If getAttribute isn't defined, we need to wait for the DOM.\n\n      } else {\n        autoSetupTimeout(1);\n        break;\n      }\n    } // No videos were found, so keep looping unless page is finished loading.\n\n  } else if (!_windowLoaded) {\n    autoSetupTimeout(1);\n  }\n};\n/**\n * Wait until the page is loaded before running autoSetup. This will be called in\n * autoSetup if `hasLoaded` returns false.\n *\n * @param {number} wait\n *        How long to wait in ms\n *\n * @param {module:videojs} [vjs]\n *        The videojs library function\n */\n\n\nfunction autoSetupTimeout(wait, vjs) {\n  if (vjs) {\n    videojs = vjs;\n  }\n\n  window$1.setTimeout(autoSetup, wait);\n}\n\nif (isReal() && document.readyState === 'complete') {\n  _windowLoaded = true;\n} else {\n  /**\n   * Listen for the load event on window, and set _windowLoaded to true.\n   *\n   * @listens load\n   */\n  one(window$1, 'load', function () {\n    _windowLoaded = true;\n  });\n}\n/**\n * @file stylesheet.js\n * @module stylesheet\n */\n\n/**\n * Create a DOM syle element given a className for it.\n *\n * @param {string} className\n *        The className to add to the created style element.\n *\n * @return {Element}\n *         The element that was created.\n */\n\n\nvar createStyleElement = function createStyleElement(className) {\n  var style = document.createElement('style');\n  style.className = className;\n  return style;\n};\n/**\n * Add text to a DOM element.\n *\n * @param {Element} el\n *        The Element to add text content to.\n *\n * @param {string} content\n *        The text to add to the element.\n */\n\n\nvar setTextContent = function setTextContent(el, content) {\n  if (el.styleSheet) {\n    el.styleSheet.cssText = content;\n  } else {\n    el.textContent = content;\n  }\n};\n/**\n * @file fn.js\n * @module fn\n */\n\n/**\n * Bind (a.k.a proxy or context). A simple method for changing the context of\n * a function.\n *\n * It also stores a unique id on the function so it can be easily removed from\n * events.\n *\n * @function\n * @param    {Mixed} context\n *           The object to bind as scope.\n *\n * @param    {Function} fn\n *           The function to be bound to a scope.\n *\n * @param    {number} [uid]\n *           An optional unique ID for the function to be set\n *\n * @return   {Function}\n *           The new function that will be bound into the context given\n */\n\n\nvar bind = function bind(context, fn, uid) {\n  // Make sure the function has a unique ID\n  if (!fn.guid) {\n    fn.guid = newGUID();\n  } // Create the new function that changes the context\n\n\n  var bound = function bound() {\n    return fn.apply(context, arguments);\n  }; // Allow for the ability to individualize this function\n  // Needed in the case where multiple objects might share the same prototype\n  // IF both items add an event listener with the same function, then you try to remove just one\n  // it will remove both because they both have the same guid.\n  // when using this, you need to use the bind method when you remove the listener as well.\n  // currently used in text tracks\n\n\n  bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n  return bound;\n};\n/**\n * Wraps the given function, `fn`, with a new function that only invokes `fn`\n * at most once per every `wait` milliseconds.\n *\n * @function\n * @param    {Function} fn\n *           The function to be throttled.\n *\n * @param    {number}   wait\n *           The number of milliseconds by which to throttle.\n *\n * @return   {Function}\n */\n\n\nvar throttle = function throttle(fn, wait) {\n  var last = window$1.performance.now();\n\n  var throttled = function throttled() {\n    var now = window$1.performance.now();\n\n    if (now - last >= wait) {\n      fn.apply(void 0, arguments);\n      last = now;\n    }\n  };\n\n  return throttled;\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked.\n *\n * Inspired by lodash and underscore implementations.\n *\n * @function\n * @param    {Function} func\n *           The function to wrap with debounce behavior.\n *\n * @param    {number} wait\n *           The number of milliseconds to wait after the last invocation.\n *\n * @param    {boolean} [immediate]\n *           Whether or not to invoke the function immediately upon creation.\n *\n * @param    {Object} [context=window]\n *           The \"context\" in which the debounced function should debounce. For\n *           example, if this function should be tied to a Video.js player,\n *           the player can be passed here. Alternatively, defaults to the\n *           global `window` object.\n *\n * @return   {Function}\n *           A debounced function.\n */\n\n\nvar debounce = function debounce(func, wait, immediate, context) {\n  if (context === void 0) {\n    context = window$1;\n  }\n\n  var timeout;\n\n  var cancel = function cancel() {\n    context.clearTimeout(timeout);\n    timeout = null;\n  };\n  /* eslint-disable consistent-this */\n\n\n  var debounced = function debounced() {\n    var self = this;\n    var args = arguments;\n\n    var _later = function later() {\n      timeout = null;\n      _later = null;\n\n      if (!immediate) {\n        func.apply(self, args);\n      }\n    };\n\n    if (!timeout && immediate) {\n      func.apply(self, args);\n    }\n\n    context.clearTimeout(timeout);\n    timeout = context.setTimeout(_later, wait);\n  };\n  /* eslint-enable consistent-this */\n\n\n  debounced.cancel = cancel;\n  return debounced;\n};\n/**\n * @file src/js/event-target.js\n */\n\n/**\n * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It\n * adds shorthand functions that wrap around lengthy functions. For example:\n * the `on` function is a wrapper around `addEventListener`.\n *\n * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}\n * @class EventTarget\n */\n\n\nvar EventTarget = function EventTarget() {};\n/**\n * A Custom DOM event.\n *\n * @typedef {Object} EventTarget~Event\n * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}\n */\n\n/**\n * All event listeners should follow the following format.\n *\n * @callback EventTarget~EventListener\n * @this {EventTarget}\n *\n * @param {EventTarget~Event} event\n *        the event that triggered this function\n *\n * @param {Object} [hash]\n *        hash of data sent during the event\n */\n\n/**\n * An object containing event names as keys and booleans as values.\n *\n * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}\n *         will have extra functionality. See that function for more information.\n *\n * @property EventTarget.prototype.allowedEvents_\n * @private\n */\n\n\nEventTarget.prototype.allowedEvents_ = {};\n/**\n * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a\n * function that will get called when an event with a certain name gets triggered.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to call with `EventTarget`s\n */\n\nEventTarget.prototype.on = function (type, fn) {\n  // Remove the addEventListener alias before calling Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  on(this, type, fn);\n  this.addEventListener = ael;\n};\n/**\n * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#on}\n */\n\n\nEventTarget.prototype.addEventListener = EventTarget.prototype.on;\n/**\n * Removes an `event listener` for a specific event from an instance of `EventTarget`.\n * This makes it so that the `event listener` will no longer get called when the\n * named event happens.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to remove.\n */\n\nEventTarget.prototype.off = function (type, fn) {\n  off(this, type, fn);\n};\n/**\n * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#off}\n */\n\n\nEventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n/**\n * This function will add an `event listener` that gets triggered only once. After the\n * first trigger it will get removed. This is like adding an `event listener`\n * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.\n *\n * @param {string|string[]} type\n *        An event name or an array of event names.\n *\n * @param {EventTarget~EventListener} fn\n *        The function to be called once for each event name.\n */\n\nEventTarget.prototype.one = function (type, fn) {\n  // Remove the addEventListener aliasing Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  one(this, type, fn);\n  this.addEventListener = ael;\n};\n\nEventTarget.prototype.any = function (type, fn) {\n  // Remove the addEventListener aliasing Events.on\n  // so we don't get into an infinite type loop\n  var ael = this.addEventListener;\n\n  this.addEventListener = function () {};\n\n  any(this, type, fn);\n  this.addEventListener = ael;\n};\n/**\n * This function causes an event to happen. This will then cause any `event listeners`\n * that are waiting for that event, to get called. If there are no `event listeners`\n * for an event then nothing will happen.\n *\n * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.\n * Trigger will also call the `on` + `uppercaseEventName` function.\n *\n * Example:\n * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call\n * `onClick` if it exists.\n *\n * @param {string|EventTarget~Event|Object} event\n *        The name of the event, an `Event`, or an object with a key of type set to\n *        an event name.\n */\n\n\nEventTarget.prototype.trigger = function (event) {\n  var type = event.type || event; // deprecation\n  // In a future version we should default target to `this`\n  // similar to how we default the target to `elem` in\n  // `Events.trigger`. Right now the default `target` will be\n  // `document` due to the `Event.fixEvent` call.\n\n  if (typeof event === 'string') {\n    event = {\n      type: type\n    };\n  }\n\n  event = fixEvent(event);\n\n  if (this.allowedEvents_[type] && this['on' + type]) {\n    this['on' + type](event);\n  }\n\n  trigger(this, event);\n};\n/**\n * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic\n * the standard DOM API.\n *\n * @function\n * @see {@link EventTarget#trigger}\n */\n\n\nEventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\nvar EVENT_MAP;\n\nEventTarget.prototype.queueTrigger = function (event) {\n  var _this = this; // only set up EVENT_MAP if it'll be used\n\n\n  if (!EVENT_MAP) {\n    EVENT_MAP = new Map();\n  }\n\n  var type = event.type || event;\n  var map = EVENT_MAP.get(this);\n\n  if (!map) {\n    map = new Map();\n    EVENT_MAP.set(this, map);\n  }\n\n  var oldTimeout = map.get(type);\n  map[\"delete\"](type);\n  window$1.clearTimeout(oldTimeout);\n  var timeout = window$1.setTimeout(function () {\n    // if we cleared out all timeouts for the current target, delete its map\n    if (map.size === 0) {\n      map = null;\n      EVENT_MAP[\"delete\"](_this);\n    }\n\n    _this.trigger(event);\n  }, 0);\n  map.set(type, timeout);\n};\n/**\n * @file mixins/evented.js\n * @module evented\n */\n\n/**\n * Returns whether or not an object has had the evented mixin applied.\n *\n * @param  {Object} object\n *         An object to test.\n *\n * @return {boolean}\n *         Whether or not the object appears to be evented.\n */\n\n\nvar isEvented = function isEvented(object) {\n  return object instanceof EventTarget || !!object.eventBusEl_ && ['on', 'one', 'off', 'trigger'].every(function (k) {\n    return typeof object[k] === 'function';\n  });\n};\n/**\n * Adds a callback to run after the evented mixin applied.\n *\n * @param  {Object} object\n *         An object to Add\n * @param  {Function} callback\n *         The callback to run.\n */\n\n\nvar addEventedCallback = function addEventedCallback(target, callback) {\n  if (isEvented(target)) {\n    callback();\n  } else {\n    if (!target.eventedCallbacks) {\n      target.eventedCallbacks = [];\n    }\n\n    target.eventedCallbacks.push(callback);\n  }\n};\n/**\n * Whether a value is a valid event type - non-empty string or array.\n *\n * @private\n * @param  {string|Array} type\n *         The type value to test.\n *\n * @return {boolean}\n *         Whether or not the type is a valid event type.\n */\n\n\nvar isValidEventType = function isValidEventType(type) {\n  return (// The regex here verifies that the `type` contains at least one non-\n    // whitespace character.\n    typeof type === 'string' && /\\S/.test(type) || Array.isArray(type) && !!type.length\n  );\n};\n/**\n * Validates a value to determine if it is a valid event target. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the target does not appear to be a valid event target.\n *\n * @param  {Object} target\n *         The object to test.\n */\n\n\nvar validateTarget = function validateTarget(target) {\n  if (!target.nodeName && !isEvented(target)) {\n    throw new Error('Invalid target; must be a DOM node or evented object.');\n  }\n};\n/**\n * Validates a value to determine if it is a valid event target. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the type does not appear to be a valid event type.\n *\n * @param  {string|Array} type\n *         The type to test.\n */\n\n\nvar validateEventType = function validateEventType(type) {\n  if (!isValidEventType(type)) {\n    throw new Error('Invalid event type; must be a non-empty string or array.');\n  }\n};\n/**\n * Validates a value to determine if it is a valid listener. Throws if not.\n *\n * @private\n * @throws {Error}\n *         If the listener is not a function.\n *\n * @param  {Function} listener\n *         The listener to test.\n */\n\n\nvar validateListener = function validateListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new Error('Invalid listener; must be a function.');\n  }\n};\n/**\n * Takes an array of arguments given to `on()` or `one()`, validates them, and\n * normalizes them into an object.\n *\n * @private\n * @param  {Object} self\n *         The evented object on which `on()` or `one()` was called. This\n *         object will be bound as the `this` value for the listener.\n *\n * @param  {Array} args\n *         An array of arguments passed to `on()` or `one()`.\n *\n * @return {Object}\n *         An object containing useful values for `on()` or `one()` calls.\n */\n\n\nvar normalizeListenArgs = function normalizeListenArgs(self, args) {\n  // If the number of arguments is less than 3, the target is always the\n  // evented object itself.\n  var isTargetingSelf = args.length < 3 || args[0] === self || args[0] === self.eventBusEl_;\n  var target;\n  var type;\n  var listener;\n\n  if (isTargetingSelf) {\n    target = self.eventBusEl_; // Deal with cases where we got 3 arguments, but we are still listening to\n    // the evented object itself.\n\n    if (args.length >= 3) {\n      args.shift();\n    }\n\n    type = args[0];\n    listener = args[1];\n  } else {\n    target = args[0];\n    type = args[1];\n    listener = args[2];\n  }\n\n  validateTarget(target);\n  validateEventType(type);\n  validateListener(listener);\n  listener = bind(self, listener);\n  return {\n    isTargetingSelf: isTargetingSelf,\n    target: target,\n    type: type,\n    listener: listener\n  };\n};\n/**\n * Adds the listener to the event type(s) on the target, normalizing for\n * the type of target.\n *\n * @private\n * @param  {Element|Object} target\n *         A DOM node or evented object.\n *\n * @param  {string} method\n *         The event binding method to use (\"on\" or \"one\").\n *\n * @param  {string|Array} type\n *         One or more event type(s).\n *\n * @param  {Function} listener\n *         A listener function.\n */\n\n\nvar listen = function listen(target, method, type, listener) {\n  validateTarget(target);\n\n  if (target.nodeName) {\n    Events[method](target, type, listener);\n  } else {\n    target[method](type, listener);\n  }\n};\n/**\n * Contains methods that provide event capabilities to an object which is passed\n * to {@link module:evented|evented}.\n *\n * @mixin EventedMixin\n */\n\n\nvar EventedMixin = {\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  on: function on() {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var _normalizeListenArgs = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs.isTargetingSelf,\n        target = _normalizeListenArgs.target,\n        type = _normalizeListenArgs.type,\n        listener = _normalizeListenArgs.listener;\n\n    listen(target, 'on', type, listener); // If this object is listening to another evented object.\n\n    if (!isTargetingSelf) {\n      // If this object is disposed, remove the listener.\n      var removeListenerOnDispose = function removeListenerOnDispose() {\n        return _this.off(target, type, listener);\n      }; // Use the same function ID as the listener so we can remove it later it\n      // using the ID of the original listener.\n\n\n      removeListenerOnDispose.guid = listener.guid; // Add a listener to the target's dispose event as well. This ensures\n      // that if the target is disposed BEFORE this object, we remove the\n      // removal listener that was just added. Otherwise, we create a memory leak.\n\n      var removeRemoverOnTargetDispose = function removeRemoverOnTargetDispose() {\n        return _this.off('dispose', removeListenerOnDispose);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      removeRemoverOnTargetDispose.guid = listener.guid;\n      listen(this, 'on', 'dispose', removeListenerOnDispose);\n      listen(target, 'on', 'dispose', removeRemoverOnTargetDispose);\n    }\n  },\n\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object. The listener will be called once per event and then removed.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  one: function one() {\n    var _this2 = this;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var _normalizeListenArgs2 = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs2.isTargetingSelf,\n        target = _normalizeListenArgs2.target,\n        type = _normalizeListenArgs2.type,\n        listener = _normalizeListenArgs2.listener; // Targeting this evented object.\n\n\n    if (isTargetingSelf) {\n      listen(target, 'one', type, listener); // Targeting another evented object.\n    } else {\n      // TODO: This wrapper is incorrect! It should only\n      //       remove the wrapper for the event type that called it.\n      //       Instead all listners are removed on the first trigger!\n      //       see https://github.com/videojs/video.js/issues/5962\n      var wrapper = function wrapper() {\n        _this2.off(target, type, wrapper);\n\n        for (var _len3 = arguments.length, largs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          largs[_key3] = arguments[_key3];\n        }\n\n        listener.apply(null, largs);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      wrapper.guid = listener.guid;\n      listen(target, 'one', type, wrapper);\n    }\n  },\n\n  /**\n   * Add a listener to an event (or events) on this object or another evented\n   * object. The listener will only be called once for the first event that is triggered\n   * then removed.\n   *\n   * @param  {string|Array|Element|Object} targetOrType\n   *         If this is a string or array, it represents the event type(s)\n   *         that will trigger the listener.\n   *\n   *         Another evented object can be passed here instead, which will\n   *         cause the listener to listen for events on _that_ object.\n   *\n   *         In either case, the listener's `this` value will be bound to\n   *         this object.\n   *\n   * @param  {string|Array|Function} typeOrListener\n   *         If the first argument was a string or array, this should be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function.\n   */\n  any: function any() {\n    var _this3 = this;\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    var _normalizeListenArgs3 = normalizeListenArgs(this, args),\n        isTargetingSelf = _normalizeListenArgs3.isTargetingSelf,\n        target = _normalizeListenArgs3.target,\n        type = _normalizeListenArgs3.type,\n        listener = _normalizeListenArgs3.listener; // Targeting this evented object.\n\n\n    if (isTargetingSelf) {\n      listen(target, 'any', type, listener); // Targeting another evented object.\n    } else {\n      var wrapper = function wrapper() {\n        _this3.off(target, type, wrapper);\n\n        for (var _len5 = arguments.length, largs = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n          largs[_key5] = arguments[_key5];\n        }\n\n        listener.apply(null, largs);\n      }; // Use the same function ID as the listener so we can remove it later\n      // it using the ID of the original listener.\n\n\n      wrapper.guid = listener.guid;\n      listen(target, 'any', type, wrapper);\n    }\n  },\n\n  /**\n   * Removes listener(s) from event(s) on an evented object.\n   *\n   * @param  {string|Array|Element|Object} [targetOrType]\n   *         If this is a string or array, it represents the event type(s).\n   *\n   *         Another evented object can be passed here instead, in which case\n   *         ALL 3 arguments are _required_.\n   *\n   * @param  {string|Array|Function} [typeOrListener]\n   *         If the first argument was a string or array, this may be the\n   *         listener function. Otherwise, this is a string or array of event\n   *         type(s).\n   *\n   * @param  {Function} [listener]\n   *         If the first argument was another evented object, this will be\n   *         the listener function; otherwise, _all_ listeners bound to the\n   *         event type(s) will be removed.\n   */\n  off: function off$1(targetOrType, typeOrListener, listener) {\n    // Targeting this evented object.\n    if (!targetOrType || isValidEventType(targetOrType)) {\n      off(this.eventBusEl_, targetOrType, typeOrListener); // Targeting another evented object.\n    } else {\n      var target = targetOrType;\n      var type = typeOrListener; // Fail fast and in a meaningful way!\n\n      validateTarget(target);\n      validateEventType(type);\n      validateListener(listener); // Ensure there's at least a guid, even if the function hasn't been used\n\n      listener = bind(this, listener); // Remove the dispose listener on this evented object, which was given\n      // the same guid as the event listener in on().\n\n      this.off('dispose', listener);\n\n      if (target.nodeName) {\n        off(target, type, listener);\n        off(target, 'dispose', listener);\n      } else if (isEvented(target)) {\n        target.off(type, listener);\n        target.off('dispose', listener);\n      }\n    }\n  },\n\n  /**\n   * Fire an event on this evented object, causing its listeners to be called.\n   *\n   * @param   {string|Object} event\n   *          An event type or an object with a type property.\n   *\n   * @param   {Object} [hash]\n   *          An additional object to pass along to listeners.\n   *\n   * @return {boolean}\n   *          Whether or not the default behavior was prevented.\n   */\n  trigger: function trigger$1(event, hash) {\n    return trigger(this.eventBusEl_, event, hash);\n  }\n};\n/**\n * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.\n *\n * @param  {Object} target\n *         The object to which to add event methods.\n *\n * @param  {Object} [options={}]\n *         Options for customizing the mixin behavior.\n *\n * @param  {string} [options.eventBusKey]\n *         By default, adds a `eventBusEl_` DOM element to the target object,\n *         which is used as an event bus. If the target object already has a\n *         DOM element that should be used, pass its key here.\n *\n * @return {Object}\n *         The target object.\n */\n\nfunction evented(target, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      eventBusKey = _options.eventBusKey; // Set or create the eventBusEl_.\n\n  if (eventBusKey) {\n    if (!target[eventBusKey].nodeName) {\n      throw new Error(\"The eventBusKey \\\"\" + eventBusKey + \"\\\" does not refer to an element.\");\n    }\n\n    target.eventBusEl_ = target[eventBusKey];\n  } else {\n    target.eventBusEl_ = createEl('span', {\n      className: 'vjs-event-bus'\n    });\n  }\n\n  assign(target, EventedMixin);\n\n  if (target.eventedCallbacks) {\n    target.eventedCallbacks.forEach(function (callback) {\n      callback();\n    });\n  } // When any evented object is disposed, it removes all its listeners.\n\n\n  target.on('dispose', function () {\n    target.off();\n    window$1.setTimeout(function () {\n      target.eventBusEl_ = null;\n    }, 0);\n  });\n  return target;\n}\n/**\n * @file mixins/stateful.js\n * @module stateful\n */\n\n/**\n * Contains methods that provide statefulness to an object which is passed\n * to {@link module:stateful}.\n *\n * @mixin StatefulMixin\n */\n\n\nvar StatefulMixin = {\n  /**\n   * A hash containing arbitrary keys and values representing the state of\n   * the object.\n   *\n   * @type {Object}\n   */\n  state: {},\n\n  /**\n   * Set the state of an object by mutating its\n   * {@link module:stateful~StatefulMixin.state|state} object in place.\n   *\n   * @fires   module:stateful~StatefulMixin#statechanged\n   * @param   {Object|Function} stateUpdates\n   *          A new set of properties to shallow-merge into the plugin state.\n   *          Can be a plain object or a function returning a plain object.\n   *\n   * @return {Object|undefined}\n   *          An object containing changes that occurred. If no changes\n   *          occurred, returns `undefined`.\n   */\n  setState: function setState(stateUpdates) {\n    var _this = this; // Support providing the `stateUpdates` state as a function.\n\n\n    if (typeof stateUpdates === 'function') {\n      stateUpdates = stateUpdates();\n    }\n\n    var changes;\n    each(stateUpdates, function (value, key) {\n      // Record the change if the value is different from what's in the\n      // current state.\n      if (_this.state[key] !== value) {\n        changes = changes || {};\n        changes[key] = {\n          from: _this.state[key],\n          to: value\n        };\n      }\n\n      _this.state[key] = value;\n    }); // Only trigger \"statechange\" if there were changes AND we have a trigger\n    // function. This allows us to not require that the target object be an\n    // evented object.\n\n    if (changes && isEvented(this)) {\n      /**\n       * An event triggered on an object that is both\n       * {@link module:stateful|stateful} and {@link module:evented|evented}\n       * indicating that its state has changed.\n       *\n       * @event    module:stateful~StatefulMixin#statechanged\n       * @type     {Object}\n       * @property {Object} changes\n       *           A hash containing the properties that were changed and\n       *           the values they were changed `from` and `to`.\n       */\n      this.trigger({\n        changes: changes,\n        type: 'statechanged'\n      });\n    }\n\n    return changes;\n  }\n};\n/**\n * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target\n * object.\n *\n * If the target object is {@link module:evented|evented} and has a\n * `handleStateChanged` method, that method will be automatically bound to the\n * `statechanged` event on itself.\n *\n * @param   {Object} target\n *          The object to be made stateful.\n *\n * @param   {Object} [defaultState]\n *          A default set of properties to populate the newly-stateful object's\n *          `state` property.\n *\n * @return {Object}\n *          Returns the `target`.\n */\n\nfunction stateful(target, defaultState) {\n  assign(target, StatefulMixin); // This happens after the mixing-in because we need to replace the `state`\n  // added in that step.\n\n  target.state = assign({}, target.state, defaultState); // Auto-bind the `handleStateChanged` method of the target object if it exists.\n\n  if (typeof target.handleStateChanged === 'function' && isEvented(target)) {\n    target.on('statechanged', target.handleStateChanged);\n  }\n\n  return target;\n}\n/**\n * @file to-title-case.js\n * @module to-title-case\n */\n\n/**\n * Uppercase the first letter of a string.\n *\n * @param {string} string\n *        String to be uppercased\n *\n * @return {string}\n *         The string with an uppercased first letter\n */\n\n\nfunction toTitleCase(string) {\n  if (typeof string !== 'string') {\n    return string;\n  }\n\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n/**\n * Compares the TitleCase versions of the two strings for equality.\n *\n * @param {string} str1\n *        The first string to compare\n *\n * @param {string} str2\n *        The second string to compare\n *\n * @return {boolean}\n *         Whether the TitleCase versions of the strings are equal\n */\n\n\nfunction titleCaseEquals(str1, str2) {\n  return toTitleCase(str1) === toTitleCase(str2);\n}\n/**\n * @file merge-options.js\n * @module merge-options\n */\n\n/**\n * Merge two objects recursively.\n *\n * Performs a deep merge like\n * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges\n * plain objects (not arrays, elements, or anything else).\n *\n * Non-plain object values will be copied directly from the right-most\n * argument.\n *\n * @static\n * @param   {Object[]} sources\n *          One or more objects to merge into a new object.\n *\n * @return {Object}\n *          A new object that is the merged result of all sources.\n */\n\n\nfunction mergeOptions() {\n  var result = {};\n\n  for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n    sources[_key] = arguments[_key];\n  }\n\n  sources.forEach(function (source) {\n    if (!source) {\n      return;\n    }\n\n    each(source, function (value, key) {\n      if (!isPlain(value)) {\n        result[key] = value;\n        return;\n      }\n\n      if (!isPlain(result[key])) {\n        result[key] = {};\n      }\n\n      result[key] = mergeOptions(result[key], value);\n    });\n  });\n  return result;\n}\n/**\n * Player Component - Base class for all UI objects\n *\n * @file component.js\n */\n\n/**\n * Base class for all UI Components.\n * Components are UI objects which represent both a javascript object and an element\n * in the DOM. They can be children of other components, and can have\n * children themselves.\n *\n * Components can also use methods from {@link EventTarget}\n */\n\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  /**\n   * A callback that is called when a component is ready. Does not have any\n   * paramters and any callback value will be ignored.\n   *\n   * @callback Component~ReadyCallback\n   * @this Component\n   */\n\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Object[]} [options.children]\n   *        An array of children objects to intialize this component with. Children objects have\n   *        a name property that will be used if more than one component of the same type needs to be\n   *        added.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        Function that gets called when the `Component` is ready.\n   */\n  function Component(player, options, ready) {\n    // The component might be the player itself and we can't pass `this` to super\n    if (!player && this.play) {\n      this.player_ = player = this; // eslint-disable-line\n    } else {\n      this.player_ = player;\n    } // Hold the reference to the parent component via `addChild` method\n\n\n    this.parentComponent_ = null; // Make a copy of prototype.options_ to protect against overriding defaults\n\n    this.options_ = mergeOptions({}, this.options_); // Updated options with supplied options\n\n    options = this.options_ = mergeOptions(this.options_, options); // Get ID from options or options element if one is supplied\n\n    this.id_ = options.id || options.el && options.el.id; // If there was no ID from the options, generate one\n\n    if (!this.id_) {\n      // Don't require the player ID function in the case of mock players\n      var id = player && player.id && player.id() || 'no_player';\n      this.id_ = id + \"_component_\" + newGUID();\n    }\n\n    this.name_ = options.name || null; // Create element if one wasn't provided in options\n\n    if (options.el) {\n      this.el_ = options.el;\n    } else if (options.createEl !== false) {\n      this.el_ = this.createEl();\n    } // if evented is anything except false, we want to mixin in evented\n\n\n    if (options.evented !== false) {\n      // Make this an evented object and use `el_`, if available, as its event bus\n      evented(this, {\n        eventBusKey: this.el_ ? 'el_' : null\n      });\n    }\n\n    stateful(this, this.constructor.defaultState);\n    this.children_ = [];\n    this.childIndex_ = {};\n    this.childNameIndex_ = {}; // Add any child components in options\n\n    if (options.initChildren !== false) {\n      this.initChildren();\n    }\n\n    this.ready(ready); // Don't want to trigger ready here or it will before init is actually\n    // finished for all children that run this constructor\n\n    if (options.reportTouchActivity !== false) {\n      this.enableTouchActivity();\n    }\n  }\n  /**\n   * Dispose of the `Component` and all child components.\n   *\n   * @fires Component#dispose\n   */\n\n\n  var _proto = Component.prototype;\n\n  _proto.dispose = function dispose() {\n    /**\n     * Triggered when a `Component` is disposed.\n     *\n     * @event Component#dispose\n     * @type {EventTarget~Event}\n     *\n     * @property {boolean} [bubbles=false]\n     *           set to false so that the close event does not\n     *           bubble up\n     */\n    this.trigger({\n      type: 'dispose',\n      bubbles: false\n    }); // Dispose all children.\n\n    if (this.children_) {\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i].dispose) {\n          this.children_[i].dispose();\n        }\n      }\n    } // Delete child references\n\n\n    this.children_ = null;\n    this.childIndex_ = null;\n    this.childNameIndex_ = null;\n    this.parentComponent_ = null;\n\n    if (this.el_) {\n      // Remove element from DOM\n      if (this.el_.parentNode) {\n        this.el_.parentNode.removeChild(this.el_);\n      }\n\n      removeData(this.el_);\n      this.el_ = null;\n    } // remove reference to the player after disposing of the element\n\n\n    this.player_ = null;\n  }\n  /**\n   * Return the {@link Player} that the `Component` has attached to.\n   *\n   * @return {Player}\n   *         The player that this `Component` has attached to.\n   */\n  ;\n\n  _proto.player = function player() {\n    return this.player_;\n  }\n  /**\n   * Deep merge of options objects with new options.\n   * > Note: When both `obj` and `options` contain properties whose values are objects.\n   *         The two properties get merged using {@link module:mergeOptions}\n   *\n   * @param {Object} obj\n   *        The object that contains new options.\n   *\n   * @return {Object}\n   *         A new object of `this.options_` and `obj` merged together.\n   */\n  ;\n\n  _proto.options = function options(obj) {\n    if (!obj) {\n      return this.options_;\n    }\n\n    this.options_ = mergeOptions(this.options_, obj);\n    return this.options_;\n  }\n  /**\n   * Get the `Component`s DOM element\n   *\n   * @return {Element}\n   *         The DOM element for this `Component`.\n   */\n  ;\n\n  _proto.el = function el() {\n    return this.el_;\n  }\n  /**\n   * Create the `Component`s DOM element.\n   *\n   * @param {string} [tagName]\n   *        Element's DOM node type. e.g. 'div'\n   *\n   * @param {Object} [properties]\n   *        An object of properties that should be set.\n   *\n   * @param {Object} [attributes]\n   *        An object of attributes that should be set.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1(tagName, properties, attributes) {\n    return createEl(tagName, properties, attributes);\n  }\n  /**\n   * Localize a string given the string in english.\n   *\n   * If tokens are provided, it'll try and run a simple token replacement on the provided string.\n   * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.\n   *\n   * If a `defaultValue` is provided, it'll use that over `string`,\n   * if a value isn't found in provided language files.\n   * This is useful if you want to have a descriptive key for token replacement\n   * but have a succinct localized string and not require `en.json` to be included.\n   *\n   * Currently, it is used for the progress bar timing.\n   * ```js\n   * {\n   *   \"progress bar timing: currentTime={1} duration={2}\": \"{1} of {2}\"\n   * }\n   * ```\n   * It is then used like so:\n   * ```js\n   * this.localize('progress bar timing: currentTime={1} duration{2}',\n   *               [this.player_.currentTime(), this.player_.duration()],\n   *               '{1} of {2}');\n   * ```\n   *\n   * Which outputs something like: `01:23 of 24:56`.\n   *\n   *\n   * @param {string} string\n   *        The string to localize and the key to lookup in the language files.\n   * @param {string[]} [tokens]\n   *        If the current item has token replacements, provide the tokens here.\n   * @param {string} [defaultValue]\n   *        Defaults to `string`. Can be a default value to use for token replacement\n   *        if the lookup key is needed to be separate.\n   *\n   * @return {string}\n   *         The localized string or if no localization exists the english string.\n   */\n  ;\n\n  _proto.localize = function localize(string, tokens, defaultValue) {\n    if (defaultValue === void 0) {\n      defaultValue = string;\n    }\n\n    var code = this.player_.language && this.player_.language();\n    var languages = this.player_.languages && this.player_.languages();\n    var language = languages && languages[code];\n    var primaryCode = code && code.split('-')[0];\n    var primaryLang = languages && languages[primaryCode];\n    var localizedString = defaultValue;\n\n    if (language && language[string]) {\n      localizedString = language[string];\n    } else if (primaryLang && primaryLang[string]) {\n      localizedString = primaryLang[string];\n    }\n\n    if (tokens) {\n      localizedString = localizedString.replace(/\\{(\\d+)\\}/g, function (match, index) {\n        var value = tokens[index - 1];\n        var ret = value;\n\n        if (typeof value === 'undefined') {\n          ret = match;\n        }\n\n        return ret;\n      });\n    }\n\n    return localizedString;\n  }\n  /**\n   * Return the `Component`s DOM element. This is where children get inserted.\n   * This will usually be the the same as the element returned in {@link Component#el}.\n   *\n   * @return {Element}\n   *         The content element for this `Component`.\n   */\n  ;\n\n  _proto.contentEl = function contentEl() {\n    return this.contentEl_ || this.el_;\n  }\n  /**\n   * Get this `Component`s ID\n   *\n   * @return {string}\n   *         The id of this `Component`\n   */\n  ;\n\n  _proto.id = function id() {\n    return this.id_;\n  }\n  /**\n   * Get the `Component`s name. The name gets used to reference the `Component`\n   * and is set during registration.\n   *\n   * @return {string}\n   *         The name of this `Component`.\n   */\n  ;\n\n  _proto.name = function name() {\n    return this.name_;\n  }\n  /**\n   * Get an array of all child components\n   *\n   * @return {Array}\n   *         The children\n   */\n  ;\n\n  _proto.children = function children() {\n    return this.children_;\n  }\n  /**\n   * Returns the child `Component` with the given `id`.\n   *\n   * @param {string} id\n   *        The id of the child `Component` to get.\n   *\n   * @return {Component|undefined}\n   *         The child `Component` with the given `id` or undefined.\n   */\n  ;\n\n  _proto.getChildById = function getChildById(id) {\n    return this.childIndex_[id];\n  }\n  /**\n   * Returns the child `Component` with the given `name`.\n   *\n   * @param {string} name\n   *        The name of the child `Component` to get.\n   *\n   * @return {Component|undefined}\n   *         The child `Component` with the given `name` or undefined.\n   */\n  ;\n\n  _proto.getChild = function getChild(name) {\n    if (!name) {\n      return;\n    }\n\n    name = toTitleCase(name);\n    return this.childNameIndex_[name];\n  }\n  /**\n   * Add a child `Component` inside the current `Component`.\n   *\n   *\n   * @param {string|Component} child\n   *        The name or instance of a child to add.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of options that will get passed to children of\n   *        the child.\n   *\n   * @param {number} [index=this.children_.length]\n   *        The index to attempt to add a child into.\n   *\n   * @return {Component}\n   *         The `Component` that gets added as a child. When using a string the\n   *         `Component` will get created by this process.\n   */\n  ;\n\n  _proto.addChild = function addChild(child, options, index) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (index === void 0) {\n      index = this.children_.length;\n    }\n\n    var component;\n    var componentName; // If child is a string, create component with options\n\n    if (typeof child === 'string') {\n      componentName = toTitleCase(child);\n      var componentClassName = options.componentClass || componentName; // Set name through options\n\n      options.name = componentName; // Create a new object & element for this controls set\n      // If there's no .player_, this is a player\n\n      var ComponentClass = Component.getComponent(componentClassName);\n\n      if (!ComponentClass) {\n        throw new Error(\"Component \" + componentClassName + \" does not exist\");\n      } // data stored directly on the videojs object may be\n      // misidentified as a component to retain\n      // backwards-compatibility with 4.x. check to make sure the\n      // component class can be instantiated.\n\n\n      if (typeof ComponentClass !== 'function') {\n        return null;\n      }\n\n      component = new ComponentClass(this.player_ || this, options); // child is a component instance\n    } else {\n      component = child;\n    }\n\n    if (component.parentComponent_) {\n      component.parentComponent_.removeChild(component);\n    }\n\n    this.children_.splice(index, 0, component);\n    component.parentComponent_ = this;\n\n    if (typeof component.id === 'function') {\n      this.childIndex_[component.id()] = component;\n    } // If a name wasn't used to create the component, check if we can use the\n    // name function of the component\n\n\n    componentName = componentName || component.name && toTitleCase(component.name());\n\n    if (componentName) {\n      this.childNameIndex_[componentName] = component;\n    } // Add the UI object's element to the container div (box)\n    // Having an element is not required\n\n\n    if (typeof component.el === 'function' && component.el()) {\n      var childNodes = this.contentEl().children;\n      var refNode = childNodes[index] || null;\n      this.contentEl().insertBefore(component.el(), refNode);\n    } // Return so it can stored on parent object if desired.\n\n\n    return component;\n  }\n  /**\n   * Remove a child `Component` from this `Component`s list of children. Also removes\n   * the child `Component`s element from this `Component`s element.\n   *\n   * @param {Component} component\n   *        The child `Component` to remove.\n   */\n  ;\n\n  _proto.removeChild = function removeChild(component) {\n    if (typeof component === 'string') {\n      component = this.getChild(component);\n    }\n\n    if (!component || !this.children_) {\n      return;\n    }\n\n    var childFound = false;\n\n    for (var i = this.children_.length - 1; i >= 0; i--) {\n      if (this.children_[i] === component) {\n        childFound = true;\n        this.children_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (!childFound) {\n      return;\n    }\n\n    component.parentComponent_ = null;\n    this.childIndex_[component.id()] = null;\n    this.childNameIndex_[component.name()] = null;\n    var compEl = component.el();\n\n    if (compEl && compEl.parentNode === this.contentEl()) {\n      this.contentEl().removeChild(component.el());\n    }\n  }\n  /**\n   * Add and initialize default child `Component`s based upon options.\n   */\n  ;\n\n  _proto.initChildren = function initChildren() {\n    var _this = this;\n\n    var children = this.options_.children;\n\n    if (children) {\n      // `this` is `parent`\n      var parentOptions = this.options_;\n\n      var handleAdd = function handleAdd(child) {\n        var name = child.name;\n        var opts = child.opts; // Allow options for children to be set at the parent options\n        // e.g. videojs(id, { controlBar: false });\n        // instead of videojs(id, { children: { controlBar: false });\n\n        if (parentOptions[name] !== undefined) {\n          opts = parentOptions[name];\n        } // Allow for disabling default components\n        // e.g. options['children']['posterImage'] = false\n\n\n        if (opts === false) {\n          return;\n        } // Allow options to be passed as a simple boolean if no configuration\n        // is necessary.\n\n\n        if (opts === true) {\n          opts = {};\n        } // We also want to pass the original player options\n        // to each component as well so they don't need to\n        // reach back into the player for options later.\n\n\n        opts.playerOptions = _this.options_.playerOptions; // Create and add the child component.\n        // Add a direct reference to the child by name on the parent instance.\n        // If two of the same component are used, different names should be supplied\n        // for each\n\n        var newChild = _this.addChild(name, opts);\n\n        if (newChild) {\n          _this[name] = newChild;\n        }\n      }; // Allow for an array of children details to passed in the options\n\n\n      var workingChildren;\n      var Tech = Component.getComponent('Tech');\n\n      if (Array.isArray(children)) {\n        workingChildren = children;\n      } else {\n        workingChildren = Object.keys(children);\n      }\n\n      workingChildren // children that are in this.options_ but also in workingChildren  would\n      // give us extra children we do not want. So, we want to filter them out.\n      .concat(Object.keys(this.options_).filter(function (child) {\n        return !workingChildren.some(function (wchild) {\n          if (typeof wchild === 'string') {\n            return child === wchild;\n          }\n\n          return child === wchild.name;\n        });\n      })).map(function (child) {\n        var name;\n        var opts;\n\n        if (typeof child === 'string') {\n          name = child;\n          opts = children[name] || _this.options_[name] || {};\n        } else {\n          name = child.name;\n          opts = child;\n        }\n\n        return {\n          name: name,\n          opts: opts\n        };\n      }).filter(function (child) {\n        // we have to make sure that child.name isn't in the techOrder since\n        // techs are registerd as Components but can't aren't compatible\n        // See https://github.com/videojs/video.js/issues/2772\n        var c = Component.getComponent(child.opts.componentClass || toTitleCase(child.name));\n        return c && !Tech.isTech(c);\n      }).forEach(handleAdd);\n    }\n  }\n  /**\n   * Builds the default DOM class name. Should be overriden by sub-components.\n   *\n   * @return {string}\n   *         The DOM class name for this object.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    // Child classes can include a function that does:\n    // return 'CLASS NAME' + this._super();\n    return '';\n  }\n  /**\n   * Bind a listener to the component's ready state.\n   * Different from event listeners in that if the ready event has already happened\n   * it will trigger the function immediately.\n   *\n   * @return {Component}\n   *         Returns itself; method can be chained.\n   */\n  ;\n\n  _proto.ready = function ready(fn, sync) {\n    if (sync === void 0) {\n      sync = false;\n    }\n\n    if (!fn) {\n      return;\n    }\n\n    if (!this.isReady_) {\n      this.readyQueue_ = this.readyQueue_ || [];\n      this.readyQueue_.push(fn);\n      return;\n    }\n\n    if (sync) {\n      fn.call(this);\n    } else {\n      // Call the function asynchronously by default for consistency\n      this.setTimeout(fn, 1);\n    }\n  }\n  /**\n   * Trigger all the ready listeners for this `Component`.\n   *\n   * @fires Component#ready\n   */\n  ;\n\n  _proto.triggerReady = function triggerReady() {\n    this.isReady_ = true; // Ensure ready is triggered asynchronously\n\n    this.setTimeout(function () {\n      var readyQueue = this.readyQueue_; // Reset Ready Queue\n\n      this.readyQueue_ = [];\n\n      if (readyQueue && readyQueue.length > 0) {\n        readyQueue.forEach(function (fn) {\n          fn.call(this);\n        }, this);\n      } // Allow for using event listeners also\n\n      /**\n       * Triggered when a `Component` is ready.\n       *\n       * @event Component#ready\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('ready');\n    }, 1);\n  }\n  /**\n   * Find a single DOM element matching a `selector`. This can be within the `Component`s\n   * `contentEl()` or another custom context.\n   *\n   * @param {string} selector\n   *        A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param {Element|string} [context=this.contentEl()]\n   *        A DOM element within which to query. Can also be a selector string in\n   *        which case the first matching element will get used as context. If\n   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n   *        nothing it falls back to `document`.\n   *\n   * @return {Element|null}\n   *         the dom element that was found, or null\n   *\n   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n   */\n  ;\n\n  _proto.$ = function $$1(selector, context) {\n    return $(selector, context || this.contentEl());\n  }\n  /**\n   * Finds all DOM element matching a `selector`. This can be within the `Component`s\n   * `contentEl()` or another custom context.\n   *\n   * @param {string} selector\n   *        A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param {Element|string} [context=this.contentEl()]\n   *        A DOM element within which to query. Can also be a selector string in\n   *        which case the first matching element will get used as context. If\n   *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n   *        nothing it falls back to `document`.\n   *\n   * @return {NodeList}\n   *         a list of dom elements that were found\n   *\n   * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n   */\n  ;\n\n  _proto.$$ = function $$$1(selector, context) {\n    return $$(selector, context || this.contentEl());\n  }\n  /**\n   * Check if a component's element has a CSS class name.\n   *\n   * @param {string} classToCheck\n   *        CSS class name to check.\n   *\n   * @return {boolean}\n   *         - True if the `Component` has the class.\n   *         - False if the `Component` does not have the class`\n   */\n  ;\n\n  _proto.hasClass = function hasClass$1(classToCheck) {\n    return hasClass(this.el_, classToCheck);\n  }\n  /**\n   * Add a CSS class name to the `Component`s element.\n   *\n   * @param {string} classToAdd\n   *        CSS class name to add\n   */\n  ;\n\n  _proto.addClass = function addClass$1(classToAdd) {\n    addClass(this.el_, classToAdd);\n  }\n  /**\n   * Remove a CSS class name from the `Component`s element.\n   *\n   * @param {string} classToRemove\n   *        CSS class name to remove\n   */\n  ;\n\n  _proto.removeClass = function removeClass$1(classToRemove) {\n    removeClass(this.el_, classToRemove);\n  }\n  /**\n   * Add or remove a CSS class name from the component's element.\n   * - `classToToggle` gets added when {@link Component#hasClass} would return false.\n   * - `classToToggle` gets removed when {@link Component#hasClass} would return true.\n   *\n   * @param  {string} classToToggle\n   *         The class to add or remove based on (@link Component#hasClass}\n   *\n   * @param  {boolean|Dom~predicate} [predicate]\n   *         An {@link Dom~predicate} function or a boolean\n   */\n  ;\n\n  _proto.toggleClass = function toggleClass$1(classToToggle, predicate) {\n    toggleClass(this.el_, classToToggle, predicate);\n  }\n  /**\n   * Show the `Component`s element if it is hidden by removing the\n   * 'vjs-hidden' class name from it.\n   */\n  ;\n\n  _proto.show = function show() {\n    this.removeClass('vjs-hidden');\n  }\n  /**\n   * Hide the `Component`s element if it is currently showing by adding the\n   * 'vjs-hidden` class name to it.\n   */\n  ;\n\n  _proto.hide = function hide() {\n    this.addClass('vjs-hidden');\n  }\n  /**\n   * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'\n   * class name to it. Used during fadeIn/fadeOut.\n   *\n   * @private\n   */\n  ;\n\n  _proto.lockShowing = function lockShowing() {\n    this.addClass('vjs-lock-showing');\n  }\n  /**\n   * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'\n   * class name from it. Used during fadeIn/fadeOut.\n   *\n   * @private\n   */\n  ;\n\n  _proto.unlockShowing = function unlockShowing() {\n    this.removeClass('vjs-lock-showing');\n  }\n  /**\n   * Get the value of an attribute on the `Component`s element.\n   *\n   * @param {string} attribute\n   *        Name of the attribute to get the value from.\n   *\n   * @return {string|null}\n   *         - The value of the attribute that was asked for.\n   *         - Can be an empty string on some browsers if the attribute does not exist\n   *           or has no value\n   *         - Most browsers will return null if the attibute does not exist or has\n   *           no value.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}\n   */\n  ;\n\n  _proto.getAttribute = function getAttribute$1(attribute) {\n    return getAttribute(this.el_, attribute);\n  }\n  /**\n   * Set the value of an attribute on the `Component`'s element\n   *\n   * @param {string} attribute\n   *        Name of the attribute to set.\n   *\n   * @param {string} value\n   *        Value to set the attribute to.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}\n   */\n  ;\n\n  _proto.setAttribute = function setAttribute$1(attribute, value) {\n    setAttribute(this.el_, attribute, value);\n  }\n  /**\n   * Remove an attribute from the `Component`s element.\n   *\n   * @param {string} attribute\n   *        Name of the attribute to remove.\n   *\n   * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}\n   */\n  ;\n\n  _proto.removeAttribute = function removeAttribute$1(attribute) {\n    removeAttribute(this.el_, attribute);\n  }\n  /**\n   * Get or set the width of the component based upon the CSS styles.\n   * See {@link Component#dimension} for more detailed information.\n   *\n   * @param {number|string} [num]\n   *        The width that you want to set postfixed with '%', 'px' or nothing.\n   *\n   * @param {boolean} [skipListeners]\n   *        Skip the componentresize event trigger\n   *\n   * @return {number|string}\n   *         The width when getting, zero if there is no width. Can be a string\n   *           postpixed with '%' or 'px'.\n   */\n  ;\n\n  _proto.width = function width(num, skipListeners) {\n    return this.dimension('width', num, skipListeners);\n  }\n  /**\n   * Get or set the height of the component based upon the CSS styles.\n   * See {@link Component#dimension} for more detailed information.\n   *\n   * @param {number|string} [num]\n   *        The height that you want to set postfixed with '%', 'px' or nothing.\n   *\n   * @param {boolean} [skipListeners]\n   *        Skip the componentresize event trigger\n   *\n   * @return {number|string}\n   *         The width when getting, zero if there is no width. Can be a string\n   *         postpixed with '%' or 'px'.\n   */\n  ;\n\n  _proto.height = function height(num, skipListeners) {\n    return this.dimension('height', num, skipListeners);\n  }\n  /**\n   * Set both the width and height of the `Component` element at the same time.\n   *\n   * @param  {number|string} width\n   *         Width to set the `Component`s element to.\n   *\n   * @param  {number|string} height\n   *         Height to set the `Component`s element to.\n   */\n  ;\n\n  _proto.dimensions = function dimensions(width, height) {\n    // Skip componentresize listeners on width for optimization\n    this.width(width, true);\n    this.height(height);\n  }\n  /**\n   * Get or set width or height of the `Component` element. This is the shared code\n   * for the {@link Component#width} and {@link Component#height}.\n   *\n   * Things to know:\n   * - If the width or height in an number this will return the number postfixed with 'px'.\n   * - If the width/height is a percent this will return the percent postfixed with '%'\n   * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function\n   *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.\n   *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}\n   *   for more information\n   * - If you want the computed style of the component, use {@link Component#currentWidth}\n   *   and {@link {Component#currentHeight}\n   *\n   * @fires Component#componentresize\n   *\n   * @param {string} widthOrHeight\n   8        'width' or 'height'\n   *\n   * @param  {number|string} [num]\n   8         New dimension\n   *\n   * @param  {boolean} [skipListeners]\n   *         Skip componentresize event trigger\n   *\n   * @return {number}\n   *         The dimension when getting or 0 if unset\n   */\n  ;\n\n  _proto.dimension = function dimension(widthOrHeight, num, skipListeners) {\n    if (num !== undefined) {\n      // Set to zero if null or literally NaN (NaN !== NaN)\n      if (num === null || num !== num) {\n        num = 0;\n      } // Check if using css width/height (% or px) and adjust\n\n\n      if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n        this.el_.style[widthOrHeight] = num;\n      } else if (num === 'auto') {\n        this.el_.style[widthOrHeight] = '';\n      } else {\n        this.el_.style[widthOrHeight] = num + 'px';\n      } // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\n\n      if (!skipListeners) {\n        /**\n         * Triggered when a component is resized.\n         *\n         * @event Component#componentresize\n         * @type {EventTarget~Event}\n         */\n        this.trigger('componentresize');\n      }\n\n      return;\n    } // Not setting a value, so getting it\n    // Make sure element exists\n\n\n    if (!this.el_) {\n      return 0;\n    } // Get dimension value from style\n\n\n    var val = this.el_.style[widthOrHeight];\n    var pxIndex = val.indexOf('px');\n\n    if (pxIndex !== -1) {\n      // Return the pixel value with no 'px'\n      return parseInt(val.slice(0, pxIndex), 10);\n    } // No px so using % or no style was set, so falling back to offsetWidth/height\n    // If component has display:none, offset will return 0\n    // TODO: handle display:none and no dimension style using px\n\n\n    return parseInt(this.el_['offset' + toTitleCase(widthOrHeight)], 10);\n  }\n  /**\n   * Get the computed width or the height of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @param {string} widthOrHeight\n   *        A string containing 'width' or 'height'. Whichever one you want to get.\n   *\n   * @return {number}\n   *         The dimension that gets asked for or 0 if nothing was set\n   *         for that dimension.\n   */\n  ;\n\n  _proto.currentDimension = function currentDimension(widthOrHeight) {\n    var computedWidthOrHeight = 0;\n\n    if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n      throw new Error('currentDimension only accepts width or height value');\n    }\n\n    if (typeof window$1.getComputedStyle === 'function') {\n      var computedStyle = window$1.getComputedStyle(this.el_);\n      computedWidthOrHeight = computedStyle.getPropertyValue(widthOrHeight) || computedStyle[widthOrHeight];\n    } // remove 'px' from variable and parse as integer\n\n\n    computedWidthOrHeight = parseFloat(computedWidthOrHeight); // if the computed value is still 0, it's possible that the browser is lying\n    // and we want to check the offset values.\n    // This code also runs wherever getComputedStyle doesn't exist.\n\n    if (computedWidthOrHeight === 0) {\n      var rule = \"offset\" + toTitleCase(widthOrHeight);\n      computedWidthOrHeight = this.el_[rule];\n    }\n\n    return computedWidthOrHeight;\n  }\n  /**\n   * An object that contains width and height values of the `Component`s\n   * computed style. Uses `window.getComputedStyle`.\n   *\n   * @typedef {Object} Component~DimensionObject\n   *\n   * @property {number} width\n   *           The width of the `Component`s computed style.\n   *\n   * @property {number} height\n   *           The height of the `Component`s computed style.\n   */\n\n  /**\n   * Get an object that contains computed width and height values of the\n   * component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {Component~DimensionObject}\n   *         The computed dimensions of the component's element.\n   */\n  ;\n\n  _proto.currentDimensions = function currentDimensions() {\n    return {\n      width: this.currentDimension('width'),\n      height: this.currentDimension('height')\n    };\n  }\n  /**\n   * Get the computed width of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {number}\n   *         The computed width of the component's element.\n   */\n  ;\n\n  _proto.currentWidth = function currentWidth() {\n    return this.currentDimension('width');\n  }\n  /**\n   * Get the computed height of the component's element.\n   *\n   * Uses `window.getComputedStyle`.\n   *\n   * @return {number}\n   *         The computed height of the component's element.\n   */\n  ;\n\n  _proto.currentHeight = function currentHeight() {\n    return this.currentDimension('height');\n  }\n  /**\n   * Set the focus to this component\n   */\n  ;\n\n  _proto.focus = function focus() {\n    this.el_.focus();\n  }\n  /**\n   * Remove the focus from this component\n   */\n  ;\n\n  _proto.blur = function blur() {\n    this.el_.blur();\n  }\n  /**\n   * When this Component receives a `keydown` event which it does not process,\n   *  it passes the event to the Player for handling.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (this.player_) {\n      // We only stop propagation here because we want unhandled events to fall\n      // back to the browser.\n      event.stopPropagation();\n      this.player_.handleKeyDown(event);\n    }\n  }\n  /**\n   * Many components used to have a `handleKeyPress` method, which was poorly\n   * named because it listened to a `keydown` event. This method name now\n   * delegates to `handleKeyDown`. This means anyone calling `handleKeyPress`\n   * will not see their method calls stop working.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleKeyPress = function handleKeyPress(event) {\n    this.handleKeyDown(event);\n  }\n  /**\n   * Emit a 'tap' events when touch event support gets detected. This gets used to\n   * support toggling the controls through a tap on the video. They get enabled\n   * because every sub-component would have extra overhead otherwise.\n   *\n   * @private\n   * @fires Component#tap\n   * @listens Component#touchstart\n   * @listens Component#touchmove\n   * @listens Component#touchleave\n   * @listens Component#touchcancel\n   * @listens Component#touchend\n    */\n  ;\n\n  _proto.emitTapEvents = function emitTapEvents() {\n    // Track the start time so we can determine how long the touch lasted\n    var touchStart = 0;\n    var firstTouch = null; // Maximum movement allowed during a touch event to still be considered a tap\n    // Other popular libs use anywhere from 2 (hammer.js) to 15,\n    // so 10 seems like a nice, round number.\n\n    var tapMovementThreshold = 10; // The maximum length a touch can be while still being considered a tap\n\n    var touchTimeThreshold = 200;\n    var couldBeTap;\n    this.on('touchstart', function (event) {\n      // If more than one finger, don't consider treating this as a click\n      if (event.touches.length === 1) {\n        // Copy pageX/pageY from the object\n        firstTouch = {\n          pageX: event.touches[0].pageX,\n          pageY: event.touches[0].pageY\n        }; // Record start time so we can detect a tap vs. \"touch and hold\"\n\n        touchStart = window$1.performance.now(); // Reset couldBeTap tracking\n\n        couldBeTap = true;\n      }\n    });\n    this.on('touchmove', function (event) {\n      // If more than one finger, don't consider treating this as a click\n      if (event.touches.length > 1) {\n        couldBeTap = false;\n      } else if (firstTouch) {\n        // Some devices will throw touchmoves for all but the slightest of taps.\n        // So, if we moved only a small distance, this could still be a tap\n        var xdiff = event.touches[0].pageX - firstTouch.pageX;\n        var ydiff = event.touches[0].pageY - firstTouch.pageY;\n        var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n        if (touchDistance > tapMovementThreshold) {\n          couldBeTap = false;\n        }\n      }\n    });\n\n    var noTap = function noTap() {\n      couldBeTap = false;\n    }; // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\n\n    this.on('touchleave', noTap);\n    this.on('touchcancel', noTap); // When the touch ends, measure how long it took and trigger the appropriate\n    // event\n\n    this.on('touchend', function (event) {\n      firstTouch = null; // Proceed only if the touchmove/leave/cancel event didn't happen\n\n      if (couldBeTap === true) {\n        // Measure how long the touch lasted\n        var touchTime = window$1.performance.now() - touchStart; // Make sure the touch was less than the threshold to be considered a tap\n\n        if (touchTime < touchTimeThreshold) {\n          // Don't let browser turn this into a click\n          event.preventDefault();\n          /**\n           * Triggered when a `Component` is tapped.\n           *\n           * @event Component#tap\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('tap'); // It may be good to copy the touchend event object and change the\n          // type to tap, if the other event properties aren't exact after\n          // Events.fixEvent runs (e.g. event.target)\n        }\n      }\n    });\n  }\n  /**\n   * This function reports user activity whenever touch events happen. This can get\n   * turned off by any sub-components that wants touch events to act another way.\n   *\n   * Report user touch activity when touch events occur. User activity gets used to\n   * determine when controls should show/hide. It is simple when it comes to mouse\n   * events, because any mouse event should show the controls. So we capture mouse\n   * events that bubble up to the player and report activity when that happens.\n   * With touch events it isn't as easy as `touchstart` and `touchend` toggle player\n   * controls. So touch events can't help us at the player level either.\n   *\n   * User activity gets checked asynchronously. So what could happen is a tap event\n   * on the video turns the controls off. Then the `touchend` event bubbles up to\n   * the player. Which, if it reported user activity, would turn the controls right\n   * back on. We also don't want to completely block touch events from bubbling up.\n   * Furthermore a `touchmove` event and anything other than a tap, should not turn\n   * controls back on.\n   *\n   * @listens Component#touchstart\n   * @listens Component#touchmove\n   * @listens Component#touchend\n   * @listens Component#touchcancel\n   */\n  ;\n\n  _proto.enableTouchActivity = function enableTouchActivity() {\n    // Don't continue if the root player doesn't support reporting user activity\n    if (!this.player() || !this.player().reportUserActivity) {\n      return;\n    } // listener for reporting that the user is active\n\n\n    var report = bind(this.player(), this.player().reportUserActivity);\n    var touchHolding;\n    this.on('touchstart', function () {\n      report(); // For as long as the they are touching the device or have their mouse down,\n      // we consider them active even if they're not moving their finger or mouse.\n      // So we want to continue to update that they are active\n\n      this.clearInterval(touchHolding); // report at the same interval as activityCheck\n\n      touchHolding = this.setInterval(report, 250);\n    });\n\n    var touchEnd = function touchEnd(event) {\n      report(); // stop the interval that maintains activity if the touch is holding\n\n      this.clearInterval(touchHolding);\n    };\n\n    this.on('touchmove', report);\n    this.on('touchend', touchEnd);\n    this.on('touchcancel', touchEnd);\n  }\n  /**\n   * A callback that has no parameters and is bound into `Component`s context.\n   *\n   * @callback Component~GenericCallback\n   * @this Component\n   */\n\n  /**\n   * Creates a function that runs after an `x` millisecond timeout. This function is a\n   * wrapper around `window.setTimeout`. There are a few reasons to use this one\n   * instead though:\n   * 1. It gets cleared via  {@link Component#clearTimeout} when\n   *    {@link Component#dispose} gets called.\n   * 2. The function callback will gets turned into a {@link Component~GenericCallback}\n   *\n   * > Note: You can't use `window.clearTimeout` on the id returned by this function. This\n   *         will cause its dispose listener not to get cleaned up! Please use\n   *         {@link Component#clearTimeout} or {@link Component#dispose} instead.\n   *\n   * @param {Component~GenericCallback} fn\n   *        The function that will be run after `timeout`.\n   *\n   * @param {number} timeout\n   *        Timeout in milliseconds to delay before executing the specified function.\n   *\n   * @return {number}\n   *         Returns a timeout ID that gets used to identify the timeout. It can also\n   *         get used in {@link Component#clearTimeout} to clear the timeout that\n   *         was set.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}\n   */\n  ;\n\n  _proto.setTimeout = function setTimeout(fn, timeout) {\n    var _this2 = this; // declare as variables so they are properly available in timeout function\n    // eslint-disable-next-line\n\n\n    var timeoutId, disposeFn;\n    fn = bind(this, fn);\n    timeoutId = window$1.setTimeout(function () {\n      _this2.off('dispose', disposeFn);\n\n      fn();\n    }, timeout);\n\n    disposeFn = function disposeFn() {\n      return _this2.clearTimeout(timeoutId);\n    };\n\n    disposeFn.guid = \"vjs-timeout-\" + timeoutId;\n    this.on('dispose', disposeFn);\n    return timeoutId;\n  }\n  /**\n   * Clears a timeout that gets created via `window.setTimeout` or\n   * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}\n   * use this function instead of `window.clearTimout`. If you don't your dispose\n   * listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} timeoutId\n   *        The id of the timeout to clear. The return value of\n   *        {@link Component#setTimeout} or `window.setTimeout`.\n   *\n   * @return {number}\n   *         Returns the timeout id that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}\n   */\n  ;\n\n  _proto.clearTimeout = function clearTimeout(timeoutId) {\n    window$1.clearTimeout(timeoutId);\n\n    var disposeFn = function disposeFn() {};\n\n    disposeFn.guid = \"vjs-timeout-\" + timeoutId;\n    this.off('dispose', disposeFn);\n    return timeoutId;\n  }\n  /**\n   * Creates a function that gets run every `x` milliseconds. This function is a wrapper\n   * around `window.setInterval`. There are a few reasons to use this one instead though.\n   * 1. It gets cleared via  {@link Component#clearInterval} when\n   *    {@link Component#dispose} gets called.\n   * 2. The function callback will be a {@link Component~GenericCallback}\n   *\n   * @param {Component~GenericCallback} fn\n   *        The function to run every `x` seconds.\n   *\n   * @param {number} interval\n   *        Execute the specified function every `x` milliseconds.\n   *\n   * @return {number}\n   *         Returns an id that can be used to identify the interval. It can also be be used in\n   *         {@link Component#clearInterval} to clear the interval.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}\n   */\n  ;\n\n  _proto.setInterval = function setInterval(fn, interval) {\n    var _this3 = this;\n\n    fn = bind(this, fn);\n    var intervalId = window$1.setInterval(fn, interval);\n\n    var disposeFn = function disposeFn() {\n      return _this3.clearInterval(intervalId);\n    };\n\n    disposeFn.guid = \"vjs-interval-\" + intervalId;\n    this.on('dispose', disposeFn);\n    return intervalId;\n  }\n  /**\n   * Clears an interval that gets created via `window.setInterval` or\n   * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}\n   * use this function instead of `window.clearInterval`. If you don't your dispose\n   * listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} intervalId\n   *        The id of the interval to clear. The return value of\n   *        {@link Component#setInterval} or `window.setInterval`.\n   *\n   * @return {number}\n   *         Returns the interval id that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}\n   */\n  ;\n\n  _proto.clearInterval = function clearInterval(intervalId) {\n    window$1.clearInterval(intervalId);\n\n    var disposeFn = function disposeFn() {};\n\n    disposeFn.guid = \"vjs-interval-\" + intervalId;\n    this.off('dispose', disposeFn);\n    return intervalId;\n  }\n  /**\n   * Queues up a callback to be passed to requestAnimationFrame (rAF), but\n   * with a few extra bonuses:\n   *\n   * - Supports browsers that do not support rAF by falling back to\n   *   {@link Component#setTimeout}.\n   *\n   * - The callback is turned into a {@link Component~GenericCallback} (i.e.\n   *   bound to the component).\n   *\n   * - Automatic cancellation of the rAF callback is handled if the component\n   *   is disposed before it is called.\n   *\n   * @param  {Component~GenericCallback} fn\n   *         A function that will be bound to this component and executed just\n   *         before the browser's next repaint.\n   *\n   * @return {number}\n   *         Returns an rAF ID that gets used to identify the timeout. It can\n   *         also be used in {@link Component#cancelAnimationFrame} to cancel\n   *         the animation frame callback.\n   *\n   * @listens Component#dispose\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}\n   */\n  ;\n\n  _proto.requestAnimationFrame = function requestAnimationFrame(fn) {\n    var _this4 = this; // declare as variables so they are properly available in rAF function\n    // eslint-disable-next-line\n\n\n    var id, disposeFn;\n\n    if (this.supportsRaf_) {\n      fn = bind(this, fn);\n      id = window$1.requestAnimationFrame(function () {\n        _this4.off('dispose', disposeFn);\n\n        fn();\n      });\n\n      disposeFn = function disposeFn() {\n        return _this4.cancelAnimationFrame(id);\n      };\n\n      disposeFn.guid = \"vjs-raf-\" + id;\n      this.on('dispose', disposeFn);\n      return id;\n    } // Fall back to using a timer.\n\n\n    return this.setTimeout(fn, 1000 / 60);\n  }\n  /**\n   * Cancels a queued callback passed to {@link Component#requestAnimationFrame}\n   * (rAF).\n   *\n   * If you queue an rAF callback via {@link Component#requestAnimationFrame},\n   * use this function instead of `window.cancelAnimationFrame`. If you don't,\n   * your dispose listener will not get cleaned up until {@link Component#dispose}!\n   *\n   * @param {number} id\n   *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.\n   *\n   * @return {number}\n   *         Returns the rAF ID that was cleared.\n   *\n   * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}\n   */\n  ;\n\n  _proto.cancelAnimationFrame = function cancelAnimationFrame(id) {\n    if (this.supportsRaf_) {\n      window$1.cancelAnimationFrame(id);\n\n      var disposeFn = function disposeFn() {};\n\n      disposeFn.guid = \"vjs-raf-\" + id;\n      this.off('dispose', disposeFn);\n      return id;\n    } // Fall back to using a timer.\n\n\n    return this.clearTimeout(id);\n  }\n  /**\n   * Register a `Component` with `videojs` given the name and the component.\n   *\n   * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s\n   *         should be registered using {@link Tech.registerTech} or\n   *         {@link videojs:videojs.registerTech}.\n   *\n   * > NOTE: This function can also be seen on videojs as\n   *         {@link videojs:videojs.registerComponent}.\n   *\n   * @param {string} name\n   *        The name of the `Component` to register.\n   *\n   * @param {Component} ComponentToRegister\n   *        The `Component` class to register.\n   *\n   * @return {Component}\n   *         The `Component` that was registered.\n   */\n  ;\n\n  Component.registerComponent = function registerComponent(name, ComponentToRegister) {\n    if (typeof name !== 'string' || !name) {\n      throw new Error(\"Illegal component name, \\\"\" + name + \"\\\"; must be a non-empty string.\");\n    }\n\n    var Tech = Component.getComponent('Tech'); // We need to make sure this check is only done if Tech has been registered.\n\n    var isTech = Tech && Tech.isTech(ComponentToRegister);\n    var isComp = Component === ComponentToRegister || Component.prototype.isPrototypeOf(ComponentToRegister.prototype);\n\n    if (isTech || !isComp) {\n      var reason;\n\n      if (isTech) {\n        reason = 'techs must be registered using Tech.registerTech()';\n      } else {\n        reason = 'must be a Component subclass';\n      }\n\n      throw new Error(\"Illegal component, \\\"\" + name + \"\\\"; \" + reason + \".\");\n    }\n\n    name = toTitleCase(name);\n\n    if (!Component.components_) {\n      Component.components_ = {};\n    }\n\n    var Player = Component.getComponent('Player');\n\n    if (name === 'Player' && Player && Player.players) {\n      var players = Player.players;\n      var playerNames = Object.keys(players); // If we have players that were disposed, then their name will still be\n      // in Players.players. So, we must loop through and verify that the value\n      // for each item is not null. This allows registration of the Player component\n      // after all players have been disposed or before any were created.\n\n      if (players && playerNames.length > 0 && playerNames.map(function (pname) {\n        return players[pname];\n      }).every(Boolean)) {\n        throw new Error('Can not register Player component after player has been created.');\n      }\n    }\n\n    Component.components_[name] = ComponentToRegister;\n    return ComponentToRegister;\n  }\n  /**\n   * Get a `Component` based on the name it was registered with.\n   *\n   * @param {string} name\n   *        The Name of the component to get.\n   *\n   * @return {Component}\n   *         The `Component` that got registered under the given name.\n   *\n   * @deprecated In `videojs` 6 this will not return `Component`s that were not\n   *             registered using {@link Component.registerComponent}. Currently we\n   *             check the global `videojs` object for a `Component` name and\n   *             return that if it exists.\n   */\n  ;\n\n  Component.getComponent = function getComponent(name) {\n    if (!name) {\n      return;\n    }\n\n    name = toTitleCase(name);\n\n    if (Component.components_ && Component.components_[name]) {\n      return Component.components_[name];\n    }\n  };\n\n  return Component;\n}();\n/**\n * Whether or not this component supports `requestAnimationFrame`.\n *\n * This is exposed primarily for testing purposes.\n *\n * @private\n * @type {Boolean}\n */\n\n\nComponent.prototype.supportsRaf_ = typeof window$1.requestAnimationFrame === 'function' && typeof window$1.cancelAnimationFrame === 'function';\nComponent.registerComponent('Component', Component);\n/**\n * @file browser.js\n * @module browser\n */\n\nvar USER_AGENT = window$1.navigator && window$1.navigator.userAgent || '';\nvar webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\nvar appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n/**\n * Whether or not this device is an iPad.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IPAD = /iPad/i.test(USER_AGENT);\n/**\n * Whether or not this device is an iPhone.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n// The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n// to identify iPhones, we need to exclude iPads.\n// http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n\nvar IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n/**\n * Whether or not this device is an iPod.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IPOD = /iPod/i.test(USER_AGENT);\n/**\n * Whether or not this is an iOS device.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n/**\n * The detected iOS version - or `null`.\n *\n * @static\n * @const\n * @type {string|null}\n */\n\nvar IOS_VERSION = function () {\n  var match = USER_AGENT.match(/OS (\\d+)_/i);\n\n  if (match && match[1]) {\n    return match[1];\n  }\n\n  return null;\n}();\n/**\n * Whether or not this is an Android device.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\n\nvar IS_ANDROID = /Android/i.test(USER_AGENT);\n/**\n * The detected Android version - or `null`.\n *\n * @static\n * @const\n * @type {number|string|null}\n */\n\nvar ANDROID_VERSION = function () {\n  // This matches Android Major.Minor.Patch versions\n  // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n  var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);\n\n  if (!match) {\n    return null;\n  }\n\n  var major = match[1] && parseFloat(match[1]);\n  var minor = match[2] && parseFloat(match[2]);\n\n  if (major && minor) {\n    return parseFloat(match[1] + '.' + match[2]);\n  } else if (major) {\n    return major;\n  }\n\n  return null;\n}();\n/**\n * Whether or not this is a native Android browser.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\n\nvar IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n/**\n * Whether or not this is Mozilla Firefox.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n/**\n * Whether or not this is Microsoft Edge.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_EDGE = /Edge/i.test(USER_AGENT);\n/**\n * Whether or not this is Google Chrome.\n *\n * This will also be `true` for Chrome on iOS, which will have different support\n * as it is actually Safari under the hood.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_CHROME = !IS_EDGE && (/Chrome/i.test(USER_AGENT) || /CriOS/i.test(USER_AGENT));\n/**\n * The detected Google Chrome version - or `null`.\n *\n * @static\n * @const\n * @type {number|null}\n */\n\nvar CHROME_VERSION = function () {\n  var match = USER_AGENT.match(/(Chrome|CriOS)\\/(\\d+)/);\n\n  if (match && match[2]) {\n    return parseFloat(match[2]);\n  }\n\n  return null;\n}();\n/**\n * The detected Internet Explorer version - or `null`.\n *\n * @static\n * @const\n * @type {number|null}\n */\n\n\nvar IE_VERSION = function () {\n  var result = /MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);\n  var version = result && parseFloat(result[1]);\n\n  if (!version && /Trident\\/7.0/i.test(USER_AGENT) && /rv:11.0/.test(USER_AGENT)) {\n    // IE 11 has a different user agent string than other IE versions\n    version = 11.0;\n  }\n\n  return version;\n}();\n/**\n * Whether or not this is desktop Safari.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\n\nvar IS_SAFARI = /Safari/i.test(USER_AGENT) && !IS_CHROME && !IS_ANDROID && !IS_EDGE;\n/**\n * Whether or not this is any flavor of Safari - including iOS.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_ANY_SAFARI = (IS_SAFARI || IS_IOS) && !IS_CHROME;\n/**\n * Whether or not this is a Windows machine.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar IS_WINDOWS = /Windows/i.test(USER_AGENT);\n/**\n * Whether or not this device is touch-enabled.\n *\n * @static\n * @const\n * @type {Boolean}\n */\n\nvar TOUCH_ENABLED = isReal() && ('ontouchstart' in window$1 || window$1.navigator.maxTouchPoints || window$1.DocumentTouch && window$1.document instanceof window$1.DocumentTouch);\nvar browser =\n/*#__PURE__*/\nObject.freeze({\n  IS_IPAD: IS_IPAD,\n  IS_IPHONE: IS_IPHONE,\n  IS_IPOD: IS_IPOD,\n  IS_IOS: IS_IOS,\n  IOS_VERSION: IOS_VERSION,\n  IS_ANDROID: IS_ANDROID,\n  ANDROID_VERSION: ANDROID_VERSION,\n  IS_NATIVE_ANDROID: IS_NATIVE_ANDROID,\n  IS_FIREFOX: IS_FIREFOX,\n  IS_EDGE: IS_EDGE,\n  IS_CHROME: IS_CHROME,\n  CHROME_VERSION: CHROME_VERSION,\n  IE_VERSION: IE_VERSION,\n  IS_SAFARI: IS_SAFARI,\n  IS_ANY_SAFARI: IS_ANY_SAFARI,\n  IS_WINDOWS: IS_WINDOWS,\n  TOUCH_ENABLED: TOUCH_ENABLED\n});\n/**\n * @file time-ranges.js\n * @module time-ranges\n */\n\n/**\n * Returns the time for the specified index at the start or end\n * of a TimeRange object.\n *\n * @typedef    {Function} TimeRangeIndex\n *\n * @param      {number} [index=0]\n *             The range number to return the time for.\n *\n * @return     {number}\n *             The time offset at the specified index.\n *\n * @deprecated The index argument must be provided.\n *             In the future, leaving it out will throw an error.\n */\n\n/**\n * An object that contains ranges of time.\n *\n * @typedef  {Object} TimeRange\n *\n * @property {number} length\n *           The number of time ranges represented by this object.\n *\n * @property {module:time-ranges~TimeRangeIndex} start\n *           Returns the time offset at which a specified time range begins.\n *\n * @property {module:time-ranges~TimeRangeIndex} end\n *           Returns the time offset at which a specified time range ends.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges\n */\n\n/**\n * Check if any of the time ranges are over the maximum index.\n *\n * @private\n * @param   {string} fnName\n *          The function name to use for logging\n *\n * @param   {number} index\n *          The index to check\n *\n * @param   {number} maxIndex\n *          The maximum possible index\n *\n * @throws  {Error} if the timeRanges provided are over the maxIndex\n */\n\nfunction rangeCheck(fnName, index, maxIndex) {\n  if (typeof index !== 'number' || index < 0 || index > maxIndex) {\n    throw new Error(\"Failed to execute '\" + fnName + \"' on 'TimeRanges': The index provided (\" + index + \") is non-numeric or out of bounds (0-\" + maxIndex + \").\");\n  }\n}\n/**\n * Get the time for the specified index at the start or end\n * of a TimeRange object.\n *\n * @private\n * @param      {string} fnName\n *             The function name to use for logging\n *\n * @param      {string} valueIndex\n *             The property that should be used to get the time. should be\n *             'start' or 'end'\n *\n * @param      {Array} ranges\n *             An array of time ranges\n *\n * @param      {Array} [rangeIndex=0]\n *             The index to start the search at\n *\n * @return     {number}\n *             The time that offset at the specified index.\n *\n * @deprecated rangeIndex must be set to a value, in the future this will throw an error.\n * @throws     {Error} if rangeIndex is more than the length of ranges\n */\n\n\nfunction getRange(fnName, valueIndex, ranges, rangeIndex) {\n  rangeCheck(fnName, rangeIndex, ranges.length - 1);\n  return ranges[rangeIndex][valueIndex];\n}\n/**\n * Create a time range object given ranges of time.\n *\n * @private\n * @param   {Array} [ranges]\n *          An array of time ranges.\n */\n\n\nfunction createTimeRangesObj(ranges) {\n  if (ranges === undefined || ranges.length === 0) {\n    return {\n      length: 0,\n      start: function start() {\n        throw new Error('This TimeRanges object is empty');\n      },\n      end: function end() {\n        throw new Error('This TimeRanges object is empty');\n      }\n    };\n  }\n\n  return {\n    length: ranges.length,\n    start: getRange.bind(null, 'start', 0, ranges),\n    end: getRange.bind(null, 'end', 1, ranges)\n  };\n}\n/**\n * Create a `TimeRange` object which mimics an\n * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.\n *\n * @param {number|Array[]} start\n *        The start of a single range (a number) or an array of ranges (an\n *        array of arrays of two numbers each).\n *\n * @param {number} end\n *        The end of a single range. Cannot be used with the array form of\n *        the `start` argument.\n */\n\n\nfunction createTimeRanges(start, end) {\n  if (Array.isArray(start)) {\n    return createTimeRangesObj(start);\n  } else if (start === undefined || end === undefined) {\n    return createTimeRangesObj();\n  }\n\n  return createTimeRangesObj([[start, end]]);\n}\n/**\n * @file buffer.js\n * @module buffer\n */\n\n/**\n * Compute the percentage of the media that has been buffered.\n *\n * @param {TimeRange} buffered\n *        The current `TimeRange` object representing buffered time ranges\n *\n * @param {number} duration\n *        Total duration of the media\n *\n * @return {number}\n *         Percent buffered of the total duration in decimal form.\n */\n\n\nfunction bufferedPercent(buffered, duration) {\n  var bufferedDuration = 0;\n  var start;\n  var end;\n\n  if (!duration) {\n    return 0;\n  }\n\n  if (!buffered || !buffered.length) {\n    buffered = createTimeRanges(0, 0);\n  }\n\n  for (var i = 0; i < buffered.length; i++) {\n    start = buffered.start(i);\n    end = buffered.end(i); // buffered end can be bigger than duration by a very small fraction\n\n    if (end > duration) {\n      end = duration;\n    }\n\n    bufferedDuration += end - start;\n  }\n\n  return bufferedDuration / duration;\n}\n/**\n * @file fullscreen-api.js\n * @module fullscreen-api\n * @private\n */\n\n/**\n * Store the browser-specific methods for the fullscreen API.\n *\n * @type {Object}\n * @see [Specification]{@link https://fullscreen.spec.whatwg.org}\n * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}\n */\n\n\nvar FullscreenApi = {\n  prefixed: true\n}; // browser API methods\n\nvar apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\nvar specApi = apiMap[0];\nvar browserApi; // determine the supported set of functions\n\nfor (var i = 0; i < apiMap.length; i++) {\n  // check for exitFullscreen function\n  if (apiMap[i][1] in document) {\n    browserApi = apiMap[i];\n    break;\n  }\n} // map the browser API names to the spec API names\n\n\nif (browserApi) {\n  for (var _i = 0; _i < browserApi.length; _i++) {\n    FullscreenApi[specApi[_i]] = browserApi[_i];\n  }\n\n  FullscreenApi.prefixed = browserApi[0] !== specApi[0];\n}\n/**\n * @file media-error.js\n */\n\n/**\n * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.\n *\n * @param {number|string|Object|MediaError} value\n *        This can be of multiple types:\n *        - number: should be a standard error code\n *        - string: an error message (the code will be 0)\n *        - Object: arbitrary properties\n *        - `MediaError` (native): used to populate a video.js `MediaError` object\n *        - `MediaError` (video.js): will return itself if it's already a\n *          video.js `MediaError` object.\n *\n * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}\n * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}\n *\n * @class MediaError\n */\n\n\nfunction MediaError(value) {\n  // Allow redundant calls to this constructor to avoid having `instanceof`\n  // checks peppered around the code.\n  if (value instanceof MediaError) {\n    return value;\n  }\n\n  if (typeof value === 'number') {\n    this.code = value;\n  } else if (typeof value === 'string') {\n    // default code is zero, so this is a custom error\n    this.message = value;\n  } else if (isObject(value)) {\n    // We assign the `code` property manually because native `MediaError` objects\n    // do not expose it as an own/enumerable property of the object.\n    if (typeof value.code === 'number') {\n      this.code = value.code;\n    }\n\n    assign(this, value);\n  }\n\n  if (!this.message) {\n    this.message = MediaError.defaultMessages[this.code] || '';\n  }\n}\n/**\n * The error code that refers two one of the defined `MediaError` types\n *\n * @type {Number}\n */\n\n\nMediaError.prototype.code = 0;\n/**\n * An optional message that to show with the error. Message is not part of the HTML5\n * video spec but allows for more informative custom errors.\n *\n * @type {String}\n */\n\nMediaError.prototype.message = '';\n/**\n * An optional status code that can be set by plugins to allow even more detail about\n * the error. For example a plugin might provide a specific HTTP status code and an\n * error message for that code. Then when the plugin gets that error this class will\n * know how to display an error message for it. This allows a custom message to show\n * up on the `Player` error overlay.\n *\n * @type {Array}\n */\n\nMediaError.prototype.status = null;\n/**\n * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the\n * specification listed under {@link MediaError} for more information.\n *\n * @enum {array}\n * @readonly\n * @property {string} 0 - MEDIA_ERR_CUSTOM\n * @property {string} 1 - MEDIA_ERR_ABORTED\n * @property {string} 2 - MEDIA_ERR_NETWORK\n * @property {string} 3 - MEDIA_ERR_DECODE\n * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED\n * @property {string} 5 - MEDIA_ERR_ENCRYPTED\n */\n\nMediaError.errorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];\n/**\n * The default `MediaError` messages based on the {@link MediaError.errorTypes}.\n *\n * @type {Array}\n * @constant\n */\n\nMediaError.defaultMessages = {\n  1: 'You aborted the media playback',\n  2: 'A network error caused the media download to fail part-way.',\n  3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n  4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n  5: 'The media is encrypted and we do not have the keys to decrypt it.'\n}; // Add types as properties on MediaError\n// e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\nfor (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n  MediaError[MediaError.errorTypes[errNum]] = errNum; // values should be accessible on both the class and instance\n\n  MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n} // jsdocs for instance/static members added above\n\n/**\n * Returns whether an object is `Promise`-like (i.e. has a `then` method).\n *\n * @param  {Object}  value\n *         An object that may or may not be `Promise`-like.\n *\n * @return {boolean}\n *         Whether or not the object is `Promise`-like.\n */\n\n\nfunction isPromise(value) {\n  return value !== undefined && value !== null && typeof value.then === 'function';\n}\n/**\n * Silence a Promise-like object.\n *\n * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n * play promise\" rejection error messages.\n *\n * @param  {Object} value\n *         An object that may or may not be `Promise`-like.\n */\n\n\nfunction silencePromise(value) {\n  if (isPromise(value)) {\n    value.then(null, function (e) {});\n  }\n}\n/**\n * @file text-track-list-converter.js Utilities for capturing text track state and\n * re-creating tracks based on a capture.\n *\n * @module text-track-list-converter\n */\n\n/**\n * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that\n * represents the {@link TextTrack}'s state.\n *\n * @param {TextTrack} track\n *        The text track to query.\n *\n * @return {Object}\n *         A serializable javascript representation of the TextTrack.\n * @private\n */\n\n\nvar trackToJson_ = function trackToJson_(track) {\n  var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n    if (track[prop]) {\n      acc[prop] = track[prop];\n    }\n\n    return acc;\n  }, {\n    cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n      return {\n        startTime: cue.startTime,\n        endTime: cue.endTime,\n        text: cue.text,\n        id: cue.id\n      };\n    })\n  });\n  return ret;\n};\n/**\n * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the\n * state of all {@link TextTrack}s currently configured. The return array is compatible with\n * {@link text-track-list-converter:jsonToTextTracks}.\n *\n * @param {Tech} tech\n *        The tech object to query\n *\n * @return {Array}\n *         A serializable javascript representation of the {@link Tech}s\n *         {@link TextTrackList}.\n */\n\n\nvar textTracksToJson = function textTracksToJson(tech) {\n  var trackEls = tech.$$('track');\n  var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n    return t.track;\n  });\n  var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n    var json = trackToJson_(trackEl.track);\n\n    if (trackEl.src) {\n      json.src = trackEl.src;\n    }\n\n    return json;\n  });\n  return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n    return trackObjs.indexOf(track) === -1;\n  }).map(trackToJson_));\n};\n/**\n * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript\n * object {@link TextTrack} representations.\n *\n * @param {Array} json\n *        An array of `TextTrack` representation objects, like those that would be\n *        produced by `textTracksToJson`.\n *\n * @param {Tech} tech\n *        The `Tech` to create the `TextTrack`s on.\n */\n\n\nvar jsonToTextTracks = function jsonToTextTracks(json, tech) {\n  json.forEach(function (track) {\n    var addedTrack = tech.addRemoteTextTrack(track).track;\n\n    if (!track.src && track.cues) {\n      track.cues.forEach(function (cue) {\n        return addedTrack.addCue(cue);\n      });\n    }\n  });\n  return tech.textTracks();\n};\n\nvar textTrackConverter = {\n  textTracksToJson: textTracksToJson,\n  jsonToTextTracks: jsonToTextTracks,\n  trackToJson_: trackToJson_\n};\nvar MODAL_CLASS_NAME = 'vjs-modal-dialog';\n/**\n * The `ModalDialog` displays over the video and its controls, which blocks\n * interaction with the player until it is closed.\n *\n * Modal dialogs include a \"Close\" button and will close when that button\n * is activated - or when ESC is pressed anywhere.\n *\n * @extends Component\n */\n\nvar ModalDialog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ModalDialog, _Component);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Mixed} [options.content=undefined]\n   *        Provide customized content for this modal.\n   *\n   * @param {string} [options.description]\n   *        A text description for the modal, primarily for accessibility.\n   *\n   * @param {boolean} [options.fillAlways=false]\n   *        Normally, modals are automatically filled only the first time\n   *        they open. This tells the modal to refresh its content\n   *        every time it opens.\n   *\n   * @param {string} [options.label]\n   *        A text label for the modal, primarily for accessibility.\n   *\n   * @param {boolean} [options.pauseOnOpen=true]\n   *        If `true`, playback will will be paused if playing when\n   *        the modal opens, and resumed when it closes.\n   *\n   * @param {boolean} [options.temporary=true]\n   *        If `true`, the modal can only be opened once; it will be\n   *        disposed as soon as it's closed.\n   *\n   * @param {boolean} [options.uncloseable=false]\n   *        If `true`, the user will not be able to close the modal\n   *        through the UI in the normal ways. Programmatic closing is\n   *        still possible.\n   */\n\n\n  function ModalDialog(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.opened_ = _this.hasBeenOpened_ = _this.hasBeenFilled_ = false;\n\n    _this.closeable(!_this.options_.uncloseable);\n\n    _this.content(_this.options_.content); // Make sure the contentEl is defined AFTER any children are initialized\n    // because we only want the contents of the modal in the contentEl\n    // (not the UI elements like the close button).\n\n\n    _this.contentEl_ = createEl('div', {\n      className: MODAL_CLASS_NAME + \"-content\"\n    }, {\n      role: 'document'\n    });\n    _this.descEl_ = createEl('p', {\n      className: MODAL_CLASS_NAME + \"-description vjs-control-text\",\n      id: _this.el().getAttribute('aria-describedby')\n    });\n    textContent(_this.descEl_, _this.description());\n\n    _this.el_.appendChild(_this.descEl_);\n\n    _this.el_.appendChild(_this.contentEl_);\n\n    return _this;\n  }\n  /**\n   * Create the `ModalDialog`'s DOM element\n   *\n   * @return {Element}\n   *         The DOM element that gets created.\n   */\n\n\n  var _proto = ModalDialog.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildCSSClass(),\n      tabIndex: -1\n    }, {\n      'aria-describedby': this.id() + \"_description\",\n      'aria-hidden': 'true',\n      'aria-label': this.label(),\n      'role': 'dialog'\n    });\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.descEl_ = null;\n    this.previouslyActiveEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return MODAL_CLASS_NAME + \" vjs-hidden \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Returns the label string for this modal. Primarily used for accessibility.\n   *\n   * @return {string}\n   *         the localized or raw label of this modal.\n   */\n  ;\n\n  _proto.label = function label() {\n    return this.localize(this.options_.label || 'Modal Window');\n  }\n  /**\n   * Returns the description string for this modal. Primarily used for\n   * accessibility.\n   *\n   * @return {string}\n   *         The localized or raw description of this modal.\n   */\n  ;\n\n  _proto.description = function description() {\n    var desc = this.options_.description || this.localize('This is a modal window.'); // Append a universal closeability message if the modal is closeable.\n\n    if (this.closeable()) {\n      desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n    }\n\n    return desc;\n  }\n  /**\n   * Opens the modal.\n   *\n   * @fires ModalDialog#beforemodalopen\n   * @fires ModalDialog#modalopen\n   */\n  ;\n\n  _proto.open = function open() {\n    if (!this.opened_) {\n      var player = this.player();\n      /**\n        * Fired just before a `ModalDialog` is opened.\n        *\n        * @event ModalDialog#beforemodalopen\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalopen');\n      this.opened_ = true; // Fill content if the modal has never opened before and\n      // never been filled.\n\n      if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n        this.fill();\n      } // If the player was playing, pause it and take note of its previously\n      // playing state.\n\n\n      this.wasPlaying_ = !player.paused();\n\n      if (this.options_.pauseOnOpen && this.wasPlaying_) {\n        player.pause();\n      }\n\n      this.on('keydown', this.handleKeyDown); // Hide controls and note if they were enabled.\n\n      this.hadControls_ = player.controls();\n      player.controls(false);\n      this.show();\n      this.conditionalFocus_();\n      this.el().setAttribute('aria-hidden', 'false');\n      /**\n        * Fired just after a `ModalDialog` is opened.\n        *\n        * @event ModalDialog#modalopen\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('modalopen');\n      this.hasBeenOpened_ = true;\n    }\n  }\n  /**\n   * If the `ModalDialog` is currently open or closed.\n   *\n   * @param  {boolean} [value]\n   *         If given, it will open (`true`) or close (`false`) the modal.\n   *\n   * @return {boolean}\n   *         the current open state of the modaldialog\n   */\n  ;\n\n  _proto.opened = function opened(value) {\n    if (typeof value === 'boolean') {\n      this[value ? 'open' : 'close']();\n    }\n\n    return this.opened_;\n  }\n  /**\n   * Closes the modal, does nothing if the `ModalDialog` is\n   * not open.\n   *\n   * @fires ModalDialog#beforemodalclose\n   * @fires ModalDialog#modalclose\n   */\n  ;\n\n  _proto.close = function close() {\n    if (!this.opened_) {\n      return;\n    }\n\n    var player = this.player();\n    /**\n      * Fired just before a `ModalDialog` is closed.\n      *\n      * @event ModalDialog#beforemodalclose\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('beforemodalclose');\n    this.opened_ = false;\n\n    if (this.wasPlaying_ && this.options_.pauseOnOpen) {\n      player.play();\n    }\n\n    this.off('keydown', this.handleKeyDown);\n\n    if (this.hadControls_) {\n      player.controls(true);\n    }\n\n    this.hide();\n    this.el().setAttribute('aria-hidden', 'true');\n    /**\n      * Fired just after a `ModalDialog` is closed.\n      *\n      * @event ModalDialog#modalclose\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('modalclose');\n    this.conditionalBlur_();\n\n    if (this.options_.temporary) {\n      this.dispose();\n    }\n  }\n  /**\n   * Check to see if the `ModalDialog` is closeable via the UI.\n   *\n   * @param  {boolean} [value]\n   *         If given as a boolean, it will set the `closeable` option.\n   *\n   * @return {boolean}\n   *         Returns the final value of the closable option.\n   */\n  ;\n\n  _proto.closeable = function closeable(value) {\n    if (typeof value === 'boolean') {\n      var closeable = this.closeable_ = !!value;\n      var close = this.getChild('closeButton'); // If this is being made closeable and has no close button, add one.\n\n      if (closeable && !close) {\n        // The close button should be a child of the modal - not its\n        // content element, so temporarily change the content element.\n        var temp = this.contentEl_;\n        this.contentEl_ = this.el_;\n        close = this.addChild('closeButton', {\n          controlText: 'Close Modal Dialog'\n        });\n        this.contentEl_ = temp;\n        this.on(close, 'close', this.close);\n      } // If this is being made uncloseable and has a close button, remove it.\n\n\n      if (!closeable && close) {\n        this.off(close, 'close', this.close);\n        this.removeChild(close);\n        close.dispose();\n      }\n    }\n\n    return this.closeable_;\n  }\n  /**\n   * Fill the modal's content element with the modal's \"content\" option.\n   * The content element will be emptied before this change takes place.\n   */\n  ;\n\n  _proto.fill = function fill() {\n    this.fillWith(this.content());\n  }\n  /**\n   * Fill the modal's content element with arbitrary content.\n   * The content element will be emptied before this change takes place.\n   *\n   * @fires ModalDialog#beforemodalfill\n   * @fires ModalDialog#modalfill\n   *\n   * @param {Mixed} [content]\n   *        The same rules apply to this as apply to the `content` option.\n   */\n  ;\n\n  _proto.fillWith = function fillWith(content) {\n    var contentEl = this.contentEl();\n    var parentEl = contentEl.parentNode;\n    var nextSiblingEl = contentEl.nextSibling;\n    /**\n      * Fired just before a `ModalDialog` is filled with content.\n      *\n      * @event ModalDialog#beforemodalfill\n      * @type {EventTarget~Event}\n      */\n\n    this.trigger('beforemodalfill');\n    this.hasBeenFilled_ = true; // Detach the content element from the DOM before performing\n    // manipulation to avoid modifying the live DOM multiple times.\n\n    parentEl.removeChild(contentEl);\n    this.empty();\n    insertContent(contentEl, content);\n    /**\n     * Fired just after a `ModalDialog` is filled with content.\n     *\n     * @event ModalDialog#modalfill\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('modalfill'); // Re-inject the re-filled content element.\n\n    if (nextSiblingEl) {\n      parentEl.insertBefore(contentEl, nextSiblingEl);\n    } else {\n      parentEl.appendChild(contentEl);\n    } // make sure that the close button is last in the dialog DOM\n\n\n    var closeButton = this.getChild('closeButton');\n\n    if (closeButton) {\n      parentEl.appendChild(closeButton.el_);\n    }\n  }\n  /**\n   * Empties the content element. This happens anytime the modal is filled.\n   *\n   * @fires ModalDialog#beforemodalempty\n   * @fires ModalDialog#modalempty\n   */\n  ;\n\n  _proto.empty = function empty() {\n    /**\n    * Fired just before a `ModalDialog` is emptied.\n    *\n    * @event ModalDialog#beforemodalempty\n    * @type {EventTarget~Event}\n    */\n    this.trigger('beforemodalempty');\n    emptyEl(this.contentEl());\n    /**\n    * Fired just after a `ModalDialog` is emptied.\n    *\n    * @event ModalDialog#modalempty\n    * @type {EventTarget~Event}\n    */\n\n    this.trigger('modalempty');\n  }\n  /**\n   * Gets or sets the modal content, which gets normalized before being\n   * rendered into the DOM.\n   *\n   * This does not update the DOM or fill the modal, but it is called during\n   * that process.\n   *\n   * @param  {Mixed} [value]\n   *         If defined, sets the internal content value to be used on the\n   *         next call(s) to `fill`. This value is normalized before being\n   *         inserted. To \"clear\" the internal content value, pass `null`.\n   *\n   * @return {Mixed}\n   *         The current content of the modal dialog\n   */\n  ;\n\n  _proto.content = function content(value) {\n    if (typeof value !== 'undefined') {\n      this.content_ = value;\n    }\n\n    return this.content_;\n  }\n  /**\n   * conditionally focus the modal dialog if focus was previously on the player.\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalFocus_ = function conditionalFocus_() {\n    var activeEl = document.activeElement;\n    var playerEl = this.player_.el_;\n    this.previouslyActiveEl_ = null;\n\n    if (playerEl.contains(activeEl) || playerEl === activeEl) {\n      this.previouslyActiveEl_ = activeEl;\n      this.focus();\n    }\n  }\n  /**\n   * conditionally blur the element and refocus the last focused element\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalBlur_ = function conditionalBlur_() {\n    if (this.previouslyActiveEl_) {\n      this.previouslyActiveEl_.focus();\n      this.previouslyActiveEl_ = null;\n    }\n  }\n  /**\n   * Keydown handler. Attached when modal is focused.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Do not allow keydowns to reach out of the modal dialog.\n    event.stopPropagation();\n\n    if (keycode.isEventKey(event, 'Escape') && this.closeable()) {\n      event.preventDefault();\n      this.close();\n      return;\n    } // exit early if it isn't a tab key\n\n\n    if (!keycode.isEventKey(event, 'Tab')) {\n      return;\n    }\n\n    var focusableEls = this.focusableEls_();\n    var activeEl = this.el_.querySelector(':focus');\n    var focusIndex;\n\n    for (var i = 0; i < focusableEls.length; i++) {\n      if (activeEl === focusableEls[i]) {\n        focusIndex = i;\n        break;\n      }\n    }\n\n    if (document.activeElement === this.el_) {\n      focusIndex = 0;\n    }\n\n    if (event.shiftKey && focusIndex === 0) {\n      focusableEls[focusableEls.length - 1].focus();\n      event.preventDefault();\n    } else if (!event.shiftKey && focusIndex === focusableEls.length - 1) {\n      focusableEls[0].focus();\n      event.preventDefault();\n    }\n  }\n  /**\n   * get all focusable elements\n   *\n   * @private\n   */\n  ;\n\n  _proto.focusableEls_ = function focusableEls_() {\n    var allChildren = this.el_.querySelectorAll('*');\n    return Array.prototype.filter.call(allChildren, function (child) {\n      return (child instanceof window$1.HTMLAnchorElement || child instanceof window$1.HTMLAreaElement) && child.hasAttribute('href') || (child instanceof window$1.HTMLInputElement || child instanceof window$1.HTMLSelectElement || child instanceof window$1.HTMLTextAreaElement || child instanceof window$1.HTMLButtonElement) && !child.hasAttribute('disabled') || child instanceof window$1.HTMLIFrameElement || child instanceof window$1.HTMLObjectElement || child instanceof window$1.HTMLEmbedElement || child.hasAttribute('tabindex') && child.getAttribute('tabindex') !== -1 || child.hasAttribute('contenteditable');\n    });\n  };\n\n  return ModalDialog;\n}(Component);\n/**\n * Default options for `ModalDialog` default options.\n *\n * @type {Object}\n * @private\n */\n\n\nModalDialog.prototype.options_ = {\n  pauseOnOpen: true,\n  temporary: true\n};\nComponent.registerComponent('ModalDialog', ModalDialog);\n/**\n * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and\n * {@link VideoTrackList}\n *\n * @extends EventTarget\n */\n\nvar TrackList =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(TrackList, _EventTarget);\n  /**\n   * Create an instance of this class\n   *\n   * @param {Track[]} tracks\n   *        A list of tracks to initialize the list with.\n   *\n   * @abstract\n   */\n\n\n  function TrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    }\n\n    _this = _EventTarget.call(this) || this;\n    _this.tracks_ = [];\n    /**\n     * @memberof TrackList\n     * @member {number} length\n     *         The current number of `Track`s in the this Trackist.\n     * @instance\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'length', {\n      get: function get() {\n        return this.tracks_.length;\n      }\n    });\n\n    for (var i = 0; i < tracks.length; i++) {\n      _this.addTrack(tracks[i]);\n    }\n\n    return _this;\n  }\n  /**\n   * Add a {@link Track} to the `TrackList`\n   *\n   * @param {Track} track\n   *        The audio, video, or text track to add to the list.\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = TrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var index = this.tracks_.length;\n\n    if (!('' + index in this)) {\n      Object.defineProperty(this, index, {\n        get: function get() {\n          return this.tracks_[index];\n        }\n      });\n    } // Do not add duplicate tracks\n\n\n    if (this.tracks_.indexOf(track) === -1) {\n      this.tracks_.push(track);\n      /**\n       * Triggered when a track is added to a track list.\n       *\n       * @event TrackList#addtrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was added.\n       */\n\n      this.trigger({\n        track: track,\n        type: 'addtrack',\n        target: this\n      });\n    }\n  }\n  /**\n   * Remove a {@link Track} from the `TrackList`\n   *\n   * @param {Track} rtrack\n   *        The audio, video, or text track to remove from the list.\n   *\n   * @fires TrackList#removetrack\n   */\n  ;\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    var track;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      if (this[i] === rtrack) {\n        track = this[i];\n\n        if (track.off) {\n          track.off();\n        }\n\n        this.tracks_.splice(i, 1);\n        break;\n      }\n    }\n\n    if (!track) {\n      return;\n    }\n    /**\n     * Triggered when a track is removed from track list.\n     *\n     * @event TrackList#removetrack\n     * @type {EventTarget~Event}\n     * @property {Track} track\n     *           A reference to track that was removed.\n     */\n\n\n    this.trigger({\n      track: track,\n      type: 'removetrack',\n      target: this\n    });\n  }\n  /**\n   * Get a Track from the TrackList by a tracks id\n   *\n   * @param {string} id - the id of the track to get\n   * @method getTrackById\n   * @return {Track}\n   * @private\n   */\n  ;\n\n  _proto.getTrackById = function getTrackById(id) {\n    var result = null;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      var track = this[i];\n\n      if (track.id === id) {\n        result = track;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  return TrackList;\n}(EventTarget);\n/**\n * Triggered when a different track is selected/enabled.\n *\n * @event TrackList#change\n * @type {EventTarget~Event}\n */\n\n/**\n * Events that can be called with on + eventName. See {@link EventHandler}.\n *\n * @property {Object} TrackList#allowedEvents_\n * @private\n */\n\n\nTrackList.prototype.allowedEvents_ = {\n  change: 'change',\n  addtrack: 'addtrack',\n  removetrack: 'removetrack'\n}; // emulate attribute EventHandler support to allow for feature detection\n\nfor (var event in TrackList.prototype.allowedEvents_) {\n  TrackList.prototype['on' + event] = null;\n}\n/**\n * Anywhere we call this function we diverge from the spec\n * as we only support one enabled audiotrack at a time\n *\n * @param {AudioTrackList} list\n *        list to work on\n *\n * @param {AudioTrack} track\n *        The track to skip\n *\n * @private\n */\n\n\nvar disableOthers = function disableOthers(list, track) {\n  for (var i = 0; i < list.length; i++) {\n    if (!Object.keys(list[i]).length || track.id === list[i].id) {\n      continue;\n    } // another audio track is enabled, disable it\n\n\n    list[i].enabled = false;\n  }\n};\n/**\n * The current list of {@link AudioTrack} for a media file.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}\n * @extends TrackList\n */\n\n\nvar AudioTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(AudioTrackList, _TrackList);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {AudioTrack[]} [tracks=[]]\n   *        A list of `AudioTrack` to instantiate the list with.\n   */\n\n\n  function AudioTrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    } // make sure only 1 track is enabled\n    // sorted from last index to first index\n\n\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      if (tracks[i].enabled) {\n        disableOthers(tracks, tracks[i]);\n        break;\n      }\n    }\n\n    _this = _TrackList.call(this, tracks) || this;\n    _this.changing_ = false;\n    return _this;\n  }\n  /**\n   * Add an {@link AudioTrack} to the `AudioTrackList`.\n   *\n   * @param {AudioTrack} track\n   *        The AudioTrack to add to the list\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = AudioTrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var _this2 = this;\n\n    if (track.enabled) {\n      disableOthers(this, track);\n    }\n\n    _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n    if (!track.addEventListener) {\n      return;\n    }\n\n    track.enabledChange_ = function () {\n      // when we are disabling other tracks (since we don't support\n      // more than one track at a time) we will set changing_\n      // to true so that we don't trigger additional change events\n      if (_this2.changing_) {\n        return;\n      }\n\n      _this2.changing_ = true;\n      disableOthers(_this2, track);\n      _this2.changing_ = false;\n\n      _this2.trigger('change');\n    };\n    /**\n     * @listens AudioTrack#enabledchange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('enabledchange', track.enabledChange_);\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack);\n\n    if (rtrack.removeEventListener && rtrack.enabledChange_) {\n      rtrack.removeEventListener('enabledchange', rtrack.enabledChange_);\n      rtrack.enabledChange_ = null;\n    }\n  };\n\n  return AudioTrackList;\n}(TrackList);\n/**\n * Un-select all other {@link VideoTrack}s that are selected.\n *\n * @param {VideoTrackList} list\n *        list to work on\n *\n * @param {VideoTrack} track\n *        The track to skip\n *\n * @private\n */\n\n\nvar disableOthers$1 = function disableOthers(list, track) {\n  for (var i = 0; i < list.length; i++) {\n    if (!Object.keys(list[i]).length || track.id === list[i].id) {\n      continue;\n    } // another video track is enabled, disable it\n\n\n    list[i].selected = false;\n  }\n};\n/**\n * The current list of {@link VideoTrack} for a video.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}\n * @extends TrackList\n */\n\n\nvar VideoTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(VideoTrackList, _TrackList);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {VideoTrack[]} [tracks=[]]\n   *        A list of `VideoTrack` to instantiate the list with.\n   */\n\n\n  function VideoTrackList(tracks) {\n    var _this;\n\n    if (tracks === void 0) {\n      tracks = [];\n    } // make sure only 1 track is enabled\n    // sorted from last index to first index\n\n\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      if (tracks[i].selected) {\n        disableOthers$1(tracks, tracks[i]);\n        break;\n      }\n    }\n\n    _this = _TrackList.call(this, tracks) || this;\n    _this.changing_ = false;\n    /**\n     * @member {number} VideoTrackList#selectedIndex\n     *         The current index of the selected {@link VideoTrack`}.\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'selectedIndex', {\n      get: function get() {\n        for (var _i = 0; _i < this.length; _i++) {\n          if (this[_i].selected) {\n            return _i;\n          }\n        }\n\n        return -1;\n      },\n      set: function set() {}\n    });\n    return _this;\n  }\n  /**\n   * Add a {@link VideoTrack} to the `VideoTrackList`.\n   *\n   * @param {VideoTrack} track\n   *        The VideoTrack to add to the list\n   *\n   * @fires TrackList#addtrack\n   */\n\n\n  var _proto = VideoTrackList.prototype;\n\n  _proto.addTrack = function addTrack(track) {\n    var _this2 = this;\n\n    if (track.selected) {\n      disableOthers$1(this, track);\n    }\n\n    _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n    if (!track.addEventListener) {\n      return;\n    }\n\n    track.selectedChange_ = function () {\n      if (_this2.changing_) {\n        return;\n      }\n\n      _this2.changing_ = true;\n      disableOthers$1(_this2, track);\n      _this2.changing_ = false;\n\n      _this2.trigger('change');\n    };\n    /**\n     * @listens VideoTrack#selectedchange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('selectedchange', track.selectedChange_);\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack);\n\n    if (rtrack.removeEventListener && rtrack.selectedChange_) {\n      rtrack.removeEventListener('selectedchange', rtrack.selectedChange_);\n      rtrack.selectedChange_ = null;\n    }\n  };\n\n  return VideoTrackList;\n}(TrackList);\n/**\n * The current list of {@link TextTrack} for a media file.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}\n * @extends TrackList\n */\n\n\nvar TextTrackList =\n/*#__PURE__*/\nfunction (_TrackList) {\n  _inheritsLoose(TextTrackList, _TrackList);\n\n  function TextTrackList() {\n    return _TrackList.apply(this, arguments) || this;\n  }\n\n  var _proto = TextTrackList.prototype;\n  /**\n   * Add a {@link TextTrack} to the `TextTrackList`\n   *\n   * @param {TextTrack} track\n   *        The text track to add to the list.\n   *\n   * @fires TrackList#addtrack\n   */\n\n  _proto.addTrack = function addTrack(track) {\n    var _this = this;\n\n    _TrackList.prototype.addTrack.call(this, track);\n\n    if (!this.queueChange_) {\n      this.queueChange_ = function () {\n        return _this.queueTrigger('change');\n      };\n    }\n\n    if (!this.triggerSelectedlanguagechange) {\n      this.triggerSelectedlanguagechange_ = function () {\n        return _this.trigger('selectedlanguagechange');\n      };\n    }\n    /**\n     * @listens TextTrack#modechange\n     * @fires TrackList#change\n     */\n\n\n    track.addEventListener('modechange', this.queueChange_);\n    var nonLanguageTextTrackKind = ['metadata', 'chapters'];\n\n    if (nonLanguageTextTrackKind.indexOf(track.kind) === -1) {\n      track.addEventListener('modechange', this.triggerSelectedlanguagechange_);\n    }\n  };\n\n  _proto.removeTrack = function removeTrack(rtrack) {\n    _TrackList.prototype.removeTrack.call(this, rtrack); // manually remove the event handlers we added\n\n\n    if (rtrack.removeEventListener) {\n      if (this.queueChange_) {\n        rtrack.removeEventListener('modechange', this.queueChange_);\n      }\n\n      if (this.selectedlanguagechange_) {\n        rtrack.removeEventListener('modechange', this.triggerSelectedlanguagechange_);\n      }\n    }\n  };\n\n  return TextTrackList;\n}(TrackList);\n/**\n * @file html-track-element-list.js\n */\n\n/**\n * The current list of {@link HtmlTrackElement}s.\n */\n\n\nvar HtmlTrackElementList =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an instance of this class.\n   *\n   * @param {HtmlTrackElement[]} [tracks=[]]\n   *        A list of `HtmlTrackElement` to instantiate the list with.\n   */\n  function HtmlTrackElementList(trackElements) {\n    if (trackElements === void 0) {\n      trackElements = [];\n    }\n\n    this.trackElements_ = [];\n    /**\n     * @memberof HtmlTrackElementList\n     * @member {number} length\n     *         The current number of `Track`s in the this Trackist.\n     * @instance\n     */\n\n    Object.defineProperty(this, 'length', {\n      get: function get() {\n        return this.trackElements_.length;\n      }\n    });\n\n    for (var i = 0, length = trackElements.length; i < length; i++) {\n      this.addTrackElement_(trackElements[i]);\n    }\n  }\n  /**\n   * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`\n   *\n   * @param {HtmlTrackElement} trackElement\n   *        The track element to add to the list.\n   *\n   * @private\n   */\n\n\n  var _proto = HtmlTrackElementList.prototype;\n\n  _proto.addTrackElement_ = function addTrackElement_(trackElement) {\n    var index = this.trackElements_.length;\n\n    if (!('' + index in this)) {\n      Object.defineProperty(this, index, {\n        get: function get() {\n          return this.trackElements_[index];\n        }\n      });\n    } // Do not add duplicate elements\n\n\n    if (this.trackElements_.indexOf(trackElement) === -1) {\n      this.trackElements_.push(trackElement);\n    }\n  }\n  /**\n   * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an\n   * {@link TextTrack}.\n   *\n   * @param {TextTrack} track\n   *        The track associated with a track element.\n   *\n   * @return {HtmlTrackElement|undefined}\n   *         The track element that was found or undefined.\n   *\n   * @private\n   */\n  ;\n\n  _proto.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n    var trackElement_;\n\n    for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n      if (track === this.trackElements_[i].track) {\n        trackElement_ = this.trackElements_[i];\n        break;\n      }\n    }\n\n    return trackElement_;\n  }\n  /**\n   * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`\n   *\n   * @param {HtmlTrackElement} trackElement\n   *        The track element to remove from the list.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeTrackElement_ = function removeTrackElement_(trackElement) {\n    for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n      if (trackElement === this.trackElements_[i]) {\n        if (this.trackElements_[i].track && typeof this.trackElements_[i].track.off === 'function') {\n          this.trackElements_[i].track.off();\n        }\n\n        if (typeof this.trackElements_[i].off === 'function') {\n          this.trackElements_[i].off();\n        }\n\n        this.trackElements_.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  return HtmlTrackElementList;\n}();\n/**\n * @file text-track-cue-list.js\n */\n\n/**\n * @typedef {Object} TextTrackCueList~TextTrackCue\n *\n * @property {string} id\n *           The unique id for this text track cue\n *\n * @property {number} startTime\n *           The start time for this text track cue\n *\n * @property {number} endTime\n *           The end time for this text track cue\n *\n * @property {boolean} pauseOnExit\n *           Pause when the end time is reached if true.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}\n */\n\n/**\n * A List of TextTrackCues.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}\n */\n\n\nvar TextTrackCueList =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create an instance of this class..\n   *\n   * @param {Array} cues\n   *        A list of cues to be initialized with\n   */\n  function TextTrackCueList(cues) {\n    TextTrackCueList.prototype.setCues_.call(this, cues);\n    /**\n     * @memberof TextTrackCueList\n     * @member {number} length\n     *         The current number of `TextTrackCue`s in the TextTrackCueList.\n     * @instance\n     */\n\n    Object.defineProperty(this, 'length', {\n      get: function get() {\n        return this.length_;\n      }\n    });\n  }\n  /**\n   * A setter for cues in this list. Creates getters\n   * an an index for the cues.\n   *\n   * @param {Array} cues\n   *        An array of cues to set\n   *\n   * @private\n   */\n\n\n  var _proto = TextTrackCueList.prototype;\n\n  _proto.setCues_ = function setCues_(cues) {\n    var oldLength = this.length || 0;\n    var i = 0;\n    var l = cues.length;\n    this.cues_ = cues;\n    this.length_ = cues.length;\n\n    var defineProp = function defineProp(index) {\n      if (!('' + index in this)) {\n        Object.defineProperty(this, '' + index, {\n          get: function get() {\n            return this.cues_[index];\n          }\n        });\n      }\n    };\n\n    if (oldLength < l) {\n      i = oldLength;\n\n      for (; i < l; i++) {\n        defineProp.call(this, i);\n      }\n    }\n  }\n  /**\n   * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.\n   *\n   * @param {string} id\n   *        The id of the cue that should be searched for.\n   *\n   * @return {TextTrackCueList~TextTrackCue|null}\n   *         A single cue or null if none was found.\n   */\n  ;\n\n  _proto.getCueById = function getCueById(id) {\n    var result = null;\n\n    for (var i = 0, l = this.length; i < l; i++) {\n      var cue = this[i];\n\n      if (cue.id === id) {\n        result = cue;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  return TextTrackCueList;\n}();\n/**\n * @file track-kinds.js\n */\n\n/**\n * All possible `VideoTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n * @typedef VideoTrack~Kind\n * @enum\n */\n\n\nvar VideoTrackKind = {\n  alternative: 'alternative',\n  captions: 'captions',\n  main: 'main',\n  sign: 'sign',\n  subtitles: 'subtitles',\n  commentary: 'commentary'\n};\n/**\n * All possible `AudioTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n * @typedef AudioTrack~Kind\n * @enum\n */\n\nvar AudioTrackKind = {\n  'alternative': 'alternative',\n  'descriptions': 'descriptions',\n  'main': 'main',\n  'main-desc': 'main-desc',\n  'translation': 'translation',\n  'commentary': 'commentary'\n};\n/**\n * All possible `TextTrackKind`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind\n * @typedef TextTrack~Kind\n * @enum\n */\n\nvar TextTrackKind = {\n  subtitles: 'subtitles',\n  captions: 'captions',\n  descriptions: 'descriptions',\n  chapters: 'chapters',\n  metadata: 'metadata'\n};\n/**\n * All possible `TextTrackMode`s\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n * @typedef TextTrack~Mode\n * @enum\n */\n\nvar TextTrackMode = {\n  disabled: 'disabled',\n  hidden: 'hidden',\n  showing: 'showing'\n};\n/**\n * A Track class that contains all of the common functionality for {@link AudioTrack},\n * {@link VideoTrack}, and {@link TextTrack}.\n *\n * > Note: This class should not be used directly\n *\n * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}\n * @extends EventTarget\n * @abstract\n */\n\nvar Track =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(Track, _EventTarget);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {string} [options.kind='']\n   *        A valid kind for the track type you are creating.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @abstract\n   */\n\n\n  function Track(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _EventTarget.call(this) || this;\n    var trackProps = {\n      id: options.id || 'vjs_track_' + newGUID(),\n      kind: options.kind || '',\n      label: options.label || '',\n      language: options.language || ''\n    };\n    /**\n     * @memberof Track\n     * @member {string} id\n     *         The id of this track. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} kind\n     *         The kind of track that this is. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} label\n     *         The label of this track. Cannot be changed after creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    /**\n     * @memberof Track\n     * @member {string} language\n     *         The two letter language code for this track. Cannot be changed after\n     *         creation.\n     * @instance\n     *\n     * @readonly\n     */\n\n    var _loop = function _loop(key) {\n      Object.defineProperty(_assertThisInitialized(_this), key, {\n        get: function get() {\n          return trackProps[key];\n        },\n        set: function set() {}\n      });\n    };\n\n    for (var key in trackProps) {\n      _loop(key);\n    }\n\n    return _this;\n  }\n\n  return Track;\n}(EventTarget);\n/**\n * @file url.js\n * @module url\n */\n\n/**\n * @typedef {Object} url:URLObject\n *\n * @property {string} protocol\n *           The protocol of the url that was parsed.\n *\n * @property {string} hostname\n *           The hostname of the url that was parsed.\n *\n * @property {string} port\n *           The port of the url that was parsed.\n *\n * @property {string} pathname\n *           The pathname of the url that was parsed.\n *\n * @property {string} search\n *           The search query of the url that was parsed.\n *\n * @property {string} hash\n *           The hash of the url that was parsed.\n *\n * @property {string} host\n *           The host of the url that was parsed.\n */\n\n/**\n * Resolve and parse the elements of a URL.\n *\n * @function\n * @param    {String} url\n *           The url to parse\n *\n * @return   {url:URLObject}\n *           An object of url details\n */\n\n\nvar parseUrl = function parseUrl(url) {\n  var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host']; // add the url to an anchor and let the browser parse the URL\n\n  var a = document.createElement('a');\n  a.href = url; // IE8 (and 9?) Fix\n  // ie8 doesn't parse the URL correctly until the anchor is actually\n  // added to the body, and an innerHTML is needed to trigger the parsing\n\n  var addToBody = a.host === '' && a.protocol !== 'file:';\n  var div;\n\n  if (addToBody) {\n    div = document.createElement('div');\n    div.innerHTML = \"<a href=\\\"\" + url + \"\\\"></a>\";\n    a = div.firstChild; // prevent the div from affecting layout\n\n    div.setAttribute('style', 'display:none; position:absolute;');\n    document.body.appendChild(div);\n  } // Copy the specific URL properties to a new object\n  // This is also needed for IE8 because the anchor loses its\n  // properties when it's removed from the dom\n\n\n  var details = {};\n\n  for (var i = 0; i < props.length; i++) {\n    details[props[i]] = a[props[i]];\n  } // IE9 adds the port to the host property unlike everyone else. If\n  // a port identifier is added for standard ports, strip it.\n\n\n  if (details.protocol === 'http:') {\n    details.host = details.host.replace(/:80$/, '');\n  }\n\n  if (details.protocol === 'https:') {\n    details.host = details.host.replace(/:443$/, '');\n  }\n\n  if (!details.protocol) {\n    details.protocol = window$1.location.protocol;\n  }\n\n  if (addToBody) {\n    document.body.removeChild(div);\n  }\n\n  return details;\n};\n/**\n * Get absolute version of relative URL. Used to tell Flash the correct URL.\n *\n * @function\n * @param    {string} url\n *           URL to make absolute\n *\n * @return   {string}\n *           Absolute URL\n *\n * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n */\n\n\nvar getAbsoluteURL = function getAbsoluteURL(url) {\n  // Check if absolute URL\n  if (!url.match(/^https?:\\/\\//)) {\n    // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n    var div = document.createElement('div');\n    div.innerHTML = \"<a href=\\\"\" + url + \"\\\">x</a>\";\n    url = div.firstChild.href;\n  }\n\n  return url;\n};\n/**\n * Returns the extension of the passed file name. It will return an empty string\n * if passed an invalid path.\n *\n * @function\n * @param    {string} path\n *           The fileName path like '/path/to/file.mp4'\n *\n * @return  {string}\n *           The extension in lower case or an empty string if no\n *           extension could be found.\n */\n\n\nvar getFileExtension = function getFileExtension(path) {\n  if (typeof path === 'string') {\n    var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i;\n    var pathParts = splitPathRe.exec(path);\n\n    if (pathParts) {\n      return pathParts.pop().toLowerCase();\n    }\n  }\n\n  return '';\n};\n/**\n * Returns whether the url passed is a cross domain request or not.\n *\n * @function\n * @param    {string} url\n *           The url to check.\n *\n * @return   {boolean}\n *           Whether it is a cross domain request or not.\n */\n\n\nvar isCrossOrigin = function isCrossOrigin(url) {\n  var winLoc = window$1.location;\n  var urlInfo = parseUrl(url); // IE8 protocol relative urls will return ':' for protocol\n\n  var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol; // Check if url is for another domain/origin\n  // IE8 doesn't know location.origin, so we won't rely on it here\n\n  var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n  return crossOrigin;\n};\n\nvar Url =\n/*#__PURE__*/\nObject.freeze({\n  parseUrl: parseUrl,\n  getAbsoluteURL: getAbsoluteURL,\n  getFileExtension: getFileExtension,\n  isCrossOrigin: isCrossOrigin\n});\n/**\n * Takes a webvtt file contents and parses it into cues\n *\n * @param {string} srcContent\n *        webVTT file contents\n *\n * @param {TextTrack} track\n *        TextTrack to add cues to. Cues come from the srcContent.\n *\n * @private\n */\n\nvar parseCues = function parseCues(srcContent, track) {\n  var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, window$1.WebVTT.StringDecoder());\n  var errors = [];\n\n  parser.oncue = function (cue) {\n    track.addCue(cue);\n  };\n\n  parser.onparsingerror = function (error) {\n    errors.push(error);\n  };\n\n  parser.onflush = function () {\n    track.trigger({\n      type: 'loadeddata',\n      target: track\n    });\n  };\n\n  parser.parse(srcContent);\n\n  if (errors.length > 0) {\n    if (window$1.console && window$1.console.groupCollapsed) {\n      window$1.console.groupCollapsed(\"Text Track parsing errors for \" + track.src);\n    }\n\n    errors.forEach(function (error) {\n      return log.error(error);\n    });\n\n    if (window$1.console && window$1.console.groupEnd) {\n      window$1.console.groupEnd();\n    }\n  }\n\n  parser.flush();\n};\n/**\n * Load a `TextTrack` from a specified url.\n *\n * @param {string} src\n *        Url to load track from.\n *\n * @param {TextTrack} track\n *        Track to add cues to. Comes from the content at the end of `url`.\n *\n * @private\n */\n\n\nvar loadTrack = function loadTrack(src, track) {\n  var opts = {\n    uri: src\n  };\n  var crossOrigin = isCrossOrigin(src);\n\n  if (crossOrigin) {\n    opts.cors = crossOrigin;\n  }\n\n  XHR(opts, bind(this, function (err, response, responseBody) {\n    if (err) {\n      return log.error(err, response);\n    }\n\n    track.loaded_ = true; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n    // NOTE: this is only used for the alt/video.novtt.js build\n\n    if (typeof window$1.WebVTT !== 'function') {\n      if (track.tech_) {\n        // to prevent use before define eslint error, we define loadHandler\n        // as a let here\n        var loadHandler;\n\n        var errorHandler = function errorHandler() {\n          log.error(\"vttjs failed to load, stopping trying to process \" + track.src);\n          track.tech_.off('vttjsloaded', loadHandler);\n        };\n\n        loadHandler = function loadHandler() {\n          track.tech_.off('vttjserror', errorHandler);\n          return parseCues(responseBody, track);\n        };\n\n        track.tech_.one('vttjsloaded', loadHandler);\n        track.tech_.one('vttjserror', errorHandler);\n      }\n    } else {\n      parseCues(responseBody, track);\n    }\n  }));\n};\n/**\n * A representation of a single `TextTrack`.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}\n * @extends Track\n */\n\n\nvar TextTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(TextTrack, _Track);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} options={}\n   *        Object of option names and values\n   *\n   * @param {Tech} options.tech\n   *        A reference to the tech that owns this TextTrack.\n   *\n   * @param {TextTrack~Kind} [options.kind='subtitles']\n   *        A valid text track kind.\n   *\n   * @param {TextTrack~Mode} [options.mode='disabled']\n   *        A valid text track mode.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this TextTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {string} [options.srclang='']\n   *        A valid two character language code. An alternative, but deprioritized\n   *        version of `options.language`\n   *\n   * @param {string} [options.src]\n   *        A url to TextTrack cues.\n   *\n   * @param {boolean} [options.default]\n   *        If this track should default to on or off.\n   */\n\n\n  function TextTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (!options.tech) {\n      throw new Error('A tech was not provided.');\n    }\n\n    var settings = mergeOptions(options, {\n      kind: TextTrackKind[options.kind] || 'subtitles',\n      language: options.language || options.srclang || ''\n    });\n    var mode = TextTrackMode[settings.mode] || 'disabled';\n    var default_ = settings[\"default\"];\n\n    if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n      mode = 'hidden';\n    }\n\n    _this = _Track.call(this, settings) || this;\n    _this.tech_ = settings.tech;\n    _this.cues_ = [];\n    _this.activeCues_ = [];\n    var cues = new TextTrackCueList(_this.cues_);\n    var activeCues = new TextTrackCueList(_this.activeCues_);\n    var changed = false;\n    var timeupdateHandler = bind(_assertThisInitialized(_this), function () {\n      // Accessing this.activeCues for the side-effects of updating itself\n      // due to its nature as a getter function. Do not remove or cues will\n      // stop updating!\n      // Use the setter to prevent deletion from uglify (pure_getters rule)\n      this.activeCues = this.activeCues;\n\n      if (changed) {\n        this.trigger('cuechange');\n        changed = false;\n      }\n    });\n\n    if (mode !== 'disabled') {\n      _this.tech_.ready(function () {\n        _this.tech_.on('timeupdate', timeupdateHandler);\n      }, true);\n    }\n\n    Object.defineProperties(_assertThisInitialized(_this), {\n      /**\n       * @memberof TextTrack\n       * @member {boolean} default\n       *         If this track was set to be on or off by default. Cannot be changed after\n       *         creation.\n       * @instance\n       *\n       * @readonly\n       */\n      \"default\": {\n        get: function get() {\n          return default_;\n        },\n        set: function set() {}\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {string} mode\n       *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will\n       *         not be set if setting to an invalid mode.\n       * @instance\n       *\n       * @fires TextTrack#modechange\n       */\n      mode: {\n        get: function get() {\n          return mode;\n        },\n        set: function set(newMode) {\n          var _this2 = this;\n\n          if (!TextTrackMode[newMode]) {\n            return;\n          }\n\n          mode = newMode;\n\n          if (mode !== 'disabled') {\n            this.tech_.ready(function () {\n              _this2.tech_.on('timeupdate', timeupdateHandler);\n            }, true);\n          } else {\n            this.tech_.off('timeupdate', timeupdateHandler);\n          }\n          /**\n           * An event that fires when mode changes on this track. This allows\n           * the TextTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec!\n           *\n           * @event TextTrack#modechange\n           * @type {EventTarget~Event}\n           */\n\n\n          this.trigger('modechange');\n        }\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {TextTrackCueList} cues\n       *         The text track cue list for this TextTrack.\n       * @instance\n       */\n      cues: {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          }\n\n          return cues;\n        },\n        set: function set() {}\n      },\n\n      /**\n       * @memberof TextTrack\n       * @member {TextTrackCueList} activeCues\n       *         The list text track cues that are currently active for this TextTrack.\n       * @instance\n       */\n      activeCues: {\n        get: function get() {\n          if (!this.loaded_) {\n            return null;\n          } // nothing to do\n\n\n          if (this.cues.length === 0) {\n            return activeCues;\n          }\n\n          var ct = this.tech_.currentTime();\n          var active = [];\n\n          for (var i = 0, l = this.cues.length; i < l; i++) {\n            var cue = this.cues[i];\n\n            if (cue.startTime <= ct && cue.endTime >= ct) {\n              active.push(cue);\n            } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n              active.push(cue);\n            }\n          }\n\n          changed = false;\n\n          if (active.length !== this.activeCues_.length) {\n            changed = true;\n          } else {\n            for (var _i = 0; _i < active.length; _i++) {\n              if (this.activeCues_.indexOf(active[_i]) === -1) {\n                changed = true;\n              }\n            }\n          }\n\n          this.activeCues_ = active;\n          activeCues.setCues_(this.activeCues_);\n          return activeCues;\n        },\n        // /!\\ Keep this setter empty (see the timeupdate handler above)\n        set: function set() {}\n      }\n    });\n\n    if (settings.src) {\n      _this.src = settings.src;\n      loadTrack(settings.src, _assertThisInitialized(_this));\n    } else {\n      _this.loaded_ = true;\n    }\n\n    return _this;\n  }\n  /**\n   * Add a cue to the internal list of cues.\n   *\n   * @param {TextTrack~Cue} cue\n   *        The cue to add to our internal list\n   */\n\n\n  var _proto = TextTrack.prototype;\n\n  _proto.addCue = function addCue(originalCue) {\n    var cue = originalCue;\n\n    if (window$1.vttjs && !(originalCue instanceof window$1.vttjs.VTTCue)) {\n      cue = new window$1.vttjs.VTTCue(originalCue.startTime, originalCue.endTime, originalCue.text);\n\n      for (var prop in originalCue) {\n        if (!(prop in cue)) {\n          cue[prop] = originalCue[prop];\n        }\n      } // make sure that `id` is copied over\n\n\n      cue.id = originalCue.id;\n      cue.originalCue_ = originalCue;\n    }\n\n    var tracks = this.tech_.textTracks();\n\n    for (var i = 0; i < tracks.length; i++) {\n      if (tracks[i] !== this) {\n        tracks[i].removeCue(cue);\n      }\n    }\n\n    this.cues_.push(cue);\n    this.cues.setCues_(this.cues_);\n  }\n  /**\n   * Remove a cue from our internal list\n   *\n   * @param {TextTrack~Cue} removeCue\n   *        The cue to remove from our internal list\n   */\n  ;\n\n  _proto.removeCue = function removeCue(_removeCue) {\n    var i = this.cues_.length;\n\n    while (i--) {\n      var cue = this.cues_[i];\n\n      if (cue === _removeCue || cue.originalCue_ && cue.originalCue_ === _removeCue) {\n        this.cues_.splice(i, 1);\n        this.cues.setCues_(this.cues_);\n        break;\n      }\n    }\n  };\n\n  return TextTrack;\n}(Track);\n/**\n * cuechange - One or more cues in the track have become active or stopped being active.\n */\n\n\nTextTrack.prototype.allowedEvents_ = {\n  cuechange: 'cuechange'\n};\n/**\n * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}\n * only one `AudioTrack` in the list will be enabled at a time.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}\n * @extends Track\n */\n\nvar AudioTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(AudioTrack, _Track);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {AudioTrack~Kind} [options.kind='']\n   *        A valid audio track kind\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {boolean} [options.enabled]\n   *        If this track is the one that is currently playing. If this track is part of\n   *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.\n   */\n\n\n  function AudioTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var settings = mergeOptions(options, {\n      kind: AudioTrackKind[options.kind] || ''\n    });\n    _this = _Track.call(this, settings) || this;\n    var enabled = false;\n    /**\n     * @memberof AudioTrack\n     * @member {boolean} enabled\n     *         If this `AudioTrack` is enabled or not. When setting this will\n     *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.\n     * @instance\n     *\n     * @fires VideoTrack#selectedchange\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'enabled', {\n      get: function get() {\n        return enabled;\n      },\n      set: function set(newEnabled) {\n        // an invalid or unchanged value\n        if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n          return;\n        }\n\n        enabled = newEnabled;\n        /**\n         * An event that fires when enabled changes on this track. This allows\n         * the AudioTrackList that holds this track to act accordingly.\n         *\n         * > Note: This is not part of the spec! Native tracks will do\n         *         this internally without an event.\n         *\n         * @event AudioTrack#enabledchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('enabledchange');\n      }\n    }); // if the user sets this track to selected then\n    // set selected to that true value otherwise\n    // we keep it false\n\n    if (settings.enabled) {\n      _this.enabled = settings.enabled;\n    }\n\n    _this.loaded_ = true;\n    return _this;\n  }\n\n  return AudioTrack;\n}(Track);\n/**\n * A representation of a single `VideoTrack`.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}\n * @extends Track\n */\n\n\nvar VideoTrack =\n/*#__PURE__*/\nfunction (_Track) {\n  _inheritsLoose(VideoTrack, _Track);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} [options={}]\n   *        Object of option names and values\n   *\n   * @param {string} [options.kind='']\n   *        A valid {@link VideoTrack~Kind}\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this AudioTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {boolean} [options.selected]\n   *        If this track is the one that is currently playing.\n   */\n\n\n  function VideoTrack(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var settings = mergeOptions(options, {\n      kind: VideoTrackKind[options.kind] || ''\n    });\n    _this = _Track.call(this, settings) || this;\n    var selected = false;\n    /**\n     * @memberof VideoTrack\n     * @member {boolean} selected\n     *         If this `VideoTrack` is selected or not. When setting this will\n     *         fire {@link VideoTrack#selectedchange} if the state of selected changed.\n     * @instance\n     *\n     * @fires VideoTrack#selectedchange\n     */\n\n    Object.defineProperty(_assertThisInitialized(_this), 'selected', {\n      get: function get() {\n        return selected;\n      },\n      set: function set(newSelected) {\n        // an invalid or unchanged value\n        if (typeof newSelected !== 'boolean' || newSelected === selected) {\n          return;\n        }\n\n        selected = newSelected;\n        /**\n         * An event that fires when selected changes on this track. This allows\n         * the VideoTrackList that holds this track to act accordingly.\n         *\n         * > Note: This is not part of the spec! Native tracks will do\n         *         this internally without an event.\n         *\n         * @event VideoTrack#selectedchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('selectedchange');\n      }\n    }); // if the user sets this track to selected then\n    // set selected to that true value otherwise\n    // we keep it false\n\n    if (settings.selected) {\n      _this.selected = settings.selected;\n    }\n\n    return _this;\n  }\n\n  return VideoTrack;\n}(Track);\n/**\n * @memberof HTMLTrackElement\n * @typedef {HTMLTrackElement~ReadyState}\n * @enum {number}\n */\n\n\nvar NONE = 0;\nvar LOADING = 1;\nvar LOADED = 2;\nvar ERROR = 3;\n/**\n * A single track represented in the DOM.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}\n * @extends EventTarget\n */\n\nvar HTMLTrackElement =\n/*#__PURE__*/\nfunction (_EventTarget) {\n  _inheritsLoose(HTMLTrackElement, _EventTarget);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Object} options={}\n   *        Object of option names and values\n   *\n   * @param {Tech} options.tech\n   *        A reference to the tech that owns this HTMLTrackElement.\n   *\n   * @param {TextTrack~Kind} [options.kind='subtitles']\n   *        A valid text track kind.\n   *\n   * @param {TextTrack~Mode} [options.mode='disabled']\n   *        A valid text track mode.\n   *\n   * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n   *        A unique id for this TextTrack.\n   *\n   * @param {string} [options.label='']\n   *        The menu label for this track.\n   *\n   * @param {string} [options.language='']\n   *        A valid two character language code.\n   *\n   * @param {string} [options.srclang='']\n   *        A valid two character language code. An alternative, but deprioritized\n   *        vesion of `options.language`\n   *\n   * @param {string} [options.src]\n   *        A url to TextTrack cues.\n   *\n   * @param {boolean} [options.default]\n   *        If this track should default to on or off.\n   */\n\n\n  function HTMLTrackElement(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _EventTarget.call(this) || this;\n    var readyState;\n    var track = new TextTrack(options);\n    _this.kind = track.kind;\n    _this.src = track.src;\n    _this.srclang = track.language;\n    _this.label = track.label;\n    _this[\"default\"] = track[\"default\"];\n    Object.defineProperties(_assertThisInitialized(_this), {\n      /**\n       * @memberof HTMLTrackElement\n       * @member {HTMLTrackElement~ReadyState} readyState\n       *         The current ready state of the track element.\n       * @instance\n       */\n      readyState: {\n        get: function get() {\n          return readyState;\n        }\n      },\n\n      /**\n       * @memberof HTMLTrackElement\n       * @member {TextTrack} track\n       *         The underlying TextTrack object.\n       * @instance\n       *\n       */\n      track: {\n        get: function get() {\n          return track;\n        }\n      }\n    });\n    readyState = NONE;\n    /**\n     * @listens TextTrack#loadeddata\n     * @fires HTMLTrackElement#load\n     */\n\n    track.addEventListener('loadeddata', function () {\n      readyState = LOADED;\n\n      _this.trigger({\n        type: 'load',\n        target: _assertThisInitialized(_this)\n      });\n    });\n    return _this;\n  }\n\n  return HTMLTrackElement;\n}(EventTarget);\n\nHTMLTrackElement.prototype.allowedEvents_ = {\n  load: 'load'\n};\nHTMLTrackElement.NONE = NONE;\nHTMLTrackElement.LOADING = LOADING;\nHTMLTrackElement.LOADED = LOADED;\nHTMLTrackElement.ERROR = ERROR;\n/*\n * This file contains all track properties that are used in\n * player.js, tech.js, html5.js and possibly other techs in the future.\n */\n\nvar NORMAL = {\n  audio: {\n    ListClass: AudioTrackList,\n    TrackClass: AudioTrack,\n    capitalName: 'Audio'\n  },\n  video: {\n    ListClass: VideoTrackList,\n    TrackClass: VideoTrack,\n    capitalName: 'Video'\n  },\n  text: {\n    ListClass: TextTrackList,\n    TrackClass: TextTrack,\n    capitalName: 'Text'\n  }\n};\nObject.keys(NORMAL).forEach(function (type) {\n  NORMAL[type].getterName = type + \"Tracks\";\n  NORMAL[type].privateName = type + \"Tracks_\";\n});\nvar REMOTE = {\n  remoteText: {\n    ListClass: TextTrackList,\n    TrackClass: TextTrack,\n    capitalName: 'RemoteText',\n    getterName: 'remoteTextTracks',\n    privateName: 'remoteTextTracks_'\n  },\n  remoteTextEl: {\n    ListClass: HtmlTrackElementList,\n    TrackClass: HTMLTrackElement,\n    capitalName: 'RemoteTextTrackEls',\n    getterName: 'remoteTextTrackEls',\n    privateName: 'remoteTextTrackEls_'\n  }\n};\nvar ALL = mergeOptions(NORMAL, REMOTE);\nREMOTE.names = Object.keys(REMOTE);\nNORMAL.names = Object.keys(NORMAL);\nALL.names = [].concat(REMOTE.names).concat(NORMAL.names);\n/**\n * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string\n * that just contains the src url alone.\n * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`\n   * `var SourceString = 'http://example.com/some-video.mp4';`\n *\n * @typedef {Object|string} Tech~SourceObject\n *\n * @property {string} src\n *           The url to the source\n *\n * @property {string} type\n *           The mime type of the source\n */\n\n/**\n * A function used by {@link Tech} to create a new {@link TextTrack}.\n *\n * @private\n *\n * @param {Tech} self\n *        An instance of the Tech class.\n *\n * @param {string} kind\n *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n *\n * @param {string} [label]\n *        Label to identify the text track\n *\n * @param {string} [language]\n *        Two letter language abbreviation\n *\n * @param {Object} [options={}]\n *        An object with additional text track options\n *\n * @return {TextTrack}\n *          The text track that was created.\n */\n\nfunction createTrackHelper(self, kind, label, language, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var tracks = self.textTracks();\n  options.kind = kind;\n\n  if (label) {\n    options.label = label;\n  }\n\n  if (language) {\n    options.language = language;\n  }\n\n  options.tech = self;\n  var track = new ALL.text.TrackClass(options);\n  tracks.addTrack(track);\n  return track;\n}\n/**\n * This is the base class for media playback technology controllers, such as\n * {@link Flash} and {@link HTML5}\n *\n * @extends Component\n */\n\n\nvar Tech =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Tech, _Component);\n  /**\n  * Create an instance of this Tech.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  *\n  * @param {Component~ReadyCallback} ready\n  *        Callback function to call when the `HTML5` Tech is ready.\n  */\n\n\n  function Tech(options, ready) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (ready === void 0) {\n      ready = function ready() {};\n    } // we don't want the tech to report user activity automatically.\n    // This is done manually in addControlsListeners\n\n\n    options.reportTouchActivity = false;\n    _this = _Component.call(this, null, options, ready) || this; // keep track of whether the current source has played at all to\n    // implement a very limited played()\n\n    _this.hasStarted_ = false;\n\n    _this.on('playing', function () {\n      this.hasStarted_ = true;\n    });\n\n    _this.on('loadstart', function () {\n      this.hasStarted_ = false;\n    });\n\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n\n      if (options && options[props.getterName]) {\n        _this[props.privateName] = options[props.getterName];\n      }\n    }); // Manually track progress in cases where the browser/flash player doesn't report it.\n\n    if (!_this.featuresProgressEvents) {\n      _this.manualProgressOn();\n    } // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n\n\n    if (!_this.featuresTimeupdateEvents) {\n      _this.manualTimeUpdatesOn();\n    }\n\n    ['Text', 'Audio', 'Video'].forEach(function (track) {\n      if (options[\"native\" + track + \"Tracks\"] === false) {\n        _this[\"featuresNative\" + track + \"Tracks\"] = false;\n      }\n    });\n\n    if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n      _this.featuresNativeTextTracks = false;\n    } else if (options.nativeCaptions === true || options.nativeTextTracks === true) {\n      _this.featuresNativeTextTracks = true;\n    }\n\n    if (!_this.featuresNativeTextTracks) {\n      _this.emulateTextTracks();\n    }\n\n    _this.autoRemoteTextTracks_ = new ALL.text.ListClass();\n\n    _this.initTrackListeners(); // Turn on component tap events only if not using native controls\n\n\n    if (!options.nativeControlsForTouch) {\n      _this.emitTapEvents();\n    }\n\n    if (_this.constructor) {\n      _this.name_ = _this.constructor.name || 'Unknown Tech';\n    }\n\n    return _this;\n  }\n  /**\n   * A special function to trigger source set in a way that will allow player\n   * to re-trigger if the player or tech are not ready yet.\n   *\n   * @fires Tech#sourceset\n   * @param {string} src The source string at the time of the source changing.\n   */\n\n\n  var _proto = Tech.prototype;\n\n  _proto.triggerSourceset = function triggerSourceset(src) {\n    var _this2 = this;\n\n    if (!this.isReady_) {\n      // on initial ready we have to trigger source set\n      // 1ms after ready so that player can watch for it.\n      this.one('ready', function () {\n        return _this2.setTimeout(function () {\n          return _this2.triggerSourceset(src);\n        }, 1);\n      });\n    }\n    /**\n     * Fired when the source is set on the tech causing the media element\n     * to reload.\n     *\n     * @see {@link Player#event:sourceset}\n     * @event Tech#sourceset\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger({\n      src: src,\n      type: 'sourceset'\n    });\n  }\n  /* Fallbacks for unsupported event types\n  ================================================================================ */\n\n  /**\n   * Polyfill the `progress` event for browsers that don't support it natively.\n   *\n   * @see {@link Tech#trackProgress}\n   */\n  ;\n\n  _proto.manualProgressOn = function manualProgressOn() {\n    this.on('durationchange', this.onDurationChange);\n    this.manualProgress = true; // Trigger progress watching when a source begins loading\n\n    this.one('ready', this.trackProgress);\n  }\n  /**\n   * Turn off the polyfill for `progress` events that was created in\n   * {@link Tech#manualProgressOn}\n   */\n  ;\n\n  _proto.manualProgressOff = function manualProgressOff() {\n    this.manualProgress = false;\n    this.stopTrackingProgress();\n    this.off('durationchange', this.onDurationChange);\n  }\n  /**\n   * This is used to trigger a `progress` event when the buffered percent changes. It\n   * sets an interval function that will be called every 500 milliseconds to check if the\n   * buffer end percent has changed.\n   *\n   * > This function is called by {@link Tech#manualProgressOn}\n   *\n   * @param {EventTarget~Event} event\n   *        The `ready` event that caused this to run.\n   *\n   * @listens Tech#ready\n   * @fires Tech#progress\n   */\n  ;\n\n  _proto.trackProgress = function trackProgress(event) {\n    this.stopTrackingProgress();\n    this.progressInterval = this.setInterval(bind(this, function () {\n      // Don't trigger unless buffered amount is greater than last time\n      var numBufferedPercent = this.bufferedPercent();\n\n      if (this.bufferedPercent_ !== numBufferedPercent) {\n        /**\n         * See {@link Player#progress}\n         *\n         * @event Tech#progress\n         * @type {EventTarget~Event}\n         */\n        this.trigger('progress');\n      }\n\n      this.bufferedPercent_ = numBufferedPercent;\n\n      if (numBufferedPercent === 1) {\n        this.stopTrackingProgress();\n      }\n    }), 500);\n  }\n  /**\n   * Update our internal duration on a `durationchange` event by calling\n   * {@link Tech#duration}.\n   *\n   * @param {EventTarget~Event} event\n   *        The `durationchange` event that caused this to run.\n   *\n   * @listens Tech#durationchange\n   */\n  ;\n\n  _proto.onDurationChange = function onDurationChange(event) {\n    this.duration_ = this.duration();\n  }\n  /**\n   * Get and create a `TimeRange` object for buffering.\n   *\n   * @return {TimeRange}\n   *         The time range object that was created.\n   */\n  ;\n\n  _proto.buffered = function buffered() {\n    return createTimeRanges(0, 0);\n  }\n  /**\n   * Get the percentage of the current video that is currently buffered.\n   *\n   * @return {number}\n   *         A number from 0 to 1 that represents the decimal percentage of the\n   *         video that is buffered.\n   *\n   */\n  ;\n\n  _proto.bufferedPercent = function bufferedPercent$1() {\n    return bufferedPercent(this.buffered(), this.duration_);\n  }\n  /**\n   * Turn off the polyfill for `progress` events that was created in\n   * {@link Tech#manualProgressOn}\n   * Stop manually tracking progress events by clearing the interval that was set in\n   * {@link Tech#trackProgress}.\n   */\n  ;\n\n  _proto.stopTrackingProgress = function stopTrackingProgress() {\n    this.clearInterval(this.progressInterval);\n  }\n  /**\n   * Polyfill the `timeupdate` event for browsers that don't support it.\n   *\n   * @see {@link Tech#trackCurrentTime}\n   */\n  ;\n\n  _proto.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n    this.manualTimeUpdates = true;\n    this.on('play', this.trackCurrentTime);\n    this.on('pause', this.stopTrackingCurrentTime);\n  }\n  /**\n   * Turn off the polyfill for `timeupdate` events that was created in\n   * {@link Tech#manualTimeUpdatesOn}\n   */\n  ;\n\n  _proto.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n    this.manualTimeUpdates = false;\n    this.stopTrackingCurrentTime();\n    this.off('play', this.trackCurrentTime);\n    this.off('pause', this.stopTrackingCurrentTime);\n  }\n  /**\n   * Sets up an interval function to track current time and trigger `timeupdate` every\n   * 250 milliseconds.\n   *\n   * @listens Tech#play\n   * @triggers Tech#timeupdate\n   */\n  ;\n\n  _proto.trackCurrentTime = function trackCurrentTime() {\n    if (this.currentTimeInterval) {\n      this.stopTrackingCurrentTime();\n    }\n\n    this.currentTimeInterval = this.setInterval(function () {\n      /**\n       * Triggered at an interval of 250ms to indicated that time is passing in the video.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      }); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n    }, 250);\n  }\n  /**\n   * Stop the interval function created in {@link Tech#trackCurrentTime} so that the\n   * `timeupdate` event is no longer triggered.\n   *\n   * @listens {Tech#pause}\n   */\n  ;\n\n  _proto.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n    this.clearInterval(this.currentTimeInterval); // #1002 - if the video ends right before the next timeupdate would happen,\n    // the progress bar won't make it all the way to the end\n\n    this.trigger({\n      type: 'timeupdate',\n      target: this,\n      manuallyTriggered: true\n    });\n  }\n  /**\n   * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},\n   * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.\n   *\n   * @fires Component#dispose\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    // clear out all tracks because we can't reuse them between techs\n    this.clearTracks(NORMAL.names); // Turn off any manual progress or timeupdate tracking\n\n    if (this.manualProgress) {\n      this.manualProgressOff();\n    }\n\n    if (this.manualTimeUpdates) {\n      this.manualTimeUpdatesOff();\n    }\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Clear out a single `TrackList` or an array of `TrackLists` given their names.\n   *\n   * > Note: Techs without source handlers should call this between sources for `video`\n   *         & `audio` tracks. You don't want to use them between tracks!\n   *\n   * @param {string[]|string} types\n   *        TrackList names to clear, valid names are `video`, `audio`, and\n   *        `text`.\n   */\n  ;\n\n  _proto.clearTracks = function clearTracks(types) {\n    var _this3 = this;\n\n    types = [].concat(types); // clear out all tracks because we can't reuse them between techs\n\n    types.forEach(function (type) {\n      var list = _this3[type + \"Tracks\"]() || [];\n      var i = list.length;\n\n      while (i--) {\n        var track = list[i];\n\n        if (type === 'text') {\n          _this3.removeRemoteTextTrack(track);\n        }\n\n        list.removeTrack(track);\n      }\n    });\n  }\n  /**\n   * Remove any TextTracks added via addRemoteTextTrack that are\n   * flagged for automatic garbage collection\n   */\n  ;\n\n  _proto.cleanupAutoTextTracks = function cleanupAutoTextTracks() {\n    var list = this.autoRemoteTextTracks_ || [];\n    var i = list.length;\n\n    while (i--) {\n      var track = list[i];\n      this.removeRemoteTextTrack(track);\n    }\n  }\n  /**\n   * Reset the tech, which will removes all sources and reset the internal readyState.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.reset = function reset() {}\n  /**\n   * Get or set an error on the Tech.\n   *\n   * @param {MediaError} [err]\n   *        Error to set on the Tech\n   *\n   * @return {MediaError|null}\n   *         The current error object on the tech, or null if there isn't one.\n   */\n  ;\n\n  _proto.error = function error(err) {\n    if (err !== undefined) {\n      this.error_ = new MediaError(err);\n      this.trigger('error');\n    }\n\n    return this.error_;\n  }\n  /**\n   * Returns the `TimeRange`s that have been played through for the current source.\n   *\n   * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.\n   *         It only checks whether the source has played at all or not.\n   *\n   * @return {TimeRange}\n   *         - A single time range if this video has played\n   *         - An empty set of ranges if not.\n   */\n  ;\n\n  _proto.played = function played() {\n    if (this.hasStarted_) {\n      return createTimeRanges(0, 0);\n    }\n\n    return createTimeRanges();\n  }\n  /**\n   * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was\n   * previously called.\n   *\n   * @fires Tech#timeupdate\n   */\n  ;\n\n  _proto.setCurrentTime = function setCurrentTime() {\n    // improve the accuracy of manual timeupdates\n    if (this.manualTimeUpdates) {\n      /**\n       * A manual `timeupdate` event.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n    }\n  }\n  /**\n   * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and\n   * {@link TextTrackList} events.\n   *\n   * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.\n   *\n   * @fires Tech#audiotrackchange\n   * @fires Tech#videotrackchange\n   * @fires Tech#texttrackchange\n   */\n  ;\n\n  _proto.initTrackListeners = function initTrackListeners() {\n    var _this4 = this;\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}\n      *\n      * @event Tech#audiotrackchange\n      * @type {EventTarget~Event}\n      */\n\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}\n      *\n      * @event Tech#videotrackchange\n      * @type {EventTarget~Event}\n      */\n\n    /**\n      * Triggered when tracks are added or removed on the Tech {@link TextTrackList}\n      *\n      * @event Tech#texttrackchange\n      * @type {EventTarget~Event}\n      */\n\n\n    NORMAL.names.forEach(function (name) {\n      var props = NORMAL[name];\n\n      var trackListChanges = function trackListChanges() {\n        _this4.trigger(name + \"trackchange\");\n      };\n\n      var tracks = _this4[props.getterName]();\n\n      tracks.addEventListener('removetrack', trackListChanges);\n      tracks.addEventListener('addtrack', trackListChanges);\n\n      _this4.on('dispose', function () {\n        tracks.removeEventListener('removetrack', trackListChanges);\n        tracks.removeEventListener('addtrack', trackListChanges);\n      });\n    });\n  }\n  /**\n   * Emulate TextTracks using vtt.js if necessary\n   *\n   * @fires Tech#vttjsloaded\n   * @fires Tech#vttjserror\n   */\n  ;\n\n  _proto.addWebVttScript_ = function addWebVttScript_() {\n    var _this5 = this;\n\n    if (window$1.WebVTT) {\n      return;\n    } // Initially, Tech.el_ is a child of a dummy-div wait until the Component system\n    // signals that the Tech is ready at which point Tech.el_ is part of the DOM\n    // before inserting the WebVTT script\n\n\n    if (document.body.contains(this.el())) {\n      // load via require if available and vtt.js script location was not passed in\n      // as an option. novtt builds will turn the above require call into an empty object\n      // which will cause this if check to always fail.\n      if (!this.options_['vtt.js'] && isPlain(vtt) && Object.keys(vtt).length > 0) {\n        this.trigger('vttjsloaded');\n        return;\n      } // load vtt.js via the script location option or the cdn of no location was\n      // passed in\n\n\n      var script = document.createElement('script');\n      script.src = this.options_['vtt.js'] || 'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';\n\n      script.onload = function () {\n        /**\n         * Fired when vtt.js is loaded.\n         *\n         * @event Tech#vttjsloaded\n         * @type {EventTarget~Event}\n         */\n        _this5.trigger('vttjsloaded');\n      };\n\n      script.onerror = function () {\n        /**\n         * Fired when vtt.js was not loaded due to an error\n         *\n         * @event Tech#vttjsloaded\n         * @type {EventTarget~Event}\n         */\n        _this5.trigger('vttjserror');\n      };\n\n      this.on('dispose', function () {\n        script.onload = null;\n        script.onerror = null;\n      }); // but have not loaded yet and we set it to true before the inject so that\n      // we don't overwrite the injected window.WebVTT if it loads right away\n\n      window$1.WebVTT = true;\n      this.el().parentNode.appendChild(script);\n    } else {\n      this.ready(this.addWebVttScript_);\n    }\n  }\n  /**\n   * Emulate texttracks\n   *\n   */\n  ;\n\n  _proto.emulateTextTracks = function emulateTextTracks() {\n    var _this6 = this;\n\n    var tracks = this.textTracks();\n    var remoteTracks = this.remoteTextTracks();\n\n    var handleAddTrack = function handleAddTrack(e) {\n      return tracks.addTrack(e.track);\n    };\n\n    var handleRemoveTrack = function handleRemoveTrack(e) {\n      return tracks.removeTrack(e.track);\n    };\n\n    remoteTracks.on('addtrack', handleAddTrack);\n    remoteTracks.on('removetrack', handleRemoveTrack);\n    this.addWebVttScript_();\n\n    var updateDisplay = function updateDisplay() {\n      return _this6.trigger('texttrackchange');\n    };\n\n    var textTracksChanges = function textTracksChanges() {\n      updateDisplay();\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.removeEventListener('cuechange', updateDisplay);\n\n        if (track.mode === 'showing') {\n          track.addEventListener('cuechange', updateDisplay);\n        }\n      }\n    };\n\n    textTracksChanges();\n    tracks.addEventListener('change', textTracksChanges);\n    tracks.addEventListener('addtrack', textTracksChanges);\n    tracks.addEventListener('removetrack', textTracksChanges);\n    this.on('dispose', function () {\n      remoteTracks.off('addtrack', handleAddTrack);\n      remoteTracks.off('removetrack', handleRemoveTrack);\n      tracks.removeEventListener('change', textTracksChanges);\n      tracks.removeEventListener('addtrack', textTracksChanges);\n      tracks.removeEventListener('removetrack', textTracksChanges);\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.removeEventListener('cuechange', updateDisplay);\n      }\n    });\n  }\n  /**\n   * Create and returns a remote {@link TextTrack} object.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @return {TextTrack}\n   *         The TextTrack that gets created.\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (!kind) {\n      throw new Error('TextTrack kind is required but was not provided');\n    }\n\n    return createTrackHelper(this, kind, label, language);\n  }\n  /**\n   * Create an emulated TextTrack for use by addRemoteTextTrack\n   *\n   * This is intended to be overridden by classes that inherit from\n   * Tech in order to create native or custom TextTracks.\n   *\n   * @param {Object} options\n   *        The object should contain the options to initialize the TextTrack with.\n   *\n   * @param {string} [options.kind]\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n   *\n   * @param {string} [options.label].\n   *        Label to identify the text track\n   *\n   * @param {string} [options.language]\n   *        Two letter language abbreviation.\n   *\n   * @return {HTMLTrackElement}\n   *         The track element that gets created.\n   */\n  ;\n\n  _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n    var track = mergeOptions(options, {\n      tech: this\n    });\n    return new REMOTE.remoteTextEl.TrackClass(track);\n  }\n  /**\n   * Creates a remote text track object and returns an html track element.\n   *\n   * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.\n   *\n   * @param {Object} options\n   *        See {@link Tech#createRemoteTextTrack} for more detailed properties.\n   *\n   * @param {boolean} [manualCleanup=true]\n   *        - When false: the TextTrack will be automatically removed from the video\n   *          element whenever the source changes\n   *        - When True: The TextTrack will have to be cleaned up manually\n   *\n   * @return {HTMLTrackElement}\n   *         An Html Track Element.\n   *\n   * @deprecated The default functionality for this function will be equivalent\n   *             to \"manualCleanup=false\" in the future. The manualCleanup parameter will\n   *             also be removed.\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    var _this7 = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var htmlTrackElement = this.createRemoteTextTrack(options);\n\n    if (manualCleanup !== true && manualCleanup !== false) {\n      // deprecation warning\n      log.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');\n      manualCleanup = true;\n    } // store HTMLTrackElement and TextTrack to remote list\n\n\n    this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n    this.remoteTextTracks().addTrack(htmlTrackElement.track);\n\n    if (manualCleanup !== true) {\n      // create the TextTrackList if it doesn't exist\n      this.ready(function () {\n        return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);\n      });\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Remove a remote text track from the remote `TextTrackList`.\n   *\n   * @param {TextTrack} track\n   *        `TextTrack` to remove from the `TextTrackList`\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n    var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track); // remove HTMLTrackElement and TextTrack from remote list\n\n    this.remoteTextTrackEls().removeTrackElement_(trackElement);\n    this.remoteTextTracks().removeTrack(track);\n    this.autoRemoteTextTracks_.removeTrack(track);\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object}\n   *         An object with supported media playback quality metrics\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    return {};\n  }\n  /**\n   * Attempt to create a floating video window always on top of other windows\n   * so that users may continue consuming media while they interact with other\n   * content sites, or applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @return {Promise|undefined}\n   *         A promise with a Picture-in-Picture window if the browser supports\n   *         Promises (or one was passed in as an option). It returns undefined\n   *         otherwise.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (PromiseClass) {\n      return PromiseClass.reject();\n    }\n  }\n  /**\n   * A method to set a poster from a `Tech`.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.setPoster = function setPoster() {}\n  /**\n   * A method to check for the presence of the 'playsinline' <video> attribute.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.playsinline = function playsinline() {}\n  /**\n   * A method to set or unset the 'playsinline' <video> attribute.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.setPlaysinline = function setPlaysinline() {}\n  /**\n   * Attempt to force override of native audio tracks.\n   *\n   * @param {boolean} override - If set to true native audio will be overridden,\n   * otherwise native audio will potentially be used.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks() {}\n  /**\n   * Attempt to force override of native video tracks.\n   *\n   * @param {boolean} override - If set to true native video will be overridden,\n   * otherwise native video will potentially be used.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks() {}\n  /*\n   * Check if the tech can support the given mime-type.\n   *\n   * The base tech does not support any type, but source handlers might\n   * overwrite this.\n   *\n   * @param  {string} type\n   *         The mimetype to check for support\n   *\n   * @return {string}\n   *         'probably', 'maybe', or empty string\n   *\n   * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.canPlayType = function canPlayType() {\n    return '';\n  }\n  /**\n   * Check if the type is supported by this tech.\n   *\n   * The base tech does not support any type, but source handlers might\n   * overwrite this.\n   *\n   * @param {string} type\n   *        The media type to check\n   * @return {string} Returns the native video element's response\n   */\n  ;\n\n  Tech.canPlayType = function canPlayType() {\n    return '';\n  }\n  /**\n   * Check if the tech can support the given source\n   *\n   * @param {Object} srcObj\n   *        The source object\n   * @param {Object} options\n   *        The options passed to the tech\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n  ;\n\n  Tech.canPlaySource = function canPlaySource(srcObj, options) {\n    return Tech.canPlayType(srcObj.type);\n  }\n  /*\n   * Return whether the argument is a Tech or not.\n   * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n   *\n   * @param {Object} component\n   *        The item to check\n   *\n   * @return {boolean}\n   *         Whether it is a tech or not\n   *         - True if it is a tech\n   *         - False if it is not\n   */\n  ;\n\n  Tech.isTech = function isTech(component) {\n    return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n  }\n  /**\n   * Registers a `Tech` into a shared list for videojs.\n   *\n   * @param {string} name\n   *        Name of the `Tech` to register.\n   *\n   * @param {Object} tech\n   *        The `Tech` class to register.\n   */\n  ;\n\n  Tech.registerTech = function registerTech(name, tech) {\n    if (!Tech.techs_) {\n      Tech.techs_ = {};\n    }\n\n    if (!Tech.isTech(tech)) {\n      throw new Error(\"Tech \" + name + \" must be a Tech\");\n    }\n\n    if (!Tech.canPlayType) {\n      throw new Error('Techs must have a static canPlayType method on them');\n    }\n\n    if (!Tech.canPlaySource) {\n      throw new Error('Techs must have a static canPlaySource method on them');\n    }\n\n    name = toTitleCase(name);\n    Tech.techs_[name] = tech;\n\n    if (name !== 'Tech') {\n      // camel case the techName for use in techOrder\n      Tech.defaultTechOrder_.push(name);\n    }\n\n    return tech;\n  }\n  /**\n   * Get a `Tech` from the shared list by name.\n   *\n   * @param {string} name\n   *        `camelCase` or `TitleCase` name of the Tech to get\n   *\n   * @return {Tech|undefined}\n   *         The `Tech` or undefined if there was no tech with the name requested.\n   */\n  ;\n\n  Tech.getTech = function getTech(name) {\n    if (!name) {\n      return;\n    }\n\n    name = toTitleCase(name);\n\n    if (Tech.techs_ && Tech.techs_[name]) {\n      return Tech.techs_[name];\n    }\n\n    if (window$1 && window$1.videojs && window$1.videojs[name]) {\n      log.warn(\"The \" + name + \" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\");\n      return window$1.videojs[name];\n    }\n  };\n\n  return Tech;\n}(Component);\n/**\n * Get the {@link VideoTrackList}\n *\n * @returns {VideoTrackList}\n * @method Tech.prototype.videoTracks\n */\n\n/**\n * Get the {@link AudioTrackList}\n *\n * @returns {AudioTrackList}\n * @method Tech.prototype.audioTracks\n */\n\n/**\n * Get the {@link TextTrackList}\n *\n * @returns {TextTrackList}\n * @method Tech.prototype.textTracks\n */\n\n/**\n * Get the remote element {@link TextTrackList}\n *\n * @returns {TextTrackList}\n * @method Tech.prototype.remoteTextTracks\n */\n\n/**\n * Get the remote element {@link HtmlTrackElementList}\n *\n * @returns {HtmlTrackElementList}\n * @method Tech.prototype.remoteTextTrackEls\n */\n\n\nALL.names.forEach(function (name) {\n  var props = ALL[name];\n\n  Tech.prototype[props.getterName] = function () {\n    this[props.privateName] = this[props.privateName] || new props.ListClass();\n    return this[props.privateName];\n  };\n});\n/**\n * List of associated text tracks\n *\n * @type {TextTrackList}\n * @private\n * @property Tech#textTracks_\n */\n\n/**\n * List of associated audio tracks.\n *\n * @type {AudioTrackList}\n * @private\n * @property Tech#audioTracks_\n */\n\n/**\n * List of associated video tracks.\n *\n * @type {VideoTrackList}\n * @private\n * @property Tech#videoTracks_\n */\n\n/**\n * Boolean indicating whether the `Tech` supports volume control.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresVolumeControl = true;\n/**\n * Boolean indicating whether the `Tech` supports muting volume.\n *\n * @type {bolean}\n * @default\n */\n\nTech.prototype.featuresMuteControl = true;\n/**\n * Boolean indicating whether the `Tech` supports fullscreen resize control.\n * Resizing plugins using request fullscreen reloads the plugin\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresFullscreenResize = false;\n/**\n * Boolean indicating whether the `Tech` supports changing the speed at which the video\n * plays. Examples:\n *   - Set player to play 2x (twice) as fast\n *   - Set player to play 0.5x (half) as fast\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresPlaybackRate = false;\n/**\n * Boolean indicating whether the `Tech` supports the `progress` event. This is currently\n * not triggered by video-js-swf. This will be used to determine if\n * {@link Tech#manualProgressOn} should be called.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresProgressEvents = false;\n/**\n * Boolean indicating whether the `Tech` supports the `sourceset` event.\n *\n * A tech should set this to `true` and then use {@link Tech#triggerSourceset}\n * to trigger a {@link Tech#event:sourceset} at the earliest time after getting\n * a new source.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresSourceset = false;\n/**\n * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently\n * not triggered by video-js-swf. This will be used to determine if\n * {@link Tech#manualTimeUpdates} should be called.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresTimeupdateEvents = false;\n/**\n * Boolean indicating whether the `Tech` supports the native `TextTrack`s.\n * This will help us integrate with native `TextTrack`s if the browser supports them.\n *\n * @type {boolean}\n * @default\n */\n\nTech.prototype.featuresNativeTextTracks = false;\n/**\n * A functional mixin for techs that want to use the Source Handler pattern.\n * Source handlers are scripts for handling specific formats.\n * The source handler pattern is used for adaptive formats (HLS, DASH) that\n * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n * Example: `Tech.withSourceHandlers.call(MyTech);`\n *\n * @param {Tech} _Tech\n *        The tech to add source handler functions to.\n *\n * @mixes Tech~SourceHandlerAdditions\n */\n\nTech.withSourceHandlers = function (_Tech) {\n  /**\n   * Register a source handler\n   *\n   * @param {Function} handler\n   *        The source handler class\n   *\n   * @param {number} [index]\n   *        Register it at the following index\n   */\n  _Tech.registerSourceHandler = function (handler, index) {\n    var handlers = _Tech.sourceHandlers;\n\n    if (!handlers) {\n      handlers = _Tech.sourceHandlers = [];\n    }\n\n    if (index === undefined) {\n      // add to the end of the list\n      index = handlers.length;\n    }\n\n    handlers.splice(index, 0, handler);\n  };\n  /**\n   * Check if the tech can support the given type. Also checks the\n   * Techs sourceHandlers.\n   *\n   * @param {string} type\n   *         The mimetype to check.\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n\n  _Tech.canPlayType = function (type) {\n    var handlers = _Tech.sourceHandlers || [];\n    var can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i].canPlayType(type);\n\n      if (can) {\n        return can;\n      }\n    }\n\n    return '';\n  };\n  /**\n   * Returns the first source handler that supports the source.\n   *\n   * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object\n   *\n   * @param {Object} options\n   *        The options passed to the tech\n   *\n   * @return {SourceHandler|null}\n   *          The first source handler that supports the source or null if\n   *          no SourceHandler supports the source\n   */\n\n\n  _Tech.selectSourceHandler = function (source, options) {\n    var handlers = _Tech.sourceHandlers || [];\n    var can;\n\n    for (var i = 0; i < handlers.length; i++) {\n      can = handlers[i].canHandleSource(source, options);\n\n      if (can) {\n        return handlers[i];\n      }\n    }\n\n    return null;\n  };\n  /**\n   * Check if the tech can support the given source.\n   *\n   * @param {Tech~SourceObject} srcObj\n   *        The source object\n   *\n   * @param {Object} options\n   *        The options passed to the tech\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n\n  _Tech.canPlaySource = function (srcObj, options) {\n    var sh = _Tech.selectSourceHandler(srcObj, options);\n\n    if (sh) {\n      return sh.canHandleSource(srcObj, options);\n    }\n\n    return '';\n  };\n  /**\n   * When using a source handler, prefer its implementation of\n   * any function normally provided by the tech.\n   */\n\n\n  var deferrable = ['seekable', 'seeking', 'duration'];\n  /**\n   * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable\n   * function if it exists, with a fallback to the Techs seekable function.\n   *\n   * @method _Tech.seekable\n   */\n\n  /**\n   * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration\n   * function if it exists, otherwise it will fallback to the techs duration function.\n   *\n   * @method _Tech.duration\n   */\n\n  deferrable.forEach(function (fnName) {\n    var originalFn = this[fnName];\n\n    if (typeof originalFn !== 'function') {\n      return;\n    }\n\n    this[fnName] = function () {\n      if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n        return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n      }\n\n      return originalFn.apply(this, arguments);\n    };\n  }, _Tech.prototype);\n  /**\n   * Create a function for setting the source using a source object\n   * and source handlers.\n   * Should never be called unless a source handler was found.\n   *\n   * @param {Tech~SourceObject} source\n   *        A source object with src and type keys\n   */\n\n  _Tech.prototype.setSource = function (source) {\n    var sh = _Tech.selectSourceHandler(source, this.options_);\n\n    if (!sh) {\n      // Fall back to a native source hander when unsupported sources are\n      // deliberately set\n      if (_Tech.nativeSourceHandler) {\n        sh = _Tech.nativeSourceHandler;\n      } else {\n        log.error('No source handler found for the current source.');\n      }\n    } // Dispose any existing source handler\n\n\n    this.disposeSourceHandler();\n    this.off('dispose', this.disposeSourceHandler);\n\n    if (sh !== _Tech.nativeSourceHandler) {\n      this.currentSource_ = source;\n    }\n\n    this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n    this.one('dispose', this.disposeSourceHandler);\n  };\n  /**\n   * Clean up any existing SourceHandlers and listeners when the Tech is disposed.\n   *\n   * @listens Tech#dispose\n   */\n\n\n  _Tech.prototype.disposeSourceHandler = function () {\n    // if we have a source and get another one\n    // then we are loading something new\n    // than clear all of our current tracks\n    if (this.currentSource_) {\n      this.clearTracks(['audio', 'video']);\n      this.currentSource_ = null;\n    } // always clean up auto-text tracks\n\n\n    this.cleanupAutoTextTracks();\n\n    if (this.sourceHandler_) {\n      if (this.sourceHandler_.dispose) {\n        this.sourceHandler_.dispose();\n      }\n\n      this.sourceHandler_ = null;\n    }\n  };\n}; // The base Tech class needs to be registered as a Component. It is the only\n// Tech that can be registered as a Component.\n\n\nComponent.registerComponent('Tech', Tech);\nTech.registerTech('Tech', Tech);\n/**\n * A list of techs that should be added to techOrder on Players\n *\n * @private\n */\n\nTech.defaultTechOrder_ = [];\n/**\n * @file middleware.js\n * @module middleware\n */\n\nvar middlewares = {};\nvar middlewareInstances = {};\nvar TERMINATOR = {};\n/**\n * A middleware object is a plain JavaScript object that has methods that\n * match the {@link Tech} methods found in the lists of allowed\n * {@link module:middleware.allowedGetters|getters},\n * {@link module:middleware.allowedSetters|setters}, and\n * {@link module:middleware.allowedMediators|mediators}.\n *\n * @typedef {Object} MiddlewareObject\n */\n\n/**\n * A middleware factory function that should return a\n * {@link module:middleware~MiddlewareObject|MiddlewareObject}.\n *\n * This factory will be called for each player when needed, with the player\n * passed in as an argument.\n *\n * @callback MiddlewareFactory\n * @param {Player} player\n *        A Video.js player.\n */\n\n/**\n * Define a middleware that the player should use by way of a factory function\n * that returns a middleware object.\n *\n * @param  {string} type\n *         The MIME type to match or `\"*\"` for all MIME types.\n *\n * @param  {MiddlewareFactory} middleware\n *         A middleware factory function that will be executed for\n *         matching types.\n */\n\nfunction use(type, middleware) {\n  middlewares[type] = middlewares[type] || [];\n  middlewares[type].push(middleware);\n}\n/**\n * Asynchronously sets a source using middleware by recursing through any\n * matching middlewares and calling `setSource` on each, passing along the\n * previous returned value each time.\n *\n * @param  {Player} player\n *         A {@link Player} instance.\n *\n * @param  {Tech~SourceObject} src\n *         A source object.\n *\n * @param  {Function}\n *         The next middleware to run.\n */\n\n\nfunction setSource(player, src, next) {\n  player.setTimeout(function () {\n    return setSourceHelper(src, middlewares[src.type], next, player);\n  }, 1);\n}\n/**\n * When the tech is set, passes the tech to each middleware's `setTech` method.\n *\n * @param {Object[]} middleware\n *        An array of middleware instances.\n *\n * @param {Tech} tech\n *        A Video.js tech.\n */\n\n\nfunction setTech(middleware, tech) {\n  middleware.forEach(function (mw) {\n    return mw.setTech && mw.setTech(tech);\n  });\n}\n/**\n * Calls a getter on the tech first, through each middleware\n * from right to left to the player.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @return {Mixed}\n *         The final value from the tech after middleware has intercepted it.\n */\n\n\nfunction get(middleware, tech, method) {\n  return middleware.reduceRight(middlewareIterator(method), tech[method]());\n}\n/**\n * Takes the argument given to the player and calls the setter method on each\n * middleware from left to right to the tech.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @param  {Mixed} arg\n *         The value to set on the tech.\n *\n * @return {Mixed}\n *         The return value of the `method` of the `tech`.\n */\n\n\nfunction set(middleware, tech, method, arg) {\n  return tech[method](middleware.reduce(middlewareIterator(method), arg));\n}\n/**\n * Takes the argument given to the player and calls the `call` version of the\n * method on each middleware from left to right.\n *\n * Then, call the passed in method on the tech and return the result unchanged\n * back to the player, through middleware, this time from right to left.\n *\n * @param  {Object[]} middleware\n *         An array of middleware instances.\n *\n * @param  {Tech} tech\n *         The current tech.\n *\n * @param  {string} method\n *         A method name.\n *\n * @param  {Mixed} arg\n *         The value to set on the tech.\n *\n * @return {Mixed}\n *         The return value of the `method` of the `tech`, regardless of the\n *         return values of middlewares.\n */\n\n\nfunction mediate(middleware, tech, method, arg) {\n  if (arg === void 0) {\n    arg = null;\n  }\n\n  var callMethod = 'call' + toTitleCase(method);\n  var middlewareValue = middleware.reduce(middlewareIterator(callMethod), arg);\n  var terminated = middlewareValue === TERMINATOR; // deprecated. The `null` return value should instead return TERMINATOR to\n  // prevent confusion if a techs method actually returns null.\n\n  var returnValue = terminated ? null : tech[method](middlewareValue);\n  executeRight(middleware, method, returnValue, terminated);\n  return returnValue;\n}\n/**\n * Enumeration of allowed getters where the keys are method names.\n *\n * @type {Object}\n */\n\n\nvar allowedGetters = {\n  buffered: 1,\n  currentTime: 1,\n  duration: 1,\n  seekable: 1,\n  played: 1,\n  paused: 1,\n  volume: 1\n};\n/**\n * Enumeration of allowed setters where the keys are method names.\n *\n * @type {Object}\n */\n\nvar allowedSetters = {\n  setCurrentTime: 1,\n  setVolume: 1\n};\n/**\n * Enumeration of allowed mediators where the keys are method names.\n *\n * @type {Object}\n */\n\nvar allowedMediators = {\n  play: 1,\n  pause: 1\n};\n\nfunction middlewareIterator(method) {\n  return function (value, mw) {\n    // if the previous middleware terminated, pass along the termination\n    if (value === TERMINATOR) {\n      return TERMINATOR;\n    }\n\n    if (mw[method]) {\n      return mw[method](value);\n    }\n\n    return value;\n  };\n}\n\nfunction executeRight(mws, method, value, terminated) {\n  for (var i = mws.length - 1; i >= 0; i--) {\n    var mw = mws[i];\n\n    if (mw[method]) {\n      mw[method](terminated, value);\n    }\n  }\n}\n/**\n * Clear the middleware cache for a player.\n *\n * @param  {Player} player\n *         A {@link Player} instance.\n */\n\n\nfunction clearCacheForPlayer(player) {\n  middlewareInstances[player.id()] = null;\n}\n/**\n * {\n *  [playerId]: [[mwFactory, mwInstance], ...]\n * }\n *\n * @private\n */\n\n\nfunction getOrCreateFactory(player, mwFactory) {\n  var mws = middlewareInstances[player.id()];\n  var mw = null;\n\n  if (mws === undefined || mws === null) {\n    mw = mwFactory(player);\n    middlewareInstances[player.id()] = [[mwFactory, mw]];\n    return mw;\n  }\n\n  for (var i = 0; i < mws.length; i++) {\n    var _mws$i = mws[i],\n        mwf = _mws$i[0],\n        mwi = _mws$i[1];\n\n    if (mwf !== mwFactory) {\n      continue;\n    }\n\n    mw = mwi;\n  }\n\n  if (mw === null) {\n    mw = mwFactory(player);\n    mws.push([mwFactory, mw]);\n  }\n\n  return mw;\n}\n\nfunction setSourceHelper(src, middleware, next, player, acc, lastRun) {\n  if (src === void 0) {\n    src = {};\n  }\n\n  if (middleware === void 0) {\n    middleware = [];\n  }\n\n  if (acc === void 0) {\n    acc = [];\n  }\n\n  if (lastRun === void 0) {\n    lastRun = false;\n  }\n\n  var _middleware = middleware,\n      mwFactory = _middleware[0],\n      mwrest = _middleware.slice(1); // if mwFactory is a string, then we're at a fork in the road\n\n\n  if (typeof mwFactory === 'string') {\n    setSourceHelper(src, middlewares[mwFactory], next, player, acc, lastRun); // if we have an mwFactory, call it with the player to get the mw,\n    // then call the mw's setSource method\n  } else if (mwFactory) {\n    var mw = getOrCreateFactory(player, mwFactory); // if setSource isn't present, implicitly select this middleware\n\n    if (!mw.setSource) {\n      acc.push(mw);\n      return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n    }\n\n    mw.setSource(assign({}, src), function (err, _src) {\n      // something happened, try the next middleware on the current level\n      // make sure to use the old src\n      if (err) {\n        return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n      } // we've succeeded, now we need to go deeper\n\n\n      acc.push(mw); // if it's the same type, continue down the current chain\n      // otherwise, we want to go down the new chain\n\n      setSourceHelper(_src, src.type === _src.type ? mwrest : middlewares[_src.type], next, player, acc, lastRun);\n    });\n  } else if (mwrest.length) {\n    setSourceHelper(src, mwrest, next, player, acc, lastRun);\n  } else if (lastRun) {\n    next(src, acc);\n  } else {\n    setSourceHelper(src, middlewares['*'], next, player, acc, true);\n  }\n}\n/**\n * Mimetypes\n *\n * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm\n * @typedef Mimetypes~Kind\n * @enum\n */\n\n\nvar MimetypesKind = {\n  opus: 'video/ogg',\n  ogv: 'video/ogg',\n  mp4: 'video/mp4',\n  mov: 'video/mp4',\n  m4v: 'video/mp4',\n  mkv: 'video/x-matroska',\n  m4a: 'audio/mp4',\n  mp3: 'audio/mpeg',\n  aac: 'audio/aac',\n  oga: 'audio/ogg',\n  m3u8: 'application/x-mpegURL',\n  jpg: 'image/jpeg',\n  jpeg: 'image/jpeg',\n  gif: 'image/gif',\n  png: 'image/png',\n  svg: 'image/svg+xml',\n  webp: 'image/webp'\n};\n/**\n * Get the mimetype of a given src url if possible\n *\n * @param {string} src\n *        The url to the src\n *\n * @return {string}\n *         return the mimetype if it was known or empty string otherwise\n */\n\nvar getMimetype = function getMimetype(src) {\n  if (src === void 0) {\n    src = '';\n  }\n\n  var ext = getFileExtension(src);\n  var mimetype = MimetypesKind[ext.toLowerCase()];\n  return mimetype || '';\n};\n/**\n * Find the mime type of a given source string if possible. Uses the player\n * source cache.\n *\n * @param {Player} player\n *        The player object\n *\n * @param {string} src\n *        The source string\n *\n * @return {string}\n *         The type that was found\n */\n\n\nvar findMimetype = function findMimetype(player, src) {\n  if (!src) {\n    return '';\n  } // 1. check for the type in the `source` cache\n\n\n  if (player.cache_.source.src === src && player.cache_.source.type) {\n    return player.cache_.source.type;\n  } // 2. see if we have this source in our `currentSources` cache\n\n\n  var matchingSources = player.cache_.sources.filter(function (s) {\n    return s.src === src;\n  });\n\n  if (matchingSources.length) {\n    return matchingSources[0].type;\n  } // 3. look for the src url in source elements and use the type there\n\n\n  var sources = player.$$('source');\n\n  for (var i = 0; i < sources.length; i++) {\n    var s = sources[i];\n\n    if (s.type && s.src && s.src === src) {\n      return s.type;\n    }\n  } // 4. finally fallback to our list of mime types based on src url extension\n\n\n  return getMimetype(src);\n};\n/**\n * @module filter-source\n */\n\n/**\n * Filter out single bad source objects or multiple source objects in an\n * array. Also flattens nested source object arrays into a 1 dimensional\n * array of source objects.\n *\n * @param {Tech~SourceObject|Tech~SourceObject[]} src\n *        The src object to filter\n *\n * @return {Tech~SourceObject[]}\n *         An array of sourceobjects containing only valid sources\n *\n * @private\n */\n\n\nvar filterSource = function filterSource(src) {\n  // traverse array\n  if (Array.isArray(src)) {\n    var newsrc = [];\n    src.forEach(function (srcobj) {\n      srcobj = filterSource(srcobj);\n\n      if (Array.isArray(srcobj)) {\n        newsrc = newsrc.concat(srcobj);\n      } else if (isObject(srcobj)) {\n        newsrc.push(srcobj);\n      }\n    });\n    src = newsrc;\n  } else if (typeof src === 'string' && src.trim()) {\n    // convert string into object\n    src = [fixSource({\n      src: src\n    })];\n  } else if (isObject(src) && typeof src.src === 'string' && src.src && src.src.trim()) {\n    // src is already valid\n    src = [fixSource(src)];\n  } else {\n    // invalid source, turn it into an empty array\n    src = [];\n  }\n\n  return src;\n};\n/**\n * Checks src mimetype, adding it when possible\n *\n * @param {Tech~SourceObject} src\n *        The src object to check\n * @return {Tech~SourceObject}\n *        src Object with known type\n */\n\n\nfunction fixSource(src) {\n  var mimetype = getMimetype(src.src);\n\n  if (!src.type && mimetype) {\n    src.type = mimetype;\n  }\n\n  return src;\n}\n/**\n * The `MediaLoader` is the `Component` that decides which playback technology to load\n * when a player is initialized.\n *\n * @extends Component\n */\n\n\nvar MediaLoader =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MediaLoader, _Component);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should attach to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function that is run when this component is ready.\n   */\n\n\n  function MediaLoader(player, options, ready) {\n    var _this; // MediaLoader has no element\n\n\n    var options_ = mergeOptions({\n      createEl: false\n    }, options);\n    _this = _Component.call(this, player, options_, ready) || this; // If there are no sources when the player is initialized,\n    // load the first supported playback technology.\n\n    if (!options.playerOptions.sources || options.playerOptions.sources.length === 0) {\n      for (var i = 0, j = options.playerOptions.techOrder; i < j.length; i++) {\n        var techName = toTitleCase(j[i]);\n        var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n\n        if (!techName) {\n          tech = Component.getComponent(techName);\n        } // Check if the browser supports this technology\n\n\n        if (tech && tech.isSupported()) {\n          player.loadTech_(techName);\n          break;\n        }\n      }\n    } else {\n      // Loop through playback technologies (HTML5, Flash) and check for support.\n      // Then load the best source.\n      // A few assumptions here:\n      //   All playback technologies respect preload false.\n      player.src(options.playerOptions.sources);\n    }\n\n    return _this;\n  }\n\n  return MediaLoader;\n}(Component);\n\nComponent.registerComponent('MediaLoader', MediaLoader);\n/**\n * Component which is clickable or keyboard actionable, but is not a\n * native HTML button.\n *\n * @extends Component\n */\n\nvar ClickableComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ClickableComponent, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param  {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param  {Object} [options]\n   *         The key/value store of player options.\n   */\n\n\n  function ClickableComponent(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.emitTapEvents();\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Create the `ClickableComponent`s DOM element.\n   *\n   * @param {string} [tag=div]\n   *        The element's node type.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element.\n   *\n   * @param {Object} [attributes={}]\n   *        An object of attributes that should be set on the element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n\n\n  var _proto = ClickableComponent.prototype;\n\n  _proto.createEl = function createEl(tag, props, attributes) {\n    if (tag === void 0) {\n      tag = 'div';\n    }\n\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    props = assign({\n      innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n      className: this.buildCSSClass(),\n      tabIndex: 0\n    }, props);\n\n    if (tag === 'button') {\n      log.error(\"Creating a ClickableComponent with an HTML element of \" + tag + \" is not supported; use a Button instead.\");\n    } // Add ARIA attributes for clickable element which is not a native HTML button\n\n\n    attributes = assign({\n      role: 'button'\n    }, attributes);\n    this.tabIndex_ = props.tabIndex;\n\n    var el = _Component.prototype.createEl.call(this, tag, props, attributes);\n\n    this.createControlTextEl(el);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    // remove controlTextEl_ on dispose\n    this.controlTextEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Create a control text element on this `ClickableComponent`\n   *\n   * @param {Element} [el]\n   *        Parent element for the control text.\n   *\n   * @return {Element}\n   *         The control text element that gets created.\n   */\n  ;\n\n  _proto.createControlTextEl = function createControlTextEl(el) {\n    this.controlTextEl_ = createEl('span', {\n      className: 'vjs-control-text'\n    }, {\n      // let the screen reader user know that the text of the element may change\n      'aria-live': 'polite'\n    });\n\n    if (el) {\n      el.appendChild(this.controlTextEl_);\n    }\n\n    this.controlText(this.controlText_, el);\n    return this.controlTextEl_;\n  }\n  /**\n   * Get or set the localize text to use for the controls on the `ClickableComponent`.\n   *\n   * @param {string} [text]\n   *        Control text for element.\n   *\n   * @param {Element} [el=this.el()]\n   *        Element to set the title on.\n   *\n   * @return {string}\n   *         - The control text when getting\n   */\n  ;\n\n  _proto.controlText = function controlText(text, el) {\n    if (el === void 0) {\n      el = this.el();\n    }\n\n    if (text === undefined) {\n      return this.controlText_ || 'Need Text';\n    }\n\n    var localizedText = this.localize(text);\n    this.controlText_ = text;\n    textContent(this.controlTextEl_, localizedText);\n\n    if (!this.nonIconControl) {\n      // Set title attribute if only an icon is shown\n      el.setAttribute('title', localizedText);\n    }\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-control vjs-button \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Enable this `ClickableComponent`\n   */\n  ;\n\n  _proto.enable = function enable() {\n    if (!this.enabled_) {\n      this.enabled_ = true;\n      this.removeClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'false');\n\n      if (typeof this.tabIndex_ !== 'undefined') {\n        this.el_.setAttribute('tabIndex', this.tabIndex_);\n      }\n\n      this.on(['tap', 'click'], this.handleClick);\n      this.on('keydown', this.handleKeyDown);\n    }\n  }\n  /**\n   * Disable this `ClickableComponent`\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.enabled_ = false;\n    this.addClass('vjs-disabled');\n    this.el_.setAttribute('aria-disabled', 'true');\n\n    if (typeof this.tabIndex_ !== 'undefined') {\n      this.el_.removeAttribute('tabIndex');\n    }\n\n    this.off(['tap', 'click'], this.handleClick);\n    this.off('keydown', this.handleKeyDown);\n  }\n  /**\n   * Event handler that is called when a `ClickableComponent` receives a\n   * `click` or `tap` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `tap` or `click` event that caused this function to be called.\n   *\n   * @listens tap\n   * @listens click\n   * @abstract\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {}\n  /**\n   * Event handler that is called when a `ClickableComponent` receives a\n   * `keydown` event.\n   *\n   * By default, if the key is Space or Enter, it will trigger a `click` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Support Space or Enter key operation to fire a click event. Also,\n    // prevent the event from propagating through the DOM and triggering\n    // Player hotkeys.\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.trigger('click');\n    } else {\n      // Pass keypress handling up for unsupported keys\n      _Component.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return ClickableComponent;\n}(Component);\n\nComponent.registerComponent('ClickableComponent', ClickableComponent);\n/**\n * A `ClickableComponent` that handles showing the poster image for the player.\n *\n * @extends ClickableComponent\n */\n\nvar PosterImage =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(PosterImage, _ClickableComponent);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should attach to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function PosterImage(player, options) {\n    var _this;\n\n    _this = _ClickableComponent.call(this, player, options) || this;\n\n    _this.update();\n\n    player.on('posterchange', bind(_assertThisInitialized(_this), _this.update));\n    return _this;\n  }\n  /**\n   * Clean up and dispose of the `PosterImage`.\n   */\n\n\n  var _proto = PosterImage.prototype;\n\n  _proto.dispose = function dispose() {\n    this.player().off('posterchange', this.update);\n\n    _ClickableComponent.prototype.dispose.call(this);\n  }\n  /**\n   * Create the `PosterImage`s DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var el = createEl('div', {\n      className: 'vjs-poster',\n      // Don't want poster to be tabbable.\n      tabIndex: -1\n    });\n    return el;\n  }\n  /**\n   * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.\n   *\n   * @listens Player#posterchange\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `Player#posterchange` event that triggered this function.\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var url = this.player().poster();\n    this.setSrc(url); // If there's no poster source we should display:none on this component\n    // so it's not still clickable or right-clickable\n\n    if (url) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n  /**\n   * Set the source of the `PosterImage` depending on the display method.\n   *\n   * @param {string} url\n   *        The URL to the source for the `PosterImage`.\n   */\n  ;\n\n  _proto.setSrc = function setSrc(url) {\n    var backgroundImage = ''; // Any falsy value should stay as an empty string, otherwise\n    // this will throw an extra error\n\n    if (url) {\n      backgroundImage = \"url(\\\"\" + url + \"\\\")\";\n    }\n\n    this.el_.style.backgroundImage = backgroundImage;\n  }\n  /**\n   * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See\n   * {@link ClickableComponent#handleClick} for instances where this will be triggered.\n   *\n   * @listens tap\n   * @listens click\n   * @listens keydown\n   *\n   * @param {EventTarget~Event} event\n   +        The `click`, `tap` or `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    // We don't want a click to trigger playback when controls are disabled\n    if (!this.player_.controls()) {\n      return;\n    }\n\n    if (this.player_.tech(true)) {\n      this.player_.tech(true).focus();\n    }\n\n    if (this.player_.paused()) {\n      silencePromise(this.player_.play());\n    } else {\n      this.player_.pause();\n    }\n  };\n\n  return PosterImage;\n}(ClickableComponent);\n\nComponent.registerComponent('PosterImage', PosterImage);\nvar darkGray = '#222';\nvar lightGray = '#ccc';\nvar fontMap = {\n  monospace: 'monospace',\n  sansSerif: 'sans-serif',\n  serif: 'serif',\n  monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n  monospaceSerif: '\"Courier New\", monospace',\n  proportionalSansSerif: 'sans-serif',\n  proportionalSerif: 'serif',\n  casual: '\"Comic Sans MS\", Impact, fantasy',\n  script: '\"Monotype Corsiva\", cursive',\n  smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n};\n/**\n * Construct an rgba color from a given hex color code.\n *\n * @param {number} color\n *        Hex number for color, like #f0e or #f604e2.\n *\n * @param {number} opacity\n *        Value for opacity, 0.0 - 1.0.\n *\n * @return {string}\n *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n */\n\nfunction constructColor(color, opacity) {\n  var hex;\n\n  if (color.length === 4) {\n    // color looks like \"#f0e\"\n    hex = color[1] + color[1] + color[2] + color[2] + color[3] + color[3];\n  } else if (color.length === 7) {\n    // color looks like \"#f604e2\"\n    hex = color.slice(1);\n  } else {\n    throw new Error('Invalid color code provided, ' + color + '; must be formatted as e.g. #f0e or #f604e2.');\n  }\n\n  return 'rgba(' + parseInt(hex.slice(0, 2), 16) + ',' + parseInt(hex.slice(2, 4), 16) + ',' + parseInt(hex.slice(4, 6), 16) + ',' + opacity + ')';\n}\n/**\n * Try to update the style of a DOM element. Some style changes will throw an error,\n * particularly in IE8. Those should be noops.\n *\n * @param {Element} el\n *        The DOM element to be styled.\n *\n * @param {string} style\n *        The CSS property on the element that should be styled.\n *\n * @param {string} rule\n *        The style rule that should be applied to the property.\n *\n * @private\n */\n\n\nfunction tryUpdateStyle(el, style, rule) {\n  try {\n    el.style[style] = rule;\n  } catch (e) {\n    // Satisfies linter.\n    return;\n  }\n}\n/**\n * The component for displaying text track cues.\n *\n * @extends Component\n */\n\n\nvar TextTrackDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TextTrackDisplay, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when `TextTrackDisplay` is ready.\n   */\n\n\n  function TextTrackDisplay(player, options, ready) {\n    var _this;\n\n    _this = _Component.call(this, player, options, ready) || this;\n    var updateDisplayHandler = bind(_assertThisInitialized(_this), _this.updateDisplay);\n    player.on('loadstart', bind(_assertThisInitialized(_this), _this.toggleDisplay));\n    player.on('texttrackchange', updateDisplayHandler);\n    player.on('loadedmetadata', bind(_assertThisInitialized(_this), _this.preselectTrack)); // This used to be called during player init, but was causing an error\n    // if a track should show by default and the display hadn't loaded yet.\n    // Should probably be moved to an external track loader when we support\n    // tracks that don't need a display.\n\n    player.ready(bind(_assertThisInitialized(_this), function () {\n      if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n        this.hide();\n        return;\n      }\n\n      player.on('fullscreenchange', updateDisplayHandler);\n      player.on('playerresize', updateDisplayHandler);\n      window$1.addEventListener('orientationchange', updateDisplayHandler);\n      player.on('dispose', function () {\n        return window$1.removeEventListener('orientationchange', updateDisplayHandler);\n      });\n      var tracks = this.options_.playerOptions.tracks || [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        this.player_.addRemoteTextTrack(tracks[i], true);\n      }\n\n      this.preselectTrack();\n    }));\n    return _this;\n  }\n  /**\n  * Preselect a track following this precedence:\n  * - matches the previously selected {@link TextTrack}'s language and kind\n  * - matches the previously selected {@link TextTrack}'s language only\n  * - is the first default captions track\n  * - is the first default descriptions track\n  *\n  * @listens Player#loadstart\n  */\n\n\n  var _proto = TextTrackDisplay.prototype;\n\n  _proto.preselectTrack = function preselectTrack() {\n    var modes = {\n      captions: 1,\n      subtitles: 1\n    };\n    var trackList = this.player_.textTracks();\n    var userPref = this.player_.cache_.selectedLanguage;\n    var firstDesc;\n    var firstCaptions;\n    var preferredTrack;\n\n    for (var i = 0; i < trackList.length; i++) {\n      var track = trackList[i];\n\n      if (userPref && userPref.enabled && userPref.language && userPref.language === track.language && track.kind in modes) {\n        // Always choose the track that matches both language and kind\n        if (track.kind === userPref.kind) {\n          preferredTrack = track; // or choose the first track that matches language\n        } else if (!preferredTrack) {\n          preferredTrack = track;\n        } // clear everything if offTextTrackMenuItem was clicked\n\n      } else if (userPref && !userPref.enabled) {\n        preferredTrack = null;\n        firstDesc = null;\n        firstCaptions = null;\n      } else if (track[\"default\"]) {\n        if (track.kind === 'descriptions' && !firstDesc) {\n          firstDesc = track;\n        } else if (track.kind in modes && !firstCaptions) {\n          firstCaptions = track;\n        }\n      }\n    } // The preferredTrack matches the user preference and takes\n    // precedence over all the other tracks.\n    // So, display the preferredTrack before the first default track\n    // and the subtitles/captions track before the descriptions track\n\n\n    if (preferredTrack) {\n      preferredTrack.mode = 'showing';\n    } else if (firstCaptions) {\n      firstCaptions.mode = 'showing';\n    } else if (firstDesc) {\n      firstDesc.mode = 'showing';\n    }\n  }\n  /**\n   * Turn display of {@link TextTrack}'s from the current state into the other state.\n   * There are only two states:\n   * - 'shown'\n   * - 'hidden'\n   *\n   * @listens Player#loadstart\n   */\n  ;\n\n  _proto.toggleDisplay = function toggleDisplay() {\n    if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  /**\n   * Create the {@link Component}'s DOM element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-text-track-display'\n    }, {\n      'aria-live': 'off',\n      'aria-atomic': 'true'\n    });\n  }\n  /**\n   * Clear all displayed {@link TextTrack}s.\n   */\n  ;\n\n  _proto.clearDisplay = function clearDisplay() {\n    if (typeof window$1.WebVTT === 'function') {\n      window$1.WebVTT.processCues(window$1, [], this.el_);\n    }\n  }\n  /**\n   * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n   * a {@link Player#fullscreenchange} is fired.\n   *\n   * @listens Player#texttrackchange\n   * @listens Player#fullscreenchange\n   */\n  ;\n\n  _proto.updateDisplay = function updateDisplay() {\n    var tracks = this.player_.textTracks();\n    var allowMultipleShowingTracks = this.options_.allowMultipleShowingTracks;\n    this.clearDisplay();\n\n    if (allowMultipleShowingTracks) {\n      var showingTracks = [];\n\n      for (var _i = 0; _i < tracks.length; ++_i) {\n        var track = tracks[_i];\n\n        if (track.mode !== 'showing') {\n          continue;\n        }\n\n        showingTracks.push(track);\n      }\n\n      this.updateForTrack(showingTracks);\n      return;\n    } //  Track display prioritization model: if multiple tracks are 'showing',\n    //  display the first 'subtitles' or 'captions' track which is 'showing',\n    //  otherwise display the first 'descriptions' track which is 'showing'\n\n\n    var descriptionsTrack = null;\n    var captionsSubtitlesTrack = null;\n    var i = tracks.length;\n\n    while (i--) {\n      var _track = tracks[i];\n\n      if (_track.mode === 'showing') {\n        if (_track.kind === 'descriptions') {\n          descriptionsTrack = _track;\n        } else {\n          captionsSubtitlesTrack = _track;\n        }\n      }\n    }\n\n    if (captionsSubtitlesTrack) {\n      if (this.getAttribute('aria-live') !== 'off') {\n        this.setAttribute('aria-live', 'off');\n      }\n\n      this.updateForTrack(captionsSubtitlesTrack);\n    } else if (descriptionsTrack) {\n      if (this.getAttribute('aria-live') !== 'assertive') {\n        this.setAttribute('aria-live', 'assertive');\n      }\n\n      this.updateForTrack(descriptionsTrack);\n    }\n  }\n  /**\n   * Style {@Link TextTrack} activeCues according to {@Link TextTrackSettings}.\n   *\n   * @param {TextTrack} track\n   *        Text track object containing active cues to style.\n   */\n  ;\n\n  _proto.updateDisplayState = function updateDisplayState(track) {\n    var overrides = this.player_.textTrackSettings.getValues();\n    var cues = track.activeCues;\n    var i = cues.length;\n\n    while (i--) {\n      var cue = cues[i];\n\n      if (!cue) {\n        continue;\n      }\n\n      var cueDiv = cue.displayState;\n\n      if (overrides.color) {\n        cueDiv.firstChild.style.color = overrides.color;\n      }\n\n      if (overrides.textOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n      }\n\n      if (overrides.backgroundColor) {\n        cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n      }\n\n      if (overrides.backgroundOpacity) {\n        tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n      }\n\n      if (overrides.windowColor) {\n        if (overrides.windowOpacity) {\n          tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n        } else {\n          cueDiv.style.backgroundColor = overrides.windowColor;\n        }\n      }\n\n      if (overrides.edgeStyle) {\n        if (overrides.edgeStyle === 'dropshadow') {\n          cueDiv.firstChild.style.textShadow = \"2px 2px 3px \" + darkGray + \", 2px 2px 4px \" + darkGray + \", 2px 2px 5px \" + darkGray;\n        } else if (overrides.edgeStyle === 'raised') {\n          cueDiv.firstChild.style.textShadow = \"1px 1px \" + darkGray + \", 2px 2px \" + darkGray + \", 3px 3px \" + darkGray;\n        } else if (overrides.edgeStyle === 'depressed') {\n          cueDiv.firstChild.style.textShadow = \"1px 1px \" + lightGray + \", 0 1px \" + lightGray + \", -1px -1px \" + darkGray + \", 0 -1px \" + darkGray;\n        } else if (overrides.edgeStyle === 'uniform') {\n          cueDiv.firstChild.style.textShadow = \"0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray;\n        }\n      }\n\n      if (overrides.fontPercent && overrides.fontPercent !== 1) {\n        var fontSize = window$1.parseFloat(cueDiv.style.fontSize);\n        cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n        cueDiv.style.height = 'auto';\n        cueDiv.style.top = 'auto';\n        cueDiv.style.bottom = '2px';\n      }\n\n      if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n        if (overrides.fontFamily === 'small-caps') {\n          cueDiv.firstChild.style.fontVariant = 'small-caps';\n        } else {\n          cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n        }\n      }\n    }\n  }\n  /**\n   * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.\n   *\n   * @param {TextTrack|TextTrack[]} tracks\n   *        Text track object or text track array to be added to the list.\n   */\n  ;\n\n  _proto.updateForTrack = function updateForTrack(tracks) {\n    if (!Array.isArray(tracks)) {\n      tracks = [tracks];\n    }\n\n    if (typeof window$1.WebVTT !== 'function' || tracks.every(function (track) {\n      return !track.activeCues;\n    })) {\n      return;\n    }\n\n    var cues = []; // push all active track cues\n\n    for (var i = 0; i < tracks.length; ++i) {\n      var track = tracks[i];\n\n      for (var j = 0; j < track.activeCues.length; ++j) {\n        cues.push(track.activeCues[j]);\n      }\n    } // removes all cues before it processes new ones\n\n\n    window$1.WebVTT.processCues(window$1, cues, this.el_); // add unique class to each language text track & add settings styling if necessary\n\n    for (var _i2 = 0; _i2 < tracks.length; ++_i2) {\n      var _track2 = tracks[_i2];\n\n      for (var _j = 0; _j < _track2.activeCues.length; ++_j) {\n        var cueEl = _track2.activeCues[_j].displayState;\n        addClass(cueEl, 'vjs-text-track-cue');\n        addClass(cueEl, 'vjs-text-track-cue-' + (_track2.language ? _track2.language : _i2));\n      }\n\n      if (this.player_.textTrackSettings) {\n        this.updateDisplayState(_track2);\n      }\n    }\n  };\n\n  return TextTrackDisplay;\n}(Component);\n\nComponent.registerComponent('TextTrackDisplay', TextTrackDisplay);\n/**\n * A loading spinner for use during waiting/loading events.\n *\n * @extends Component\n */\n\nvar LoadingSpinner =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LoadingSpinner, _Component);\n\n  function LoadingSpinner() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = LoadingSpinner.prototype;\n  /**\n   * Create the `LoadingSpinner`s DOM element.\n   *\n   * @return {Element}\n   *         The dom element that gets created.\n   */\n\n  _proto.createEl = function createEl$1() {\n    var isAudio = this.player_.isAudio();\n    var playerType = this.localize(isAudio ? 'Audio Player' : 'Video Player');\n    var controlText = createEl('span', {\n      className: 'vjs-control-text',\n      innerHTML: this.localize('{1} is loading.', [playerType])\n    });\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-loading-spinner',\n      dir: 'ltr'\n    });\n\n    el.appendChild(controlText);\n    return el;\n  };\n\n  return LoadingSpinner;\n}(Component);\n\nComponent.registerComponent('LoadingSpinner', LoadingSpinner);\n/**\n * Base class for all buttons.\n *\n * @extends ClickableComponent\n */\n\nvar Button =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(Button, _ClickableComponent);\n\n  function Button() {\n    return _ClickableComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Button.prototype;\n  /**\n   * Create the `Button`s DOM element.\n   *\n   * @param {string} [tag=\"button\"]\n   *        The element's node type. This argument is IGNORED: no matter what\n   *        is passed, it will always create a `button` element.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element.\n   *\n   * @param {Object} [attributes={}]\n   *        An object of attributes that should be set on the element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n\n  _proto.createEl = function createEl(tag, props, attributes) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    tag = 'button';\n    props = assign({\n      innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n      className: this.buildCSSClass()\n    }, props); // Add attributes for button element\n\n    attributes = assign({\n      // Necessary since the default button type is \"submit\"\n      type: 'button'\n    }, attributes);\n    var el = Component.prototype.createEl.call(this, tag, props, attributes);\n    this.createControlTextEl(el);\n    return el;\n  }\n  /**\n   * Add a child `Component` inside of this `Button`.\n   *\n   * @param {string|Component} child\n   *        The name or instance of a child to add.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of options that will get passed to children of\n   *        the child.\n   *\n   * @return {Component}\n   *         The `Component` that gets added as a child. When using a string the\n   *         `Component` will get created by this process.\n   *\n   * @deprecated since version 5\n   */\n  ;\n\n  _proto.addChild = function addChild(child, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var className = this.constructor.name;\n    log.warn(\"Adding an actionable (user controllable) child to a Button (\" + className + \") is not supported; use a ClickableComponent instead.\"); // Avoid the error message generated by ClickableComponent's addChild method\n\n    return Component.prototype.addChild.call(this, child, options);\n  }\n  /**\n   * Enable the `Button` element so that it can be activated or clicked. Use this with\n   * {@link Button#disable}.\n   */\n  ;\n\n  _proto.enable = function enable() {\n    _ClickableComponent.prototype.enable.call(this);\n\n    this.el_.removeAttribute('disabled');\n  }\n  /**\n   * Disable the `Button` element so that it cannot be activated or clicked. Use this with\n   * {@link Button#enable}.\n   */\n  ;\n\n  _proto.disable = function disable() {\n    _ClickableComponent.prototype.disable.call(this);\n\n    this.el_.setAttribute('disabled', 'disabled');\n  }\n  /**\n   * This gets called when a `Button` has focus and `keydown` is triggered via a key\n   * press.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to get called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Ignore Space or Enter key operation, which is handled by the browser for\n    // a button - though not for its super class, ClickableComponent. Also,\n    // prevent the event from propagating through the DOM and triggering Player\n    // hotkeys. We do not preventDefault here because we _want_ the browser to\n    // handle it.\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.stopPropagation();\n      return;\n    } // Pass keypress handling up for unsupported keys\n\n\n    _ClickableComponent.prototype.handleKeyDown.call(this, event);\n  };\n\n  return Button;\n}(ClickableComponent);\n\nComponent.registerComponent('Button', Button);\n/**\n * The initial play button that shows before the video has played. The hiding of the\n * `BigPlayButton` get done via CSS and `Player` states.\n *\n * @extends Button\n */\n\nvar BigPlayButton =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(BigPlayButton, _Button);\n\n  function BigPlayButton(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n    _this.mouseused_ = false;\n\n    _this.on('mousedown', _this.handleMouseDown);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.\n   */\n\n\n  var _proto = BigPlayButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-big-play-button';\n  }\n  /**\n   * This gets called when a `BigPlayButton` \"clicked\". See {@link ClickableComponent}\n   * for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var playPromise = this.player_.play(); // exit early if clicked via the mouse\n\n    if (this.mouseused_ && event.clientX && event.clientY) {\n      silencePromise(playPromise);\n\n      if (this.player_.tech(true)) {\n        this.player_.tech(true).focus();\n      }\n\n      return;\n    }\n\n    var cb = this.player_.getChild('controlBar');\n    var playToggle = cb && cb.getChild('playToggle');\n\n    if (!playToggle) {\n      this.player_.tech(true).focus();\n      return;\n    }\n\n    var playFocus = function playFocus() {\n      return playToggle.focus();\n    };\n\n    if (isPromise(playPromise)) {\n      playPromise.then(playFocus, function () {});\n    } else {\n      this.setTimeout(playFocus, 1);\n    }\n  };\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    this.mouseused_ = false;\n\n    _Button.prototype.handleKeyDown.call(this, event);\n  };\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    this.mouseused_ = true;\n  };\n\n  return BigPlayButton;\n}(Button);\n/**\n * The text that should display over the `BigPlayButton`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n */\n\n\nBigPlayButton.prototype.controlText_ = 'Play Video';\nComponent.registerComponent('BigPlayButton', BigPlayButton);\n/**\n * The `CloseButton` is a `{@link Button}` that fires a `close` event when\n * it gets clicked.\n *\n * @extends Button\n */\n\nvar CloseButton =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(CloseButton, _Button);\n  /**\n  * Creates an instance of the this class.\n  *\n  * @param  {Player} player\n  *         The `Player` that this class should be attached to.\n  *\n  * @param  {Object} [options]\n  *         The key/value store of player options.\n  */\n\n\n  function CloseButton(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.controlText(options && options.controlText || _this.localize('Close'));\n\n    return _this;\n  }\n  /**\n  * Builds the default DOM `className`.\n  *\n  * @return {string}\n  *         The DOM `className` for this object.\n  */\n\n\n  var _proto = CloseButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-close-button \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when a `CloseButton` gets clicked. See\n   * {@link ClickableComponent#handleClick} for more information on when\n   * this will be triggered\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   * @fires CloseButton#close\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    /**\n     * Triggered when the a `CloseButton` is clicked.\n     *\n     * @event CloseButton#close\n     * @type {EventTarget~Event}\n     *\n     * @property {boolean} [bubbles=false]\n     *           set to false so that the close event does not\n     *           bubble up to parents if there is no listener\n     */\n    this.trigger({\n      type: 'close',\n      bubbles: false\n    });\n  }\n  /**\n   * Event handler that is called when a `CloseButton` receives a\n   * `keydown` event.\n   *\n   * By default, if the key is Esc, it will trigger a `click` event.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Esc button will trigger `click` event\n    if (keycode.isEventKey(event, 'Esc')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.trigger('click');\n    } else {\n      // Pass keypress handling up for unsupported keys\n      _Button.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return CloseButton;\n}(Button);\n\nComponent.registerComponent('CloseButton', CloseButton);\n/**\n * Button to toggle between play and pause.\n *\n * @extends Button\n */\n\nvar PlayToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(PlayToggle, _Button);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function PlayToggle(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Button.call(this, player, options) || this; // show or hide replay icon\n\n    options.replay = options.replay === undefined || options.replay;\n\n    _this.on(player, 'play', _this.handlePlay);\n\n    _this.on(player, 'pause', _this.handlePause);\n\n    if (options.replay) {\n      _this.on(player, 'ended', _this.handleEnded);\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = PlayToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-play-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when an `PlayToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (this.player_.paused()) {\n      this.player_.play();\n    } else {\n      this.player_.pause();\n    }\n\n    event.stopPropagation();\n  }\n  /**\n   * This gets called once after the video has ended and the user seeks so that\n   * we can change the replay button back to a play button.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#seeked\n   */\n  ;\n\n  _proto.handleSeeked = function handleSeeked(event) {\n    this.removeClass('vjs-ended');\n\n    if (this.player_.paused()) {\n      this.handlePause(event);\n    } else {\n      this.handlePlay(event);\n    }\n  }\n  /**\n   * Add the vjs-playing class to the element so it can change appearance.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#play\n   */\n  ;\n\n  _proto.handlePlay = function handlePlay(event) {\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-paused');\n    this.addClass('vjs-playing'); // change the button text to \"Pause\"\n\n    this.controlText('Pause');\n  }\n  /**\n   * Add the vjs-paused class to the element so it can change appearance.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#pause\n   */\n  ;\n\n  _proto.handlePause = function handlePause(event) {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-paused'); // change the button text to \"Play\"\n\n    this.controlText('Play');\n  }\n  /**\n   * Add the vjs-ended class to the element so it can change appearance\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-ended'); // change the button text to \"Replay\"\n\n    this.controlText('Replay'); // on the next seek remove the replay button\n\n    this.one(this.player_, 'seeked', this.handleSeeked);\n  };\n\n  return PlayToggle;\n}(Button);\n/**\n * The text that should display over the `PlayToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlayToggle.prototype.controlText_ = 'Play';\nComponent.registerComponent('PlayToggle', PlayToggle);\n/**\n * @file format-time.js\n * @module format-time\n */\n\n/**\n * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in\n * seconds) will force a number of leading zeros to cover the length of the\n * guide.\n *\n * @private\n * @param  {number} seconds\n *         Number of seconds to be turned into a string\n *\n * @param  {number} guide\n *         Number (in seconds) to model the string after\n *\n * @return {string}\n *         Time formatted as H:MM:SS or M:SS\n */\n\nvar defaultImplementation = function defaultImplementation(seconds, guide) {\n  seconds = seconds < 0 ? 0 : seconds;\n  var s = Math.floor(seconds % 60);\n  var m = Math.floor(seconds / 60 % 60);\n  var h = Math.floor(seconds / 3600);\n  var gm = Math.floor(guide / 60 % 60);\n  var gh = Math.floor(guide / 3600); // handle invalid times\n\n  if (isNaN(seconds) || seconds === Infinity) {\n    // '-' is false for all relational operators (e.g. <, >=) so this setting\n    // will add the minimum number of fields specified by the guide\n    h = m = s = '-';\n  } // Check if we need to show hours\n\n\n  h = h > 0 || gh > 0 ? h + ':' : ''; // If hours are showing, we may need to add a leading zero.\n  // Always show at least one digit of minutes.\n\n  m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':'; // Check if leading zero is need for seconds\n\n  s = s < 10 ? '0' + s : s;\n  return h + m + s;\n}; // Internal pointer to the current implementation.\n\n\nvar implementation = defaultImplementation;\n/**\n * Replaces the default formatTime implementation with a custom implementation.\n *\n * @param {Function} customImplementation\n *        A function which will be used in place of the default formatTime\n *        implementation. Will receive the current time in seconds and the\n *        guide (in seconds) as arguments.\n */\n\nfunction setFormatTime(customImplementation) {\n  implementation = customImplementation;\n}\n/**\n * Resets formatTime to the default implementation.\n */\n\n\nfunction resetFormatTime() {\n  implementation = defaultImplementation;\n}\n/**\n * Delegates to either the default time formatting function or a custom\n * function supplied via `setFormatTime`.\n *\n * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a\n * guide (in seconds) will force a number of leading zeros to cover the\n * length of the guide.\n *\n * @static\n * @example  formatTime(125, 600) === \"02:05\"\n * @param    {number} seconds\n *           Number of seconds to be turned into a string\n *\n * @param    {number} guide\n *           Number (in seconds) to model the string after\n *\n * @return   {string}\n *           Time formatted as H:MM:SS or M:SS\n */\n\n\nfunction formatTime(seconds, guide) {\n  if (guide === void 0) {\n    guide = seconds;\n  }\n\n  return implementation(seconds, guide);\n}\n/**\n * Displays time information about the video\n *\n * @extends Component\n */\n\n\nvar TimeDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeDisplay, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function TimeDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.throttledUpdateContent = throttle(bind(_assertThisInitialized(_this), _this.updateContent), 25);\n\n    _this.on(player, 'timeupdate', _this.throttledUpdateContent);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = TimeDisplay.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var className = this.buildCSSClass();\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: className + \" vjs-time-control vjs-control\",\n      innerHTML: \"<span class=\\\"vjs-control-text\\\" role=\\\"presentation\\\">\" + this.localize(this.labelText_) + \"\\xA0</span>\"\n    });\n\n    this.contentEl_ = createEl('span', {\n      className: className + \"-display\"\n    }, {\n      // tell screen readers not to automatically read the time as it changes\n      'aria-live': 'off',\n      // span elements have no implicit role, but some screen readers (notably VoiceOver)\n      // treat them as a break between items in the DOM when using arrow keys\n      // (or left-to-right swipes on iOS) to read contents of a page. Using\n      // role='presentation' causes VoiceOver to NOT treat this span as a break.\n      'role': 'presentation'\n    });\n    this.updateTextNode_();\n    el.appendChild(this.contentEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.textNode_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Updates the \"remaining time\" text node with new content using the\n   * contents of the `formattedTime_` property.\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateTextNode_ = function updateTextNode_() {\n    if (!this.contentEl_) {\n      return;\n    }\n\n    while (this.contentEl_.firstChild) {\n      this.contentEl_.removeChild(this.contentEl_.firstChild);\n    }\n\n    this.textNode_ = document.createTextNode(this.formattedTime_ || this.formatTime_(0));\n    this.contentEl_.appendChild(this.textNode_);\n  }\n  /**\n   * Generates a formatted time for this component to use in display.\n   *\n   * @param  {number} time\n   *         A numeric time, in seconds.\n   *\n   * @return {string}\n   *         A formatted time\n   *\n   * @private\n   */\n  ;\n\n  _proto.formatTime_ = function formatTime_(time) {\n    return formatTime(time);\n  }\n  /**\n   * Updates the time display text node if it has what was passed in changed\n   * the formatted time.\n   *\n   * @param {number} time\n   *        The time to update to\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateFormattedTime_ = function updateFormattedTime_(time) {\n    var formattedTime = this.formatTime_(time);\n\n    if (formattedTime === this.formattedTime_) {\n      return;\n    }\n\n    this.formattedTime_ = formattedTime;\n    this.requestAnimationFrame(this.updateTextNode_);\n  }\n  /**\n   * To be filled out in the child class, should update the displayed time\n   * in accordance with the fact that the current time has changed.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate`  event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {};\n\n  return TimeDisplay;\n}(Component);\n/**\n * The text that is added to the `TimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nTimeDisplay.prototype.labelText_ = 'Time';\n/**\n * The text that should display over the `TimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nTimeDisplay.prototype.controlText_ = 'Time';\nComponent.registerComponent('TimeDisplay', TimeDisplay);\n/**\n * Displays the current time\n *\n * @extends Component\n */\n\nvar CurrentTimeDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(CurrentTimeDisplay, _TimeDisplay);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function CurrentTimeDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this;\n\n    _this.on(player, 'ended', _this.handleEnded);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = CurrentTimeDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-current-time';\n  }\n  /**\n   * Update current time display\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` event that caused this function to run.\n   *\n   * @listens Player#timeupdate\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    // Allows for smooth scrubbing, when player can't keep up.\n    var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    this.updateFormattedTime_(time);\n  }\n  /**\n   * When the player fires ended there should be no time left. Sadly\n   * this is not always the case, lets make it seem like that is the case\n   * for users.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    if (!this.player_.duration()) {\n      return;\n    }\n\n    this.updateFormattedTime_(this.player_.duration());\n  };\n\n  return CurrentTimeDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `CurrentTimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nCurrentTimeDisplay.prototype.labelText_ = 'Current Time';\n/**\n * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nCurrentTimeDisplay.prototype.controlText_ = 'Current Time';\nComponent.registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n/**\n * Displays the duration\n *\n * @extends Component\n */\n\nvar DurationDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(DurationDisplay, _TimeDisplay);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function DurationDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this; // we do not want to/need to throttle duration changes,\n    // as they should always display the changed duration as\n    // it has changed\n\n    _this.on(player, 'durationchange', _this.updateContent); // Listen to loadstart because the player duration is reset when a new media element is loaded,\n    // but the durationchange on the user agent will not fire.\n    // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n\n    _this.on(player, 'loadstart', _this.updateContent); // Also listen for timeupdate (in the parent) and loadedmetadata because removing those\n    // listeners could have broken dependent applications/libraries. These\n    // can likely be removed for 7.0.\n\n\n    _this.on(player, 'loadedmetadata', _this.throttledUpdateContent);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = DurationDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-duration';\n  }\n  /**\n   * Update duration time display.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused\n   *        this function to be called.\n   *\n   * @listens Player#durationchange\n   * @listens Player#timeupdate\n   * @listens Player#loadedmetadata\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    var duration = this.player_.duration();\n\n    if (this.duration_ !== duration) {\n      this.duration_ = duration;\n      this.updateFormattedTime_(duration);\n    }\n  };\n\n  return DurationDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `DurationDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nDurationDisplay.prototype.labelText_ = 'Duration';\n/**\n * The text that should display over the `DurationDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nDurationDisplay.prototype.controlText_ = 'Duration';\nComponent.registerComponent('DurationDisplay', DurationDisplay);\n/**\n * The separator between the current time and duration.\n * Can be hidden if it's not needed in the design.\n *\n * @extends Component\n */\n\nvar TimeDivider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeDivider, _Component);\n\n  function TimeDivider() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TimeDivider.prototype;\n  /**\n   * Create the component's DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-time-control vjs-time-divider',\n      innerHTML: '<div><span>/</span></div>'\n    }, {\n      // this element and its contents can be hidden from assistive techs since\n      // it is made extraneous by the announcement of the control text\n      // for the current time and duration displays\n      'aria-hidden': true\n    });\n  };\n\n  return TimeDivider;\n}(Component);\n\nComponent.registerComponent('TimeDivider', TimeDivider);\n/**\n * Displays the time left in the video\n *\n * @extends Component\n */\n\nvar RemainingTimeDisplay =\n/*#__PURE__*/\nfunction (_TimeDisplay) {\n  _inheritsLoose(RemainingTimeDisplay, _TimeDisplay);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function RemainingTimeDisplay(player, options) {\n    var _this;\n\n    _this = _TimeDisplay.call(this, player, options) || this;\n\n    _this.on(player, 'durationchange', _this.throttledUpdateContent);\n\n    _this.on(player, 'ended', _this.handleEnded);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = RemainingTimeDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return 'vjs-remaining-time';\n  }\n  /**\n   * Create the `Component`'s DOM element with the \"minus\" characted prepend to the time\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var el = _TimeDisplay.prototype.createEl.call(this);\n\n    el.insertBefore(createEl('span', {}, {\n      'aria-hidden': true\n    }, '-'), this.contentEl_);\n    return el;\n  }\n  /**\n   * Update remaining time display.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `durationchange` event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   * @listens Player#durationchange\n   */\n  ;\n\n  _proto.updateContent = function updateContent(event) {\n    if (typeof this.player_.duration() !== 'number') {\n      return;\n    } // @deprecated We should only use remainingTimeDisplay\n    // as of video.js 7\n\n\n    if (this.player_.remainingTimeDisplay) {\n      this.updateFormattedTime_(this.player_.remainingTimeDisplay());\n    } else {\n      this.updateFormattedTime_(this.player_.remainingTime());\n    }\n  }\n  /**\n   * When the player fires ended there should be no time left. Sadly\n   * this is not always the case, lets make it seem like that is the case\n   * for users.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    if (!this.player_.duration()) {\n      return;\n    }\n\n    this.updateFormattedTime_(0);\n  };\n\n  return RemainingTimeDisplay;\n}(TimeDisplay);\n/**\n * The text that is added to the `RemainingTimeDisplay` for screen reader users.\n *\n * @type {string}\n * @private\n */\n\n\nRemainingTimeDisplay.prototype.labelText_ = 'Remaining Time';\n/**\n * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.\n *\n * @type {string}\n * @private\n *\n * @deprecated in v7; controlText_ is not used in non-active display Components\n */\n\nRemainingTimeDisplay.prototype.controlText_ = 'Remaining Time';\nComponent.registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n/**\n * Displays the live indicator when duration is Infinity.\n *\n * @extends Component\n */\n\nvar LiveDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LiveDisplay, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function LiveDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.updateShowing();\n\n    _this.on(_this.player(), 'durationchange', _this.updateShowing);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = LiveDisplay.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-live-control vjs-control'\n    });\n\n    this.contentEl_ = createEl('div', {\n      className: 'vjs-live-display',\n      innerHTML: \"<span class=\\\"vjs-control-text\\\">\" + this.localize('Stream Type') + \"\\xA0</span>\" + this.localize('LIVE')\n    }, {\n      'aria-live': 'off'\n    });\n    el.appendChild(this.contentEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide\n   * it accordingly\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#durationchange} event that caused this function to run.\n   *\n   * @listens Player#durationchange\n   */\n  ;\n\n  _proto.updateShowing = function updateShowing(event) {\n    if (this.player().duration() === Infinity) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  };\n\n  return LiveDisplay;\n}(Component);\n\nComponent.registerComponent('LiveDisplay', LiveDisplay);\n/**\n * Displays the live indicator when duration is Infinity.\n *\n * @extends Component\n */\n\nvar SeekToLive =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(SeekToLive, _Button);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function SeekToLive(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.updateLiveEdgeStatus();\n\n    if (_this.player_.liveTracker) {\n      _this.on(_this.player_.liveTracker, 'liveedgechange', _this.updateLiveEdgeStatus);\n    }\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = SeekToLive.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _Button.prototype.createEl.call(this, 'button', {\n      className: 'vjs-seek-to-live-control vjs-control'\n    });\n\n    this.textEl_ = createEl('span', {\n      className: 'vjs-seek-to-live-text',\n      innerHTML: this.localize('LIVE')\n    }, {\n      'aria-hidden': 'true'\n    });\n    el.appendChild(this.textEl_);\n    return el;\n  }\n  /**\n   * Update the state of this button if we are at the live edge\n   * or not\n   */\n  ;\n\n  _proto.updateLiveEdgeStatus = function updateLiveEdgeStatus(e) {\n    // default to live edge\n    if (!this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()) {\n      this.setAttribute('aria-disabled', true);\n      this.addClass('vjs-at-live-edge');\n      this.controlText('Seek to live, currently playing live');\n    } else {\n      this.setAttribute('aria-disabled', false);\n      this.removeClass('vjs-at-live-edge');\n      this.controlText('Seek to live, currently behind live');\n    }\n  }\n  /**\n   * On click bring us as near to the live point as possible.\n   * This requires that we wait for the next `live-seekable-change`\n   * event which will happen every segment length seconds.\n   */\n  ;\n\n  _proto.handleClick = function handleClick() {\n    this.player_.liveTracker.seekToLiveEdge();\n  }\n  /**\n   * Dispose of the element and stop tracking\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    if (this.player_.liveTracker) {\n      this.off(this.player_.liveTracker, 'liveedgechange', this.updateLiveEdgeStatus);\n    }\n\n    this.textEl_ = null;\n\n    _Button.prototype.dispose.call(this);\n  };\n\n  return SeekToLive;\n}(Button);\n\nSeekToLive.prototype.controlText_ = 'Seek to live, currently playing live';\nComponent.registerComponent('SeekToLive', SeekToLive);\n/**\n * The base functionality for a slider. Can be vertical or horizontal.\n * For instance the volume bar or the seek bar on a video is a slider.\n *\n * @extends Component\n */\n\nvar Slider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Slider, _Component);\n  /**\n  * Create an instance of this class\n  *\n  * @param {Player} player\n  *        The `Player` that this class should be attached to.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  */\n\n\n  function Slider(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this; // Set property names to bar to match with the child Slider class is looking for\n\n    _this.bar = _this.getChild(_this.options_.barName); // Set a horizontal or vertical class on the slider depending on the slider type\n\n    _this.vertical(!!_this.options_.vertical);\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Are controls are currently enabled for this slider or not.\n   *\n   * @return {boolean}\n   *         true if controls are enabled, false otherwise\n   */\n\n\n  var _proto = Slider.prototype;\n\n  _proto.enabled = function enabled() {\n    return this.enabled_;\n  }\n  /**\n   * Enable controls for this slider if they are disabled\n   */\n  ;\n\n  _proto.enable = function enable() {\n    if (this.enabled()) {\n      return;\n    }\n\n    this.on('mousedown', this.handleMouseDown);\n    this.on('touchstart', this.handleMouseDown);\n    this.on('keydown', this.handleKeyDown);\n    this.on('click', this.handleClick);\n    this.on(this.player_, 'controlsvisible', this.update);\n\n    if (this.playerEvent) {\n      this.on(this.player_, this.playerEvent, this.update);\n    }\n\n    this.removeClass('disabled');\n    this.setAttribute('tabindex', 0);\n    this.enabled_ = true;\n  }\n  /**\n   * Disable controls for this slider if they are enabled\n   */\n  ;\n\n  _proto.disable = function disable() {\n    if (!this.enabled()) {\n      return;\n    }\n\n    var doc = this.bar.el_.ownerDocument;\n    this.off('mousedown', this.handleMouseDown);\n    this.off('touchstart', this.handleMouseDown);\n    this.off('keydown', this.handleKeyDown);\n    this.off('click', this.handleClick);\n    this.off(this.player_, 'controlsvisible', this.update);\n    this.off(doc, 'mousemove', this.handleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchmove', this.handleMouseMove);\n    this.off(doc, 'touchend', this.handleMouseUp);\n    this.removeAttribute('tabindex');\n    this.addClass('disabled');\n\n    if (this.playerEvent) {\n      this.off(this.player_, this.playerEvent, this.update);\n    }\n\n    this.enabled_ = false;\n  }\n  /**\n   * Create the `Slider`s DOM element.\n   *\n   * @param {string} type\n   *        Type of element to create.\n   *\n   * @param {Object} [props={}]\n   *        List of properties in Object form.\n   *\n   * @param {Object} [attributes={}]\n   *        list of attributes in Object form.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl(type, props, attributes) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    } // Add the slider element class to all sub classes\n\n\n    props.className = props.className + ' vjs-slider';\n    props = assign({\n      tabIndex: 0\n    }, props);\n    attributes = assign({\n      'role': 'slider',\n      'aria-valuenow': 0,\n      'aria-valuemin': 0,\n      'aria-valuemax': 100,\n      'tabIndex': 0\n    }, attributes);\n    return _Component.prototype.createEl.call(this, type, props, attributes);\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `Slider`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   * @fires Slider#slideractive\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.bar.el_.ownerDocument;\n\n    if (event.type === 'mousedown') {\n      event.preventDefault();\n    } // Do not call preventDefault() on touchstart in Chrome\n    // to avoid console warnings. Use a 'touch-action: none' style\n    // instead to prevent unintented scrolling.\n    // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n\n    if (event.type === 'touchstart' && !IS_CHROME) {\n      event.preventDefault();\n    }\n\n    blockTextSelection();\n    this.addClass('vjs-sliding');\n    /**\n     * Triggered when the slider is in an active state\n     *\n     * @event Slider#slideractive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('slideractive');\n    this.on(doc, 'mousemove', this.handleMouseMove);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchmove', this.handleMouseMove);\n    this.on(doc, 'touchend', this.handleMouseUp);\n    this.handleMouseMove(event);\n  }\n  /**\n   * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.\n   * The `mousemove` and `touchmove` events will only only trigger this function during\n   * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and\n   * {@link Slider#handleMouseUp}.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered\n   *        this function\n   *\n   * @listens mousemove\n   * @listens touchmove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {}\n  /**\n   * Handle `mouseup` or `touchend` events on the `Slider`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   * @fires Slider#sliderinactive\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp() {\n    var doc = this.bar.el_.ownerDocument;\n    unblockTextSelection();\n    this.removeClass('vjs-sliding');\n    /**\n     * Triggered when the slider is no longer in an active state.\n     *\n     * @event Slider#sliderinactive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('sliderinactive');\n    this.off(doc, 'mousemove', this.handleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchmove', this.handleMouseMove);\n    this.off(doc, 'touchend', this.handleMouseUp);\n    this.update();\n  }\n  /**\n   * Update the progress bar of the `Slider`.\n   *\n   * @return {number}\n   *          The percentage of progress the progress bar represents as a\n   *          number from 0 to 1.\n   */\n  ;\n\n  _proto.update = function update() {\n    // In VolumeBar init we have a setTimeout for update that pops and update\n    // to the end of the execution stack. The player is destroyed before then\n    // update will cause an error\n    if (!this.el_) {\n      return;\n    } // If scrubbing, we could use a cached value to make the handle keep up\n    // with the user's mouse. On HTML5 browsers scrubbing is really smooth, but\n    // some flash players are slow, so we might want to utilize this later.\n    // var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n\n    var progress = this.getPercent();\n    var bar = this.bar; // If there's no bar...\n\n    if (!bar) {\n      return;\n    } // Protect against no duration and other division issues\n\n\n    if (typeof progress !== 'number' || progress !== progress || progress < 0 || progress === Infinity) {\n      progress = 0;\n    } // Convert to a percentage for setting\n\n\n    var percentage = (progress * 100).toFixed(2) + '%';\n    var style = bar.el().style; // Set the new bar width or height\n\n    if (this.vertical()) {\n      style.height = percentage;\n    } else {\n      style.width = percentage;\n    }\n\n    return progress;\n  }\n  /**\n   * Calculate distance for slider\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run.\n   *\n   * @return {number}\n   *         The current position of the Slider.\n   *         - position.x for vertical `Slider`s\n   *         - position.y for horizontal `Slider`s\n   */\n  ;\n\n  _proto.calculateDistance = function calculateDistance(event) {\n    var position = getPointerPosition(this.el_, event);\n\n    if (this.vertical()) {\n      return position.y;\n    }\n\n    return position.x;\n  }\n  /**\n   * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down\n   * arrow keys. This function will only be called when the slider has focus. See\n   * {@link Slider#handleFocus} and {@link Slider#handleBlur}.\n   *\n   * @param {EventTarget~Event} event\n   *        the `keydown` event that caused this function to run.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Left and Down Arrows\n    if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack(); // Up and Right Arrows\n    } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward();\n    } else {\n      // Pass keydown handling up for unsupported keys\n      _Component.prototype.handleKeyDown.call(this, event);\n    }\n  }\n  /**\n   * Listener for click events on slider, used to prevent clicks\n   *   from bubbling up to parent elements like button menus.\n   *\n   * @param {Object} event\n   *        Event that caused this object to run\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  /**\n   * Get/set if slider is horizontal for vertical\n   *\n   * @param {boolean} [bool]\n   *        - true if slider is vertical,\n   *        - false is horizontal\n   *\n   * @return {boolean}\n   *         - true if slider is vertical, and getting\n   *         - false if the slider is horizontal, and getting\n   */\n  ;\n\n  _proto.vertical = function vertical(bool) {\n    if (bool === undefined) {\n      return this.vertical_ || false;\n    }\n\n    this.vertical_ = !!bool;\n\n    if (this.vertical_) {\n      this.addClass('vjs-slider-vertical');\n    } else {\n      this.addClass('vjs-slider-horizontal');\n    }\n  };\n\n  return Slider;\n}(Component);\n\nComponent.registerComponent('Slider', Slider);\n/**\n * Shows loading progress\n *\n * @extends Component\n */\n\nvar LoadProgressBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LoadProgressBar, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function LoadProgressBar(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.partEls_ = [];\n\n    _this.on(player, 'progress', _this.update);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = LoadProgressBar.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-load-progress',\n      innerHTML: \"<span class=\\\"vjs-control-text\\\"><span>\" + this.localize('Loaded') + \"</span>: <span class=\\\"vjs-control-text-loaded-percentage\\\">0%</span></span>\"\n    });\n  };\n\n  _proto.dispose = function dispose() {\n    this.partEls_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Update progress bar\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `progress` event that caused this function to run.\n   *\n   * @listens Player#progress\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var liveTracker = this.player_.liveTracker;\n    var buffered = this.player_.buffered();\n    var duration = liveTracker && liveTracker.isLive() ? liveTracker.seekableEnd() : this.player_.duration();\n    var bufferedEnd = this.player_.bufferedEnd();\n    var children = this.partEls_;\n    var controlTextPercentage = this.$('.vjs-control-text-loaded-percentage'); // get the percent width of a time compared to the total end\n\n    var percentify = function percentify(time, end, rounded) {\n      // no NaN\n      var percent = time / end || 0;\n      percent = (percent >= 1 ? 1 : percent) * 100;\n\n      if (rounded) {\n        percent = percent.toFixed(2);\n      }\n\n      return percent + '%';\n    }; // update the width of the progress bar\n\n\n    this.el_.style.width = percentify(bufferedEnd, duration); // update the control-text\n\n    textContent(controlTextPercentage, percentify(bufferedEnd, duration, true)); // add child elements to represent the individual buffered time ranges\n\n    for (var i = 0; i < buffered.length; i++) {\n      var start = buffered.start(i);\n      var end = buffered.end(i);\n      var part = children[i];\n\n      if (!part) {\n        part = this.el_.appendChild(createEl());\n        children[i] = part;\n      } // set the percent based on the width of the progress bar (bufferedEnd)\n\n\n      part.style.left = percentify(start, bufferedEnd);\n      part.style.width = percentify(end - start, bufferedEnd);\n    } // remove unused buffered range elements\n\n\n    for (var _i = children.length; _i > buffered.length; _i--) {\n      this.el_.removeChild(children[_i - 1]);\n    }\n\n    children.length = buffered.length;\n  };\n\n  return LoadProgressBar;\n}(Component);\n\nComponent.registerComponent('LoadProgressBar', LoadProgressBar);\n/**\n * Time tooltips display a time above the progress bar.\n *\n * @extends Component\n */\n\nvar TimeTooltip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(TimeTooltip, _Component);\n\n  function TimeTooltip() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TimeTooltip.prototype;\n  /**\n   * Create the time tooltip DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-time-tooltip'\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Updates the position of the time tooltip relative to the `SeekBar`.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint, content) {\n    var tooltipRect = getBoundingClientRect(this.el_);\n    var playerRect = getBoundingClientRect(this.player_.el());\n    var seekBarPointPx = seekBarRect.width * seekBarPoint; // do nothing if either rect isn't available\n    // for example, if the player isn't in the DOM for testing\n\n    if (!playerRect || !tooltipRect) {\n      return;\n    } // This is the space left of the `seekBarPoint` available within the bounds\n    // of the player. We calculate any gap between the left edge of the player\n    // and the left edge of the `SeekBar` and add the number of pixels in the\n    // `SeekBar` before hitting the `seekBarPoint`\n\n\n    var spaceLeftOfPoint = seekBarRect.left - playerRect.left + seekBarPointPx; // This is the space right of the `seekBarPoint` available within the bounds\n    // of the player. We calculate the number of pixels from the `seekBarPoint`\n    // to the right edge of the `SeekBar` and add to that any gap between the\n    // right edge of the `SeekBar` and the player.\n\n    var spaceRightOfPoint = seekBarRect.width - seekBarPointPx + (playerRect.right - seekBarRect.right); // This is the number of pixels by which the tooltip will need to be pulled\n    // further to the right to center it over the `seekBarPoint`.\n\n    var pullTooltipBy = tooltipRect.width / 2; // Adjust the `pullTooltipBy` distance to the left or right depending on\n    // the results of the space calculations above.\n\n    if (spaceLeftOfPoint < pullTooltipBy) {\n      pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n    } else if (spaceRightOfPoint < pullTooltipBy) {\n      pullTooltipBy = spaceRightOfPoint;\n    } // Due to the imprecision of decimal/ratio based calculations and varying\n    // rounding behaviors, there are cases where the spacing adjustment is off\n    // by a pixel or two. This adds insurance to these calculations.\n\n\n    if (pullTooltipBy < 0) {\n      pullTooltipBy = 0;\n    } else if (pullTooltipBy > tooltipRect.width) {\n      pullTooltipBy = tooltipRect.width;\n    }\n\n    this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n    this.write(content);\n  }\n  /**\n   * Write the time to the tooltip DOM element.\n   *\n   * @param {String} content\n   *        The formatted time for the tooltip.\n   */\n  ;\n\n  _proto.write = function write(content) {\n    textContent(this.el_, content);\n  }\n  /**\n   * Updates the position of the time tooltip relative to the `SeekBar`.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   *\n   * @param {number} time\n   *        The time to update the tooltip to, not used during live playback\n   *\n   * @param {Function} cb\n   *        A function that will be called during the request animation frame\n   *        for tooltips that need to do additional animations from the default\n   */\n  ;\n\n  _proto.updateTime = function updateTime(seekBarRect, seekBarPoint, time, cb) {\n    var _this = this; // If there is an existing rAF ID, cancel it so we don't over-queue.\n\n\n    if (this.rafId_) {\n      this.cancelAnimationFrame(this.rafId_);\n    }\n\n    this.rafId_ = this.requestAnimationFrame(function () {\n      var content;\n\n      var duration = _this.player_.duration();\n\n      if (_this.player_.liveTracker && _this.player_.liveTracker.isLive()) {\n        var liveWindow = _this.player_.liveTracker.liveWindow();\n\n        var secondsBehind = liveWindow - seekBarPoint * liveWindow;\n        content = (secondsBehind < 1 ? '' : '-') + formatTime(secondsBehind, liveWindow);\n      } else {\n        content = formatTime(time, duration);\n      }\n\n      _this.update(seekBarRect, seekBarPoint, content);\n\n      if (cb) {\n        cb();\n      }\n    });\n  };\n\n  return TimeTooltip;\n}(Component);\n\nComponent.registerComponent('TimeTooltip', TimeTooltip);\n/**\n * Used by {@link SeekBar} to display media playback progress as part of the\n * {@link ProgressControl}.\n *\n * @extends Component\n */\n\nvar PlayProgressBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(PlayProgressBar, _Component);\n\n  function PlayProgressBar() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = PlayProgressBar.prototype;\n  /**\n   * Create the the DOM element for this class.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-play-progress vjs-slider-bar'\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Enqueues updates to its own DOM as well as the DOM of its\n   * {@link TimeTooltip} child.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint) {\n    var timeTooltip = this.getChild('timeTooltip');\n\n    if (!timeTooltip) {\n      return;\n    }\n\n    var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    timeTooltip.updateTime(seekBarRect, seekBarPoint, time);\n  };\n\n  return PlayProgressBar;\n}(Component);\n/**\n * Default options for {@link PlayProgressBar}.\n *\n * @type {Object}\n * @private\n */\n\n\nPlayProgressBar.prototype.options_ = {\n  children: []\n}; // Time tooltips should not be added to a player on mobile devices\n\nif (!IS_IOS && !IS_ANDROID) {\n  PlayProgressBar.prototype.options_.children.push('timeTooltip');\n}\n\nComponent.registerComponent('PlayProgressBar', PlayProgressBar);\n/**\n * The {@link MouseTimeDisplay} component tracks mouse movement over the\n * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}\n * indicating the time which is represented by a given point in the\n * {@link ProgressControl}.\n *\n * @extends Component\n */\n\nvar MouseTimeDisplay =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MouseTimeDisplay, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The {@link Player} that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function MouseTimeDisplay(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.update = throttle(bind(_assertThisInitialized(_this), _this.update), 25);\n    return _this;\n  }\n  /**\n   * Create the DOM element for this class.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = MouseTimeDisplay.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-mouse-display'\n    });\n  }\n  /**\n   * Enqueues updates to its own DOM as well as the DOM of its\n   * {@link TimeTooltip} child.\n   *\n   * @param {Object} seekBarRect\n   *        The `ClientRect` for the {@link SeekBar} element.\n   *\n   * @param {number} seekBarPoint\n   *        A number from 0 to 1, representing a horizontal reference point\n   *        from the left edge of the {@link SeekBar}\n   */\n  ;\n\n  _proto.update = function update(seekBarRect, seekBarPoint) {\n    var _this2 = this;\n\n    var time = seekBarPoint * this.player_.duration();\n    this.getChild('timeTooltip').updateTime(seekBarRect, seekBarPoint, time, function () {\n      _this2.el_.style.left = seekBarRect.width * seekBarPoint + \"px\";\n    });\n  };\n\n  return MouseTimeDisplay;\n}(Component);\n/**\n * Default options for `MouseTimeDisplay`\n *\n * @type {Object}\n * @private\n */\n\n\nMouseTimeDisplay.prototype.options_ = {\n  children: ['timeTooltip']\n};\nComponent.registerComponent('MouseTimeDisplay', MouseTimeDisplay);\nvar STEP_SECONDS = 5; // The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.\n\nvar PAGE_KEY_MULTIPLIER = 12; // The interval at which the bar should update as it progresses.\n\nvar UPDATE_REFRESH_INTERVAL = 30;\n/**\n * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}\n * as its `bar`.\n *\n * @extends Slider\n */\n\nvar SeekBar =\n/*#__PURE__*/\nfunction (_Slider) {\n  _inheritsLoose(SeekBar, _Slider);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function SeekBar(player, options) {\n    var _this;\n\n    _this = _Slider.call(this, player, options) || this;\n\n    _this.setEventHandlers_();\n\n    return _this;\n  }\n  /**\n   * Sets the event handlers\n   *\n   * @private\n   */\n\n\n  var _proto = SeekBar.prototype;\n\n  _proto.setEventHandlers_ = function setEventHandlers_() {\n    this.update = throttle(bind(this, this.update), UPDATE_REFRESH_INTERVAL);\n    this.on(this.player_, 'timeupdate', this.update);\n    this.on(this.player_, 'ended', this.handleEnded);\n    this.on(this.player_, 'durationchange', this.update);\n\n    if (this.player_.liveTracker) {\n      this.on(this.player_.liveTracker, 'liveedgechange', this.update);\n    } // when playing, let's ensure we smoothly update the play progress bar\n    // via an interval\n\n\n    this.updateInterval = null;\n    this.on(this.player_, ['playing'], this.enableInterval_);\n    this.on(this.player_, ['ended', 'pause', 'waiting'], this.disableInterval_); // we don't need to update the play progress if the document is hidden,\n    // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n    if ('hidden' in document && 'visibilityState' in document) {\n      this.on(document, 'visibilitychange', this.toggleVisibility_);\n    }\n  };\n\n  _proto.toggleVisibility_ = function toggleVisibility_(e) {\n    if (document.hidden) {\n      this.disableInterval_(e);\n    } else {\n      this.enableInterval_(); // we just switched back to the page and someone may be looking, so, update ASAP\n\n      this.requestAnimationFrame(this.update);\n    }\n  };\n\n  _proto.enableInterval_ = function enableInterval_() {\n    var _this2 = this;\n\n    this.clearInterval(this.updateInterval);\n    this.updateInterval = this.setInterval(function () {\n      _this2.requestAnimationFrame(_this2.update);\n    }, UPDATE_REFRESH_INTERVAL);\n  };\n\n  _proto.disableInterval_ = function disableInterval_(e) {\n    if (this.player_.liveTracker && this.player_.liveTracker.isLive() && e.type !== 'ended') {\n      return;\n    }\n\n    this.clearInterval(this.updateInterval);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-holder'\n    }, {\n      'aria-label': this.localize('Progress Bar')\n    });\n  }\n  /**\n   * This function updates the play progress bar and accessibility\n   * attributes to whatever is passed in.\n   *\n   * @param {number} currentTime\n   *        The currentTime value that should be used for accessibility\n   *\n   * @param {number} percent\n   *        The percentage as a decimal that the bar should be filled from 0-1.\n   *\n   * @private\n   */\n  ;\n\n  _proto.update_ = function update_(currentTime, percent) {\n    var liveTracker = this.player_.liveTracker;\n    var duration = this.player_.duration();\n\n    if (liveTracker && liveTracker.isLive()) {\n      duration = this.player_.liveTracker.liveCurrentTime();\n    } // machine readable value of progress bar (percentage complete)\n\n\n    this.el_.setAttribute('aria-valuenow', (percent * 100).toFixed(2)); // human readable value of progress bar (time complete)\n\n    this.el_.setAttribute('aria-valuetext', this.localize('progress bar timing: currentTime={1} duration={2}', [formatTime(currentTime, duration), formatTime(duration, duration)], '{1} of {2}')); // Update the `PlayProgressBar`.\n\n    if (this.bar) {\n      this.bar.update(getBoundingClientRect(this.el_), percent);\n    }\n  }\n  /**\n   * Update the seek bar's UI.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `ended` event that caused this to run.\n   *\n   * @listens Player#timeupdate\n   *\n   * @return {number}\n   *          The current percent at a number from 0-1\n   */\n  ;\n\n  _proto.update = function update(event) {\n    // if the offsetParent is null, then this element is hidden, in which case\n    // we don't need to update it.\n    if (this.el().offsetParent === null) {\n      return;\n    }\n\n    var percent = _Slider.prototype.update.call(this);\n\n    this.update_(this.getCurrentTime_(), percent);\n    return percent;\n  }\n  /**\n   * Get the value of current time but allows for smooth scrubbing,\n   * when player can't keep up.\n   *\n   * @return {number}\n   *         The current time value to display\n   *\n   * @private\n   */\n  ;\n\n  _proto.getCurrentTime_ = function getCurrentTime_() {\n    return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n  }\n  /**\n   * We want the seek bar to be full on ended\n   * no matter what the actual internal values are. so we force it.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `timeupdate` or `ended` event that caused this to run.\n   *\n   * @listens Player#ended\n   */\n  ;\n\n  _proto.handleEnded = function handleEnded(event) {\n    this.update_(this.player_.duration(), 1);\n  }\n  /**\n   * Get the percentage of media played so far.\n   *\n   * @return {number}\n   *         The percentage of media played so far (0 to 1).\n   */\n  ;\n\n  _proto.getPercent = function getPercent() {\n    var currentTime = this.getCurrentTime_();\n    var percent;\n    var liveTracker = this.player_.liveTracker;\n\n    if (liveTracker && liveTracker.isLive()) {\n      percent = (currentTime - liveTracker.seekableStart()) / liveTracker.liveWindow(); // prevent the percent from changing at the live edge\n\n      if (liveTracker.atLiveEdge()) {\n        percent = 1;\n      }\n    } else {\n      percent = currentTime / this.player_.duration();\n    }\n\n    return percent >= 1 ? 1 : percent || 0;\n  }\n  /**\n   * Handle mouse down on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousedown` event that caused this to run.\n   *\n   * @listens mousedown\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    } // Stop event propagation to prevent double fire in progress-control.js\n\n\n    event.stopPropagation();\n    this.player_.scrubbing(true);\n    this.videoWasPlaying = !this.player_.paused();\n    this.player_.pause();\n\n    _Slider.prototype.handleMouseDown.call(this, event);\n  }\n  /**\n   * Handle mouse move on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this to run.\n   *\n   * @listens mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    var newTime;\n    var distance = this.calculateDistance(event);\n    var liveTracker = this.player_.liveTracker;\n\n    if (!liveTracker || !liveTracker.isLive()) {\n      newTime = distance * this.player_.duration(); // Don't let video end while scrubbing.\n\n      if (newTime === this.player_.duration()) {\n        newTime = newTime - 0.1;\n      }\n    } else {\n      var seekableStart = liveTracker.seekableStart();\n      var seekableEnd = liveTracker.liveCurrentTime();\n      newTime = seekableStart + distance * liveTracker.liveWindow(); // Don't let video end while scrubbing.\n\n      if (newTime >= seekableEnd) {\n        newTime = seekableEnd;\n      } // Compensate for precision differences so that currentTime is not less\n      // than seekable start\n\n\n      if (newTime <= seekableStart) {\n        newTime = seekableStart + 0.1;\n      } // On android seekableEnd can be Infinity sometimes,\n      // this will cause newTime to be Infinity, which is\n      // not a valid currentTime.\n\n\n      if (newTime === Infinity) {\n        return;\n      }\n    } // Set new time (tell player to seek to new time)\n\n\n    this.player_.currentTime(newTime);\n  };\n\n  _proto.enable = function enable() {\n    _Slider.prototype.enable.call(this);\n\n    var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n    if (!mouseTimeDisplay) {\n      return;\n    }\n\n    mouseTimeDisplay.show();\n  };\n\n  _proto.disable = function disable() {\n    _Slider.prototype.disable.call(this);\n\n    var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n    if (!mouseTimeDisplay) {\n      return;\n    }\n\n    mouseTimeDisplay.hide();\n  }\n  /**\n   * Handle mouse up on seek bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mouseup` event that caused this to run.\n   *\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    _Slider.prototype.handleMouseUp.call(this, event); // Stop event propagation to prevent double fire in progress-control.js\n\n\n    if (event) {\n      event.stopPropagation();\n    }\n\n    this.player_.scrubbing(false);\n    /**\n     * Trigger timeupdate because we're done seeking and the time has changed.\n     * This is particularly useful for if the player is paused to time the time displays.\n     *\n     * @event Tech#timeupdate\n     * @type {EventTarget~Event}\n     */\n\n    this.player_.trigger({\n      type: 'timeupdate',\n      target: this,\n      manuallyTriggered: true\n    });\n\n    if (this.videoWasPlaying) {\n      silencePromise(this.player_.play());\n    }\n  }\n  /**\n   * Move more quickly fast forward for keyboard-only users\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS);\n  }\n  /**\n   * Move more quickly rewind for keyboard-only users\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS);\n  }\n  /**\n   * Toggles the playback state of the player\n   * This gets called when enter or space is used on the seekbar\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called\n   *\n   */\n  ;\n\n  _proto.handleAction = function handleAction(event) {\n    if (this.player_.paused()) {\n      this.player_.play();\n    } else {\n      this.player_.pause();\n    }\n  }\n  /**\n   * Called when this SeekBar has focus and a key gets pressed down.\n   * Supports the following keys:\n   *\n   *   Space or Enter key fire a click event\n   *   Home key moves to start of the timeline\n   *   End key moves to end of the timeline\n   *   Digit \"0\" through \"9\" keys move to 0%, 10% ... 80%, 90% of the timeline\n   *   PageDown key moves back a larger step than ArrowDown\n   *   PageUp key moves forward a large step\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.handleAction(event);\n    } else if (keycode.isEventKey(event, 'Home')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(0);\n    } else if (keycode.isEventKey(event, 'End')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.duration());\n    } else if (/^[0-9]$/.test(keycode(event))) {\n      event.preventDefault();\n      event.stopPropagation();\n      var gotoFraction = (keycode.codes[keycode(event)] - keycode.codes['0']) * 10.0 / 100.0;\n      this.player_.currentTime(this.player_.duration() * gotoFraction);\n    } else if (keycode.isEventKey(event, 'PgDn')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n    } else if (keycode.isEventKey(event, 'PgUp')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n    } else {\n      // Pass keydown handling up for unsupported keys\n      _Slider.prototype.handleKeyDown.call(this, event);\n    }\n  };\n\n  return SeekBar;\n}(Slider);\n/**\n * Default options for the `SeekBar`\n *\n * @type {Object}\n * @private\n */\n\n\nSeekBar.prototype.options_ = {\n  children: ['loadProgressBar', 'playProgressBar'],\n  barName: 'playProgressBar'\n}; // MouseTimeDisplay tooltips should not be added to a player on mobile devices\n\nif (!IS_IOS && !IS_ANDROID) {\n  SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n}\n\nComponent.registerComponent('SeekBar', SeekBar);\n/**\n * The Progress Control component contains the seek bar, load progress,\n * and play progress.\n *\n * @extends Component\n */\n\nvar ProgressControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ProgressControl, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function ProgressControl(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n    _this.handleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), 25);\n    _this.throttledHandleMouseSeek = throttle(bind(_assertThisInitialized(_this), _this.handleMouseSeek), 25);\n\n    _this.enable();\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = ProgressControl.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-progress-control vjs-control'\n    });\n  }\n  /**\n   * When the mouse moves over the `ProgressControl`, the pointer position\n   * gets passed down to the `MouseTimeDisplay` component.\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this function to run.\n   *\n   * @listen mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      var mouseTimeDisplay = seekBar.getChild('mouseTimeDisplay');\n      var seekBarEl = seekBar.el();\n      var seekBarRect = getBoundingClientRect(seekBarEl);\n      var seekBarPoint = getPointerPosition(seekBarEl, event).x; // The default skin has a gap on either side of the `SeekBar`. This means\n      // that it's possible to trigger this behavior outside the boundaries of\n      // the `SeekBar`. This ensures we stay within it at all times.\n\n      if (seekBarPoint > 1) {\n        seekBarPoint = 1;\n      } else if (seekBarPoint < 0) {\n        seekBarPoint = 0;\n      }\n\n      if (mouseTimeDisplay) {\n        mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n      }\n    }\n  }\n  /**\n   * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.\n   *\n   * @method ProgressControl#throttledHandleMouseSeek\n   * @param {EventTarget~Event} event\n   *        The `mousemove` event that caused this function to run.\n   *\n   * @listen mousemove\n   * @listen touchmove\n   */\n\n  /**\n   * Handle `mousemove` or `touchmove` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousemove\n   * @listens touchmove\n   */\n  ;\n\n  _proto.handleMouseSeek = function handleMouseSeek(event) {\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseMove(event);\n    }\n  }\n  /**\n   * Are controls are currently enabled for this progress control.\n   *\n   * @return {boolean}\n   *         true if controls are enabled, false otherwise\n   */\n  ;\n\n  _proto.enabled = function enabled() {\n    return this.enabled_;\n  }\n  /**\n   * Disable all controls on the progress control and its children\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.children().forEach(function (child) {\n      return child.disable && child.disable();\n    });\n\n    if (!this.enabled()) {\n      return;\n    }\n\n    this.off(['mousedown', 'touchstart'], this.handleMouseDown);\n    this.off(this.el_, 'mousemove', this.handleMouseMove);\n    this.handleMouseUp();\n    this.addClass('disabled');\n    this.enabled_ = false;\n  }\n  /**\n   * Enable all controls on the progress control and its children\n   */\n  ;\n\n  _proto.enable = function enable() {\n    this.children().forEach(function (child) {\n      return child.enable && child.enable();\n    });\n\n    if (this.enabled()) {\n      return;\n    }\n\n    this.on(['mousedown', 'touchstart'], this.handleMouseDown);\n    this.on(this.el_, 'mousemove', this.handleMouseMove);\n    this.removeClass('disabled');\n    this.enabled_ = true;\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.el_.ownerDocument;\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseDown(event);\n    }\n\n    this.on(doc, 'mousemove', this.throttledHandleMouseSeek);\n    this.on(doc, 'touchmove', this.throttledHandleMouseSeek);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mouseup` or `touchend` events on the `ProgressControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    var doc = this.el_.ownerDocument;\n    var seekBar = this.getChild('seekBar');\n\n    if (seekBar) {\n      seekBar.handleMouseUp(event);\n    }\n\n    this.off(doc, 'mousemove', this.throttledHandleMouseSeek);\n    this.off(doc, 'touchmove', this.throttledHandleMouseSeek);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchend', this.handleMouseUp);\n  };\n\n  return ProgressControl;\n}(Component);\n/**\n * Default options for `ProgressControl`\n *\n * @type {Object}\n * @private\n */\n\n\nProgressControl.prototype.options_ = {\n  children: ['seekBar']\n};\nComponent.registerComponent('ProgressControl', ProgressControl);\n/**\n * Toggle Picture-in-Picture mode\n *\n * @extends Button\n */\n\nvar PictureInPictureToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(PictureInPictureToggle, _Button);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @listens Player#enterpictureinpicture\n   * @listens Player#leavepictureinpicture\n   */\n\n\n  function PictureInPictureToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.on(player, ['enterpictureinpicture', 'leavepictureinpicture'], _this.handlePictureInPictureChange); // TODO: Activate button on player loadedmetadata event.\n    // TODO: Deactivate button on player emptied event.\n    // TODO: Deactivate button if disablepictureinpicture attribute is present.\n\n\n    if (!document.pictureInPictureEnabled) {\n      _this.disable();\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = PictureInPictureToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-picture-in-picture-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Handles enterpictureinpicture and leavepictureinpicture on the player and change control text accordingly.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#enterpictureinpicture} or {@link Player#leavepictureinpicture} event that caused this function to be\n   *        called.\n   *\n   * @listens Player#enterpictureinpicture\n   * @listens Player#leavepictureinpicture\n   */\n  ;\n\n  _proto.handlePictureInPictureChange = function handlePictureInPictureChange(event) {\n    if (this.player_.isInPictureInPicture()) {\n      this.controlText('Exit Picture-in-Picture');\n    } else {\n      this.controlText('Picture-in-Picture');\n    }\n  }\n  /**\n   * This gets called when an `PictureInPictureToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (!this.player_.isInPictureInPicture()) {\n      this.player_.requestPictureInPicture();\n    } else {\n      this.player_.exitPictureInPicture();\n    }\n  };\n\n  return PictureInPictureToggle;\n}(Button);\n/**\n * The text that should display over the `PictureInPictureToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPictureInPictureToggle.prototype.controlText_ = 'Picture-in-Picture';\nComponent.registerComponent('PictureInPictureToggle', PictureInPictureToggle);\n/**\n * Toggle fullscreen video\n *\n * @extends Button\n */\n\nvar FullscreenToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(FullscreenToggle, _Button);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function FullscreenToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this;\n\n    _this.on(player, 'fullscreenchange', _this.handleFullscreenChange);\n\n    if (document[player.fsApi_.fullscreenEnabled] === false) {\n      _this.disable();\n    }\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = FullscreenToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-fullscreen-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Handles fullscreenchange on the player and change control text accordingly.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#fullscreenchange} event that caused this function to be\n   *        called.\n   *\n   * @listens Player#fullscreenchange\n   */\n  ;\n\n  _proto.handleFullscreenChange = function handleFullscreenChange(event) {\n    if (this.player_.isFullscreen()) {\n      this.controlText('Non-Fullscreen');\n    } else {\n      this.controlText('Fullscreen');\n    }\n  }\n  /**\n   * This gets called when an `FullscreenToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (!this.player_.isFullscreen()) {\n      this.player_.requestFullscreen();\n    } else {\n      this.player_.exitFullscreen();\n    }\n  };\n\n  return FullscreenToggle;\n}(Button);\n/**\n * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nFullscreenToggle.prototype.controlText_ = 'Fullscreen';\nComponent.registerComponent('FullscreenToggle', FullscreenToggle);\n/**\n * Check if volume control is supported and if it isn't hide the\n * `Component` that was passed  using the `vjs-hidden` class.\n *\n * @param {Component} self\n *        The component that should be hidden if volume is unsupported\n *\n * @param {Player} player\n *        A reference to the player\n *\n * @private\n */\n\nvar checkVolumeSupport = function checkVolumeSupport(self, player) {\n  // hide volume controls when they're not supported by the current tech\n  if (player.tech_ && !player.tech_.featuresVolumeControl) {\n    self.addClass('vjs-hidden');\n  }\n\n  self.on(player, 'loadstart', function () {\n    if (!player.tech_.featuresVolumeControl) {\n      self.addClass('vjs-hidden');\n    } else {\n      self.removeClass('vjs-hidden');\n    }\n  });\n};\n/**\n * Shows volume level\n *\n * @extends Component\n */\n\n\nvar VolumeLevel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumeLevel, _Component);\n\n  function VolumeLevel() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = VolumeLevel.prototype;\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-level',\n      innerHTML: '<span class=\"vjs-control-text\"></span>'\n    });\n  };\n\n  return VolumeLevel;\n}(Component);\n\nComponent.registerComponent('VolumeLevel', VolumeLevel);\n/**\n * The bar that contains the volume level and can be clicked on to adjust the level\n *\n * @extends Slider\n */\n\nvar VolumeBar =\n/*#__PURE__*/\nfunction (_Slider) {\n  _inheritsLoose(VolumeBar, _Slider);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function VolumeBar(player, options) {\n    var _this;\n\n    _this = _Slider.call(this, player, options) || this;\n\n    _this.on('slideractive', _this.updateLastVolume_);\n\n    _this.on(player, 'volumechange', _this.updateARIAAttributes);\n\n    player.ready(function () {\n      return _this.updateARIAAttributes();\n    });\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = VolumeBar.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Slider.prototype.createEl.call(this, 'div', {\n      className: 'vjs-volume-bar vjs-slider-bar'\n    }, {\n      'aria-label': this.localize('Volume Level'),\n      'aria-live': 'polite'\n    });\n  }\n  /**\n   * Handle mouse down on volume bar\n   *\n   * @param {EventTarget~Event} event\n   *        The `mousedown` event that caused this to run.\n   *\n   * @listens mousedown\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    _Slider.prototype.handleMouseDown.call(this, event);\n  }\n  /**\n   * Handle movement events on the {@link VolumeMenuButton}.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run.\n   *\n   * @listens mousemove\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    }\n\n    this.checkMuted();\n    this.player_.volume(this.calculateDistance(event));\n  }\n  /**\n   * If the player is muted unmute it.\n   */\n  ;\n\n  _proto.checkMuted = function checkMuted() {\n    if (this.player_.muted()) {\n      this.player_.muted(false);\n    }\n  }\n  /**\n   * Get percent of volume level\n   *\n   * @return {number}\n   *         Volume level percent as a decimal number.\n   */\n  ;\n\n  _proto.getPercent = function getPercent() {\n    if (this.player_.muted()) {\n      return 0;\n    }\n\n    return this.player_.volume();\n  }\n  /**\n   * Increase volume level for keyboard users\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    this.checkMuted();\n    this.player_.volume(this.player_.volume() + 0.1);\n  }\n  /**\n   * Decrease volume level for keyboard users\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    this.checkMuted();\n    this.player_.volume(this.player_.volume() - 0.1);\n  }\n  /**\n   * Update ARIA accessibility attributes\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `volumechange` event that caused this function to run.\n   *\n   * @listens Player#volumechange\n   */\n  ;\n\n  _proto.updateARIAAttributes = function updateARIAAttributes(event) {\n    var ariaValue = this.player_.muted() ? 0 : this.volumeAsPercentage_();\n    this.el_.setAttribute('aria-valuenow', ariaValue);\n    this.el_.setAttribute('aria-valuetext', ariaValue + '%');\n  }\n  /**\n   * Returns the current value of the player volume as a percentage\n   *\n   * @private\n   */\n  ;\n\n  _proto.volumeAsPercentage_ = function volumeAsPercentage_() {\n    return Math.round(this.player_.volume() * 100);\n  }\n  /**\n   * When user starts dragging the VolumeBar, store the volume and listen for\n   * the end of the drag. When the drag ends, if the volume was set to zero,\n   * set lastVolume to the stored volume.\n   *\n   * @listens slideractive\n   * @private\n   */\n  ;\n\n  _proto.updateLastVolume_ = function updateLastVolume_() {\n    var _this2 = this;\n\n    var volumeBeforeDrag = this.player_.volume();\n    this.one('sliderinactive', function () {\n      if (_this2.player_.volume() === 0) {\n        _this2.player_.lastVolume_(volumeBeforeDrag);\n      }\n    });\n  };\n\n  return VolumeBar;\n}(Slider);\n/**\n * Default options for the `VolumeBar`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumeBar.prototype.options_ = {\n  children: ['volumeLevel'],\n  barName: 'volumeLevel'\n};\n/**\n * Call the update event for this Slider when this event happens on the player.\n *\n * @type {string}\n */\n\nVolumeBar.prototype.playerEvent = 'volumechange';\nComponent.registerComponent('VolumeBar', VolumeBar);\n/**\n * The component for controlling the volume level\n *\n * @extends Component\n */\n\nvar VolumeControl =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumeControl, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function VolumeControl(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.vertical = options.vertical || false; // Pass the vertical option down to the VolumeBar if\n    // the VolumeBar is turned on.\n\n    if (typeof options.volumeBar === 'undefined' || isPlain(options.volumeBar)) {\n      options.volumeBar = options.volumeBar || {};\n      options.volumeBar.vertical = options.vertical;\n    }\n\n    _this = _Component.call(this, player, options) || this; // hide this control if volume support is missing\n\n    checkVolumeSupport(_assertThisInitialized(_this), player);\n    _this.throttledHandleMouseMove = throttle(bind(_assertThisInitialized(_this), _this.handleMouseMove), 25);\n\n    _this.on('mousedown', _this.handleMouseDown);\n\n    _this.on('touchstart', _this.handleMouseDown); // while the slider is active (the mouse has been pressed down and\n    // is dragging) or in focus we do not want to hide the VolumeBar\n\n\n    _this.on(_this.volumeBar, ['focus', 'slideractive'], function () {\n      _this.volumeBar.addClass('vjs-slider-active');\n\n      _this.addClass('vjs-slider-active');\n\n      _this.trigger('slideractive');\n    });\n\n    _this.on(_this.volumeBar, ['blur', 'sliderinactive'], function () {\n      _this.volumeBar.removeClass('vjs-slider-active');\n\n      _this.removeClass('vjs-slider-active');\n\n      _this.trigger('sliderinactive');\n    });\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = VolumeControl.prototype;\n\n  _proto.createEl = function createEl() {\n    var orientationClass = 'vjs-volume-horizontal';\n\n    if (this.options_.vertical) {\n      orientationClass = 'vjs-volume-vertical';\n    }\n\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: \"vjs-volume-control vjs-control \" + orientationClass\n    });\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseDown = function handleMouseDown(event) {\n    var doc = this.el_.ownerDocument;\n    this.on(doc, 'mousemove', this.throttledHandleMouseMove);\n    this.on(doc, 'touchmove', this.throttledHandleMouseMove);\n    this.on(doc, 'mouseup', this.handleMouseUp);\n    this.on(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mouseup` or `touchend` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mouseup` or `touchend` event that triggered this function.\n   *\n   * @listens touchend\n   * @listens mouseup\n   */\n  ;\n\n  _proto.handleMouseUp = function handleMouseUp(event) {\n    var doc = this.el_.ownerDocument;\n    this.off(doc, 'mousemove', this.throttledHandleMouseMove);\n    this.off(doc, 'touchmove', this.throttledHandleMouseMove);\n    this.off(doc, 'mouseup', this.handleMouseUp);\n    this.off(doc, 'touchend', this.handleMouseUp);\n  }\n  /**\n   * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n   *\n   * @param {EventTarget~Event} event\n   *        `mousedown` or `touchstart` event that triggered this function\n   *\n   * @listens mousedown\n   * @listens touchstart\n   */\n  ;\n\n  _proto.handleMouseMove = function handleMouseMove(event) {\n    this.volumeBar.handleMouseMove(event);\n  };\n\n  return VolumeControl;\n}(Component);\n/**\n * Default options for the `VolumeControl`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumeControl.prototype.options_ = {\n  children: ['volumeBar']\n};\nComponent.registerComponent('VolumeControl', VolumeControl);\n/**\n * Check if muting volume is supported and if it isn't hide the mute toggle\n * button.\n *\n * @param {Component} self\n *        A reference to the mute toggle button\n *\n * @param {Player} player\n *        A reference to the player\n *\n * @private\n */\n\nvar checkMuteSupport = function checkMuteSupport(self, player) {\n  // hide mute toggle button if it's not supported by the current tech\n  if (player.tech_ && !player.tech_.featuresMuteControl) {\n    self.addClass('vjs-hidden');\n  }\n\n  self.on(player, 'loadstart', function () {\n    if (!player.tech_.featuresMuteControl) {\n      self.addClass('vjs-hidden');\n    } else {\n      self.removeClass('vjs-hidden');\n    }\n  });\n};\n/**\n * A button component for muting the audio.\n *\n * @extends Button\n */\n\n\nvar MuteToggle =\n/*#__PURE__*/\nfunction (_Button) {\n  _inheritsLoose(MuteToggle, _Button);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function MuteToggle(player, options) {\n    var _this;\n\n    _this = _Button.call(this, player, options) || this; // hide this control if volume support is missing\n\n    checkMuteSupport(_assertThisInitialized(_this), player);\n\n    _this.on(player, ['loadstart', 'volumechange'], _this.update);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = MuteToggle.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-mute-control \" + _Button.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * This gets called when an `MuteToggle` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var vol = this.player_.volume();\n    var lastVolume = this.player_.lastVolume_();\n\n    if (vol === 0) {\n      var volumeToSet = lastVolume < 0.1 ? 0.1 : lastVolume;\n      this.player_.volume(volumeToSet);\n      this.player_.muted(false);\n    } else {\n      this.player_.muted(this.player_.muted() ? false : true);\n    }\n  }\n  /**\n   * Update the `MuteToggle` button based on the state of `volume` and `muted`\n   * on the player.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link Player#loadstart} event if this function was called\n   *        through an event.\n   *\n   * @listens Player#loadstart\n   * @listens Player#volumechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    this.updateIcon_();\n    this.updateControlText_();\n  }\n  /**\n   * Update the appearance of the `MuteToggle` icon.\n   *\n   * Possible states (given `level` variable below):\n   * - 0: crossed out\n   * - 1: zero bars of volume\n   * - 2: one bar of volume\n   * - 3: two bars of volume\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateIcon_ = function updateIcon_() {\n    var vol = this.player_.volume();\n    var level = 3; // in iOS when a player is loaded with muted attribute\n    // and volume is changed with a native mute button\n    // we want to make sure muted state is updated\n\n    if (IS_IOS && this.player_.tech_ && this.player_.tech_.el_) {\n      this.player_.muted(this.player_.tech_.el_.muted);\n    }\n\n    if (vol === 0 || this.player_.muted()) {\n      level = 0;\n    } else if (vol < 0.33) {\n      level = 1;\n    } else if (vol < 0.67) {\n      level = 2;\n    } // TODO improve muted icon classes\n\n\n    for (var i = 0; i < 4; i++) {\n      removeClass(this.el_, \"vjs-vol-\" + i);\n    }\n\n    addClass(this.el_, \"vjs-vol-\" + level);\n  }\n  /**\n   * If `muted` has changed on the player, update the control text\n   * (`title` attribute on `vjs-mute-control` element and content of\n   * `vjs-control-text` element).\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateControlText_ = function updateControlText_() {\n    var soundOff = this.player_.muted() || this.player_.volume() === 0;\n    var text = soundOff ? 'Unmute' : 'Mute';\n\n    if (this.controlText() !== text) {\n      this.controlText(text);\n    }\n  };\n\n  return MuteToggle;\n}(Button);\n/**\n * The text that should display over the `MuteToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nMuteToggle.prototype.controlText_ = 'Mute';\nComponent.registerComponent('MuteToggle', MuteToggle);\n/**\n * A Component to contain the MuteToggle and VolumeControl so that\n * they can work together.\n *\n * @extends Component\n */\n\nvar VolumePanel =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(VolumePanel, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function VolumePanel(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (typeof options.inline !== 'undefined') {\n      options.inline = options.inline;\n    } else {\n      options.inline = true;\n    } // pass the inline option down to the VolumeControl as vertical if\n    // the VolumeControl is on.\n\n\n    if (typeof options.volumeControl === 'undefined' || isPlain(options.volumeControl)) {\n      options.volumeControl = options.volumeControl || {};\n      options.volumeControl.vertical = !options.inline;\n    }\n\n    _this = _Component.call(this, player, options) || this;\n\n    _this.on(player, ['loadstart'], _this.volumePanelState_); // while the slider is active (the mouse has been pressed down and\n    // is dragging) we do not want to hide the VolumeBar\n\n\n    _this.on(_this.volumeControl, ['slideractive'], _this.sliderActive_);\n\n    _this.on(_this.volumeControl, ['sliderinactive'], _this.sliderInactive_);\n\n    return _this;\n  }\n  /**\n   * Add vjs-slider-active class to the VolumePanel\n   *\n   * @listens VolumeControl#slideractive\n   * @private\n   */\n\n\n  var _proto = VolumePanel.prototype;\n\n  _proto.sliderActive_ = function sliderActive_() {\n    this.addClass('vjs-slider-active');\n  }\n  /**\n   * Removes vjs-slider-active class to the VolumePanel\n   *\n   * @listens VolumeControl#sliderinactive\n   * @private\n   */\n  ;\n\n  _proto.sliderInactive_ = function sliderInactive_() {\n    this.removeClass('vjs-slider-active');\n  }\n  /**\n   * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel\n   * depending on MuteToggle and VolumeControl state\n   *\n   * @listens Player#loadstart\n   * @private\n   */\n  ;\n\n  _proto.volumePanelState_ = function volumePanelState_() {\n    // hide volume panel if neither volume control or mute toggle\n    // are displayed\n    if (this.volumeControl.hasClass('vjs-hidden') && this.muteToggle.hasClass('vjs-hidden')) {\n      this.addClass('vjs-hidden');\n    } // if only mute toggle is visible we don't want\n    // volume panel expanding when hovered or active\n\n\n    if (this.volumeControl.hasClass('vjs-hidden') && !this.muteToggle.hasClass('vjs-hidden')) {\n      this.addClass('vjs-mute-toggle-only');\n    }\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var orientationClass = 'vjs-volume-panel-horizontal';\n\n    if (!this.options_.inline) {\n      orientationClass = 'vjs-volume-panel-vertical';\n    }\n\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: \"vjs-volume-panel vjs-control \" + orientationClass\n    });\n  };\n\n  return VolumePanel;\n}(Component);\n/**\n * Default options for the `VolumeControl`\n *\n * @type {Object}\n * @private\n */\n\n\nVolumePanel.prototype.options_ = {\n  children: ['muteToggle', 'volumeControl']\n};\nComponent.registerComponent('VolumePanel', VolumePanel);\n/**\n * The Menu component is used to build popup menus, including subtitle and\n * captions selection menus.\n *\n * @extends Component\n */\n\nvar Menu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Menu, _Component);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Player} player\n   *        the player that this component should attach to\n   *\n   * @param {Object} [options]\n   *        Object of option names and values\n   *\n   */\n\n\n  function Menu(player, options) {\n    var _this;\n\n    _this = _Component.call(this, player, options) || this;\n\n    if (options) {\n      _this.menuButton_ = options.menuButton;\n    }\n\n    _this.focusedChild_ = -1;\n\n    _this.on('keydown', _this.handleKeyDown); // All the menu item instances share the same blur handler provided by the menu container.\n\n\n    _this.boundHandleBlur_ = bind(_assertThisInitialized(_this), _this.handleBlur);\n    _this.boundHandleTapClick_ = bind(_assertThisInitialized(_this), _this.handleTapClick);\n    return _this;\n  }\n  /**\n   * Add event listeners to the {@link MenuItem}.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem` to add listeners to.\n   *\n   */\n\n\n  var _proto = Menu.prototype;\n\n  _proto.addEventListenerForItem = function addEventListenerForItem(component) {\n    if (!(component instanceof Component)) {\n      return;\n    }\n\n    this.on(component, 'blur', this.boundHandleBlur_);\n    this.on(component, ['tap', 'click'], this.boundHandleTapClick_);\n  }\n  /**\n   * Remove event listeners from the {@link MenuItem}.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem` to remove listeners.\n   *\n   */\n  ;\n\n  _proto.removeEventListenerForItem = function removeEventListenerForItem(component) {\n    if (!(component instanceof Component)) {\n      return;\n    }\n\n    this.off(component, 'blur', this.boundHandleBlur_);\n    this.off(component, ['tap', 'click'], this.boundHandleTapClick_);\n  }\n  /**\n   * This method will be called indirectly when the component has been added\n   * before the component adds to the new menu instance by `addItem`.\n   * In this case, the original menu instance will remove the component\n   * by calling `removeChild`.\n   *\n   * @param {Object} component\n   *        The instance of the `MenuItem`\n   */\n  ;\n\n  _proto.removeChild = function removeChild(component) {\n    if (typeof component === 'string') {\n      component = this.getChild(component);\n    }\n\n    this.removeEventListenerForItem(component);\n\n    _Component.prototype.removeChild.call(this, component);\n  }\n  /**\n   * Add a {@link MenuItem} to the menu.\n   *\n   * @param {Object|string} component\n   *        The name or instance of the `MenuItem` to add.\n   *\n   */\n  ;\n\n  _proto.addItem = function addItem(component) {\n    var childComponent = this.addChild(component);\n\n    if (childComponent) {\n      this.addEventListenerForItem(childComponent);\n    }\n  }\n  /**\n   * Create the `Menu`s DOM element.\n   *\n   * @return {Element}\n   *         the element that was created\n   */\n  ;\n\n  _proto.createEl = function createEl$1() {\n    var contentElType = this.options_.contentElType || 'ul';\n    this.contentEl_ = createEl(contentElType, {\n      className: 'vjs-menu-content'\n    });\n    this.contentEl_.setAttribute('role', 'menu');\n\n    var el = _Component.prototype.createEl.call(this, 'div', {\n      append: this.contentEl_,\n      className: 'vjs-menu'\n    });\n\n    el.appendChild(this.contentEl_); // Prevent clicks from bubbling up. Needed for Menu Buttons,\n    // where a click on the parent is significant\n\n    on(el, 'click', function (event) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    });\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.contentEl_ = null;\n    this.boundHandleBlur_ = null;\n    this.boundHandleTapClick_ = null;\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Called when a `MenuItem` loses focus.\n   *\n   * @param {EventTarget~Event} event\n   *        The `blur` event that caused this function to be called.\n   *\n   * @listens blur\n   */\n  ;\n\n  _proto.handleBlur = function handleBlur(event) {\n    var relatedTarget = event.relatedTarget || document.activeElement; // Close menu popup when a user clicks outside the menu\n\n    if (!this.children().some(function (element) {\n      return element.el() === relatedTarget;\n    })) {\n      var btn = this.menuButton_;\n\n      if (btn && btn.buttonPressed_ && relatedTarget !== btn.el().firstChild) {\n        btn.unpressButton();\n      }\n    }\n  }\n  /**\n   * Called when a `MenuItem` gets clicked or tapped.\n   *\n   * @param {EventTarget~Event} event\n   *        The `click` or `tap` event that caused this function to be called.\n   *\n   * @listens click,tap\n   */\n  ;\n\n  _proto.handleTapClick = function handleTapClick(event) {\n    // Unpress the associated MenuButton, and move focus back to it\n    if (this.menuButton_) {\n      this.menuButton_.unpressButton();\n      var childComponents = this.children();\n\n      if (!Array.isArray(childComponents)) {\n        return;\n      }\n\n      var foundComponent = childComponents.filter(function (component) {\n        return component.el() === event.target;\n      })[0];\n\n      if (!foundComponent) {\n        return;\n      } // don't focus menu button if item is a caption settings item\n      // because focus will move elsewhere\n\n\n      if (foundComponent.name() !== 'CaptionSettingsMenuItem') {\n        this.menuButton_.focus();\n      }\n    }\n  }\n  /**\n   * Handle a `keydown` event on this menu. This listener is added in the constructor.\n   *\n   * @param {EventTarget~Event} event\n   *        A `keydown` event that happened on the menu.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Left and Down Arrows\n    if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepForward(); // Up and Right Arrows\n    } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.stepBack();\n    }\n  }\n  /**\n   * Move to next (lower) menu item for keyboard users.\n   */\n  ;\n\n  _proto.stepForward = function stepForward() {\n    var stepChild = 0;\n\n    if (this.focusedChild_ !== undefined) {\n      stepChild = this.focusedChild_ + 1;\n    }\n\n    this.focus(stepChild);\n  }\n  /**\n   * Move to previous (higher) menu item for keyboard users.\n   */\n  ;\n\n  _proto.stepBack = function stepBack() {\n    var stepChild = 0;\n\n    if (this.focusedChild_ !== undefined) {\n      stepChild = this.focusedChild_ - 1;\n    }\n\n    this.focus(stepChild);\n  }\n  /**\n   * Set focus on a {@link MenuItem} in the `Menu`.\n   *\n   * @param {Object|string} [item=0]\n   *        Index of child item set focus on.\n   */\n  ;\n\n  _proto.focus = function focus(item) {\n    if (item === void 0) {\n      item = 0;\n    }\n\n    var children = this.children().slice();\n    var haveTitle = children.length && children[0].className && /vjs-menu-title/.test(children[0].className);\n\n    if (haveTitle) {\n      children.shift();\n    }\n\n    if (children.length > 0) {\n      if (item < 0) {\n        item = 0;\n      } else if (item >= children.length) {\n        item = children.length - 1;\n      }\n\n      this.focusedChild_ = item;\n      children[item].el_.focus();\n    }\n  };\n\n  return Menu;\n}(Component);\n\nComponent.registerComponent('Menu', Menu);\n/**\n * A `MenuButton` class for any popup {@link Menu}.\n *\n * @extends Component\n */\n\nvar MenuButton =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(MenuButton, _Component);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function MenuButton(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Component.call(this, player, options) || this;\n    _this.menuButton_ = new Button(player, options);\n\n    _this.menuButton_.controlText(_this.controlText_);\n\n    _this.menuButton_.el_.setAttribute('aria-haspopup', 'true'); // Add buildCSSClass values to the button, not the wrapper\n\n\n    var buttonClass = Button.prototype.buildCSSClass();\n    _this.menuButton_.el_.className = _this.buildCSSClass() + ' ' + buttonClass;\n\n    _this.menuButton_.removeClass('vjs-control');\n\n    _this.addChild(_this.menuButton_);\n\n    _this.update();\n\n    _this.enabled_ = true;\n\n    _this.on(_this.menuButton_, 'tap', _this.handleClick);\n\n    _this.on(_this.menuButton_, 'click', _this.handleClick);\n\n    _this.on(_this.menuButton_, 'keydown', _this.handleKeyDown);\n\n    _this.on(_this.menuButton_, 'mouseenter', function () {\n      _this.menu.show();\n    });\n\n    _this.on('keydown', _this.handleSubmenuKeyDown);\n\n    return _this;\n  }\n  /**\n   * Update the menu based on the current state of its items.\n   */\n\n\n  var _proto = MenuButton.prototype;\n\n  _proto.update = function update() {\n    var menu = this.createMenu();\n\n    if (this.menu) {\n      this.menu.dispose();\n      this.removeChild(this.menu);\n    }\n\n    this.menu = menu;\n    this.addChild(menu);\n    /**\n     * Track the state of the menu button\n     *\n     * @type {Boolean}\n     * @private\n     */\n\n    this.buttonPressed_ = false;\n    this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n\n    if (this.items && this.items.length <= this.hideThreshold_) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n  /**\n   * Create the menu and add all items to it.\n   *\n   * @return {Menu}\n   *         The constructed menu\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    var menu = new Menu(this.player_, {\n      menuButton: this\n    });\n    /**\n     * Hide the menu if the number of items is less than or equal to this threshold. This defaults\n     * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list\n     * it here because every time we run `createMenu` we need to reset the value.\n     *\n     * @protected\n     * @type {Number}\n     */\n\n    this.hideThreshold_ = 0; // Add a title list item to the top\n\n    if (this.options_.title) {\n      var titleEl = createEl('li', {\n        className: 'vjs-menu-title',\n        innerHTML: toTitleCase(this.options_.title),\n        tabIndex: -1\n      });\n      this.hideThreshold_ += 1;\n      var titleComponent = new Component(this.player_, {\n        el: titleEl\n      });\n      menu.addItem(titleComponent);\n    }\n\n    this.items = this.createItems();\n\n    if (this.items) {\n      // Add menu items to the menu\n      for (var i = 0; i < this.items.length; i++) {\n        menu.addItem(this.items[i]);\n      }\n    }\n\n    return menu;\n  }\n  /**\n   * Create the list of menu items. Specific to each subclass.\n   *\n   * @abstract\n   */\n  ;\n\n  _proto.createItems = function createItems() {}\n  /**\n   * Create the `MenuButtons`s DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildWrapperCSSClass()\n    }, {});\n  }\n  /**\n   * Allow sub components to stack CSS class names for the wrapper element\n   *\n   * @return {string}\n   *         The constructed wrapper DOM `className`\n   */\n  ;\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n    if (this.options_.inline === true) {\n      menuButtonClass += '-inline';\n    } else {\n      menuButtonClass += '-popup';\n    } // TODO: Fix the CSS so that this isn't necessary\n\n\n    var buttonClass = Button.prototype.buildCSSClass();\n    return \"vjs-menu-button \" + menuButtonClass + \" \" + buttonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n    if (this.options_.inline === true) {\n      menuButtonClass += '-inline';\n    } else {\n      menuButtonClass += '-popup';\n    }\n\n    return \"vjs-menu-button \" + menuButtonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Get or set the localized control text that will be used for accessibility.\n   *\n   * > NOTE: This will come from the internal `menuButton_` element.\n   *\n   * @param {string} [text]\n   *        Control text for element.\n   *\n   * @param {Element} [el=this.menuButton_.el()]\n   *        Element to set the title on.\n   *\n   * @return {string}\n   *         - The control text when getting\n   */\n  ;\n\n  _proto.controlText = function controlText(text, el) {\n    if (el === void 0) {\n      el = this.menuButton_.el();\n    }\n\n    return this.menuButton_.controlText(text, el);\n  }\n  /**\n   * Handle a click on a `MenuButton`.\n   * See {@link ClickableComponent#handleClick} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    if (this.buttonPressed_) {\n      this.unpressButton();\n    } else {\n      this.pressButton();\n    }\n  }\n  /**\n   * Set the focus to the actual button, not to this element\n   */\n  ;\n\n  _proto.focus = function focus() {\n    this.menuButton_.focus();\n  }\n  /**\n   * Remove the focus from the actual button, not this element\n   */\n  ;\n\n  _proto.blur = function blur() {\n    this.menuButton_.blur();\n  }\n  /**\n   * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See\n   * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    // Escape or Tab unpress the 'button'\n    if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        event.preventDefault(); // Set focus back to the menu button's button\n\n        this.menuButton_.focus();\n      } // Up Arrow or Down Arrow also 'press' the button to open the menu\n\n    } else if (keycode.isEventKey(event, 'Up') || keycode.isEventKey(event, 'Down')) {\n      if (!this.buttonPressed_) {\n        event.preventDefault();\n        this.pressButton();\n      }\n    }\n  }\n  /**\n   * This method name now delegates to `handleSubmenuKeyDown`. This means\n   * anyone calling `handleSubmenuKeyPress` will not see their method calls\n   * stop working.\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n    this.handleSubmenuKeyDown(event);\n  }\n  /**\n   * Handle a `keydown` event on a sub-menu. The listener for this is added in\n   * the constructor.\n   *\n   * @param {EventTarget~Event} event\n   *        Key press event\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleSubmenuKeyDown = function handleSubmenuKeyDown(event) {\n    // Escape or Tab unpress the 'button'\n    if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        event.preventDefault(); // Set focus back to the menu button's button\n\n        this.menuButton_.focus();\n      }\n    }\n  }\n  /**\n   * Put the current `MenuButton` into a pressed state.\n   */\n  ;\n\n  _proto.pressButton = function pressButton() {\n    if (this.enabled_) {\n      this.buttonPressed_ = true;\n      this.menu.show();\n      this.menu.lockShowing();\n      this.menuButton_.el_.setAttribute('aria-expanded', 'true'); // set the focus into the submenu, except on iOS where it is resulting in\n      // undesired scrolling behavior when the player is in an iframe\n\n      if (IS_IOS && isInFrame()) {\n        // Return early so that the menu isn't focused\n        return;\n      }\n\n      this.menu.focus();\n    }\n  }\n  /**\n   * Take the current `MenuButton` out of a pressed state.\n   */\n  ;\n\n  _proto.unpressButton = function unpressButton() {\n    if (this.enabled_) {\n      this.buttonPressed_ = false;\n      this.menu.unlockShowing();\n      this.menu.hide();\n      this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n    }\n  }\n  /**\n   * Disable the `MenuButton`. Don't allow it to be clicked.\n   */\n  ;\n\n  _proto.disable = function disable() {\n    this.unpressButton();\n    this.enabled_ = false;\n    this.addClass('vjs-disabled');\n    this.menuButton_.disable();\n  }\n  /**\n   * Enable the `MenuButton`. Allow it to be clicked.\n   */\n  ;\n\n  _proto.enable = function enable() {\n    this.enabled_ = true;\n    this.removeClass('vjs-disabled');\n    this.menuButton_.enable();\n  };\n\n  return MenuButton;\n}(Component);\n\nComponent.registerComponent('MenuButton', MenuButton);\n/**\n * The base class for buttons that toggle specific  track types (e.g. subtitles).\n *\n * @extends MenuButton\n */\n\nvar TrackButton =\n/*#__PURE__*/\nfunction (_MenuButton) {\n  _inheritsLoose(TrackButton, _MenuButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function TrackButton(player, options) {\n    var _this;\n\n    var tracks = options.tracks;\n    _this = _MenuButton.call(this, player, options) || this;\n\n    if (_this.items.length <= 1) {\n      _this.hide();\n    }\n\n    if (!tracks) {\n      return _assertThisInitialized(_this);\n    }\n\n    var updateHandler = bind(_assertThisInitialized(_this), _this.update);\n    tracks.addEventListener('removetrack', updateHandler);\n    tracks.addEventListener('addtrack', updateHandler);\n\n    _this.player_.on('ready', updateHandler);\n\n    _this.player_.on('dispose', function () {\n      tracks.removeEventListener('removetrack', updateHandler);\n      tracks.removeEventListener('addtrack', updateHandler);\n    });\n\n    return _this;\n  }\n\n  return TrackButton;\n}(MenuButton);\n\nComponent.registerComponent('TrackButton', TrackButton);\n/**\n * @file menu-keys.js\n */\n\n/**\n  * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)\n  * Note that 'Enter' and 'Space' are not included here (otherwise they would\n  * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)\n  * @typedef MenuKeys\n  * @array\n  */\n\nvar MenuKeys = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'];\n/**\n * The component for a menu item. `<li>`\n *\n * @extends ClickableComponent\n */\n\nvar MenuItem =\n/*#__PURE__*/\nfunction (_ClickableComponent) {\n  _inheritsLoose(MenuItem, _ClickableComponent);\n  /**\n   * Creates an instance of the this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   *\n   */\n\n\n  function MenuItem(player, options) {\n    var _this;\n\n    _this = _ClickableComponent.call(this, player, options) || this;\n    _this.selectable = options.selectable;\n    _this.isSelected_ = options.selected || false;\n    _this.multiSelectable = options.multiSelectable;\n\n    _this.selected(_this.isSelected_);\n\n    if (_this.selectable) {\n      if (_this.multiSelectable) {\n        _this.el_.setAttribute('role', 'menuitemcheckbox');\n      } else {\n        _this.el_.setAttribute('role', 'menuitemradio');\n      }\n    } else {\n      _this.el_.setAttribute('role', 'menuitem');\n    }\n\n    return _this;\n  }\n  /**\n   * Create the `MenuItem's DOM element\n   *\n   * @param {string} [type=li]\n   *        Element's node type, not actually used, always set to `li`.\n   *\n   * @param {Object} [props={}]\n   *        An object of properties that should be set on the element\n   *\n   * @param {Object} [attrs={}]\n   *        An object of attributes that should be set on the element\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n\n\n  var _proto = MenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    // The control is textual, not just an icon\n    this.nonIconControl = true;\n    return _ClickableComponent.prototype.createEl.call(this, 'li', assign({\n      className: 'vjs-menu-item',\n      innerHTML: \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label) + \"</span>\",\n      tabIndex: -1\n    }, props), attrs);\n  }\n  /**\n   * Ignore keys which are used by the menu, but pass any other ones up. See\n   * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    if (!MenuKeys.some(function (key) {\n      return keycode.isEventKey(event, key);\n    })) {\n      // Pass keydown handling up for unused keys\n      _ClickableComponent.prototype.handleKeyDown.call(this, event);\n    }\n  }\n  /**\n   * Any click on a `MenuItem` puts it into the selected state.\n   * See {@link ClickableComponent#handleClick} for instances where this is called.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    this.selected(true);\n  }\n  /**\n   * Set the state for this menu item as selected or not.\n   *\n   * @param {boolean} selected\n   *        if the menu item is selected or not\n   */\n  ;\n\n  _proto.selected = function selected(_selected) {\n    if (this.selectable) {\n      if (_selected) {\n        this.addClass('vjs-selected');\n        this.el_.setAttribute('aria-checked', 'true'); // aria-checked isn't fully supported by browsers/screen readers,\n        // so indicate selected state to screen reader in the control text.\n\n        this.controlText(', selected');\n        this.isSelected_ = true;\n      } else {\n        this.removeClass('vjs-selected');\n        this.el_.setAttribute('aria-checked', 'false'); // Indicate un-selected state to screen reader\n\n        this.controlText('');\n        this.isSelected_ = false;\n      }\n    }\n  };\n\n  return MenuItem;\n}(ClickableComponent);\n\nComponent.registerComponent('MenuItem', MenuItem);\n/**\n * The specific menu item type for selecting a language within a text track kind\n *\n * @extends MenuItem\n */\n\nvar TextTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(TextTrackMenuItem, _MenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function TextTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var tracks = player.textTracks(); // Modify options for parent MenuItem class's init.\n\n    options.label = track.label || track.language || 'Unknown';\n    options.selected = track.mode === 'showing';\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track; // Determine the relevant kind(s) of tracks for this component and filter\n    // out empty kinds.\n\n    _this.kinds = (options.kinds || [options.kind || _this.track.kind]).filter(Boolean);\n\n    var changeHandler = function changeHandler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    var selectedLanguageChangeHandler = function selectedLanguageChangeHandler() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _this.handleSelectedLanguageChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    player.on(['loadstart', 'texttrackchange'], changeHandler);\n    tracks.addEventListener('change', changeHandler);\n    tracks.addEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n\n    _this.on('dispose', function () {\n      player.off(['loadstart', 'texttrackchange'], changeHandler);\n      tracks.removeEventListener('change', changeHandler);\n      tracks.removeEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n    }); // iOS7 doesn't dispatch change events to TextTrackLists when an\n    // associated track's mode changes. Without something like\n    // Object.observe() (also not present on iOS7), it's not\n    // possible to detect changes to the mode attribute and polyfill\n    // the change event. As a poor substitute, we manually dispatch\n    // change events whenever the controls modify the mode.\n\n\n    if (tracks.onchange === undefined) {\n      var event;\n\n      _this.on(['tap', 'click'], function () {\n        if (typeof window$1.Event !== 'object') {\n          // Android 2.3 throws an Illegal Constructor error for window.Event\n          try {\n            event = new window$1.Event('change');\n          } catch (err) {// continue regardless of error\n          }\n        }\n\n        if (!event) {\n          event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n        }\n\n        tracks.dispatchEvent(event);\n      });\n    } // set the default state based on current tracks\n\n\n    _this.handleTracksChange();\n\n    return _this;\n  }\n  /**\n   * This gets called when an `TextTrackMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = TextTrackMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    var referenceTrack = this.track;\n    var tracks = this.player_.textTracks();\n\n    _MenuItem.prototype.handleClick.call(this, event);\n\n    if (!tracks) {\n      return;\n    }\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // If the track from the text tracks list is not of the right kind,\n      // skip it. We do not want to affect tracks of incompatible kind(s).\n\n      if (this.kinds.indexOf(track.kind) === -1) {\n        continue;\n      } // If this text track is the component's track and it is not showing,\n      // set it to showing.\n\n\n      if (track === referenceTrack) {\n        if (track.mode !== 'showing') {\n          track.mode = 'showing';\n        } // If this text track is not the component's track and it is not\n        // disabled, set it to disabled.\n\n      } else if (track.mode !== 'disabled') {\n        track.mode = 'disabled';\n      }\n    }\n  }\n  /**\n   * Handle text track list change\n   *\n   * @param {EventTarget~Event} event\n   *        The `change` event that caused this function to be called.\n   *\n   * @listens TextTrackList#change\n   */\n  ;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var shouldBeSelected = this.track.mode === 'showing'; // Prevent redundant selected() calls because they may cause\n    // screen readers to read the appended control text unnecessarily\n\n    if (shouldBeSelected !== this.isSelected_) {\n      this.selected(shouldBeSelected);\n    }\n  };\n\n  _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n    if (this.track.mode === 'showing') {\n      var selectedLanguage = this.player_.cache_.selectedLanguage; // Don't replace the kind of track across the same language\n\n      if (selectedLanguage && selectedLanguage.enabled && selectedLanguage.language === this.track.language && selectedLanguage.kind !== this.track.kind) {\n        return;\n      }\n\n      this.player_.cache_.selectedLanguage = {\n        enabled: true,\n        language: this.track.language,\n        kind: this.track.kind\n      };\n    }\n  };\n\n  _proto.dispose = function dispose() {\n    // remove reference to track object on dispose\n    this.track = null;\n\n    _MenuItem.prototype.dispose.call(this);\n  };\n\n  return TextTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n/**\n * A special menu item for turning of a specific type of text track\n *\n * @extends TextTrackMenuItem\n */\n\nvar OffTextTrackMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(OffTextTrackMenuItem, _TextTrackMenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function OffTextTrackMenuItem(player, options) {\n    // Create pseudo track info\n    // Requires options['kind']\n    options.track = {\n      player: player,\n      // it is no longer necessary to store `kind` or `kinds` on the track itself\n      // since they are now stored in the `kinds` property of all instances of\n      // TextTrackMenuItem, but this will remain for backwards compatibility\n      kind: options.kind,\n      kinds: options.kinds,\n      \"default\": false,\n      mode: 'disabled'\n    };\n\n    if (!options.kinds) {\n      options.kinds = [options.kind];\n    }\n\n    if (options.label) {\n      options.track.label = options.label;\n    } else {\n      options.track.label = options.kinds.join(' and ') + ' off';\n    } // MenuItem is selectable\n\n\n    options.selectable = true; // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n\n    options.multiSelectable = false;\n    return _TextTrackMenuItem.call(this, player, options) || this;\n  }\n  /**\n   * Handle text track change\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run\n   */\n\n\n  var _proto = OffTextTrackMenuItem.prototype;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var tracks = this.player().textTracks();\n    var shouldBeSelected = true;\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (this.options_.kinds.indexOf(track.kind) > -1 && track.mode === 'showing') {\n        shouldBeSelected = false;\n        break;\n      }\n    } // Prevent redundant selected() calls because they may cause\n    // screen readers to read the appended control text unnecessarily\n\n\n    if (shouldBeSelected !== this.isSelected_) {\n      this.selected(shouldBeSelected);\n    }\n  };\n\n  _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n    var tracks = this.player().textTracks();\n    var allHidden = true;\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (['captions', 'descriptions', 'subtitles'].indexOf(track.kind) > -1 && track.mode === 'showing') {\n        allHidden = false;\n        break;\n      }\n    }\n\n    if (allHidden) {\n      this.player_.cache_.selectedLanguage = {\n        enabled: false\n      };\n    }\n  };\n\n  return OffTextTrackMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n/**\n * The base class for buttons that toggle specific text track types (e.g. subtitles)\n *\n * @extends MenuButton\n */\n\nvar TextTrackButton =\n/*#__PURE__*/\nfunction (_TrackButton) {\n  _inheritsLoose(TextTrackButton, _TrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function TextTrackButton(player, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.tracks = player.textTracks();\n    return _TrackButton.call(this, player, options) || this;\n  }\n  /**\n   * Create a menu item for each text track\n   *\n   * @param {TextTrackMenuItem[]} [items=[]]\n   *        Existing array of items to use during creation\n   *\n   * @return {TextTrackMenuItem[]}\n   *         Array of menu items that were created\n   */\n\n\n  var _proto = TextTrackButton.prototype;\n\n  _proto.createItems = function createItems(items, TrackMenuItem) {\n    if (items === void 0) {\n      items = [];\n    }\n\n    if (TrackMenuItem === void 0) {\n      TrackMenuItem = TextTrackMenuItem;\n    } // Label is an override for the [track] off label\n    // USed to localise captions/subtitles\n\n\n    var label;\n\n    if (this.label_) {\n      label = this.label_ + \" off\";\n    } // Add an OFF menu item to turn all tracks off\n\n\n    items.push(new OffTextTrackMenuItem(this.player_, {\n      kinds: this.kinds_,\n      kind: this.kind_,\n      label: label\n    }));\n    this.hideThreshold_ += 1;\n    var tracks = this.player_.textTracks();\n\n    if (!Array.isArray(this.kinds_)) {\n      this.kinds_ = [this.kind_];\n    }\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // only add tracks that are of an appropriate kind and have a label\n\n      if (this.kinds_.indexOf(track.kind) > -1) {\n        var item = new TrackMenuItem(this.player_, {\n          track: track,\n          kinds: this.kinds_,\n          kind: this.kind_,\n          // MenuItem is selectable\n          selectable: true,\n          // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n          multiSelectable: false\n        });\n        item.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n        items.push(item);\n      }\n    }\n\n    return items;\n  };\n\n  return TextTrackButton;\n}(TrackButton);\n\nComponent.registerComponent('TextTrackButton', TextTrackButton);\n/**\n * The chapter track menu item\n *\n * @extends MenuItem\n */\n\nvar ChaptersTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(ChaptersTrackMenuItem, _MenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function ChaptersTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var cue = options.cue;\n    var currentTime = player.currentTime(); // Modify options for parent MenuItem class's init.\n\n    options.selectable = true;\n    options.multiSelectable = false;\n    options.label = cue.text;\n    options.selected = cue.startTime <= currentTime && currentTime < cue.endTime;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track;\n    _this.cue = cue;\n    track.addEventListener('cuechange', bind(_assertThisInitialized(_this), _this.update));\n    return _this;\n  }\n  /**\n   * This gets called when an `ChaptersTrackMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = ChaptersTrackMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    _MenuItem.prototype.handleClick.call(this);\n\n    this.player_.currentTime(this.cue.startTime);\n    this.update(this.cue.startTime);\n  }\n  /**\n   * Update chapter menu item\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `cuechange` event that caused this function to run.\n   *\n   * @listens TextTrack#cuechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    var cue = this.cue;\n    var currentTime = this.player_.currentTime(); // vjs.log(currentTime, cue.startTime);\n\n    this.selected(cue.startTime <= currentTime && currentTime < cue.endTime);\n  };\n\n  return ChaptersTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n/**\n * The button component for toggling and selecting chapters\n * Chapters act much differently than other text tracks\n * Cues are navigation vs. other tracks of alternative languages\n *\n * @extends TextTrackButton\n */\n\nvar ChaptersButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(ChaptersButton, _TextTrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this function is ready.\n   */\n\n\n  function ChaptersButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = ChaptersButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Update the menu based on the current state of its items.\n   *\n   * @param {EventTarget~Event} [event]\n   *        An event that triggered this function to run.\n   *\n   * @listens TextTrackList#addtrack\n   * @listens TextTrackList#removetrack\n   * @listens TextTrackList#change\n   */\n  ;\n\n  _proto.update = function update(event) {\n    if (!this.track_ || event && (event.type === 'addtrack' || event.type === 'removetrack')) {\n      this.setTrack(this.findChaptersTrack());\n    }\n\n    _TextTrackButton.prototype.update.call(this);\n  }\n  /**\n   * Set the currently selected track for the chapters button.\n   *\n   * @param {TextTrack} track\n   *        The new track to select. Nothing will change if this is the currently selected\n   *        track.\n   */\n  ;\n\n  _proto.setTrack = function setTrack(track) {\n    if (this.track_ === track) {\n      return;\n    }\n\n    if (!this.updateHandler_) {\n      this.updateHandler_ = this.update.bind(this);\n    } // here this.track_ refers to the old track instance\n\n\n    if (this.track_) {\n      var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n      if (remoteTextTrackEl) {\n        remoteTextTrackEl.removeEventListener('load', this.updateHandler_);\n      }\n\n      this.track_ = null;\n    }\n\n    this.track_ = track; // here this.track_ refers to the new track instance\n\n    if (this.track_) {\n      this.track_.mode = 'hidden';\n\n      var _remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n      if (_remoteTextTrackEl) {\n        _remoteTextTrackEl.addEventListener('load', this.updateHandler_);\n      }\n    }\n  }\n  /**\n   * Find the track object that is currently in use by this ChaptersButton\n   *\n   * @return {TextTrack|undefined}\n   *         The current track or undefined if none was found.\n   */\n  ;\n\n  _proto.findChaptersTrack = function findChaptersTrack() {\n    var tracks = this.player_.textTracks() || [];\n\n    for (var i = tracks.length - 1; i >= 0; i--) {\n      // We will always choose the last track as our chaptersTrack\n      var track = tracks[i];\n\n      if (track.kind === this.kind_) {\n        return track;\n      }\n    }\n  }\n  /**\n   * Get the caption for the ChaptersButton based on the track label. This will also\n   * use the current tracks localized kind as a fallback if a label does not exist.\n   *\n   * @return {string}\n   *         The tracks current label or the localized track kind.\n   */\n  ;\n\n  _proto.getMenuCaption = function getMenuCaption() {\n    if (this.track_ && this.track_.label) {\n      return this.track_.label;\n    }\n\n    return this.localize(toTitleCase(this.kind_));\n  }\n  /**\n   * Create menu from chapter track\n   *\n   * @return {Menu}\n   *         New menu for the chapter buttons\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    this.options_.title = this.getMenuCaption();\n    return _TextTrackButton.prototype.createMenu.call(this);\n  }\n  /**\n   * Create a menu item for each text track\n   *\n   * @return {TextTrackMenuItem[]}\n   *         Array of menu items\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!this.track_) {\n      return items;\n    }\n\n    var cues = this.track_.cues;\n\n    if (!cues) {\n      return items;\n    }\n\n    for (var i = 0, l = cues.length; i < l; i++) {\n      var cue = cues[i];\n      var mi = new ChaptersTrackMenuItem(this.player_, {\n        track: this.track_,\n        cue: cue\n      });\n      items.push(mi);\n    }\n\n    return items;\n  };\n\n  return ChaptersButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nChaptersButton.prototype.kind_ = 'chapters';\n/**\n * The text that should display over the `ChaptersButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nChaptersButton.prototype.controlText_ = 'Chapters';\nComponent.registerComponent('ChaptersButton', ChaptersButton);\n/**\n * The button component for toggling and selecting descriptions\n *\n * @extends TextTrackButton\n */\n\nvar DescriptionsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(DescriptionsButton, _TextTrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n\n\n  function DescriptionsButton(player, options, ready) {\n    var _this;\n\n    _this = _TextTrackButton.call(this, player, options, ready) || this;\n    var tracks = player.textTracks();\n    var changeHandler = bind(_assertThisInitialized(_this), _this.handleTracksChange);\n    tracks.addEventListener('change', changeHandler);\n\n    _this.on('dispose', function () {\n      tracks.removeEventListener('change', changeHandler);\n    });\n\n    return _this;\n  }\n  /**\n   * Handle text track change\n   *\n   * @param {EventTarget~Event} event\n   *        The event that caused this function to run\n   *\n   * @listens TextTrackList#change\n   */\n\n\n  var _proto = DescriptionsButton.prototype;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    var tracks = this.player().textTracks();\n    var disabled = false; // Check whether a track of a different kind is showing\n\n    for (var i = 0, l = tracks.length; i < l; i++) {\n      var track = tracks[i];\n\n      if (track.kind !== this.kind_ && track.mode === 'showing') {\n        disabled = true;\n        break;\n      }\n    } // If another track is showing, disable this menu button\n\n\n    if (disabled) {\n      this.disable();\n    } else {\n      this.enable();\n    }\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  };\n\n  return DescriptionsButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nDescriptionsButton.prototype.kind_ = 'descriptions';\n/**\n * The text that should display over the `DescriptionsButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nDescriptionsButton.prototype.controlText_ = 'Descriptions';\nComponent.registerComponent('DescriptionsButton', DescriptionsButton);\n/**\n * The button component for toggling and selecting subtitles\n *\n * @extends TextTrackButton\n */\n\nvar SubtitlesButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(SubtitlesButton, _TextTrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n\n\n  function SubtitlesButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = SubtitlesButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  };\n\n  return SubtitlesButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nSubtitlesButton.prototype.kind_ = 'subtitles';\n/**\n * The text that should display over the `SubtitlesButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nSubtitlesButton.prototype.controlText_ = 'Subtitles';\nComponent.registerComponent('SubtitlesButton', SubtitlesButton);\n/**\n * The menu item for caption track settings menu\n *\n * @extends TextTrackMenuItem\n */\n\nvar CaptionSettingsMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(CaptionSettingsMenuItem, _TextTrackMenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function CaptionSettingsMenuItem(player, options) {\n    var _this;\n\n    options.track = {\n      player: player,\n      kind: options.kind,\n      label: options.kind + ' settings',\n      selectable: false,\n      \"default\": false,\n      mode: 'disabled'\n    }; // CaptionSettingsMenuItem has no concept of 'selected'\n\n    options.selectable = false;\n    options.name = 'CaptionSettingsMenuItem';\n    _this = _TextTrackMenuItem.call(this, player, options) || this;\n\n    _this.addClass('vjs-texttrack-settings');\n\n    _this.controlText(', opens ' + options.kind + ' settings dialog');\n\n    return _this;\n  }\n  /**\n   * This gets called when an `CaptionSettingsMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = CaptionSettingsMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    this.player().getChild('textTrackSettings').open();\n  };\n\n  return CaptionSettingsMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n/**\n * The button component for toggling and selecting captions\n *\n * @extends TextTrackButton\n */\n\nvar CaptionsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(CaptionsButton, _TextTrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        The function to call when this component is ready.\n   */\n\n\n  function CaptionsButton(player, options, ready) {\n    return _TextTrackButton.call(this, player, options, ready) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = CaptionsButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-captions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-captions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create caption menu items\n   *\n   * @return {CaptionSettingsMenuItem[]}\n   *         The array of current menu items.\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n      items.push(new CaptionSettingsMenuItem(this.player_, {\n        kind: this.kind_\n      }));\n      this.hideThreshold_ += 1;\n    }\n\n    return _TextTrackButton.prototype.createItems.call(this, items);\n  };\n\n  return CaptionsButton;\n}(TextTrackButton);\n/**\n * `kind` of TextTrack to look for to associate it with this menu.\n *\n * @type {string}\n * @private\n */\n\n\nCaptionsButton.prototype.kind_ = 'captions';\n/**\n * The text that should display over the `CaptionsButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\nCaptionsButton.prototype.controlText_ = 'Captions';\nComponent.registerComponent('CaptionsButton', CaptionsButton);\n/**\n * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles\n * in the SubsCapsMenu.\n *\n * @extends TextTrackMenuItem\n */\n\nvar SubsCapsMenuItem =\n/*#__PURE__*/\nfunction (_TextTrackMenuItem) {\n  _inheritsLoose(SubsCapsMenuItem, _TextTrackMenuItem);\n\n  function SubsCapsMenuItem() {\n    return _TextTrackMenuItem.apply(this, arguments) || this;\n  }\n\n  var _proto = SubsCapsMenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n    if (this.options_.track.kind === 'captions') {\n      innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Captions') + \"</span>\\n      \";\n    }\n\n    innerHTML += '</span>';\n\n    var el = _TextTrackMenuItem.prototype.createEl.call(this, type, assign({\n      innerHTML: innerHTML\n    }, props), attrs);\n\n    return el;\n  };\n\n  return SubsCapsMenuItem;\n}(TextTrackMenuItem);\n\nComponent.registerComponent('SubsCapsMenuItem', SubsCapsMenuItem);\n/**\n * The button component for toggling and selecting captions and/or subtitles\n *\n * @extends TextTrackButton\n */\n\nvar SubsCapsButton =\n/*#__PURE__*/\nfunction (_TextTrackButton) {\n  _inheritsLoose(SubsCapsButton, _TextTrackButton);\n\n  function SubsCapsButton(player, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _TextTrackButton.call(this, player, options) || this; // Although North America uses \"captions\" in most cases for\n    // \"captions and subtitles\" other locales use \"subtitles\"\n\n    _this.label_ = 'subtitles';\n\n    if (['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(_this.player_.language_) > -1) {\n      _this.label_ = 'captions';\n    }\n\n    _this.menuButton_.controlText(toTitleCase(_this.label_));\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = SubsCapsButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create caption/subtitles menu items\n   *\n   * @return {CaptionSettingsMenuItem[]}\n   *         The array of current menu items.\n   */\n  ;\n\n  _proto.createItems = function createItems() {\n    var items = [];\n\n    if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n      items.push(new CaptionSettingsMenuItem(this.player_, {\n        kind: this.label_\n      }));\n      this.hideThreshold_ += 1;\n    }\n\n    items = _TextTrackButton.prototype.createItems.call(this, items, SubsCapsMenuItem);\n    return items;\n  };\n\n  return SubsCapsButton;\n}(TextTrackButton);\n/**\n * `kind`s of TextTrack to look for to associate it with this menu.\n *\n * @type {array}\n * @private\n */\n\n\nSubsCapsButton.prototype.kinds_ = ['captions', 'subtitles'];\n/**\n * The text that should display over the `SubsCapsButton`s controls.\n *\n *\n * @type {string}\n * @private\n */\n\nSubsCapsButton.prototype.controlText_ = 'Subtitles';\nComponent.registerComponent('SubsCapsButton', SubsCapsButton);\n/**\n * An {@link AudioTrack} {@link MenuItem}\n *\n * @extends MenuItem\n */\n\nvar AudioTrackMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(AudioTrackMenuItem, _MenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function AudioTrackMenuItem(player, options) {\n    var _this;\n\n    var track = options.track;\n    var tracks = player.audioTracks(); // Modify options for parent MenuItem class's init.\n\n    options.label = track.label || track.language || 'Unknown';\n    options.selected = track.enabled;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.track = track;\n\n    _this.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n\n    var changeHandler = function changeHandler() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this.handleTracksChange.apply(_assertThisInitialized(_this), args);\n    };\n\n    tracks.addEventListener('change', changeHandler);\n\n    _this.on('dispose', function () {\n      tracks.removeEventListener('change', changeHandler);\n    });\n\n    return _this;\n  }\n\n  var _proto = AudioTrackMenuItem.prototype;\n\n  _proto.createEl = function createEl(type, props, attrs) {\n    var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n    if (this.options_.track.kind === 'main-desc') {\n      innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Descriptions') + \"</span>\\n      \";\n    }\n\n    innerHTML += '</span>';\n\n    var el = _MenuItem.prototype.createEl.call(this, type, assign({\n      innerHTML: innerHTML\n    }, props), attrs);\n\n    return el;\n  }\n  /**\n   * This gets called when an `AudioTrackMenuItem is \"clicked\". See {@link ClickableComponent}\n   * for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    var tracks = this.player_.audioTracks();\n\n    _MenuItem.prototype.handleClick.call(this, event);\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i];\n      track.enabled = track === this.track;\n    }\n  }\n  /**\n   * Handle any {@link AudioTrack} change.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The {@link AudioTrackList#change} event that caused this to run.\n   *\n   * @listens AudioTrackList#change\n   */\n  ;\n\n  _proto.handleTracksChange = function handleTracksChange(event) {\n    this.selected(this.track.enabled);\n  };\n\n  return AudioTrackMenuItem;\n}(MenuItem);\n\nComponent.registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n/**\n * The base class for buttons that toggle specific {@link AudioTrack} types.\n *\n * @extends TrackButton\n */\n\nvar AudioTrackButton =\n/*#__PURE__*/\nfunction (_TrackButton) {\n  _inheritsLoose(AudioTrackButton, _TrackButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options={}]\n   *        The key/value store of player options.\n   */\n\n\n  function AudioTrackButton(player, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    options.tracks = player.audioTracks();\n    return _TrackButton.call(this, player, options) || this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n\n  var _proto = AudioTrackButton.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-audio-button \" + _TrackButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-audio-button \" + _TrackButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create a menu item for each audio track\n   *\n   * @param {AudioTrackMenuItem[]} [items=[]]\n   *        An array of existing menu items to use.\n   *\n   * @return {AudioTrackMenuItem[]}\n   *         An array of menu items\n   */\n  ;\n\n  _proto.createItems = function createItems(items) {\n    if (items === void 0) {\n      items = [];\n    } // if there's only one audio track, there no point in showing it\n\n\n    this.hideThreshold_ = 1;\n    var tracks = this.player_.audioTracks();\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i];\n      items.push(new AudioTrackMenuItem(this.player_, {\n        track: track,\n        // MenuItem is selectable\n        selectable: true,\n        // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n        multiSelectable: false\n      }));\n    }\n\n    return items;\n  };\n\n  return AudioTrackButton;\n}(TrackButton);\n/**\n * The text that should display over the `AudioTrackButton`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nAudioTrackButton.prototype.controlText_ = 'Audio Track';\nComponent.registerComponent('AudioTrackButton', AudioTrackButton);\n/**\n * The specific menu item type for selecting a playback rate.\n *\n * @extends MenuItem\n */\n\nvar PlaybackRateMenuItem =\n/*#__PURE__*/\nfunction (_MenuItem) {\n  _inheritsLoose(PlaybackRateMenuItem, _MenuItem);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function PlaybackRateMenuItem(player, options) {\n    var _this;\n\n    var label = options.rate;\n    var rate = parseFloat(label, 10); // Modify options for parent MenuItem class's init.\n\n    options.label = label;\n    options.selected = rate === 1;\n    options.selectable = true;\n    options.multiSelectable = false;\n    _this = _MenuItem.call(this, player, options) || this;\n    _this.label = label;\n    _this.rate = rate;\n\n    _this.on(player, 'ratechange', _this.update);\n\n    return _this;\n  }\n  /**\n   * This gets called when an `PlaybackRateMenuItem` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n\n\n  var _proto = PlaybackRateMenuItem.prototype;\n\n  _proto.handleClick = function handleClick(event) {\n    _MenuItem.prototype.handleClick.call(this);\n\n    this.player().playbackRate(this.rate);\n  }\n  /**\n   * Update the PlaybackRateMenuItem when the playbackrate changes.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `ratechange` event that caused this function to run.\n   *\n   * @listens Player#ratechange\n   */\n  ;\n\n  _proto.update = function update(event) {\n    this.selected(this.player().playbackRate() === this.rate);\n  };\n\n  return PlaybackRateMenuItem;\n}(MenuItem);\n/**\n * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlaybackRateMenuItem.prototype.contentElType = 'button';\nComponent.registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n/**\n * The component for controlling the playback rate.\n *\n * @extends MenuButton\n */\n\nvar PlaybackRateMenuButton =\n/*#__PURE__*/\nfunction (_MenuButton) {\n  _inheritsLoose(PlaybackRateMenuButton, _MenuButton);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of player options.\n   */\n\n\n  function PlaybackRateMenuButton(player, options) {\n    var _this;\n\n    _this = _MenuButton.call(this, player, options) || this;\n\n    _this.updateVisibility();\n\n    _this.updateLabel();\n\n    _this.on(player, 'loadstart', _this.updateVisibility);\n\n    _this.on(player, 'ratechange', _this.updateLabel);\n\n    return _this;\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  var _proto = PlaybackRateMenuButton.prototype;\n\n  _proto.createEl = function createEl$1() {\n    var el = _MenuButton.prototype.createEl.call(this);\n\n    this.labelEl_ = createEl('div', {\n      className: 'vjs-playback-rate-value',\n      innerHTML: '1x'\n    });\n    el.appendChild(this.labelEl_);\n    return el;\n  };\n\n  _proto.dispose = function dispose() {\n    this.labelEl_ = null;\n\n    _MenuButton.prototype.dispose.call(this);\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n  ;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-playback-rate \" + _MenuButton.prototype.buildCSSClass.call(this);\n  };\n\n  _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n    return \"vjs-playback-rate \" + _MenuButton.prototype.buildWrapperCSSClass.call(this);\n  }\n  /**\n   * Create the playback rate menu\n   *\n   * @return {Menu}\n   *         Menu object populated with {@link PlaybackRateMenuItem}s\n   */\n  ;\n\n  _proto.createMenu = function createMenu() {\n    var menu = new Menu(this.player());\n    var rates = this.playbackRates();\n\n    if (rates) {\n      for (var i = rates.length - 1; i >= 0; i--) {\n        menu.addChild(new PlaybackRateMenuItem(this.player(), {\n          rate: rates[i] + 'x'\n        }));\n      }\n    }\n\n    return menu;\n  }\n  /**\n   * Updates ARIA accessibility attributes\n   */\n  ;\n\n  _proto.updateARIAAttributes = function updateARIAAttributes() {\n    // Current playback rate\n    this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n  }\n  /**\n   * This gets called when an `PlaybackRateMenuButton` is \"clicked\". See\n   * {@link ClickableComponent} for more detailed information on what a click can be.\n   *\n   * @param {EventTarget~Event} [event]\n   *        The `keydown`, `tap`, or `click` event that caused this function to be\n   *        called.\n   *\n   * @listens tap\n   * @listens click\n   */\n  ;\n\n  _proto.handleClick = function handleClick(event) {\n    // select next rate option\n    var currentRate = this.player().playbackRate();\n    var rates = this.playbackRates(); // this will select first one if the last one currently selected\n\n    var newRate = rates[0];\n\n    for (var i = 0; i < rates.length; i++) {\n      if (rates[i] > currentRate) {\n        newRate = rates[i];\n        break;\n      }\n    }\n\n    this.player().playbackRate(newRate);\n  }\n  /**\n   * Get possible playback rates\n   *\n   * @return {Array}\n   *         All possible playback rates\n   */\n  ;\n\n  _proto.playbackRates = function playbackRates() {\n    return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates;\n  }\n  /**\n   * Get whether playback rates is supported by the tech\n   * and an array of playback rates exists\n   *\n   * @return {boolean}\n   *         Whether changing playback rate is supported\n   */\n  ;\n\n  _proto.playbackRateSupported = function playbackRateSupported() {\n    return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;\n  }\n  /**\n   * Hide playback rate controls when they're no playback rate options to select\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#loadstart\n   */\n  ;\n\n  _proto.updateVisibility = function updateVisibility(event) {\n    if (this.playbackRateSupported()) {\n      this.removeClass('vjs-hidden');\n    } else {\n      this.addClass('vjs-hidden');\n    }\n  }\n  /**\n   * Update button label when rate changed\n   *\n   * @param {EventTarget~Event} [event]\n   *        The event that caused this function to run.\n   *\n   * @listens Player#ratechange\n   */\n  ;\n\n  _proto.updateLabel = function updateLabel(event) {\n    if (this.playbackRateSupported()) {\n      this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n    }\n  };\n\n  return PlaybackRateMenuButton;\n}(MenuButton);\n/**\n * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n *\n * @type {string}\n * @private\n */\n\n\nPlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\nComponent.registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n/**\n * Just an empty spacer element that can be used as an append point for plugins, etc.\n * Also can be used to create space between elements when necessary.\n *\n * @extends Component\n */\n\nvar Spacer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Spacer, _Component);\n\n  function Spacer() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Spacer.prototype;\n  /**\n  * Builds the default DOM `className`.\n  *\n  * @return {string}\n  *         The DOM `className` for this object.\n  */\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-spacer \" + _Component.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: this.buildCSSClass()\n    });\n  };\n\n  return Spacer;\n}(Component);\n\nComponent.registerComponent('Spacer', Spacer);\n/**\n * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n *\n * @extends Spacer\n */\n\nvar CustomControlSpacer =\n/*#__PURE__*/\nfunction (_Spacer) {\n  _inheritsLoose(CustomControlSpacer, _Spacer);\n\n  function CustomControlSpacer() {\n    return _Spacer.apply(this, arguments) || this;\n  }\n\n  var _proto = CustomControlSpacer.prototype;\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   */\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-custom-control-spacer \" + _Spacer.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var el = _Spacer.prototype.createEl.call(this, {\n      className: this.buildCSSClass()\n    }); // No-flex/table-cell mode requires there be some content\n    // in the cell to fill the remaining space of the table.\n\n\n    el.innerHTML = \"\\xA0\";\n    return el;\n  };\n\n  return CustomControlSpacer;\n}(Spacer);\n\nComponent.registerComponent('CustomControlSpacer', CustomControlSpacer);\n/**\n * Container of main controls.\n *\n * @extends Component\n */\n\nvar ControlBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ControlBar, _Component);\n\n  function ControlBar() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ControlBar.prototype;\n  /**\n   * Create the `Component`'s DOM element\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'div', {\n      className: 'vjs-control-bar',\n      dir: 'ltr'\n    });\n  };\n\n  return ControlBar;\n}(Component);\n/**\n * Default options for `ControlBar`\n *\n * @type {Object}\n * @private\n */\n\n\nControlBar.prototype.options_ = {\n  children: ['playToggle', 'volumePanel', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'seekToLive', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subsCapsButton', 'audioTrackButton', 'pictureInPictureToggle', 'fullscreenToggle']\n};\nComponent.registerComponent('ControlBar', ControlBar);\n/**\n * A display that indicates an error has occurred. This means that the video\n * is unplayable.\n *\n * @extends ModalDialog\n */\n\nvar ErrorDisplay =\n/*#__PURE__*/\nfunction (_ModalDialog) {\n  _inheritsLoose(ErrorDisplay, _ModalDialog);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param  {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param  {Object} [options]\n   *         The key/value store of player options.\n   */\n\n\n  function ErrorDisplay(player, options) {\n    var _this;\n\n    _this = _ModalDialog.call(this, player, options) || this;\n\n    _this.on(player, 'error', _this.open);\n\n    return _this;\n  }\n  /**\n   * Builds the default DOM `className`.\n   *\n   * @return {string}\n   *         The DOM `className` for this object.\n   *\n   * @deprecated Since version 5.\n   */\n\n\n  var _proto = ErrorDisplay.prototype;\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return \"vjs-error-display \" + _ModalDialog.prototype.buildCSSClass.call(this);\n  }\n  /**\n   * Gets the localized error message based on the `Player`s error.\n   *\n   * @return {string}\n   *         The `Player`s error message localized or an empty string.\n   */\n  ;\n\n  _proto.content = function content() {\n    var error = this.player().error();\n    return error ? this.localize(error.message) : '';\n  };\n\n  return ErrorDisplay;\n}(ModalDialog);\n/**\n * The default options for an `ErrorDisplay`.\n *\n * @private\n */\n\n\nErrorDisplay.prototype.options_ = mergeOptions(ModalDialog.prototype.options_, {\n  pauseOnOpen: false,\n  fillAlways: true,\n  temporary: false,\n  uncloseable: true\n});\nComponent.registerComponent('ErrorDisplay', ErrorDisplay);\nvar LOCAL_STORAGE_KEY = 'vjs-text-track-settings';\nvar COLOR_BLACK = ['#000', 'Black'];\nvar COLOR_BLUE = ['#00F', 'Blue'];\nvar COLOR_CYAN = ['#0FF', 'Cyan'];\nvar COLOR_GREEN = ['#0F0', 'Green'];\nvar COLOR_MAGENTA = ['#F0F', 'Magenta'];\nvar COLOR_RED = ['#F00', 'Red'];\nvar COLOR_WHITE = ['#FFF', 'White'];\nvar COLOR_YELLOW = ['#FF0', 'Yellow'];\nvar OPACITY_OPAQUE = ['1', 'Opaque'];\nvar OPACITY_SEMI = ['0.5', 'Semi-Transparent'];\nvar OPACITY_TRANS = ['0', 'Transparent']; // Configuration for the various <select> elements in the DOM of this component.\n//\n// Possible keys include:\n//\n// `default`:\n//   The default option index. Only needs to be provided if not zero.\n// `parser`:\n//   A function which is used to parse the value from the selected option in\n//   a customized way.\n// `selector`:\n//   The selector used to find the associated <select> element.\n\nvar selectConfigs = {\n  backgroundColor: {\n    selector: '.vjs-bg-color > select',\n    id: 'captions-background-color-%s',\n    label: 'Color',\n    options: [COLOR_BLACK, COLOR_WHITE, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n  },\n  backgroundOpacity: {\n    selector: '.vjs-bg-opacity > select',\n    id: 'captions-background-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_OPAQUE, OPACITY_SEMI, OPACITY_TRANS]\n  },\n  color: {\n    selector: '.vjs-fg-color > select',\n    id: 'captions-foreground-color-%s',\n    label: 'Color',\n    options: [COLOR_WHITE, COLOR_BLACK, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n  },\n  edgeStyle: {\n    selector: '.vjs-edge-style > select',\n    id: '%s',\n    label: 'Text Edge Style',\n    options: [['none', 'None'], ['raised', 'Raised'], ['depressed', 'Depressed'], ['uniform', 'Uniform'], ['dropshadow', 'Dropshadow']]\n  },\n  fontFamily: {\n    selector: '.vjs-font-family > select',\n    id: 'captions-font-family-%s',\n    label: 'Font Family',\n    options: [['proportionalSansSerif', 'Proportional Sans-Serif'], ['monospaceSansSerif', 'Monospace Sans-Serif'], ['proportionalSerif', 'Proportional Serif'], ['monospaceSerif', 'Monospace Serif'], ['casual', 'Casual'], ['script', 'Script'], ['small-caps', 'Small Caps']]\n  },\n  fontPercent: {\n    selector: '.vjs-font-percent > select',\n    id: 'captions-font-size-%s',\n    label: 'Font Size',\n    options: [['0.50', '50%'], ['0.75', '75%'], ['1.00', '100%'], ['1.25', '125%'], ['1.50', '150%'], ['1.75', '175%'], ['2.00', '200%'], ['3.00', '300%'], ['4.00', '400%']],\n    \"default\": 2,\n    parser: function parser(v) {\n      return v === '1.00' ? null : Number(v);\n    }\n  },\n  textOpacity: {\n    selector: '.vjs-text-opacity > select',\n    id: 'captions-foreground-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_OPAQUE, OPACITY_SEMI]\n  },\n  // Options for this object are defined below.\n  windowColor: {\n    selector: '.vjs-window-color > select',\n    id: 'captions-window-color-%s',\n    label: 'Color'\n  },\n  // Options for this object are defined below.\n  windowOpacity: {\n    selector: '.vjs-window-opacity > select',\n    id: 'captions-window-opacity-%s',\n    label: 'Transparency',\n    options: [OPACITY_TRANS, OPACITY_SEMI, OPACITY_OPAQUE]\n  }\n};\nselectConfigs.windowColor.options = selectConfigs.backgroundColor.options;\n/**\n * Get the actual value of an option.\n *\n * @param  {string} value\n *         The value to get\n *\n * @param  {Function} [parser]\n *         Optional function to adjust the value.\n *\n * @return {Mixed}\n *         - Will be `undefined` if no value exists\n *         - Will be `undefined` if the given value is \"none\".\n *         - Will be the actual value otherwise.\n *\n * @private\n */\n\nfunction parseOptionValue(value, parser) {\n  if (parser) {\n    value = parser(value);\n  }\n\n  if (value && value !== 'none') {\n    return value;\n  }\n}\n/**\n * Gets the value of the selected <option> element within a <select> element.\n *\n * @param  {Element} el\n *         the element to look in\n *\n * @param  {Function} [parser]\n *         Optional function to adjust the value.\n *\n * @return {Mixed}\n *         - Will be `undefined` if no value exists\n *         - Will be `undefined` if the given value is \"none\".\n *         - Will be the actual value otherwise.\n *\n * @private\n */\n\n\nfunction getSelectedOptionValue(el, parser) {\n  var value = el.options[el.options.selectedIndex].value;\n  return parseOptionValue(value, parser);\n}\n/**\n * Sets the selected <option> element within a <select> element based on a\n * given value.\n *\n * @param {Element} el\n *        The element to look in.\n *\n * @param {string} value\n *        the property to look on.\n *\n * @param {Function} [parser]\n *        Optional function to adjust the value before comparing.\n *\n * @private\n */\n\n\nfunction setSelectedOption(el, value, parser) {\n  if (!value) {\n    return;\n  }\n\n  for (var i = 0; i < el.options.length; i++) {\n    if (parseOptionValue(el.options[i].value, parser) === value) {\n      el.selectedIndex = i;\n      break;\n    }\n  }\n}\n/**\n * Manipulate Text Tracks settings.\n *\n * @extends ModalDialog\n */\n\n\nvar TextTrackSettings =\n/*#__PURE__*/\nfunction (_ModalDialog) {\n  _inheritsLoose(TextTrackSettings, _ModalDialog);\n  /**\n   * Creates an instance of this class.\n   *\n   * @param {Player} player\n   *         The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *         The key/value store of player options.\n   */\n\n\n  function TextTrackSettings(player, options) {\n    var _this;\n\n    options.temporary = false;\n    _this = _ModalDialog.call(this, player, options) || this;\n    _this.updateDisplay = bind(_assertThisInitialized(_this), _this.updateDisplay); // fill the modal and pretend we have opened it\n\n    _this.fill();\n\n    _this.hasBeenOpened_ = _this.hasBeenFilled_ = true;\n    _this.endDialog = createEl('p', {\n      className: 'vjs-control-text',\n      textContent: _this.localize('End of dialog window.')\n    });\n\n    _this.el().appendChild(_this.endDialog);\n\n    _this.setDefaults(); // Grab `persistTextTrackSettings` from the player options if not passed in child options\n\n\n    if (options.persistTextTrackSettings === undefined) {\n      _this.options_.persistTextTrackSettings = _this.options_.playerOptions.persistTextTrackSettings;\n    }\n\n    _this.on(_this.$('.vjs-done-button'), 'click', function () {\n      _this.saveSettings();\n\n      _this.close();\n    });\n\n    _this.on(_this.$('.vjs-default-button'), 'click', function () {\n      _this.setDefaults();\n\n      _this.updateDisplay();\n    });\n\n    each(selectConfigs, function (config) {\n      _this.on(_this.$(config.selector), 'change', _this.updateDisplay);\n    });\n\n    if (_this.options_.persistTextTrackSettings) {\n      _this.restoreSettings();\n    }\n\n    return _this;\n  }\n\n  var _proto = TextTrackSettings.prototype;\n\n  _proto.dispose = function dispose() {\n    this.endDialog = null;\n\n    _ModalDialog.prototype.dispose.call(this);\n  }\n  /**\n   * Create a <select> element with configured options.\n   *\n   * @param {string} key\n   *        Configuration key to use during creation.\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElSelect_ = function createElSelect_(key, legendId, type) {\n    var _this2 = this;\n\n    if (legendId === void 0) {\n      legendId = '';\n    }\n\n    if (type === void 0) {\n      type = 'label';\n    }\n\n    var config = selectConfigs[key];\n    var id = config.id.replace('%s', this.id_);\n    var selectLabelledbyIds = [legendId, id].join(' ').trim();\n    return [\"<\" + type + \" id=\\\"\" + id + \"\\\" class=\\\"\" + (type === 'label' ? 'vjs-label' : '') + \"\\\">\", this.localize(config.label), \"</\" + type + \">\", \"<select aria-labelledby=\\\"\" + selectLabelledbyIds + \"\\\">\"].concat(config.options.map(function (o) {\n      var optionId = id + '-' + o[1].replace(/\\W+/g, '');\n      return [\"<option id=\\\"\" + optionId + \"\\\" value=\\\"\" + o[0] + \"\\\" \", \"aria-labelledby=\\\"\" + selectLabelledbyIds + \" \" + optionId + \"\\\">\", _this2.localize(o[1]), '</option>'].join('');\n    })).concat('</select>').join('');\n  }\n  /**\n   * Create foreground color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElFgColor_ = function createElFgColor_() {\n    var legendId = \"captions-text-legend-\" + this.id_;\n    return ['<fieldset class=\"vjs-fg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Text'), '</legend>', this.createElSelect_('color', legendId), '<span class=\"vjs-text-opacity vjs-opacity\">', this.createElSelect_('textOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create background color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElBgColor_ = function createElBgColor_() {\n    var legendId = \"captions-background-\" + this.id_;\n    return ['<fieldset class=\"vjs-bg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Background'), '</legend>', this.createElSelect_('backgroundColor', legendId), '<span class=\"vjs-bg-opacity vjs-opacity\">', this.createElSelect_('backgroundOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create window color element for the component\n   *\n   * @return {string}\n   *         An HTML string.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElWinColor_ = function createElWinColor_() {\n    var legendId = \"captions-window-\" + this.id_;\n    return ['<fieldset class=\"vjs-window-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Window'), '</legend>', this.createElSelect_('windowColor', legendId), '<span class=\"vjs-window-opacity vjs-opacity\">', this.createElSelect_('windowOpacity', legendId), '</span>', '</fieldset>'].join('');\n  }\n  /**\n   * Create color elements for the component\n   *\n   * @return {Element}\n   *         The element that was created\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElColors_ = function createElColors_() {\n    return createEl('div', {\n      className: 'vjs-track-settings-colors',\n      innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join('')\n    });\n  }\n  /**\n   * Create font elements for the component\n   *\n   * @return {Element}\n   *         The element that was created.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElFont_ = function createElFont_() {\n    return createEl('div', {\n      className: 'vjs-track-settings-font',\n      innerHTML: ['<fieldset class=\"vjs-font-percent vjs-track-setting\">', this.createElSelect_('fontPercent', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-edge-style vjs-track-setting\">', this.createElSelect_('edgeStyle', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-font-family vjs-track-setting\">', this.createElSelect_('fontFamily', '', 'legend'), '</fieldset>'].join('')\n    });\n  }\n  /**\n   * Create controls for the component\n   *\n   * @return {Element}\n   *         The element that was created.\n   *\n   * @private\n   */\n  ;\n\n  _proto.createElControls_ = function createElControls_() {\n    var defaultsDescription = this.localize('restore all settings to the default values');\n    return createEl('div', {\n      className: 'vjs-track-settings-controls',\n      innerHTML: [\"<button type=\\\"button\\\" class=\\\"vjs-default-button\\\" title=\\\"\" + defaultsDescription + \"\\\">\", this.localize('Reset'), \"<span class=\\\"vjs-control-text\\\"> \" + defaultsDescription + \"</span>\", '</button>', \"<button type=\\\"button\\\" class=\\\"vjs-done-button\\\">\" + this.localize('Done') + \"</button>\"].join('')\n    });\n  };\n\n  _proto.content = function content() {\n    return [this.createElColors_(), this.createElFont_(), this.createElControls_()];\n  };\n\n  _proto.label = function label() {\n    return this.localize('Caption Settings Dialog');\n  };\n\n  _proto.description = function description() {\n    return this.localize('Beginning of dialog window. Escape will cancel and close the window.');\n  };\n\n  _proto.buildCSSClass = function buildCSSClass() {\n    return _ModalDialog.prototype.buildCSSClass.call(this) + ' vjs-text-track-settings';\n  }\n  /**\n   * Gets an object of text track settings (or null).\n   *\n   * @return {Object}\n   *         An object with config values parsed from the DOM or localStorage.\n   */\n  ;\n\n  _proto.getValues = function getValues() {\n    var _this3 = this;\n\n    return reduce(selectConfigs, function (accum, config, key) {\n      var value = getSelectedOptionValue(_this3.$(config.selector), config.parser);\n\n      if (value !== undefined) {\n        accum[key] = value;\n      }\n\n      return accum;\n    }, {});\n  }\n  /**\n   * Sets text track settings from an object of values.\n   *\n   * @param {Object} values\n   *        An object with config values parsed from the DOM or localStorage.\n   */\n  ;\n\n  _proto.setValues = function setValues(values) {\n    var _this4 = this;\n\n    each(selectConfigs, function (config, key) {\n      setSelectedOption(_this4.$(config.selector), values[key], config.parser);\n    });\n  }\n  /**\n   * Sets all `<select>` elements to their default values.\n   */\n  ;\n\n  _proto.setDefaults = function setDefaults() {\n    var _this5 = this;\n\n    each(selectConfigs, function (config) {\n      var index = config.hasOwnProperty('default') ? config[\"default\"] : 0;\n      _this5.$(config.selector).selectedIndex = index;\n    });\n  }\n  /**\n   * Restore texttrack settings from localStorage\n   */\n  ;\n\n  _proto.restoreSettings = function restoreSettings() {\n    var values;\n\n    try {\n      values = JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));\n    } catch (err) {\n      log.warn(err);\n    }\n\n    if (values) {\n      this.setValues(values);\n    }\n  }\n  /**\n   * Save text track settings to localStorage\n   */\n  ;\n\n  _proto.saveSettings = function saveSettings() {\n    if (!this.options_.persistTextTrackSettings) {\n      return;\n    }\n\n    var values = this.getValues();\n\n    try {\n      if (Object.keys(values).length) {\n        window$1.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(values));\n      } else {\n        window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);\n      }\n    } catch (err) {\n      log.warn(err);\n    }\n  }\n  /**\n   * Update display of text track settings\n   */\n  ;\n\n  _proto.updateDisplay = function updateDisplay() {\n    var ttDisplay = this.player_.getChild('textTrackDisplay');\n\n    if (ttDisplay) {\n      ttDisplay.updateDisplay();\n    }\n  }\n  /**\n   * conditionally blur the element and refocus the captions button\n   *\n   * @private\n   */\n  ;\n\n  _proto.conditionalBlur_ = function conditionalBlur_() {\n    this.previouslyActiveEl_ = null;\n    var cb = this.player_.controlBar;\n    var subsCapsBtn = cb && cb.subsCapsButton;\n    var ccBtn = cb && cb.captionsButton;\n\n    if (subsCapsBtn) {\n      subsCapsBtn.focus();\n    } else if (ccBtn) {\n      ccBtn.focus();\n    }\n  };\n\n  return TextTrackSettings;\n}(ModalDialog);\n\nComponent.registerComponent('TextTrackSettings', TextTrackSettings);\n/**\n * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.\n *\n * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.\n *\n * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.\n * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.\n * @example <caption>How to disable the resize manager</caption>\n * const player = videojs('#vid', {\n *   resizeManager: false\n * });\n *\n * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}\n *\n * @extends Component\n */\n\nvar ResizeManager =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(ResizeManager, _Component);\n  /**\n   * Create the ResizeManager.\n   *\n   * @param {Object} player\n   *        The `Player` that this class should be attached to.\n   *\n   * @param {Object} [options]\n   *        The key/value store of ResizeManager options.\n   *\n   * @param {Object} [options.ResizeObserver]\n   *        A polyfill for ResizeObserver can be passed in here.\n   *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.\n   */\n\n\n  function ResizeManager(player, options) {\n    var _this;\n\n    var RESIZE_OBSERVER_AVAILABLE = options.ResizeObserver || window$1.ResizeObserver; // if `null` was passed, we want to disable the ResizeObserver\n\n    if (options.ResizeObserver === null) {\n      RESIZE_OBSERVER_AVAILABLE = false;\n    } // Only create an element when ResizeObserver isn't available\n\n\n    var options_ = mergeOptions({\n      createEl: !RESIZE_OBSERVER_AVAILABLE,\n      reportTouchActivity: false\n    }, options);\n    _this = _Component.call(this, player, options_) || this;\n    _this.ResizeObserver = options.ResizeObserver || window$1.ResizeObserver;\n    _this.loadListener_ = null;\n    _this.resizeObserver_ = null;\n    _this.debouncedHandler_ = debounce(function () {\n      _this.resizeHandler();\n    }, 100, false, _assertThisInitialized(_this));\n\n    if (RESIZE_OBSERVER_AVAILABLE) {\n      _this.resizeObserver_ = new _this.ResizeObserver(_this.debouncedHandler_);\n\n      _this.resizeObserver_.observe(player.el());\n    } else {\n      _this.loadListener_ = function () {\n        if (!_this.el_ || !_this.el_.contentWindow) {\n          return;\n        }\n\n        var debouncedHandler_ = _this.debouncedHandler_;\n\n        var unloadListener_ = _this.unloadListener_ = function () {\n          off(this, 'resize', debouncedHandler_);\n          off(this, 'unload', unloadListener_);\n          unloadListener_ = null;\n        }; // safari and edge can unload the iframe before resizemanager dispose\n        // we have to dispose of event handlers correctly before that happens\n\n\n        on(_this.el_.contentWindow, 'unload', unloadListener_);\n        on(_this.el_.contentWindow, 'resize', debouncedHandler_);\n      };\n\n      _this.one('load', _this.loadListener_);\n    }\n\n    return _this;\n  }\n\n  var _proto = ResizeManager.prototype;\n\n  _proto.createEl = function createEl() {\n    return _Component.prototype.createEl.call(this, 'iframe', {\n      className: 'vjs-resize-manager',\n      tabIndex: -1\n    }, {\n      'aria-hidden': 'true'\n    });\n  }\n  /**\n   * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver\n   *\n   * @fires Player#playerresize\n   */\n  ;\n\n  _proto.resizeHandler = function resizeHandler() {\n    /**\n     * Called when the player size has changed\n     *\n     * @event Player#playerresize\n     * @type {EventTarget~Event}\n     */\n    // make sure player is still around to trigger\n    // prevents this from causing an error after dispose\n    if (!this.player_ || !this.player_.trigger) {\n      return;\n    }\n\n    this.player_.trigger('playerresize');\n  };\n\n  _proto.dispose = function dispose() {\n    if (this.debouncedHandler_) {\n      this.debouncedHandler_.cancel();\n    }\n\n    if (this.resizeObserver_) {\n      if (this.player_.el()) {\n        this.resizeObserver_.unobserve(this.player_.el());\n      }\n\n      this.resizeObserver_.disconnect();\n    }\n\n    if (this.loadListener_) {\n      this.off('load', this.loadListener_);\n    }\n\n    if (this.el_ && this.el_.contentWindow && this.unloadListener_) {\n      this.unloadListener_.call(this.el_.contentWindow);\n    }\n\n    this.ResizeObserver = null;\n    this.resizeObserver = null;\n    this.debouncedHandler_ = null;\n    this.loadListener_ = null;\n\n    _Component.prototype.dispose.call(this);\n  };\n\n  return ResizeManager;\n}(Component);\n\nComponent.registerComponent('ResizeManager', ResizeManager);\n/* track when we are at the live edge, and other helpers for live playback */\n\nvar LiveTracker =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(LiveTracker, _Component);\n\n  function LiveTracker(player, options) {\n    var _this; // LiveTracker does not need an element\n\n\n    var options_ = mergeOptions({\n      createEl: false\n    }, options);\n    _this = _Component.call(this, player, options_) || this;\n\n    _this.reset_();\n\n    _this.on(_this.player_, 'durationchange', _this.handleDurationchange); // we don't need to track live playback if the document is hidden,\n    // also, tracking when the document is hidden can\n    // cause the CPU to spike and eventually crash the page on IE11.\n\n\n    if (IE_VERSION && 'hidden' in document && 'visibilityState' in document) {\n      _this.on(document, 'visibilitychange', _this.handleVisibilityChange);\n    }\n\n    return _this;\n  }\n\n  var _proto = LiveTracker.prototype;\n\n  _proto.handleVisibilityChange = function handleVisibilityChange() {\n    if (this.player_.duration() !== Infinity) {\n      return;\n    }\n\n    if (document.hidden) {\n      this.stopTracking();\n    } else {\n      this.startTracking();\n    }\n  };\n\n  _proto.isBehind_ = function isBehind_() {\n    // don't report that we are behind until a timeupdate has been seen\n    if (!this.timeupdateSeen_) {\n      return false;\n    }\n\n    var liveCurrentTime = this.liveCurrentTime();\n    var currentTime = this.player_.currentTime();\n    var seekableIncrement = this.seekableIncrement_; // the live edge window is the amount of seconds away from live\n    // that a player can be, but still be considered live.\n    // we add 0.07 because the live tracking happens every 30ms\n    // and we want some wiggle room for short segment live playback\n\n    var liveEdgeWindow = seekableIncrement * 2 + 0.07; // on Android liveCurrentTime can bee Infinity, because seekableEnd\n    // can be Infinity, so we handle that case.\n\n    return liveCurrentTime !== Infinity && liveCurrentTime - liveEdgeWindow >= currentTime;\n  } // all the functionality for tracking when seek end changes\n  // and for tracking how far past seek end we should be\n  ;\n\n  _proto.trackLive_ = function trackLive_() {\n    this.pastSeekEnd_ = this.pastSeekEnd_;\n    var seekable = this.player_.seekable(); // skip undefined seekable\n\n    if (!seekable || !seekable.length) {\n      return;\n    }\n\n    var newSeekEnd = this.seekableEnd(); // we can only tell if we are behind live, when seekable changes\n    // once we detect that seekable has changed we check the new seek\n    // end against current time, with a fudge value of half a second.\n\n    if (newSeekEnd !== this.lastSeekEnd_) {\n      if (this.lastSeekEnd_) {\n        this.seekableIncrement_ = Math.abs(newSeekEnd - this.lastSeekEnd_);\n      }\n\n      this.pastSeekEnd_ = 0;\n      this.lastSeekEnd_ = newSeekEnd;\n      this.trigger('seekableendchange');\n    }\n\n    this.pastSeekEnd_ = this.pastSeekEnd() + 0.03;\n\n    if (this.isBehind_() !== this.behindLiveEdge()) {\n      this.behindLiveEdge_ = this.isBehind_();\n      this.trigger('liveedgechange');\n    }\n  }\n  /**\n   * handle a durationchange event on the player\n   * and start/stop tracking accordingly.\n   */\n  ;\n\n  _proto.handleDurationchange = function handleDurationchange() {\n    if (this.player_.duration() === Infinity) {\n      this.startTracking();\n    } else {\n      this.stopTracking();\n    }\n  }\n  /**\n   * start tracking live playback\n   */\n  ;\n\n  _proto.startTracking = function startTracking() {\n    var _this2 = this;\n\n    if (this.isTracking()) {\n      return;\n    } // If we haven't seen a timeupdate, we need to check whether playback\n    // began before this component started tracking. This can happen commonly\n    // when using autoplay.\n\n\n    if (!this.timeupdateSeen_) {\n      this.timeupdateSeen_ = this.player_.hasStarted();\n    }\n\n    this.trackingInterval_ = this.setInterval(this.trackLive_, 30);\n    this.trackLive_();\n    this.on(this.player_, 'play', this.trackLive_);\n    this.on(this.player_, 'pause', this.trackLive_); // this is to prevent showing that we are not live\n    // before a video starts to play\n\n    if (!this.timeupdateSeen_) {\n      this.one(this.player_, 'play', this.handlePlay);\n\n      this.handleTimeupdate = function () {\n        _this2.timeupdateSeen_ = true;\n        _this2.handleTimeupdate = null;\n      };\n\n      this.one(this.player_, 'timeupdate', this.handleTimeupdate);\n    }\n  };\n\n  _proto.handlePlay = function handlePlay() {\n    this.one(this.player_, 'timeupdate', this.seekToLiveEdge);\n  }\n  /**\n   * Stop tracking, and set all internal variables to\n   * their initial value.\n   */\n  ;\n\n  _proto.reset_ = function reset_() {\n    this.pastSeekEnd_ = 0;\n    this.lastSeekEnd_ = null;\n    this.behindLiveEdge_ = null;\n    this.timeupdateSeen_ = false;\n    this.clearInterval(this.trackingInterval_);\n    this.trackingInterval_ = null;\n    this.seekableIncrement_ = 12;\n    this.off(this.player_, 'play', this.trackLive_);\n    this.off(this.player_, 'pause', this.trackLive_);\n    this.off(this.player_, 'play', this.handlePlay);\n    this.off(this.player_, 'timeupdate', this.seekToLiveEdge);\n\n    if (this.handleTimeupdate) {\n      this.off(this.player_, 'timeupdate', this.handleTimeupdate);\n      this.handleTimeupdate = null;\n    }\n  }\n  /**\n   * stop tracking live playback\n   */\n  ;\n\n  _proto.stopTracking = function stopTracking() {\n    if (!this.isTracking()) {\n      return;\n    }\n\n    this.reset_();\n  }\n  /**\n   * A helper to get the player seekable end\n   * so that we don't have to null check everywhere\n   */\n  ;\n\n  _proto.seekableEnd = function seekableEnd() {\n    var seekable = this.player_.seekable();\n    var seekableEnds = [];\n    var i = seekable ? seekable.length : 0;\n\n    while (i--) {\n      seekableEnds.push(seekable.end(i));\n    } // grab the furthest seekable end after sorting, or if there are none\n    // default to Infinity\n\n\n    return seekableEnds.length ? seekableEnds.sort()[seekableEnds.length - 1] : Infinity;\n  }\n  /**\n   * A helper to get the player seekable start\n   * so that we don't have to null check everywhere\n   */\n  ;\n\n  _proto.seekableStart = function seekableStart() {\n    var seekable = this.player_.seekable();\n    var seekableStarts = [];\n    var i = seekable ? seekable.length : 0;\n\n    while (i--) {\n      seekableStarts.push(seekable.start(i));\n    } // grab the first seekable start after sorting, or if there are none\n    // default to 0\n\n\n    return seekableStarts.length ? seekableStarts.sort()[0] : 0;\n  }\n  /**\n   * Get the live time window\n   */\n  ;\n\n  _proto.liveWindow = function liveWindow() {\n    var liveCurrentTime = this.liveCurrentTime();\n\n    if (liveCurrentTime === Infinity) {\n      return Infinity;\n    }\n\n    return liveCurrentTime - this.seekableStart();\n  }\n  /**\n   * Determines if the player is live, only checks if this component\n   * is tracking live playback or not\n   */\n  ;\n\n  _proto.isLive = function isLive() {\n    return this.isTracking();\n  }\n  /**\n   * Determines if currentTime is at the live edge and won't fall behind\n   * on each seekableendchange\n   */\n  ;\n\n  _proto.atLiveEdge = function atLiveEdge() {\n    return !this.behindLiveEdge();\n  }\n  /**\n   * get what we expect the live current time to be\n   */\n  ;\n\n  _proto.liveCurrentTime = function liveCurrentTime() {\n    return this.pastSeekEnd() + this.seekableEnd();\n  }\n  /**\n   * Returns how far past seek end we expect current time to be\n   */\n  ;\n\n  _proto.pastSeekEnd = function pastSeekEnd() {\n    return this.pastSeekEnd_;\n  }\n  /**\n   * If we are currently behind the live edge, aka currentTime will be\n   * behind on a seekableendchange\n   */\n  ;\n\n  _proto.behindLiveEdge = function behindLiveEdge() {\n    return this.behindLiveEdge_;\n  };\n\n  _proto.isTracking = function isTracking() {\n    return typeof this.trackingInterval_ === 'number';\n  }\n  /**\n   * Seek to the live edge if we are behind the live edge\n   */\n  ;\n\n  _proto.seekToLiveEdge = function seekToLiveEdge() {\n    if (this.atLiveEdge()) {\n      return;\n    }\n\n    this.player_.currentTime(this.liveCurrentTime());\n\n    if (this.player_.paused()) {\n      this.player_.play();\n    }\n  };\n\n  _proto.dispose = function dispose() {\n    this.stopTracking();\n\n    _Component.prototype.dispose.call(this);\n  };\n\n  return LiveTracker;\n}(Component);\n\nComponent.registerComponent('LiveTracker', LiveTracker);\n/**\n * This function is used to fire a sourceset when there is something\n * similar to `mediaEl.load()` being called. It will try to find the source via\n * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`\n * with the source that was found or empty string if we cannot know. If it cannot\n * find a source then `sourceset` will not be fired.\n *\n * @param {Html5} tech\n *        The tech object that sourceset was setup on\n *\n * @return {boolean}\n *         returns false if the sourceset was not fired and true otherwise.\n */\n\nvar sourcesetLoad = function sourcesetLoad(tech) {\n  var el = tech.el(); // if `el.src` is set, that source will be loaded.\n\n  if (el.hasAttribute('src')) {\n    tech.triggerSourceset(el.src);\n    return true;\n  }\n  /**\n   * Since there isn't a src property on the media element, source elements will be used for\n   * implementing the source selection algorithm. This happens asynchronously and\n   * for most cases were there is more than one source we cannot tell what source will\n   * be loaded, without re-implementing the source selection algorithm. At this time we are not\n   * going to do that. There are three special cases that we do handle here though:\n   *\n   * 1. If there are no sources, do not fire `sourceset`.\n   * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`\n   * 3. If there is more than one `<source>` but all of them have the same `src` url.\n   *    That will be our src.\n   */\n\n\n  var sources = tech.$$('source');\n  var srcUrls = [];\n  var src = ''; // if there are no sources, do not fire sourceset\n\n  if (!sources.length) {\n    return false;\n  } // only count valid/non-duplicate source elements\n\n\n  for (var i = 0; i < sources.length; i++) {\n    var url = sources[i].src;\n\n    if (url && srcUrls.indexOf(url) === -1) {\n      srcUrls.push(url);\n    }\n  } // there were no valid sources\n\n\n  if (!srcUrls.length) {\n    return false;\n  } // there is only one valid source element url\n  // use that\n\n\n  if (srcUrls.length === 1) {\n    src = srcUrls[0];\n  }\n\n  tech.triggerSourceset(src);\n  return true;\n};\n/**\n * our implementation of an `innerHTML` descriptor for browsers\n * that do not have one.\n */\n\n\nvar innerHTMLDescriptorPolyfill = Object.defineProperty({}, 'innerHTML', {\n  get: function get() {\n    return this.cloneNode(true).innerHTML;\n  },\n  set: function set(v) {\n    // make a dummy node to use innerHTML on\n    var dummy = document.createElement(this.nodeName.toLowerCase()); // set innerHTML to the value provided\n\n    dummy.innerHTML = v; // make a document fragment to hold the nodes from dummy\n\n    var docFrag = document.createDocumentFragment(); // copy all of the nodes created by the innerHTML on dummy\n    // to the document fragment\n\n    while (dummy.childNodes.length) {\n      docFrag.appendChild(dummy.childNodes[0]);\n    } // remove content\n\n\n    this.innerText = ''; // now we add all of that html in one by appending the\n    // document fragment. This is how innerHTML does it.\n\n    window$1.Element.prototype.appendChild.call(this, docFrag); // then return the result that innerHTML's setter would\n\n    return this.innerHTML;\n  }\n});\n/**\n * Get a property descriptor given a list of priorities and the\n * property to get.\n */\n\nvar getDescriptor = function getDescriptor(priority, prop) {\n  var descriptor = {};\n\n  for (var i = 0; i < priority.length; i++) {\n    descriptor = Object.getOwnPropertyDescriptor(priority[i], prop);\n\n    if (descriptor && descriptor.set && descriptor.get) {\n      break;\n    }\n  }\n\n  descriptor.enumerable = true;\n  descriptor.configurable = true;\n  return descriptor;\n};\n\nvar getInnerHTMLDescriptor = function getInnerHTMLDescriptor(tech) {\n  return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, window$1.Element.prototype, innerHTMLDescriptorPolyfill], 'innerHTML');\n};\n/**\n * Patches browser internal functions so that we can tell synchronously\n * if a `<source>` was appended to the media element. For some reason this\n * causes a `sourceset` if the the media element is ready and has no source.\n * This happens when:\n * - The page has just loaded and the media element does not have a source.\n * - The media element was emptied of all sources, then `load()` was called.\n *\n * It does this by patching the following functions/properties when they are supported:\n *\n * - `append()` - can be used to add a `<source>` element to the media element\n * - `appendChild()` - can be used to add a `<source>` element to the media element\n * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element\n * - `innerHTML` -  can be used to add a `<source>` element to the media element\n *\n * @param {Html5} tech\n *        The tech object that sourceset is being setup on.\n */\n\n\nvar firstSourceWatch = function firstSourceWatch(tech) {\n  var el = tech.el(); // make sure firstSourceWatch isn't setup twice.\n\n  if (el.resetSourceWatch_) {\n    return;\n  }\n\n  var old = {};\n  var innerDescriptor = getInnerHTMLDescriptor(tech);\n\n  var appendWrapper = function appendWrapper(appendFn) {\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var retval = appendFn.apply(el, args);\n      sourcesetLoad(tech);\n      return retval;\n    };\n  };\n\n  ['append', 'appendChild', 'insertAdjacentHTML'].forEach(function (k) {\n    if (!el[k]) {\n      return;\n    } // store the old function\n\n\n    old[k] = el[k]; // call the old function with a sourceset if a source\n    // was loaded\n\n    el[k] = appendWrapper(old[k]);\n  });\n  Object.defineProperty(el, 'innerHTML', mergeOptions(innerDescriptor, {\n    set: appendWrapper(innerDescriptor.set)\n  }));\n\n  el.resetSourceWatch_ = function () {\n    el.resetSourceWatch_ = null;\n    Object.keys(old).forEach(function (k) {\n      el[k] = old[k];\n    });\n    Object.defineProperty(el, 'innerHTML', innerDescriptor);\n  }; // on the first sourceset, we need to revert our changes\n\n\n  tech.one('sourceset', el.resetSourceWatch_);\n};\n/**\n * our implementation of a `src` descriptor for browsers\n * that do not have one.\n */\n\n\nvar srcDescriptorPolyfill = Object.defineProperty({}, 'src', {\n  get: function get() {\n    if (this.hasAttribute('src')) {\n      return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this, 'src'));\n    }\n\n    return '';\n  },\n  set: function set(v) {\n    window$1.Element.prototype.setAttribute.call(this, 'src', v);\n    return v;\n  }\n});\n\nvar getSrcDescriptor = function getSrcDescriptor(tech) {\n  return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, srcDescriptorPolyfill], 'src');\n};\n/**\n * setup `sourceset` handling on the `Html5` tech. This function\n * patches the following element properties/functions:\n *\n * - `src` - to determine when `src` is set\n * - `setAttribute()` - to determine when `src` is set\n * - `load()` - this re-triggers the source selection algorithm, and can\n *              cause a sourceset.\n *\n * If there is no source when we are adding `sourceset` support or during a `load()`\n * we also patch the functions listed in `firstSourceWatch`.\n *\n * @param {Html5} tech\n *        The tech to patch\n */\n\n\nvar setupSourceset = function setupSourceset(tech) {\n  if (!tech.featuresSourceset) {\n    return;\n  }\n\n  var el = tech.el(); // make sure sourceset isn't setup twice.\n\n  if (el.resetSourceset_) {\n    return;\n  }\n\n  var srcDescriptor = getSrcDescriptor(tech);\n  var oldSetAttribute = el.setAttribute;\n  var oldLoad = el.load;\n  Object.defineProperty(el, 'src', mergeOptions(srcDescriptor, {\n    set: function set(v) {\n      var retval = srcDescriptor.set.call(el, v); // we use the getter here to get the actual value set on src\n\n      tech.triggerSourceset(el.src);\n      return retval;\n    }\n  }));\n\n  el.setAttribute = function (n, v) {\n    var retval = oldSetAttribute.call(el, n, v);\n\n    if (/src/i.test(n)) {\n      tech.triggerSourceset(el.src);\n    }\n\n    return retval;\n  };\n\n  el.load = function () {\n    var retval = oldLoad.call(el); // if load was called, but there was no source to fire\n    // sourceset on. We have to watch for a source append\n    // as that can trigger a `sourceset` when the media element\n    // has no source\n\n    if (!sourcesetLoad(tech)) {\n      tech.triggerSourceset('');\n      firstSourceWatch(tech);\n    }\n\n    return retval;\n  };\n\n  if (el.currentSrc) {\n    tech.triggerSourceset(el.currentSrc);\n  } else if (!sourcesetLoad(tech)) {\n    firstSourceWatch(tech);\n  }\n\n  el.resetSourceset_ = function () {\n    el.resetSourceset_ = null;\n    el.load = oldLoad;\n    el.setAttribute = oldSetAttribute;\n    Object.defineProperty(el, 'src', srcDescriptor);\n\n    if (el.resetSourceWatch_) {\n      el.resetSourceWatch_();\n    }\n  };\n};\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\\n            This may prevent text tracks from loading.\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * HTML5 Media Controller - Wrapper for HTML5 Media API\n *\n * @mixes Tech~SourceHandlerAdditions\n * @extends Tech\n */\n\n\nvar Html5 =\n/*#__PURE__*/\nfunction (_Tech) {\n  _inheritsLoose(Html5, _Tech);\n  /**\n  * Create an instance of this Tech.\n  *\n  * @param {Object} [options]\n  *        The key/value store of player options.\n  *\n  * @param {Component~ReadyCallback} ready\n  *        Callback function to call when the `HTML5` Tech is ready.\n  */\n\n\n  function Html5(options, ready) {\n    var _this;\n\n    _this = _Tech.call(this, options, ready) || this;\n    var source = options.source;\n    var crossoriginTracks = false; // Set the source if one is provided\n    // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n    // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n    // anyway so the error gets fired.\n\n    if (source && (_this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n      _this.setSource(source);\n    } else {\n      _this.handleLateInit_(_this.el_);\n    } // setup sourceset after late sourceset/init\n\n\n    if (options.enableSourceset) {\n      _this.setupSourcesetHandling_();\n    }\n\n    if (_this.el_.hasChildNodes()) {\n      var nodes = _this.el_.childNodes;\n      var nodesLength = nodes.length;\n      var removeNodes = [];\n\n      while (nodesLength--) {\n        var node = nodes[nodesLength];\n        var nodeName = node.nodeName.toLowerCase();\n\n        if (nodeName === 'track') {\n          if (!_this.featuresNativeTextTracks) {\n            // Empty video tag tracks so the built-in player doesn't use them also.\n            // This may not be fast enough to stop HTML5 browsers from reading the tags\n            // so we'll need to turn off any default tracks if we're manually doing\n            // captions and subtitles. videoElement.textTracks\n            removeNodes.push(node);\n          } else {\n            // store HTMLTrackElement and TextTrack to remote list\n            _this.remoteTextTrackEls().addTrackElement_(node);\n\n            _this.remoteTextTracks().addTrack(node.track);\n\n            _this.textTracks().addTrack(node.track);\n\n            if (!crossoriginTracks && !_this.el_.hasAttribute('crossorigin') && isCrossOrigin(node.src)) {\n              crossoriginTracks = true;\n            }\n          }\n        }\n      }\n\n      for (var i = 0; i < removeNodes.length; i++) {\n        _this.el_.removeChild(removeNodes[i]);\n      }\n    }\n\n    _this.proxyNativeTracks_();\n\n    if (_this.featuresNativeTextTracks && crossoriginTracks) {\n      log.warn(tsml(_templateObject$1()));\n    } // prevent iOS Safari from disabling metadata text tracks during native playback\n\n\n    _this.restoreMetadataTracksInIOSNativePlayer_(); // Determine if native controls should be used\n    // Our goal should be to get the custom controls on mobile solid everywhere\n    // so we can remove this all together. Right now this will block custom\n    // controls on touch enabled laptops like the Chrome Pixel\n\n\n    if ((TOUCH_ENABLED || IS_IPHONE || IS_NATIVE_ANDROID) && options.nativeControlsForTouch === true) {\n      _this.setControls(true);\n    } // on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`\n    // into a `fullscreenchange` event\n\n\n    _this.proxyWebkitFullscreen_();\n\n    _this.triggerReady();\n\n    return _this;\n  }\n  /**\n   * Dispose of `HTML5` media element and remove all tracks.\n   */\n\n\n  var _proto = Html5.prototype;\n\n  _proto.dispose = function dispose() {\n    if (this.el_ && this.el_.resetSourceset_) {\n      this.el_.resetSourceset_();\n    }\n\n    Html5.disposeMediaElement(this.el_);\n    this.options_ = null; // tech will handle clearing of the emulated track list\n\n    _Tech.prototype.dispose.call(this);\n  }\n  /**\n   * Modify the media element so that we can detect when\n   * the source is changed. Fires `sourceset` just after the source has changed\n   */\n  ;\n\n  _proto.setupSourcesetHandling_ = function setupSourcesetHandling_() {\n    setupSourceset(this);\n  }\n  /**\n   * When a captions track is enabled in the iOS Safari native player, all other\n   * tracks are disabled (including metadata tracks), which nulls all of their\n   * associated cue points. This will restore metadata tracks to their pre-fullscreen\n   * state in those cases so that cue points are not needlessly lost.\n   *\n   * @private\n   */\n  ;\n\n  _proto.restoreMetadataTracksInIOSNativePlayer_ = function restoreMetadataTracksInIOSNativePlayer_() {\n    var textTracks = this.textTracks();\n    var metadataTracksPreFullscreenState; // captures a snapshot of every metadata track's current state\n\n    var takeMetadataTrackSnapshot = function takeMetadataTrackSnapshot() {\n      metadataTracksPreFullscreenState = [];\n\n      for (var i = 0; i < textTracks.length; i++) {\n        var track = textTracks[i];\n\n        if (track.kind === 'metadata') {\n          metadataTracksPreFullscreenState.push({\n            track: track,\n            storedMode: track.mode\n          });\n        }\n      }\n    }; // snapshot each metadata track's initial state, and update the snapshot\n    // each time there is a track 'change' event\n\n\n    takeMetadataTrackSnapshot();\n    textTracks.addEventListener('change', takeMetadataTrackSnapshot);\n    this.on('dispose', function () {\n      return textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n    });\n\n    var restoreTrackMode = function restoreTrackMode() {\n      for (var i = 0; i < metadataTracksPreFullscreenState.length; i++) {\n        var storedTrack = metadataTracksPreFullscreenState[i];\n\n        if (storedTrack.track.mode === 'disabled' && storedTrack.track.mode !== storedTrack.storedMode) {\n          storedTrack.track.mode = storedTrack.storedMode;\n        }\n      } // we only want this handler to be executed on the first 'change' event\n\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n    }; // when we enter fullscreen playback, stop updating the snapshot and\n    // restore all track modes to their pre-fullscreen state\n\n\n    this.on('webkitbeginfullscreen', function () {\n      textTracks.removeEventListener('change', takeMetadataTrackSnapshot); // remove the listener before adding it just in case it wasn't previously removed\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n      textTracks.addEventListener('change', restoreTrackMode);\n    }); // start updating the snapshot again after leaving fullscreen\n\n    this.on('webkitendfullscreen', function () {\n      // remove the listener before adding it just in case it wasn't previously removed\n      textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n      textTracks.addEventListener('change', takeMetadataTrackSnapshot); // remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback\n\n      textTracks.removeEventListener('change', restoreTrackMode);\n    });\n  }\n  /**\n   * Attempt to force override of tracks for the given type\n   *\n   * @param {string} type - Track type to override, possible values include 'Audio',\n   * 'Video', and 'Text'.\n   * @param {boolean} override - If set to true native audio/video will be overridden,\n   * otherwise native audio/video will potentially be used.\n   * @private\n   */\n  ;\n\n  _proto.overrideNative_ = function overrideNative_(type, override) {\n    var _this2 = this; // If there is no behavioral change don't add/remove listeners\n\n\n    if (override !== this[\"featuresNative\" + type + \"Tracks\"]) {\n      return;\n    }\n\n    var lowerCaseType = type.toLowerCase();\n\n    if (this[lowerCaseType + \"TracksListeners_\"]) {\n      Object.keys(this[lowerCaseType + \"TracksListeners_\"]).forEach(function (eventName) {\n        var elTracks = _this2.el()[lowerCaseType + \"Tracks\"];\n\n        elTracks.removeEventListener(eventName, _this2[lowerCaseType + \"TracksListeners_\"][eventName]);\n      });\n    }\n\n    this[\"featuresNative\" + type + \"Tracks\"] = !override;\n    this[lowerCaseType + \"TracksListeners_\"] = null;\n    this.proxyNativeTracksForType_(lowerCaseType);\n  }\n  /**\n   * Attempt to force override of native audio tracks.\n   *\n   * @param {boolean} override - If set to true native audio will be overridden,\n   * otherwise native audio will potentially be used.\n   */\n  ;\n\n  _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks(override) {\n    this.overrideNative_('Audio', override);\n  }\n  /**\n   * Attempt to force override of native video tracks.\n   *\n   * @param {boolean} override - If set to true native video will be overridden,\n   * otherwise native video will potentially be used.\n   */\n  ;\n\n  _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks(override) {\n    this.overrideNative_('Video', override);\n  }\n  /**\n   * Proxy native track list events for the given type to our track\n   * lists if the browser we are playing in supports that type of track list.\n   *\n   * @param {string} name - Track type; values include 'audio', 'video', and 'text'\n   * @private\n   */\n  ;\n\n  _proto.proxyNativeTracksForType_ = function proxyNativeTracksForType_(name) {\n    var _this3 = this;\n\n    var props = NORMAL[name];\n    var elTracks = this.el()[props.getterName];\n    var techTracks = this[props.getterName]();\n\n    if (!this[\"featuresNative\" + props.capitalName + \"Tracks\"] || !elTracks || !elTracks.addEventListener) {\n      return;\n    }\n\n    var listeners = {\n      change: function change(e) {\n        techTracks.trigger({\n          type: 'change',\n          target: techTracks,\n          currentTarget: techTracks,\n          srcElement: techTracks\n        });\n      },\n      addtrack: function addtrack(e) {\n        techTracks.addTrack(e.track);\n      },\n      removetrack: function removetrack(e) {\n        techTracks.removeTrack(e.track);\n      }\n    };\n\n    var removeOldTracks = function removeOldTracks() {\n      var removeTracks = [];\n\n      for (var i = 0; i < techTracks.length; i++) {\n        var found = false;\n\n        for (var j = 0; j < elTracks.length; j++) {\n          if (elTracks[j] === techTracks[i]) {\n            found = true;\n            break;\n          }\n        }\n\n        if (!found) {\n          removeTracks.push(techTracks[i]);\n        }\n      }\n\n      while (removeTracks.length) {\n        techTracks.removeTrack(removeTracks.shift());\n      }\n    };\n\n    this[props.getterName + 'Listeners_'] = listeners;\n    Object.keys(listeners).forEach(function (eventName) {\n      var listener = listeners[eventName];\n      elTracks.addEventListener(eventName, listener);\n\n      _this3.on('dispose', function (e) {\n        return elTracks.removeEventListener(eventName, listener);\n      });\n    }); // Remove (native) tracks that are not used anymore\n\n    this.on('loadstart', removeOldTracks);\n    this.on('dispose', function (e) {\n      return _this3.off('loadstart', removeOldTracks);\n    });\n  }\n  /**\n   * Proxy all native track list events to our track lists if the browser we are playing\n   * in supports that type of track list.\n   *\n   * @private\n   */\n  ;\n\n  _proto.proxyNativeTracks_ = function proxyNativeTracks_() {\n    var _this4 = this;\n\n    NORMAL.names.forEach(function (name) {\n      _this4.proxyNativeTracksForType_(name);\n    });\n  }\n  /**\n   * Create the `Html5` Tech's DOM element.\n   *\n   * @return {Element}\n   *         The element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var el = this.options_.tag; // Check if this browser supports moving the element into the box.\n    // On the iPhone video will break if you move the element,\n    // So we have to create a brand new element.\n    // If we ingested the player div, we do not need to move the media element.\n\n    if (!el || !(this.options_.playerElIngest || this.movingMediaElementInDOM)) {\n      // If the original tag is still there, clone and remove it.\n      if (el) {\n        var clone = el.cloneNode(true);\n\n        if (el.parentNode) {\n          el.parentNode.insertBefore(clone, el);\n        }\n\n        Html5.disposeMediaElement(el);\n        el = clone;\n      } else {\n        el = document.createElement('video'); // determine if native controls should be used\n\n        var tagAttributes = this.options_.tag && getAttributes(this.options_.tag);\n        var attributes = mergeOptions({}, tagAttributes);\n\n        if (!TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n          delete attributes.controls;\n        }\n\n        setAttributes(el, assign(attributes, {\n          id: this.options_.techId,\n          \"class\": 'vjs-tech'\n        }));\n      }\n\n      el.playerId = this.options_.playerId;\n    }\n\n    if (typeof this.options_.preload !== 'undefined') {\n      setAttribute(el, 'preload', this.options_.preload);\n    } // Update specific tag settings, in case they were overridden\n    // `autoplay` has to be *last* so that `muted` and `playsinline` are present\n    // when iOS/Safari or other browsers attempt to autoplay.\n\n\n    var settingsAttrs = ['loop', 'muted', 'playsinline', 'autoplay'];\n\n    for (var i = 0; i < settingsAttrs.length; i++) {\n      var attr = settingsAttrs[i];\n      var value = this.options_[attr];\n\n      if (typeof value !== 'undefined') {\n        if (value) {\n          setAttribute(el, attr, attr);\n        } else {\n          removeAttribute(el, attr);\n        }\n\n        el[attr] = value;\n      }\n    }\n\n    return el;\n  }\n  /**\n   * This will be triggered if the loadstart event has already fired, before videojs was\n   * ready. Two known examples of when this can happen are:\n   * 1. If we're loading the playback object after it has started loading\n   * 2. The media is already playing the (often with autoplay on) then\n   *\n   * This function will fire another loadstart so that videojs can catchup.\n   *\n   * @fires Tech#loadstart\n   *\n   * @return {undefined}\n   *         returns nothing.\n   */\n  ;\n\n  _proto.handleLateInit_ = function handleLateInit_(el) {\n    if (el.networkState === 0 || el.networkState === 3) {\n      // The video element hasn't started loading the source yet\n      // or didn't find a source\n      return;\n    }\n\n    if (el.readyState === 0) {\n      // NetworkState is set synchronously BUT loadstart is fired at the\n      // end of the current stack, usually before setInterval(fn, 0).\n      // So at this point we know loadstart may have already fired or is\n      // about to fire, and either way the player hasn't seen it yet.\n      // We don't want to fire loadstart prematurely here and cause a\n      // double loadstart so we'll wait and see if it happens between now\n      // and the next loop, and fire it if not.\n      // HOWEVER, we also want to make sure it fires before loadedmetadata\n      // which could also happen between now and the next loop, so we'll\n      // watch for that also.\n      var loadstartFired = false;\n\n      var setLoadstartFired = function setLoadstartFired() {\n        loadstartFired = true;\n      };\n\n      this.on('loadstart', setLoadstartFired);\n\n      var triggerLoadstart = function triggerLoadstart() {\n        // We did miss the original loadstart. Make sure the player\n        // sees loadstart before loadedmetadata\n        if (!loadstartFired) {\n          this.trigger('loadstart');\n        }\n      };\n\n      this.on('loadedmetadata', triggerLoadstart);\n      this.ready(function () {\n        this.off('loadstart', setLoadstartFired);\n        this.off('loadedmetadata', triggerLoadstart);\n\n        if (!loadstartFired) {\n          // We did miss the original native loadstart. Fire it now.\n          this.trigger('loadstart');\n        }\n      });\n      return;\n    } // From here on we know that loadstart already fired and we missed it.\n    // The other readyState events aren't as much of a problem if we double\n    // them, so not going to go to as much trouble as loadstart to prevent\n    // that unless we find reason to.\n\n\n    var eventsToTrigger = ['loadstart']; // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n\n    eventsToTrigger.push('loadedmetadata'); // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n\n    if (el.readyState >= 2) {\n      eventsToTrigger.push('loadeddata');\n    } // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n\n\n    if (el.readyState >= 3) {\n      eventsToTrigger.push('canplay');\n    } // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n\n\n    if (el.readyState >= 4) {\n      eventsToTrigger.push('canplaythrough');\n    } // We still need to give the player time to add event listeners\n\n\n    this.ready(function () {\n      eventsToTrigger.forEach(function (type) {\n        this.trigger(type);\n      }, this);\n    });\n  }\n  /**\n   * Set current time for the `HTML5` tech.\n   *\n   * @param {number} seconds\n   *        Set the current time of the media to this.\n   */\n  ;\n\n  _proto.setCurrentTime = function setCurrentTime(seconds) {\n    try {\n      this.el_.currentTime = seconds;\n    } catch (e) {\n      log(e, 'Video is not ready. (Video.js)'); // this.warning(VideoJS.warnings.videoNotReady);\n    }\n  }\n  /**\n   * Get the current duration of the HTML5 media element.\n   *\n   * @return {number}\n   *         The duration of the media or 0 if there is no duration.\n   */\n  ;\n\n  _proto.duration = function duration() {\n    var _this5 = this; // Android Chrome will report duration as Infinity for VOD HLS until after\n    // playback has started, which triggers the live display erroneously.\n    // Return NaN if playback has not started and trigger a durationupdate once\n    // the duration can be reliably known.\n\n\n    if (this.el_.duration === Infinity && IS_ANDROID && IS_CHROME && this.el_.currentTime === 0) {\n      // Wait for the first `timeupdate` with currentTime > 0 - there may be\n      // several with 0\n      var checkProgress = function checkProgress() {\n        if (_this5.el_.currentTime > 0) {\n          // Trigger durationchange for genuinely live video\n          if (_this5.el_.duration === Infinity) {\n            _this5.trigger('durationchange');\n          }\n\n          _this5.off('timeupdate', checkProgress);\n        }\n      };\n\n      this.on('timeupdate', checkProgress);\n      return NaN;\n    }\n\n    return this.el_.duration || NaN;\n  }\n  /**\n   * Get the current width of the HTML5 media element.\n   *\n   * @return {number}\n   *         The width of the HTML5 media element.\n   */\n  ;\n\n  _proto.width = function width() {\n    return this.el_.offsetWidth;\n  }\n  /**\n   * Get the current height of the HTML5 media element.\n   *\n   * @return {number}\n   *         The height of the HTML5 media element.\n   */\n  ;\n\n  _proto.height = function height() {\n    return this.el_.offsetHeight;\n  }\n  /**\n   * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into\n   * `fullscreenchange` event.\n   *\n   * @private\n   * @fires fullscreenchange\n   * @listens webkitendfullscreen\n   * @listens webkitbeginfullscreen\n   * @listens webkitbeginfullscreen\n   */\n  ;\n\n  _proto.proxyWebkitFullscreen_ = function proxyWebkitFullscreen_() {\n    var _this6 = this;\n\n    if (!('webkitDisplayingFullscreen' in this.el_)) {\n      return;\n    }\n\n    var endFn = function endFn() {\n      this.trigger('fullscreenchange', {\n        isFullscreen: false\n      });\n    };\n\n    var beginFn = function beginFn() {\n      if ('webkitPresentationMode' in this.el_ && this.el_.webkitPresentationMode !== 'picture-in-picture') {\n        this.one('webkitendfullscreen', endFn);\n        this.trigger('fullscreenchange', {\n          isFullscreen: true\n        });\n      }\n    };\n\n    this.on('webkitbeginfullscreen', beginFn);\n    this.on('dispose', function () {\n      _this6.off('webkitbeginfullscreen', beginFn);\n\n      _this6.off('webkitendfullscreen', endFn);\n    });\n  }\n  /**\n   * Check if fullscreen is supported on the current playback device.\n   *\n   * @return {boolean}\n   *         - True if fullscreen is supported.\n   *         - False if fullscreen is not supported.\n   */\n  ;\n\n  _proto.supportsFullScreen = function supportsFullScreen() {\n    if (typeof this.el_.webkitEnterFullScreen === 'function') {\n      var userAgent = window$1.navigator && window$1.navigator.userAgent || ''; // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\n      if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * Request that the `HTML5` Tech enter fullscreen.\n   */\n  ;\n\n  _proto.enterFullScreen = function enterFullScreen() {\n    var video = this.el_;\n\n    if (video.paused && video.networkState <= video.HAVE_METADATA) {\n      // attempt to prime the video element for programmatic access\n      // this isn't necessary on the desktop but shouldn't hurt\n      this.el_.play(); // playing and pausing synchronously during the transition to fullscreen\n      // can get iOS ~6.1 devices into a play/pause loop\n\n      this.setTimeout(function () {\n        video.pause();\n        video.webkitEnterFullScreen();\n      }, 0);\n    } else {\n      video.webkitEnterFullScreen();\n    }\n  }\n  /**\n   * Request that the `HTML5` Tech exit fullscreen.\n   */\n  ;\n\n  _proto.exitFullScreen = function exitFullScreen() {\n    this.el_.webkitExitFullScreen();\n  }\n  /**\n   * Create a floating video window always on top of other windows so that users may\n   * continue consuming media while they interact with other content sites, or\n   * applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @return {Promise}\n   *         A promise with a Picture-in-Picture window.\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    return this.el_.requestPictureInPicture();\n  }\n  /**\n   * A getter/setter for the `Html5` Tech's source object.\n   * > Note: Please use {@link Html5#setSource}\n   *\n   * @param {Tech~SourceObject} [src]\n   *        The source object you want to set on the `HTML5` techs element.\n   *\n   * @return {Tech~SourceObject|undefined}\n   *         - The current source object when a source is not passed in.\n   *         - undefined when setting\n   *\n   * @deprecated Since version 5.\n   */\n  ;\n\n  _proto.src = function src(_src) {\n    if (_src === undefined) {\n      return this.el_.src;\n    } // Setting src through `src` instead of `setSrc` will be deprecated\n\n\n    this.setSrc(_src);\n  }\n  /**\n   * Reset the tech by removing all sources and then calling\n   * {@link Html5.resetMediaElement}.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    Html5.resetMediaElement(this.el_);\n  }\n  /**\n   * Get the current source on the `HTML5` Tech. Falls back to returning the source from\n   * the HTML5 media element.\n   *\n   * @return {Tech~SourceObject}\n   *         The current source object from the HTML5 tech. With a fallback to the\n   *         elements source.\n   */\n  ;\n\n  _proto.currentSrc = function currentSrc() {\n    if (this.currentSource_) {\n      return this.currentSource_.src;\n    }\n\n    return this.el_.currentSrc;\n  }\n  /**\n   * Set controls attribute for the HTML5 media Element.\n   *\n   * @param {string} val\n   *        Value to set the controls attribute to\n   */\n  ;\n\n  _proto.setControls = function setControls(val) {\n    this.el_.controls = !!val;\n  }\n  /**\n   * Create and returns a remote {@link TextTrack} object.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @return {TextTrack}\n   *         The TextTrack that gets created.\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (!this.featuresNativeTextTracks) {\n      return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n    }\n\n    return this.el_.addTextTrack(kind, label, language);\n  }\n  /**\n   * Creates either native TextTrack or an emulated TextTrack depending\n   * on the value of `featuresNativeTextTracks`\n   *\n   * @param {Object} options\n   *        The object should contain the options to initialize the TextTrack with.\n   *\n   * @param {string} [options.kind]\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n   *\n   * @param {string} [options.label]\n   *        Label to identify the text track\n   *\n   * @param {string} [options.language]\n   *        Two letter language abbreviation.\n   *\n   * @param {boolean} [options.default]\n   *        Default this track to on.\n   *\n   * @param {string} [options.id]\n   *        The internal id to assign this track.\n   *\n   * @param {string} [options.src]\n   *        A source url for the track.\n   *\n   * @return {HTMLTrackElement}\n   *         The track element that gets created.\n   */\n  ;\n\n  _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n    if (!this.featuresNativeTextTracks) {\n      return _Tech.prototype.createRemoteTextTrack.call(this, options);\n    }\n\n    var htmlTrackElement = document.createElement('track');\n\n    if (options.kind) {\n      htmlTrackElement.kind = options.kind;\n    }\n\n    if (options.label) {\n      htmlTrackElement.label = options.label;\n    }\n\n    if (options.language || options.srclang) {\n      htmlTrackElement.srclang = options.language || options.srclang;\n    }\n\n    if (options[\"default\"]) {\n      htmlTrackElement[\"default\"] = options[\"default\"];\n    }\n\n    if (options.id) {\n      htmlTrackElement.id = options.id;\n    }\n\n    if (options.src) {\n      htmlTrackElement.src = options.src;\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Creates a remote text track object and returns an html track element.\n   *\n   * @param {Object} options The object should contain values for\n   * kind, language, label, and src (location of the WebVTT file)\n   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n   * automatically removed from the video element whenever the source changes\n   * @return {HTMLTrackElement} An Html Track Element.\n   * This can be an emulated {@link HTMLTrackElement} or a native one.\n   * @deprecated The default value of the \"manualCleanup\" parameter will default\n   * to \"false\" in upcoming versions of Video.js\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    var htmlTrackElement = _Tech.prototype.addRemoteTextTrack.call(this, options, manualCleanup);\n\n    if (this.featuresNativeTextTracks) {\n      this.el().appendChild(htmlTrackElement);\n    }\n\n    return htmlTrackElement;\n  }\n  /**\n   * Remove remote `TextTrack` from `TextTrackList` object\n   *\n   * @param {TextTrack} track\n   *        `TextTrack` object to remove\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n    _Tech.prototype.removeRemoteTextTrack.call(this, track);\n\n    if (this.featuresNativeTextTracks) {\n      var tracks = this.$$('track');\n      var i = tracks.length;\n\n      while (i--) {\n        if (track === tracks[i] || track === tracks[i].track) {\n          this.el().removeChild(tracks[i]);\n        }\n      }\n    }\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object}\n   *         An object with supported media playback quality metrics\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    if (typeof this.el().getVideoPlaybackQuality === 'function') {\n      return this.el().getVideoPlaybackQuality();\n    }\n\n    var videoPlaybackQuality = {};\n\n    if (typeof this.el().webkitDroppedFrameCount !== 'undefined' && typeof this.el().webkitDecodedFrameCount !== 'undefined') {\n      videoPlaybackQuality.droppedVideoFrames = this.el().webkitDroppedFrameCount;\n      videoPlaybackQuality.totalVideoFrames = this.el().webkitDecodedFrameCount;\n    }\n\n    if (window$1.performance && typeof window$1.performance.now === 'function') {\n      videoPlaybackQuality.creationTime = window$1.performance.now();\n    } else if (window$1.performance && window$1.performance.timing && typeof window$1.performance.timing.navigationStart === 'number') {\n      videoPlaybackQuality.creationTime = window$1.Date.now() - window$1.performance.timing.navigationStart;\n    }\n\n    return videoPlaybackQuality;\n  };\n\n  return Html5;\n}(Tech);\n/* HTML5 Support Testing ---------------------------------------------------- */\n\n\nif (isReal()) {\n  /**\n   * Element for testing browser HTML5 media capabilities\n   *\n   * @type {Element}\n   * @constant\n   * @private\n   */\n  Html5.TEST_VID = document.createElement('video');\n  var track = document.createElement('track');\n  track.kind = 'captions';\n  track.srclang = 'en';\n  track.label = 'English';\n  Html5.TEST_VID.appendChild(track);\n}\n/**\n * Check if HTML5 media is supported by this browser/device.\n *\n * @return {boolean}\n *         - True if HTML5 media is supported.\n *         - False if HTML5 media is not supported.\n */\n\n\nHtml5.isSupported = function () {\n  // IE with no Media Player is a LIAR! (#984)\n  try {\n    Html5.TEST_VID.volume = 0.5;\n  } catch (e) {\n    return false;\n  }\n\n  return !!(Html5.TEST_VID && Html5.TEST_VID.canPlayType);\n};\n/**\n * Check if the tech can support the given type\n *\n * @param {string} type\n *        The mimetype to check\n * @return {string} 'probably', 'maybe', or '' (empty string)\n */\n\n\nHtml5.canPlayType = function (type) {\n  return Html5.TEST_VID.canPlayType(type);\n};\n/**\n * Check if the tech can support the given source\n *\n * @param {Object} srcObj\n *        The source object\n * @param {Object} options\n *        The options passed to the tech\n * @return {string} 'probably', 'maybe', or '' (empty string)\n */\n\n\nHtml5.canPlaySource = function (srcObj, options) {\n  return Html5.canPlayType(srcObj.type);\n};\n/**\n * Check if the volume can be changed in this browser/device.\n * Volume cannot be changed in a lot of mobile devices.\n * Specifically, it can't be changed from 1 on iOS.\n *\n * @return {boolean}\n *         - True if volume can be controlled\n *         - False otherwise\n */\n\n\nHtml5.canControlVolume = function () {\n  // IE will error if Windows Media Player not installed #3315\n  try {\n    var volume = Html5.TEST_VID.volume;\n    Html5.TEST_VID.volume = volume / 2 + 0.1;\n    return volume !== Html5.TEST_VID.volume;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if the volume can be muted in this browser/device.\n * Some devices, e.g. iOS, don't allow changing volume\n * but permits muting/unmuting.\n *\n * @return {bolean}\n *      - True if volume can be muted\n *      - False otherwise\n */\n\n\nHtml5.canMuteVolume = function () {\n  try {\n    var muted = Html5.TEST_VID.muted; // in some versions of iOS muted property doesn't always\n    // work, so we want to set both property and attribute\n\n    Html5.TEST_VID.muted = !muted;\n\n    if (Html5.TEST_VID.muted) {\n      setAttribute(Html5.TEST_VID, 'muted', 'muted');\n    } else {\n      removeAttribute(Html5.TEST_VID, 'muted', 'muted');\n    }\n\n    return muted !== Html5.TEST_VID.muted;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if the playback rate can be changed in this browser/device.\n *\n * @return {boolean}\n *         - True if playback rate can be controlled\n *         - False otherwise\n */\n\n\nHtml5.canControlPlaybackRate = function () {\n  // Playback rate API is implemented in Android Chrome, but doesn't do anything\n  // https://github.com/videojs/video.js/issues/3180\n  if (IS_ANDROID && IS_CHROME && CHROME_VERSION < 58) {\n    return false;\n  } // IE will error if Windows Media Player not installed #3315\n\n\n  try {\n    var playbackRate = Html5.TEST_VID.playbackRate;\n    Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n    return playbackRate !== Html5.TEST_VID.playbackRate;\n  } catch (e) {\n    return false;\n  }\n};\n/**\n * Check if we can override a video/audio elements attributes, with\n * Object.defineProperty.\n *\n * @return {boolean}\n *         - True if builtin attributes can be overridden\n *         - False otherwise\n */\n\n\nHtml5.canOverrideAttributes = function () {\n  // if we cannot overwrite the src/innerHTML property, there is no support\n  // iOS 7 safari for instance cannot do this.\n  try {\n    var noop = function noop() {};\n\n    Object.defineProperty(document.createElement('video'), 'src', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('audio'), 'src', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('video'), 'innerHTML', {\n      get: noop,\n      set: noop\n    });\n    Object.defineProperty(document.createElement('audio'), 'innerHTML', {\n      get: noop,\n      set: noop\n    });\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};\n/**\n * Check to see if native `TextTrack`s are supported by this browser/device.\n *\n * @return {boolean}\n *         - True if native `TextTrack`s are supported.\n *         - False otherwise\n */\n\n\nHtml5.supportsNativeTextTracks = function () {\n  return IS_ANY_SAFARI || IS_IOS && IS_CHROME;\n};\n/**\n * Check to see if native `VideoTrack`s are supported by this browser/device\n *\n * @return {boolean}\n *        - True if native `VideoTrack`s are supported.\n *        - False otherwise\n */\n\n\nHtml5.supportsNativeVideoTracks = function () {\n  return !!(Html5.TEST_VID && Html5.TEST_VID.videoTracks);\n};\n/**\n * Check to see if native `AudioTrack`s are supported by this browser/device\n *\n * @return {boolean}\n *        - True if native `AudioTrack`s are supported.\n *        - False otherwise\n */\n\n\nHtml5.supportsNativeAudioTracks = function () {\n  return !!(Html5.TEST_VID && Html5.TEST_VID.audioTracks);\n};\n/**\n * An array of events available on the Html5 tech.\n *\n * @private\n * @type {Array}\n */\n\n\nHtml5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\n/**\n * Boolean indicating whether the `Tech` supports volume control.\n *\n * @type {boolean}\n * @default {@link Html5.canControlVolume}\n */\n\nHtml5.prototype.featuresVolumeControl = Html5.canControlVolume();\n/**\n * Boolean indicating whether the `Tech` supports muting volume.\n *\n * @type {bolean}\n * @default {@link Html5.canMuteVolume}\n */\n\nHtml5.prototype.featuresMuteControl = Html5.canMuteVolume();\n/**\n * Boolean indicating whether the `Tech` supports changing the speed at which the media\n * plays. Examples:\n *   - Set player to play 2x (twice) as fast\n *   - Set player to play 0.5x (half) as fast\n *\n * @type {boolean}\n * @default {@link Html5.canControlPlaybackRate}\n */\n\nHtml5.prototype.featuresPlaybackRate = Html5.canControlPlaybackRate();\n/**\n * Boolean indicating whether the `Tech` supports the `sourceset` event.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresSourceset = Html5.canOverrideAttributes();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the media element\n * moving in the DOM. iOS breaks if you move the media element, so this is set this to\n * false there. Everywhere else this should be true.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.movingMediaElementInDOM = !IS_IOS; // TODO: Previous comment: No longer appears to be used. Can probably be removed.\n//       Is this true?\n\n/**\n * Boolean indicating whether the `HTML5` tech currently supports automatic media resize\n * when going into fullscreen.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresFullscreenResize = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the progress event.\n * If this is false, manual `progress` events will be triggered instead.\n *\n * @type {boolean}\n * @default\n */\n\nHtml5.prototype.featuresProgressEvents = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.\n * If this is false, manual `timeupdate` events will be triggered instead.\n *\n * @default\n */\n\nHtml5.prototype.featuresTimeupdateEvents = true;\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeTextTracks}\n */\n\nHtml5.prototype.featuresNativeTextTracks = Html5.supportsNativeTextTracks();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeVideoTracks}\n */\n\nHtml5.prototype.featuresNativeVideoTracks = Html5.supportsNativeVideoTracks();\n/**\n * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.\n *\n * @type {boolean}\n * @default {@link Html5.supportsNativeAudioTracks}\n */\n\nHtml5.prototype.featuresNativeAudioTracks = Html5.supportsNativeAudioTracks(); // HTML5 Feature detection and Device Fixes --------------------------------- //\n\nvar canPlayType = Html5.TEST_VID && Html5.TEST_VID.constructor.prototype.canPlayType;\nvar mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n\nHtml5.patchCanPlayType = function () {\n  // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n  // Firefox and Chrome report correctly\n  if (ANDROID_VERSION >= 4.0 && !IS_FIREFOX && !IS_CHROME) {\n    Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n      if (type && mpegurlRE.test(type)) {\n        return 'maybe';\n      }\n\n      return canPlayType.call(this, type);\n    };\n  }\n};\n\nHtml5.unpatchCanPlayType = function () {\n  var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n  Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n  return r;\n}; // by default, patch the media element\n\n\nHtml5.patchCanPlayType();\n\nHtml5.disposeMediaElement = function (el) {\n  if (!el) {\n    return;\n  }\n\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  } // remove any child track or source nodes to prevent their loading\n\n\n  while (el.hasChildNodes()) {\n    el.removeChild(el.firstChild);\n  } // remove any src reference. not setting `src=''` because that causes a warning\n  // in firefox\n\n\n  el.removeAttribute('src'); // force the media element to update its loading state by calling load()\n  // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function () {\n      try {\n        el.load();\n      } catch (e) {// not supported\n      }\n    })();\n  }\n};\n\nHtml5.resetMediaElement = function (el) {\n  if (!el) {\n    return;\n  }\n\n  var sources = el.querySelectorAll('source');\n  var i = sources.length;\n\n  while (i--) {\n    el.removeChild(sources[i]);\n  } // remove any src reference.\n  // not setting `src=''` because that throws an error\n\n\n  el.removeAttribute('src');\n\n  if (typeof el.load === 'function') {\n    // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n    (function () {\n      try {\n        el.load();\n      } catch (e) {// satisfy linter\n      }\n    })();\n  }\n};\n/* Native HTML5 element property wrapping ----------------------------------- */\n// Wrap native boolean attributes with getters that check both property and attribute\n// The list is as followed:\n// muted, defaultMuted, autoplay, controls, loop, playsinline\n\n\n[\n/**\n * Get the value of `muted` from the media element. `muted` indicates\n * that the volume for the media should be set to silent. This does not actually change\n * the `volume` attribute.\n *\n * @method Html5#muted\n * @return {boolean}\n *         - True if the value of `volume` should be ignored and the audio set to silent.\n *         - False if the value of `volume` should be used.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n */\n'muted',\n/**\n * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates\n * whether the media should start muted or not. Only changes the default state of the\n * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the\n * current state.\n *\n * @method Html5#defaultMuted\n * @return {boolean}\n *         - The value of `defaultMuted` from the media element.\n *         - True indicates that the media should start muted.\n *         - False indicates that the media should not start muted\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n */\n'defaultMuted',\n/**\n * Get the value of `autoplay` from the media element. `autoplay` indicates\n * that the media should start to play as soon as the page is ready.\n *\n * @method Html5#autoplay\n * @return {boolean}\n *         - The value of `autoplay` from the media element.\n *         - True indicates that the media should start as soon as the page loads.\n *         - False indicates that the media should not start as soon as the page loads.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n */\n'autoplay',\n/**\n * Get the value of `controls` from the media element. `controls` indicates\n * whether the native media controls should be shown or hidden.\n *\n * @method Html5#controls\n * @return {boolean}\n *         - The value of `controls` from the media element.\n *         - True indicates that native controls should be showing.\n *         - False indicates that native controls should be hidden.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}\n */\n'controls',\n/**\n * Get the value of `loop` from the media element. `loop` indicates\n * that the media should return to the start of the media and continue playing once\n * it reaches the end.\n *\n * @method Html5#loop\n * @return {boolean}\n *         - The value of `loop` from the media element.\n *         - True indicates that playback should seek back to start once\n *           the end of a media is reached.\n *         - False indicates that playback should not loop back to the start when the\n *           end of the media is reached.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n */\n'loop',\n/**\n * Get the value of `playsinline` from the media element. `playsinline` indicates\n * to the browser that non-fullscreen playback is preferred when fullscreen\n * playback is the native default, such as in iOS Safari.\n *\n * @method Html5#playsinline\n * @return {boolean}\n *         - The value of `playsinline` from the media element.\n *         - True indicates that the media should play inline.\n *         - False indicates that the media should not play inline.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n */\n'playsinline'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop] || this.el_.hasAttribute(prop);\n  };\n}); // Wrap native boolean attributes with setters that set both property and attribute\n// The list is as followed:\n// setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline\n// setControls is special-cased above\n\n[\n/**\n * Set the value of `muted` on the media element. `muted` indicates that the current\n * audio level should be silent.\n *\n * @method Html5#setMuted\n * @param {boolean} muted\n *        - True if the audio should be set to silent\n *        - False otherwise\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n */\n'muted',\n/**\n * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current\n * audio level should be silent, but will only effect the muted level on intial playback..\n *\n * @method Html5.prototype.setDefaultMuted\n * @param {boolean} defaultMuted\n *        - True if the audio should be set to silent\n *        - False otherwise\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n */\n'defaultMuted',\n/**\n * Set the value of `autoplay` on the media element. `autoplay` indicates\n * that the media should start to play as soon as the page is ready.\n *\n * @method Html5#setAutoplay\n * @param {boolean} autoplay\n *         - True indicates that the media should start as soon as the page loads.\n *         - False indicates that the media should not start as soon as the page loads.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n */\n'autoplay',\n/**\n * Set the value of `loop` on the media element. `loop` indicates\n * that the media should return to the start of the media and continue playing once\n * it reaches the end.\n *\n * @method Html5#setLoop\n * @param {boolean} loop\n *         - True indicates that playback should seek back to start once\n *           the end of a media is reached.\n *         - False indicates that playback should not loop back to the start when the\n *           end of the media is reached.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n */\n'loop',\n/**\n * Set the value of `playsinline` from the media element. `playsinline` indicates\n * to the browser that non-fullscreen playback is preferred when fullscreen\n * playback is the native default, such as in iOS Safari.\n *\n * @method Html5#setPlaysinline\n * @param {boolean} playsinline\n *         - True indicates that the media should play inline.\n *         - False indicates that the media should not play inline.\n *\n * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n */\n'playsinline'].forEach(function (prop) {\n  Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n    this.el_[prop] = v;\n\n    if (v) {\n      this.el_.setAttribute(prop, prop);\n    } else {\n      this.el_.removeAttribute(prop);\n    }\n  };\n}); // Wrap native properties with a getter\n// The list is as followed\n// paused, currentTime, buffered, volume, poster, preload, error, seeking\n// seekable, ended, playbackRate, defaultPlaybackRate, played, networkState\n// readyState, videoWidth, videoHeight\n\n[\n/**\n * Get the value of `paused` from the media element. `paused` indicates whether the media element\n * is currently paused or not.\n *\n * @method Html5#paused\n * @return {boolean}\n *         The value of `paused` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}\n */\n'paused',\n/**\n * Get the value of `currentTime` from the media element. `currentTime` indicates\n * the current second that the media is at in playback.\n *\n * @method Html5#currentTime\n * @return {number}\n *         The value of `currentTime` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}\n */\n'currentTime',\n/**\n * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`\n * object that represents the parts of the media that are already downloaded and\n * available for playback.\n *\n * @method Html5#buffered\n * @return {TimeRange}\n *         The value of `buffered` from the media element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}\n */\n'buffered',\n/**\n * Get the value of `volume` from the media element. `volume` indicates\n * the current playback volume of audio for a media. `volume` will be a value from 0\n * (silent) to 1 (loudest and default).\n *\n * @method Html5#volume\n * @return {number}\n *         The value of `volume` from the media element. Value will be between 0-1.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n */\n'volume',\n/**\n * Get the value of `poster` from the media element. `poster` indicates\n * that the url of an image file that can/will be shown when no media data is available.\n *\n * @method Html5#poster\n * @return {string}\n *         The value of `poster` from the media element. Value will be a url to an\n *         image.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}\n */\n'poster',\n/**\n * Get the value of `preload` from the media element. `preload` indicates\n * what should download before the media is interacted with. It can have the following\n * values:\n * - none: nothing should be downloaded\n * - metadata: poster and the first few frames of the media may be downloaded to get\n *   media dimensions and other metadata\n * - auto: allow the media and metadata for the media to be downloaded before\n *    interaction\n *\n * @method Html5#preload\n * @return {string}\n *         The value of `preload` from the media element. Will be 'none', 'metadata',\n *         or 'auto'.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n */\n'preload',\n/**\n * Get the value of the `error` from the media element. `error` indicates any\n * MediaError that may have occurred during playback. If error returns null there is no\n * current error.\n *\n * @method Html5#error\n * @return {MediaError|null}\n *         The value of `error` from the media element. Will be `MediaError` if there\n *         is a current error and null otherwise.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}\n */\n'error',\n/**\n * Get the value of `seeking` from the media element. `seeking` indicates whether the\n * media is currently seeking to a new position or not.\n *\n * @method Html5#seeking\n * @return {boolean}\n *         - The value of `seeking` from the media element.\n *         - True indicates that the media is currently seeking to a new position.\n *         - False indicates that the media is not seeking to a new position at this time.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}\n */\n'seeking',\n/**\n * Get the value of `seekable` from the media element. `seekable` returns a\n * `TimeRange` object indicating ranges of time that can currently be `seeked` to.\n *\n * @method Html5#seekable\n * @return {TimeRange}\n *         The value of `seekable` from the media element. A `TimeRange` object\n *         indicating the current ranges of time that can be seeked to.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}\n */\n'seekable',\n/**\n * Get the value of `ended` from the media element. `ended` indicates whether\n * the media has reached the end or not.\n *\n * @method Html5#ended\n * @return {boolean}\n *         - The value of `ended` from the media element.\n *         - True indicates that the media has ended.\n *         - False indicates that the media has not ended.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}\n */\n'ended',\n/**\n * Get the value of `playbackRate` from the media element. `playbackRate` indicates\n * the rate at which the media is currently playing back. Examples:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5#playbackRate\n * @return {number}\n *         The value of `playbackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'playbackRate',\n/**\n * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates\n * the rate at which the media is currently playing back. This value will not indicate the current\n * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.\n *\n * Examples:\n *   - if defaultPlaybackRate is set to 2, media will play twice as fast.\n *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5.prototype.defaultPlaybackRate\n * @return {number}\n *         The value of `defaultPlaybackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'defaultPlaybackRate',\n/**\n * Get the value of `played` from the media element. `played` returns a `TimeRange`\n * object representing points in the media timeline that have been played.\n *\n * @method Html5#played\n * @return {TimeRange}\n *         The value of `played` from the media element. A `TimeRange` object indicating\n *         the ranges of time that have been played.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}\n */\n'played',\n/**\n * Get the value of `networkState` from the media element. `networkState` indicates\n * the current network state. It returns an enumeration from the following list:\n * - 0: NETWORK_EMPTY\n * - 1: NETWORK_IDLE\n * - 2: NETWORK_LOADING\n * - 3: NETWORK_NO_SOURCE\n *\n * @method Html5#networkState\n * @return {number}\n *         The value of `networkState` from the media element. This will be a number\n *         from the list in the description.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}\n */\n'networkState',\n/**\n * Get the value of `readyState` from the media element. `readyState` indicates\n * the current state of the media element. It returns an enumeration from the\n * following list:\n * - 0: HAVE_NOTHING\n * - 1: HAVE_METADATA\n * - 2: HAVE_CURRENT_DATA\n * - 3: HAVE_FUTURE_DATA\n * - 4: HAVE_ENOUGH_DATA\n *\n * @method Html5#readyState\n * @return {number}\n *         The value of `readyState` from the media element. This will be a number\n *         from the list in the description.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}\n */\n'readyState',\n/**\n * Get the value of `videoWidth` from the video element. `videoWidth` indicates\n * the current width of the video in css pixels.\n *\n * @method Html5#videoWidth\n * @return {number}\n *         The value of `videoWidth` from the video element. This will be a number\n *         in css pixels.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n */\n'videoWidth',\n/**\n * Get the value of `videoHeight` from the video element. `videoHeight` indicates\n * the current height of the video in css pixels.\n *\n * @method Html5#videoHeight\n * @return {number}\n *         The value of `videoHeight` from the video element. This will be a number\n *         in css pixels.\n *\n * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n */\n'videoHeight'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop];\n  };\n}); // Wrap native properties with a setter in this format:\n// set + toTitleCase(name)\n// The list is as follows:\n// setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate\n\n[\n/**\n * Set the value of `volume` on the media element. `volume` indicates the current\n * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and\n * so on.\n *\n * @method Html5#setVolume\n * @param {number} percentAsDecimal\n *        The volume percent as a decimal. Valid range is from 0-1.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n */\n'volume',\n/**\n * Set the value of `src` on the media element. `src` indicates the current\n * {@link Tech~SourceObject} for the media.\n *\n * @method Html5#setSrc\n * @param {Tech~SourceObject} src\n *        The source object to set as the current source.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}\n */\n'src',\n/**\n * Set the value of `poster` on the media element. `poster` is the url to\n * an image file that can/will be shown when no media data is available.\n *\n * @method Html5#setPoster\n * @param {string} poster\n *        The url to an image that should be used as the `poster` for the media\n *        element.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}\n */\n'poster',\n/**\n * Set the value of `preload` on the media element. `preload` indicates\n * what should download before the media is interacted with. It can have the following\n * values:\n * - none: nothing should be downloaded\n * - metadata: poster and the first few frames of the media may be downloaded to get\n *   media dimensions and other metadata\n * - auto: allow the media and metadata for the media to be downloaded before\n *    interaction\n *\n * @method Html5#setPreload\n * @param {string} preload\n *         The value of `preload` to set on the media element. Must be 'none', 'metadata',\n *         or 'auto'.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n */\n'preload',\n/**\n * Set the value of `playbackRate` on the media element. `playbackRate` indicates\n * the rate at which the media should play back. Examples:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5#setPlaybackRate\n * @return {number}\n *         The value of `playbackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n */\n'playbackRate',\n/**\n * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates\n * the rate at which the media should play back upon initial startup. Changing this value\n * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.\n *\n * Example Values:\n *   - if playbackRate is set to 2, media will play twice as fast.\n *   - if playbackRate is set to 0.5, media will play half as fast.\n *\n * @method Html5.prototype.setDefaultPlaybackRate\n * @return {number}\n *         The value of `defaultPlaybackRate` from the media element. A number indicating\n *         the current playback speed of the media, where 1 is normal speed.\n *\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}\n */\n'defaultPlaybackRate'].forEach(function (prop) {\n  Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n    this.el_[prop] = v;\n  };\n}); // wrap native functions with a function\n// The list is as follows:\n// pause, load, play\n\n[\n/**\n * A wrapper around the media elements `pause` function. This will call the `HTML5`\n * media elements `pause` function.\n *\n * @method Html5#pause\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}\n */\n'pause',\n/**\n * A wrapper around the media elements `load` function. This will call the `HTML5`s\n * media element `load` function.\n *\n * @method Html5#load\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}\n */\n'load',\n/**\n * A wrapper around the media elements `play` function. This will call the `HTML5`s\n * media element `play` function.\n *\n * @method Html5#play\n * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}\n */\n'play'].forEach(function (prop) {\n  Html5.prototype[prop] = function () {\n    return this.el_[prop]();\n  };\n});\nTech.withSourceHandlers(Html5);\n/**\n * Native source handler for Html5, simply passes the source to the media element.\n *\n * @property {Tech~SourceObject} source\n *        The source object\n *\n * @property {Html5} tech\n *        The instance of the HTML5 tech.\n */\n\nHtml5.nativeSourceHandler = {};\n/**\n * Check if the media element can play the given mime type.\n *\n * @param {string} type\n *        The mimetype to check\n *\n * @return {string}\n *         'probably', 'maybe', or '' (empty string)\n */\n\nHtml5.nativeSourceHandler.canPlayType = function (type) {\n  // IE without MediaPlayer throws an error (#519)\n  try {\n    return Html5.TEST_VID.canPlayType(type);\n  } catch (e) {\n    return '';\n  }\n};\n/**\n * Check if the media element can handle a source natively.\n *\n * @param {Tech~SourceObject} source\n *         The source object\n *\n * @param {Object} [options]\n *         Options to be passed to the tech.\n *\n * @return {string}\n *         'probably', 'maybe', or '' (empty string).\n */\n\n\nHtml5.nativeSourceHandler.canHandleSource = function (source, options) {\n  // If a type was provided we should rely on that\n  if (source.type) {\n    return Html5.nativeSourceHandler.canPlayType(source.type); // If no type, fall back to checking 'video/[EXTENSION]'\n  } else if (source.src) {\n    var ext = getFileExtension(source.src);\n    return Html5.nativeSourceHandler.canPlayType(\"video/\" + ext);\n  }\n\n  return '';\n};\n/**\n * Pass the source to the native media element.\n *\n * @param {Tech~SourceObject} source\n *        The source object\n *\n * @param {Html5} tech\n *        The instance of the Html5 tech\n *\n * @param {Object} [options]\n *        The options to pass to the source\n */\n\n\nHtml5.nativeSourceHandler.handleSource = function (source, tech, options) {\n  tech.setSrc(source.src);\n};\n/**\n * A noop for the native dispose function, as cleanup is not needed.\n */\n\n\nHtml5.nativeSourceHandler.dispose = function () {}; // Register the native source handler\n\n\nHtml5.registerSourceHandler(Html5.nativeSourceHandler);\nTech.registerTech('Html5', Html5);\n\nfunction _templateObject$2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n        Using the tech directly can be dangerous. I hope you know what you're doing.\\n        See https://github.com/videojs/video.js/issues/2617 for more info.\\n      \"]);\n\n  _templateObject$2 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n} // on the player when they happen\n\n\nvar TECH_EVENTS_RETRIGGER = [\n/**\n * Fired while the user agent is downloading media data.\n *\n * @event Player#progress\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `progress` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechProgress_\n * @fires Player#progress\n * @listens Tech#progress\n */\n'progress',\n/**\n * Fires when the loading of an audio/video is aborted.\n *\n * @event Player#abort\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `abort` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechAbort_\n * @fires Player#abort\n * @listens Tech#abort\n */\n'abort',\n/**\n * Fires when the browser is intentionally not getting media data.\n *\n * @event Player#suspend\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `suspend` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechSuspend_\n * @fires Player#suspend\n * @listens Tech#suspend\n */\n'suspend',\n/**\n * Fires when the current playlist is empty.\n *\n * @event Player#emptied\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `emptied` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechEmptied_\n * @fires Player#emptied\n * @listens Tech#emptied\n */\n'emptied',\n/**\n * Fires when the browser is trying to get media data, but data is not available.\n *\n * @event Player#stalled\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechStalled_\n * @fires Player#stalled\n * @listens Tech#stalled\n */\n'stalled',\n/**\n * Fires when the browser has loaded meta data for the audio/video.\n *\n * @event Player#loadedmetadata\n * @type {EventTarget~Event}\n */\n\n/**\n * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechLoadedmetadata_\n * @fires Player#loadedmetadata\n * @listens Tech#loadedmetadata\n */\n'loadedmetadata',\n/**\n * Fires when the browser has loaded the current frame of the audio/video.\n *\n * @event Player#loadeddata\n * @type {event}\n */\n\n/**\n * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechLoaddeddata_\n * @fires Player#loadeddata\n * @listens Tech#loadeddata\n */\n'loadeddata',\n/**\n * Fires when the current playback position has changed.\n *\n * @event Player#timeupdate\n * @type {event}\n */\n\n/**\n * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechTimeUpdate_\n * @fires Player#timeupdate\n * @listens Tech#timeupdate\n */\n'timeupdate',\n/**\n * Fires when the video's intrinsic dimensions change\n *\n * @event Player#resize\n * @type {event}\n */\n\n/**\n * Retrigger the `resize` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechResize_\n * @fires Player#resize\n * @listens Tech#resize\n */\n'resize',\n/**\n * Fires when the volume has been changed\n *\n * @event Player#volumechange\n * @type {event}\n */\n\n/**\n * Retrigger the `volumechange` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechVolumechange_\n * @fires Player#volumechange\n * @listens Tech#volumechange\n */\n'volumechange',\n/**\n * Fires when the text track has been changed\n *\n * @event Player#texttrackchange\n * @type {event}\n */\n\n/**\n * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.\n *\n * @private\n * @method Player#handleTechTexttrackchange_\n * @fires Player#texttrackchange\n * @listens Tech#texttrackchange\n */\n'texttrackchange']; // events to queue when playback rate is zero\n// this is a hash for the sole purpose of mapping non-camel-cased event names\n// to camel-cased function names\n\nvar TECH_EVENTS_QUEUE = {\n  canplay: 'CanPlay',\n  canplaythrough: 'CanPlayThrough',\n  playing: 'Playing',\n  seeked: 'Seeked'\n};\nvar BREAKPOINT_ORDER = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'];\nvar BREAKPOINT_CLASSES = {}; // grep: vjs-layout-tiny\n// grep: vjs-layout-x-small\n// grep: vjs-layout-small\n// grep: vjs-layout-medium\n// grep: vjs-layout-large\n// grep: vjs-layout-x-large\n// grep: vjs-layout-huge\n\nBREAKPOINT_ORDER.forEach(function (k) {\n  var v = k.charAt(0) === 'x' ? \"x-\" + k.substring(1) : k;\n  BREAKPOINT_CLASSES[k] = \"vjs-layout-\" + v;\n});\nvar DEFAULT_BREAKPOINTS = {\n  tiny: 210,\n  xsmall: 320,\n  small: 425,\n  medium: 768,\n  large: 1440,\n  xlarge: 2560,\n  huge: Infinity\n};\n/**\n * An instance of the `Player` class is created when any of the Video.js setup methods\n * are used to initialize a video.\n *\n * After an instance has been created it can be accessed globally in two ways:\n * 1. By calling `videojs('example_video_1');`\n * 2. By using it directly via  `videojs.players.example_video_1;`\n *\n * @extends Component\n */\n\nvar Player =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Player, _Component);\n  /**\n   * Create an instance of this class.\n   *\n   * @param {Element} tag\n   *        The original video DOM element used for configuring options.\n   *\n   * @param {Object} [options]\n   *        Object of option names and values.\n   *\n   * @param {Component~ReadyCallback} [ready]\n   *        Ready callback function.\n   */\n\n\n  function Player(tag, options, ready) {\n    var _this; // Make sure tag ID exists\n\n\n    tag.id = tag.id || options.id || \"vjs_video_\" + newGUID(); // Set Options\n    // The options argument overrides options set in the video tag\n    // which overrides globally set options.\n    // This latter part coincides with the load order\n    // (tag must exist before Player)\n\n    options = assign(Player.getTagSettings(tag), options); // Delay the initialization of children because we need to set up\n    // player properties first, and can't use `this` before `super()`\n\n    options.initChildren = false; // Same with creating the element\n\n    options.createEl = false; // don't auto mixin the evented mixin\n\n    options.evented = false; // we don't want the player to report touch activity on itself\n    // see enableTouchActivity in Component\n\n    options.reportTouchActivity = false; // If language is not set, get the closest lang attribute\n\n    if (!options.language) {\n      if (typeof tag.closest === 'function') {\n        var closest = tag.closest('[lang]');\n\n        if (closest && closest.getAttribute) {\n          options.language = closest.getAttribute('lang');\n        }\n      } else {\n        var element = tag;\n\n        while (element && element.nodeType === 1) {\n          if (getAttributes(element).hasOwnProperty('lang')) {\n            options.language = element.getAttribute('lang');\n            break;\n          }\n\n          element = element.parentNode;\n        }\n      }\n    } // Run base component initializing with new options\n\n\n    _this = _Component.call(this, null, options, ready) || this; // Create bound methods for document listeners.\n\n    _this.boundDocumentFullscreenChange_ = bind(_assertThisInitialized(_this), _this.documentFullscreenChange_);\n    _this.boundFullWindowOnEscKey_ = bind(_assertThisInitialized(_this), _this.fullWindowOnEscKey); // create logger\n\n    _this.log = createLogger$1(_this.id_); // Hold our own reference to fullscreen api so it can be mocked in tests\n\n    _this.fsApi_ = FullscreenApi; // Tracks when a tech changes the poster\n\n    _this.isPosterFromTech_ = false; // Holds callback info that gets queued when playback rate is zero\n    // and a seek is happening\n\n    _this.queuedCallbacks_ = []; // Turn off API access because we're loading a new tech that might load asynchronously\n\n    _this.isReady_ = false; // Init state hasStarted_\n\n    _this.hasStarted_ = false; // Init state userActive_\n\n    _this.userActive_ = false; // if the global option object was accidentally blown away by\n    // someone, bail early with an informative error\n\n    if (!_this.options_ || !_this.options_.techOrder || !_this.options_.techOrder.length) {\n      throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n    } // Store the original tag used to set options\n\n\n    _this.tag = tag; // Store the tag attributes used to restore html5 element\n\n    _this.tagAttributes = tag && getAttributes(tag); // Update current language\n\n    _this.language(_this.options_.language); // Update Supported Languages\n\n\n    if (options.languages) {\n      // Normalise player option languages to lowercase\n      var languagesToLower = {};\n      Object.getOwnPropertyNames(options.languages).forEach(function (name) {\n        languagesToLower[name.toLowerCase()] = options.languages[name];\n      });\n      _this.languages_ = languagesToLower;\n    } else {\n      _this.languages_ = Player.prototype.options_.languages;\n    }\n\n    _this.resetCache_(); // Set poster\n\n\n    _this.poster_ = options.poster || ''; // Set controls\n\n    _this.controls_ = !!options.controls; // Original tag settings stored in options\n    // now remove immediately so native controls don't flash.\n    // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\n    tag.controls = false;\n    tag.removeAttribute('controls');\n    _this.changingSrc_ = false;\n    _this.playCallbacks_ = [];\n    _this.playTerminatedQueue_ = []; // the attribute overrides the option\n\n    if (tag.hasAttribute('autoplay')) {\n      _this.autoplay(true);\n    } else {\n      // otherwise use the setter to validate and\n      // set the correct value.\n      _this.autoplay(_this.options_.autoplay);\n    } // check plugins\n\n\n    if (options.plugins) {\n      Object.keys(options.plugins).forEach(function (name) {\n        if (typeof _this[name] !== 'function') {\n          throw new Error(\"plugin \\\"\" + name + \"\\\" does not exist\");\n        }\n      });\n    }\n    /*\n     * Store the internal state of scrubbing\n     *\n     * @private\n     * @return {Boolean} True if the user is scrubbing\n     */\n\n\n    _this.scrubbing_ = false;\n    _this.el_ = _this.createEl(); // Make this an evented object and use `el_` as its event bus.\n\n    evented(_assertThisInitialized(_this), {\n      eventBusKey: 'el_'\n    });\n\n    if (_this.fluid_) {\n      _this.on('playerreset', _this.updateStyleEl_);\n    } // We also want to pass the original player options to each component and plugin\n    // as well so they don't need to reach back into the player for options later.\n    // We also need to do another copy of this.options_ so we don't end up with\n    // an infinite loop.\n\n\n    var playerOptionsCopy = mergeOptions(_this.options_); // Load plugins\n\n    if (options.plugins) {\n      Object.keys(options.plugins).forEach(function (name) {\n        _this[name](options.plugins[name]);\n      });\n    }\n\n    _this.options_.playerOptions = playerOptionsCopy;\n    _this.middleware_ = [];\n\n    _this.initChildren(); // Set isAudio based on whether or not an audio tag was used\n\n\n    _this.isAudio(tag.nodeName.toLowerCase() === 'audio'); // Update controls className. Can't do this when the controls are initially\n    // set because the element doesn't exist yet.\n\n\n    if (_this.controls()) {\n      _this.addClass('vjs-controls-enabled');\n    } else {\n      _this.addClass('vjs-controls-disabled');\n    } // Set ARIA label and region role depending on player type\n\n\n    _this.el_.setAttribute('role', 'region');\n\n    if (_this.isAudio()) {\n      _this.el_.setAttribute('aria-label', _this.localize('Audio Player'));\n    } else {\n      _this.el_.setAttribute('aria-label', _this.localize('Video Player'));\n    }\n\n    if (_this.isAudio()) {\n      _this.addClass('vjs-audio');\n    }\n\n    if (_this.flexNotSupported_()) {\n      _this.addClass('vjs-no-flex');\n    } // TODO: Make this smarter. Toggle user state between touching/mousing\n    // using events, since devices can have both touch and mouse events.\n    // TODO: Make this check be performed again when the window switches between monitors\n    // (See https://github.com/videojs/video.js/issues/5683)\n\n\n    if (TOUCH_ENABLED) {\n      _this.addClass('vjs-touch-enabled');\n    } // iOS Safari has broken hover handling\n\n\n    if (!IS_IOS) {\n      _this.addClass('vjs-workinghover');\n    } // Make player easily findable by ID\n\n\n    Player.players[_this.id_] = _assertThisInitialized(_this); // Add a major version class to aid css in plugins\n\n    var majorVersion = version.split('.')[0];\n\n    _this.addClass(\"vjs-v\" + majorVersion); // When the player is first initialized, trigger activity so components\n    // like the control bar show themselves if needed\n\n\n    _this.userActive(true);\n\n    _this.reportUserActivity();\n\n    _this.one('play', _this.listenForUserActivity_);\n\n    _this.on('stageclick', _this.handleStageClick_);\n\n    _this.on('keydown', _this.handleKeyDown);\n\n    _this.breakpoints(_this.options_.breakpoints);\n\n    _this.responsive(_this.options_.responsive);\n\n    return _this;\n  }\n  /**\n   * Destroys the video player and does any necessary cleanup.\n   *\n   * This is especially helpful if you are dynamically adding and removing videos\n   * to/from the DOM.\n   *\n   * @fires Player#dispose\n   */\n\n\n  var _proto = Player.prototype;\n\n  _proto.dispose = function dispose() {\n    var _this2 = this;\n    /**\n     * Called when the player is being disposed of.\n     *\n     * @event Player#dispose\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('dispose'); // prevent dispose from being called twice\n\n    this.off('dispose'); // Make sure all player-specific document listeners are unbound. This is\n\n    off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n    off(document, 'keydown', this.boundFullWindowOnEscKey_);\n\n    if (this.styleEl_ && this.styleEl_.parentNode) {\n      this.styleEl_.parentNode.removeChild(this.styleEl_);\n      this.styleEl_ = null;\n    } // Kill reference to this player\n\n\n    Player.players[this.id_] = null;\n\n    if (this.tag && this.tag.player) {\n      this.tag.player = null;\n    }\n\n    if (this.el_ && this.el_.player) {\n      this.el_.player = null;\n    }\n\n    if (this.tech_) {\n      this.tech_.dispose();\n      this.isPosterFromTech_ = false;\n      this.poster_ = '';\n    }\n\n    if (this.playerElIngest_) {\n      this.playerElIngest_ = null;\n    }\n\n    if (this.tag) {\n      this.tag = null;\n    }\n\n    clearCacheForPlayer(this); // remove all event handlers for track lists\n    // all tracks and track listeners are removed on\n    // tech dispose\n\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n\n      var list = _this2[props.getterName](); // if it is not a native list\n      // we have to manually remove event listeners\n\n\n      if (list && list.off) {\n        list.off();\n      }\n    }); // the actual .el_ is removed here\n\n    _Component.prototype.dispose.call(this);\n  }\n  /**\n   * Create the `Player`'s DOM element.\n   *\n   * @return {Element}\n   *         The DOM element that gets created.\n   */\n  ;\n\n  _proto.createEl = function createEl() {\n    var tag = this.tag;\n    var el;\n    var playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n    var divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n\n    if (playerElIngest) {\n      el = this.el_ = tag.parentNode;\n    } else if (!divEmbed) {\n      el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n    } // Copy over all the attributes from the tag, including ID and class\n    // ID will now reference player box, not the video tag\n\n\n    var attrs = getAttributes(tag);\n\n    if (divEmbed) {\n      el = this.el_ = tag;\n      tag = this.tag = document.createElement('video');\n\n      while (el.children.length) {\n        tag.appendChild(el.firstChild);\n      }\n\n      if (!hasClass(el, 'video-js')) {\n        addClass(el, 'video-js');\n      }\n\n      el.appendChild(tag);\n      playerElIngest = this.playerElIngest_ = el; // move properties over from our custom `video-js` element\n      // to our new `video` element. This will move things like\n      // `src` or `controls` that were set via js before the player\n      // was initialized.\n\n      Object.keys(el).forEach(function (k) {\n        tag[k] = el[k];\n      });\n    } // set tabindex to -1 to remove the video element from the focus order\n\n\n    tag.setAttribute('tabindex', '-1');\n    attrs.tabindex = '-1'; // Workaround for #4583 (JAWS+IE doesn't announce BPB or play button), and\n    // for the same issue with Chrome (on Windows) with JAWS.\n    // See https://github.com/FreedomScientific/VFO-standards-support/issues/78\n    // Note that we can't detect if JAWS is being used, but this ARIA attribute\n    //  doesn't change behavior of IE11 or Chrome if JAWS is not being used\n\n    if (IE_VERSION || IS_CHROME && IS_WINDOWS) {\n      tag.setAttribute('role', 'application');\n      attrs.role = 'application';\n    } // Remove width/height attrs from tag so CSS can make it 100% width/height\n\n\n    tag.removeAttribute('width');\n    tag.removeAttribute('height');\n\n    if ('width' in attrs) {\n      delete attrs.width;\n    }\n\n    if ('height' in attrs) {\n      delete attrs.height;\n    }\n\n    Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n      // don't copy over the class attribute to the player element when we're in a div embed\n      // the class is already set up properly in the divEmbed case\n      // and we want to make sure that the `video-js` class doesn't get lost\n      if (!(divEmbed && attr === 'class')) {\n        el.setAttribute(attr, attrs[attr]);\n      }\n\n      if (divEmbed) {\n        tag.setAttribute(attr, attrs[attr]);\n      }\n    }); // Update tag id/class for use as HTML5 playback tech\n    // Might think we should do this after embedding in container so .vjs-tech class\n    // doesn't flash 100% width/height, but class only applies with .video-js parent\n\n    tag.playerId = tag.id;\n    tag.id += '_html5_api';\n    tag.className = 'vjs-tech'; // Make player findable on elements\n\n    tag.player = el.player = this; // Default state of video is paused\n\n    this.addClass('vjs-paused'); // Add a style element in the player that we'll use to set the width/height\n    // of the player in a way that's still overrideable by CSS, just like the\n    // video element\n\n    if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n      this.styleEl_ = createStyleElement('vjs-styles-dimensions');\n      var defaultsStyleEl = $('.vjs-styles-defaults');\n      var head = $('head');\n      head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n    }\n\n    this.fill_ = false;\n    this.fluid_ = false; // Pass in the width/height/aspectRatio options which will update the style el\n\n    this.width(this.options_.width);\n    this.height(this.options_.height);\n    this.fill(this.options_.fill);\n    this.fluid(this.options_.fluid);\n    this.aspectRatio(this.options_.aspectRatio); // Hide any links within the video/audio tag,\n    // because IE doesn't hide them completely from screen readers.\n\n    var links = tag.getElementsByTagName('a');\n\n    for (var i = 0; i < links.length; i++) {\n      var linkEl = links.item(i);\n      addClass(linkEl, 'vjs-hidden');\n      linkEl.setAttribute('hidden', 'hidden');\n    } // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n    // keep track of the original for later so we can know if the source originally failed\n\n\n    tag.initNetworkState_ = tag.networkState; // Wrap video tag in div (el/box) container\n\n    if (tag.parentNode && !playerElIngest) {\n      tag.parentNode.insertBefore(el, tag);\n    } // insert the tag as the first child of the player element\n    // then manually add it to the children array so that this.addChild\n    // will work properly for other components\n    //\n    // Breaks iPhone, fixed in HTML5 setup.\n\n\n    prependTo(tag, el);\n    this.children_.unshift(tag); // Set lang attr on player to ensure CSS :lang() in consistent with player\n    // if it's been set to something different to the doc\n\n    this.el_.setAttribute('lang', this.language_);\n    this.el_ = el;\n    return el;\n  }\n  /**\n   * A getter/setter for the `Player`'s width. Returns the player's configured value.\n   * To get the current width use `currentWidth()`.\n   *\n   * @param {number} [value]\n   *        The value to set the `Player`'s width to.\n   *\n   * @return {number}\n   *         The current width of the `Player` when getting.\n   */\n  ;\n\n  _proto.width = function width(value) {\n    return this.dimension('width', value);\n  }\n  /**\n   * A getter/setter for the `Player`'s height. Returns the player's configured value.\n   * To get the current height use `currentheight()`.\n   *\n   * @param {number} [value]\n   *        The value to set the `Player`'s heigth to.\n   *\n   * @return {number}\n   *         The current height of the `Player` when getting.\n   */\n  ;\n\n  _proto.height = function height(value) {\n    return this.dimension('height', value);\n  }\n  /**\n   * A getter/setter for the `Player`'s width & height.\n   *\n   * @param {string} dimension\n   *        This string can be:\n   *        - 'width'\n   *        - 'height'\n   *\n   * @param {number} [value]\n   *        Value for dimension specified in the first argument.\n   *\n   * @return {number}\n   *         The dimension arguments value when getting (width/height).\n   */\n  ;\n\n  _proto.dimension = function dimension(_dimension, value) {\n    var privDimension = _dimension + '_';\n\n    if (value === undefined) {\n      return this[privDimension] || 0;\n    }\n\n    if (value === '') {\n      // If an empty string is given, reset the dimension to be automatic\n      this[privDimension] = undefined;\n      this.updateStyleEl_();\n      return;\n    }\n\n    var parsedVal = parseFloat(value);\n\n    if (isNaN(parsedVal)) {\n      log.error(\"Improper value \\\"\" + value + \"\\\" supplied for for \" + _dimension);\n      return;\n    }\n\n    this[privDimension] = parsedVal;\n    this.updateStyleEl_();\n  }\n  /**\n   * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.\n   *\n   * Turning this on will turn off fill mode.\n   *\n   * @param {boolean} [bool]\n   *        - A value of true adds the class.\n   *        - A value of false removes the class.\n   *        - No value will be a getter.\n   *\n   * @return {boolean|undefined}\n   *         - The value of fluid when getting.\n   *         - `undefined` when setting.\n   */\n  ;\n\n  _proto.fluid = function fluid(bool) {\n    if (bool === undefined) {\n      return !!this.fluid_;\n    }\n\n    this.fluid_ = !!bool;\n\n    if (isEvented(this)) {\n      this.off('playerreset', this.updateStyleEl_);\n    }\n\n    if (bool) {\n      this.addClass('vjs-fluid');\n      this.fill(false);\n      addEventedCallback(function () {\n        this.on('playerreset', this.updateStyleEl_);\n      });\n    } else {\n      this.removeClass('vjs-fluid');\n    }\n\n    this.updateStyleEl_();\n  }\n  /**\n   * A getter/setter/toggler for the vjs-fill `className` on the `Player`.\n   *\n   * Turning this on will turn off fluid mode.\n   *\n   * @param {boolean} [bool]\n   *        - A value of true adds the class.\n   *        - A value of false removes the class.\n   *        - No value will be a getter.\n   *\n   * @return {boolean|undefined}\n   *         - The value of fluid when getting.\n   *         - `undefined` when setting.\n   */\n  ;\n\n  _proto.fill = function fill(bool) {\n    if (bool === undefined) {\n      return !!this.fill_;\n    }\n\n    this.fill_ = !!bool;\n\n    if (bool) {\n      this.addClass('vjs-fill');\n      this.fluid(false);\n    } else {\n      this.removeClass('vjs-fill');\n    }\n  }\n  /**\n   * Get/Set the aspect ratio\n   *\n   * @param {string} [ratio]\n   *        Aspect ratio for player\n   *\n   * @return {string|undefined}\n   *         returns the current aspect ratio when getting\n   */\n\n  /**\n   * A getter/setter for the `Player`'s aspect ratio.\n   *\n   * @param {string} [ratio]\n   *        The value to set the `Player's aspect ratio to.\n   *\n   * @return {string|undefined}\n   *         - The current aspect ratio of the `Player` when getting.\n   *         - undefined when setting\n   */\n  ;\n\n  _proto.aspectRatio = function aspectRatio(ratio) {\n    if (ratio === undefined) {\n      return this.aspectRatio_;\n    } // Check for width:height format\n\n\n    if (!/^\\d+\\:\\d+$/.test(ratio)) {\n      throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n    }\n\n    this.aspectRatio_ = ratio; // We're assuming if you set an aspect ratio you want fluid mode,\n    // because in fixed mode you could calculate width and height yourself.\n\n    this.fluid(true);\n    this.updateStyleEl_();\n  }\n  /**\n   * Update styles of the `Player` element (height, width and aspect ratio).\n   *\n   * @private\n   * @listens Tech#loadedmetadata\n   */\n  ;\n\n  _proto.updateStyleEl_ = function updateStyleEl_() {\n    if (window$1.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n      var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n\n      var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n\n      var techEl = this.tech_ && this.tech_.el();\n\n      if (techEl) {\n        if (_width >= 0) {\n          techEl.width = _width;\n        }\n\n        if (_height >= 0) {\n          techEl.height = _height;\n        }\n      }\n\n      return;\n    }\n\n    var width;\n    var height;\n    var aspectRatio;\n    var idClass; // The aspect ratio is either used directly or to calculate width and height.\n\n    if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n      // Use any aspectRatio that's been specifically set\n      aspectRatio = this.aspectRatio_;\n    } else if (this.videoWidth() > 0) {\n      // Otherwise try to get the aspect ratio from the video metadata\n      aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n    } else {\n      // Or use a default. The video element's is 2:1, but 16:9 is more common.\n      aspectRatio = '16:9';\n    } // Get the ratio as a decimal we can use to calculate dimensions\n\n\n    var ratioParts = aspectRatio.split(':');\n    var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n    if (this.width_ !== undefined) {\n      // Use any width that's been specifically set\n      width = this.width_;\n    } else if (this.height_ !== undefined) {\n      // Or calulate the width from the aspect ratio if a height has been set\n      width = this.height_ / ratioMultiplier;\n    } else {\n      // Or use the video's metadata, or use the video el's default of 300\n      width = this.videoWidth() || 300;\n    }\n\n    if (this.height_ !== undefined) {\n      // Use any height that's been specifically set\n      height = this.height_;\n    } else {\n      // Otherwise calculate the height from the ratio and the width\n      height = width * ratioMultiplier;\n    } // Ensure the CSS class is valid by starting with an alpha character\n\n\n    if (/^[^a-zA-Z]/.test(this.id())) {\n      idClass = 'dimensions-' + this.id();\n    } else {\n      idClass = this.id() + '-dimensions';\n    } // Ensure the right class is still on the player for the style element\n\n\n    this.addClass(idClass);\n    setTextContent(this.styleEl_, \"\\n      .\" + idClass + \" {\\n        width: \" + width + \"px;\\n        height: \" + height + \"px;\\n      }\\n\\n      .\" + idClass + \".vjs-fluid {\\n        padding-top: \" + ratioMultiplier * 100 + \"%;\\n      }\\n    \");\n  }\n  /**\n   * Load/Create an instance of playback {@link Tech} including element\n   * and API methods. Then append the `Tech` element in `Player` as a child.\n   *\n   * @param {string} techName\n   *        name of the playback technology\n   *\n   * @param {string} source\n   *        video source\n   *\n   * @private\n   */\n  ;\n\n  _proto.loadTech_ = function loadTech_(techName, source) {\n    var _this3 = this; // Pause and remove current playback technology\n\n\n    if (this.tech_) {\n      this.unloadTech_();\n    }\n\n    var titleTechName = toTitleCase(techName);\n    var camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1); // get rid of the HTML5 video tag as soon as we are using another tech\n\n    if (titleTechName !== 'Html5' && this.tag) {\n      Tech.getTech('Html5').disposeMediaElement(this.tag);\n      this.tag.player = null;\n      this.tag = null;\n    }\n\n    this.techName_ = titleTechName; // Turn off API access because we're loading a new tech that might load asynchronously\n\n    this.isReady_ = false; // if autoplay is a string we pass false to the tech\n    // because the player is going to handle autoplay on `loadstart`\n\n    var autoplay = typeof this.autoplay() === 'string' ? false : this.autoplay(); // Grab tech-specific options from player options and add source and parent element to use.\n\n    var techOptions = {\n      source: source,\n      autoplay: autoplay,\n      'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n      'playerId': this.id(),\n      'techId': this.id() + \"_\" + camelTechName + \"_api\",\n      'playsinline': this.options_.playsinline,\n      'preload': this.options_.preload,\n      'loop': this.options_.loop,\n      'muted': this.options_.muted,\n      'poster': this.poster(),\n      'language': this.language(),\n      'playerElIngest': this.playerElIngest_ || false,\n      'vtt.js': this.options_['vtt.js'],\n      'canOverridePoster': !!this.options_.techCanOverridePoster,\n      'enableSourceset': this.options_.enableSourceset,\n      'Promise': this.options_.Promise\n    };\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n      techOptions[props.getterName] = _this3[props.privateName];\n    });\n    assign(techOptions, this.options_[titleTechName]);\n    assign(techOptions, this.options_[camelTechName]);\n    assign(techOptions, this.options_[techName.toLowerCase()]);\n\n    if (this.tag) {\n      techOptions.tag = this.tag;\n    }\n\n    if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n      techOptions.startTime = this.cache_.currentTime;\n    } // Initialize tech instance\n\n\n    var TechClass = Tech.getTech(techName);\n\n    if (!TechClass) {\n      throw new Error(\"No Tech named '\" + titleTechName + \"' exists! '\" + titleTechName + \"' should be registered using videojs.registerTech()'\");\n    }\n\n    this.tech_ = new TechClass(techOptions); // player.triggerReady is always async, so don't need this to be async\n\n    this.tech_.ready(bind(this, this.handleTechReady_), true);\n    textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_); // Listen to all HTML5-defined events and trigger them on the player\n\n    TECH_EVENTS_RETRIGGER.forEach(function (event) {\n      _this3.on(_this3.tech_, event, _this3[\"handleTech\" + toTitleCase(event) + \"_\"]);\n    });\n    Object.keys(TECH_EVENTS_QUEUE).forEach(function (event) {\n      _this3.on(_this3.tech_, event, function (eventObj) {\n        if (_this3.tech_.playbackRate() === 0 && _this3.tech_.seeking()) {\n          _this3.queuedCallbacks_.push({\n            callback: _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"].bind(_this3),\n            event: eventObj\n          });\n\n          return;\n        }\n\n        _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"](eventObj);\n      });\n    });\n    this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n    this.on(this.tech_, 'sourceset', this.handleTechSourceset_);\n    this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n    this.on(this.tech_, 'ended', this.handleTechEnded_);\n    this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n    this.on(this.tech_, 'play', this.handleTechPlay_);\n    this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n    this.on(this.tech_, 'pause', this.handleTechPause_);\n    this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n    this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n    this.on(this.tech_, 'enterpictureinpicture', this.handleTechEnterPictureInPicture_);\n    this.on(this.tech_, 'leavepictureinpicture', this.handleTechLeavePictureInPicture_);\n    this.on(this.tech_, 'error', this.handleTechError_);\n    this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n    this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n    this.on(this.tech_, 'textdata', this.handleTechTextData_);\n    this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n    this.usingNativeControls(this.techGet_('controls'));\n\n    if (this.controls() && !this.usingNativeControls()) {\n      this.addTechControlsListeners_();\n    } // Add the tech element in the DOM if it was not already there\n    // Make sure to not insert the original video element if using Html5\n\n\n    if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n      prependTo(this.tech_.el(), this.el());\n    } // Get rid of the original video tag reference after the first tech is loaded\n\n\n    if (this.tag) {\n      this.tag.player = null;\n      this.tag = null;\n    }\n  }\n  /**\n   * Unload and dispose of the current playback {@link Tech}.\n   *\n   * @private\n   */\n  ;\n\n  _proto.unloadTech_ = function unloadTech_() {\n    var _this4 = this; // Save the current text tracks so that we can reuse the same text tracks with the next tech\n\n\n    ALL.names.forEach(function (name) {\n      var props = ALL[name];\n      _this4[props.privateName] = _this4[props.getterName]();\n    });\n    this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n    this.isReady_ = false;\n    this.tech_.dispose();\n    this.tech_ = false;\n\n    if (this.isPosterFromTech_) {\n      this.poster_ = '';\n      this.trigger('posterchange');\n    }\n\n    this.isPosterFromTech_ = false;\n  }\n  /**\n   * Return a reference to the current {@link Tech}.\n   * It will print a warning by default about the danger of using the tech directly\n   * but any argument that is passed in will silence the warning.\n   *\n   * @param {*} [safety]\n   *        Anything passed in to silence the warning\n   *\n   * @return {Tech}\n   *         The Tech\n   */\n  ;\n\n  _proto.tech = function tech(safety) {\n    if (safety === undefined) {\n      log.warn(tsml(_templateObject$2()));\n    }\n\n    return this.tech_;\n  }\n  /**\n   * Set up click and touch listeners for the playback element\n   *\n   * - On desktops: a click on the video itself will toggle playback\n   * - On mobile devices: a click on the video toggles controls\n   *   which is done by toggling the user state between active and\n   *   inactive\n   * - A tap can signal that a user has become active or has become inactive\n   *   e.g. a quick tap on an iPhone movie should reveal the controls. Another\n   *   quick tap should hide them again (signaling the user is in an inactive\n   *   viewing state)\n   * - In addition to this, we still want the user to be considered inactive after\n   *   a few seconds of inactivity.\n   *\n   * > Note: the only part of iOS interaction we can't mimic with this setup\n   * is a touch and hold on the video element counting as activity in order to\n   * keep the controls showing, but that shouldn't be an issue. A touch and hold\n   * on any controls will still keep the user active\n   *\n   * @private\n   */\n  ;\n\n  _proto.addTechControlsListeners_ = function addTechControlsListeners_() {\n    // Make sure to remove all the previous listeners in case we are called multiple times.\n    this.removeTechControlsListeners_(); // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n    // trigger mousedown/up.\n    // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n    // Any touch events are set to block the mousedown event from happening\n\n    this.on(this.tech_, 'mouseup', this.handleTechClick_);\n    this.on(this.tech_, 'dblclick', this.handleTechDoubleClick_); // If the controls were hidden we don't want that to change without a tap event\n    // so we'll check if the controls were already showing before reporting user\n    // activity\n\n    this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n    this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n    this.on(this.tech_, 'touchend', this.handleTechTouchEnd_); // The tap listener needs to come after the touchend listener because the tap\n    // listener cancels out any reportedUserActivity when setting userActive(false)\n\n    this.on(this.tech_, 'tap', this.handleTechTap_);\n  }\n  /**\n   * Remove the listeners used for click and tap controls. This is needed for\n   * toggling to controls disabled, where a tap/touch should do nothing.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n    // We don't want to just use `this.off()` because there might be other needed\n    // listeners added by techs that extend this.\n    this.off(this.tech_, 'tap', this.handleTechTap_);\n    this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n    this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n    this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n    this.off(this.tech_, 'mouseup', this.handleTechClick_);\n    this.off(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n  }\n  /**\n   * Player waits for the tech to be ready\n   *\n   * @private\n   */\n  ;\n\n  _proto.handleTechReady_ = function handleTechReady_() {\n    this.triggerReady(); // Keep the same volume as before\n\n    if (this.cache_.volume) {\n      this.techCall_('setVolume', this.cache_.volume);\n    } // Look if the tech found a higher resolution poster while loading\n\n\n    this.handleTechPosterChange_(); // Update the duration if available\n\n    this.handleTechDurationChange_();\n  }\n  /**\n   * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This\n   * function will also trigger {@link Player#firstplay} if it is the first loadstart\n   * for a video.\n   *\n   * @fires Player#loadstart\n   * @fires Player#firstplay\n   * @listens Tech#loadstart\n   * @private\n   */\n  ;\n\n  _proto.handleTechLoadStart_ = function handleTechLoadStart_() {\n    // TODO: Update to use `emptied` event instead. See #1277.\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-seeking'); // reset the error state\n\n    this.error(null); // Update the duration\n\n    this.handleTechDurationChange_(); // If it's already playing we want to trigger a firstplay event now.\n    // The firstplay event relies on both the play and loadstart events\n    // which can happen in any order for a new source\n\n    if (!this.paused()) {\n      /**\n       * Fired when the user agent begins looking for media data\n       *\n       * @event Player#loadstart\n       * @type {EventTarget~Event}\n       */\n      this.trigger('loadstart');\n      this.trigger('firstplay');\n    } else {\n      // reset the hasStarted state\n      this.hasStarted(false);\n      this.trigger('loadstart');\n    } // autoplay happens after loadstart for the browser,\n    // so we mimic that behavior\n\n\n    this.manualAutoplay_(this.autoplay());\n  }\n  /**\n   * Handle autoplay string values, rather than the typical boolean\n   * values that should be handled by the tech. Note that this is not\n   * part of any specification. Valid values and what they do can be\n   * found on the autoplay getter at Player#autoplay()\n   */\n  ;\n\n  _proto.manualAutoplay_ = function manualAutoplay_(type) {\n    var _this5 = this;\n\n    if (!this.tech_ || typeof type !== 'string') {\n      return;\n    }\n\n    var muted = function muted() {\n      var previouslyMuted = _this5.muted();\n\n      _this5.muted(true);\n\n      var restoreMuted = function restoreMuted() {\n        _this5.muted(previouslyMuted);\n      }; // restore muted on play terminatation\n\n\n      _this5.playTerminatedQueue_.push(restoreMuted);\n\n      var mutedPromise = _this5.play();\n\n      if (!isPromise(mutedPromise)) {\n        return;\n      }\n\n      return mutedPromise[\"catch\"](restoreMuted);\n    };\n\n    var promise; // if muted defaults to true\n    // the only thing we can do is call play\n\n    if (type === 'any' && this.muted() !== true) {\n      promise = this.play();\n\n      if (isPromise(promise)) {\n        promise = promise[\"catch\"](muted);\n      }\n    } else if (type === 'muted' && this.muted() !== true) {\n      promise = muted();\n    } else {\n      promise = this.play();\n    }\n\n    if (!isPromise(promise)) {\n      return;\n    }\n\n    return promise.then(function () {\n      _this5.trigger({\n        type: 'autoplay-success',\n        autoplay: type\n      });\n    })[\"catch\"](function (e) {\n      _this5.trigger({\n        type: 'autoplay-failure',\n        autoplay: type\n      });\n    });\n  }\n  /**\n   * Update the internal source caches so that we return the correct source from\n   * `src()`, `currentSource()`, and `currentSources()`.\n   *\n   * > Note: `currentSources` will not be updated if the source that is passed in exists\n   *         in the current `currentSources` cache.\n   *\n   *\n   * @param {Tech~SourceObject} srcObj\n   *        A string or object source to update our caches to.\n   */\n  ;\n\n  _proto.updateSourceCaches_ = function updateSourceCaches_(srcObj) {\n    if (srcObj === void 0) {\n      srcObj = '';\n    }\n\n    var src = srcObj;\n    var type = '';\n\n    if (typeof src !== 'string') {\n      src = srcObj.src;\n      type = srcObj.type;\n    } // make sure all the caches are set to default values\n    // to prevent null checking\n\n\n    this.cache_.source = this.cache_.source || {};\n    this.cache_.sources = this.cache_.sources || []; // try to get the type of the src that was passed in\n\n    if (src && !type) {\n      type = findMimetype(this, src);\n    } // update `currentSource` cache always\n\n\n    this.cache_.source = mergeOptions({}, srcObj, {\n      src: src,\n      type: type\n    });\n    var matchingSources = this.cache_.sources.filter(function (s) {\n      return s.src && s.src === src;\n    });\n    var sourceElSources = [];\n    var sourceEls = this.$$('source');\n    var matchingSourceEls = [];\n\n    for (var i = 0; i < sourceEls.length; i++) {\n      var sourceObj = getAttributes(sourceEls[i]);\n      sourceElSources.push(sourceObj);\n\n      if (sourceObj.src && sourceObj.src === src) {\n        matchingSourceEls.push(sourceObj.src);\n      }\n    } // if we have matching source els but not matching sources\n    // the current source cache is not up to date\n\n\n    if (matchingSourceEls.length && !matchingSources.length) {\n      this.cache_.sources = sourceElSources; // if we don't have matching source or source els set the\n      // sources cache to the `currentSource` cache\n    } else if (!matchingSources.length) {\n      this.cache_.sources = [this.cache_.source];\n    } // update the tech `src` cache\n\n\n    this.cache_.src = src;\n  }\n  /**\n   * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}\n   * causing the media element to reload.\n   *\n   * It will fire for the initial source and each subsequent source.\n   * This event is a custom event from Video.js and is triggered by the {@link Tech}.\n   *\n   * The event object for this event contains a `src` property that will contain the source\n   * that was available when the event was triggered. This is generally only necessary if Video.js\n   * is switching techs while the source was being changed.\n   *\n   * It is also fired when `load` is called on the player (or media element)\n   * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}\n   * says that the resource selection algorithm needs to be aborted and restarted.\n   * In this case, it is very likely that the `src` property will be set to the\n   * empty string `\"\"` to indicate we do not know what the source will be but\n   * that it is changing.\n   *\n   * *This event is currently still experimental and may change in minor releases.*\n   * __To use this, pass `enableSourceset` option to the player.__\n   *\n   * @event Player#sourceset\n   * @type {EventTarget~Event}\n   * @prop {string} src\n   *                The source url available when the `sourceset` was triggered.\n   *                It will be an empty string if we cannot know what the source is\n   *                but know that the source will change.\n   */\n\n  /**\n   * Retrigger the `sourceset` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#sourceset\n   * @listens Tech#sourceset\n   * @private\n   */\n  ;\n\n  _proto.handleTechSourceset_ = function handleTechSourceset_(event) {\n    var _this6 = this; // only update the source cache when the source\n    // was not updated using the player api\n\n\n    if (!this.changingSrc_) {\n      var updateSourceCaches = function updateSourceCaches(src) {\n        return _this6.updateSourceCaches_(src);\n      };\n\n      var playerSrc = this.currentSource().src;\n      var eventSrc = event.src; // if we have a playerSrc that is not a blob, and a tech src that is a blob\n\n      if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n        // if both the tech source and the player source were updated we assume\n        // something like @videojs/http-streaming did the sourceset and skip updating the source cache.\n        if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n          updateSourceCaches = function updateSourceCaches() {};\n        }\n      } // update the source to the intial source right away\n      // in some cases this will be empty string\n\n\n      updateSourceCaches(eventSrc); // if the `sourceset` `src` was an empty string\n      // wait for a `loadstart` to update the cache to `currentSrc`.\n      // If a sourceset happens before a `loadstart`, we reset the state\n      // as this function will be called again.\n\n      if (!event.src) {\n        var updateCache = function updateCache(e) {\n          if (e.type !== 'sourceset') {\n            var techSrc = _this6.techGet('currentSrc');\n\n            _this6.lastSource_.tech = techSrc;\n\n            _this6.updateSourceCaches_(techSrc);\n          }\n\n          _this6.tech_.off(['sourceset', 'loadstart'], updateCache);\n        };\n\n        this.tech_.one(['sourceset', 'loadstart'], updateCache);\n      }\n    }\n\n    this.lastSource_ = {\n      player: this.currentSource().src,\n      tech: event.src\n    };\n    this.trigger({\n      src: event.src,\n      type: 'sourceset'\n    });\n  }\n  /**\n   * Add/remove the vjs-has-started class\n   *\n   * @fires Player#firstplay\n   *\n   * @param {boolean} request\n   *        - true: adds the class\n   *        - false: remove the class\n   *\n   * @return {boolean}\n   *         the boolean value of hasStarted_\n   */\n  ;\n\n  _proto.hasStarted = function hasStarted(request) {\n    if (request === undefined) {\n      // act as getter, if we have no request to change\n      return this.hasStarted_;\n    }\n\n    if (request === this.hasStarted_) {\n      return;\n    }\n\n    this.hasStarted_ = request;\n\n    if (this.hasStarted_) {\n      this.addClass('vjs-has-started');\n      this.trigger('firstplay');\n    } else {\n      this.removeClass('vjs-has-started');\n    }\n  }\n  /**\n   * Fired whenever the media begins or resumes playback\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}\n   * @fires Player#play\n   * @listens Tech#play\n   * @private\n   */\n  ;\n\n  _proto.handleTechPlay_ = function handleTechPlay_() {\n    this.removeClass('vjs-ended');\n    this.removeClass('vjs-paused');\n    this.addClass('vjs-playing'); // hide the poster when the user hits play\n\n    this.hasStarted(true);\n    /**\n     * Triggered whenever an {@link Tech#play} event happens. Indicates that\n     * playback has started or resumed.\n     *\n     * @event Player#play\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('play');\n  }\n  /**\n   * Retrigger the `ratechange` event that was triggered by the {@link Tech}.\n   *\n   * If there were any events queued while the playback rate was zero, fire\n   * those events now.\n   *\n   * @private\n   * @method Player#handleTechRateChange_\n   * @fires Player#ratechange\n   * @listens Tech#ratechange\n   */\n  ;\n\n  _proto.handleTechRateChange_ = function handleTechRateChange_() {\n    if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n      this.queuedCallbacks_.forEach(function (queued) {\n        return queued.callback(queued.event);\n      });\n      this.queuedCallbacks_ = [];\n    }\n\n    this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     *\n     * @event Player#ratechange\n     * @type {event}\n     */\n\n    this.trigger('ratechange');\n  }\n  /**\n   * Retrigger the `waiting` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#waiting\n   * @listens Tech#waiting\n   * @private\n   */\n  ;\n\n  _proto.handleTechWaiting_ = function handleTechWaiting_() {\n    var _this7 = this;\n\n    this.addClass('vjs-waiting');\n    /**\n     * A readyState change on the DOM element has caused playback to stop.\n     *\n     * @event Player#waiting\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('waiting'); // Browsers may emit a timeupdate event after a waiting event. In order to prevent\n    // premature removal of the waiting class, wait for the time to change.\n\n    var timeWhenWaiting = this.currentTime();\n\n    var timeUpdateListener = function timeUpdateListener() {\n      if (timeWhenWaiting !== _this7.currentTime()) {\n        _this7.removeClass('vjs-waiting');\n\n        _this7.off('timeupdate', timeUpdateListener);\n      }\n    };\n\n    this.on('timeupdate', timeUpdateListener);\n  }\n  /**\n   * Retrigger the `canplay` event that was triggered by the {@link Tech}.\n   * > Note: This is not consistent between browsers. See #1351\n   *\n   * @fires Player#canplay\n   * @listens Tech#canplay\n   * @private\n   */\n  ;\n\n  _proto.handleTechCanPlay_ = function handleTechCanPlay_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media has a readyState of HAVE_FUTURE_DATA or greater.\n     *\n     * @event Player#canplay\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('canplay');\n  }\n  /**\n   * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#canplaythrough\n   * @listens Tech#canplaythrough\n   * @private\n   */\n  ;\n\n  _proto.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the\n     * entire media file can be played without buffering.\n     *\n     * @event Player#canplaythrough\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('canplaythrough');\n  }\n  /**\n   * Retrigger the `playing` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#playing\n   * @listens Tech#playing\n   * @private\n   */\n  ;\n\n  _proto.handleTechPlaying_ = function handleTechPlaying_() {\n    this.removeClass('vjs-waiting');\n    /**\n     * The media is no longer blocked from playback, and has started playing.\n     *\n     * @event Player#playing\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('playing');\n  }\n  /**\n   * Retrigger the `seeking` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#seeking\n   * @listens Tech#seeking\n   * @private\n   */\n  ;\n\n  _proto.handleTechSeeking_ = function handleTechSeeking_() {\n    this.addClass('vjs-seeking');\n    /**\n     * Fired whenever the player is jumping to a new time\n     *\n     * @event Player#seeking\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('seeking');\n  }\n  /**\n   * Retrigger the `seeked` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#seeked\n   * @listens Tech#seeked\n   * @private\n   */\n  ;\n\n  _proto.handleTechSeeked_ = function handleTechSeeked_() {\n    this.removeClass('vjs-seeking');\n    this.removeClass('vjs-ended');\n    /**\n     * Fired when the player has finished jumping to a new time\n     *\n     * @event Player#seeked\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('seeked');\n  }\n  /**\n   * Retrigger the `firstplay` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#firstplay\n   * @listens Tech#firstplay\n   * @deprecated As of 6.0 firstplay event is deprecated.\n   *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.\n   * @private\n   */\n  ;\n\n  _proto.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n    // If the first starttime attribute is specified\n    // then we will start at the given offset in seconds\n    if (this.options_.starttime) {\n      log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n      this.currentTime(this.options_.starttime);\n    }\n\n    this.addClass('vjs-has-started');\n    /**\n     * Fired the first time a video is played. Not part of the HLS spec, and this is\n     * probably not the best implementation yet, so use sparingly. If you don't have a\n     * reason to prevent playback, use `myPlayer.one('play');` instead.\n     *\n     * @event Player#firstplay\n     * @deprecated As of 6.0 firstplay event is deprecated.\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('firstplay');\n  }\n  /**\n   * Retrigger the `pause` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#pause\n   * @listens Tech#pause\n   * @private\n   */\n  ;\n\n  _proto.handleTechPause_ = function handleTechPause_() {\n    this.removeClass('vjs-playing');\n    this.addClass('vjs-paused');\n    /**\n     * Fired whenever the media has been paused\n     *\n     * @event Player#pause\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('pause');\n  }\n  /**\n   * Retrigger the `ended` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#ended\n   * @listens Tech#ended\n   * @private\n   */\n  ;\n\n  _proto.handleTechEnded_ = function handleTechEnded_() {\n    this.addClass('vjs-ended');\n\n    if (this.options_.loop) {\n      this.currentTime(0);\n      this.play();\n    } else if (!this.paused()) {\n      this.pause();\n    }\n    /**\n     * Fired when the end of the media resource is reached (currentTime == duration)\n     *\n     * @event Player#ended\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('ended');\n  }\n  /**\n   * Fired when the duration of the media resource is first known or changed\n   *\n   * @listens Tech#durationchange\n   * @private\n   */\n  ;\n\n  _proto.handleTechDurationChange_ = function handleTechDurationChange_() {\n    this.duration(this.techGet_('duration'));\n  }\n  /**\n   * Handle a click on the media element to play/pause\n   *\n   * @param {EventTarget~Event} event\n   *        the event that caused this function to trigger\n   *\n   * @listens Tech#mouseup\n   * @private\n   */\n  ;\n\n  _proto.handleTechClick_ = function handleTechClick_(event) {\n    if (!isSingleLeftClick(event)) {\n      return;\n    } // When controls are disabled a click should not toggle playback because\n    // the click is considered a control\n\n\n    if (!this.controls_) {\n      return;\n    }\n\n    if (this.paused()) {\n      silencePromise(this.play());\n    } else {\n      this.pause();\n    }\n  }\n  /**\n   * Handle a double-click on the media element to enter/exit fullscreen\n   *\n   * @param {EventTarget~Event} event\n   *        the event that caused this function to trigger\n   *\n   * @listens Tech#dblclick\n   * @private\n   */\n  ;\n\n  _proto.handleTechDoubleClick_ = function handleTechDoubleClick_(event) {\n    if (!this.controls_) {\n      return;\n    } // we do not want to toggle fullscreen state\n    // when double-clicking inside a control bar or a modal\n\n\n    var inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), function (el) {\n      return el.contains(event.target);\n    });\n\n    if (!inAllowedEls) {\n      /*\n       * options.userActions.doubleClick\n       *\n       * If `undefined` or `true`, double-click toggles fullscreen if controls are present\n       * Set to `false` to disable double-click handling\n       * Set to a function to substitute an external double-click handler\n       */\n      if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n        if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n          this.options_.userActions.doubleClick.call(this, event);\n        } else if (this.isFullscreen()) {\n          this.exitFullscreen();\n        } else {\n          this.requestFullscreen();\n        }\n      }\n    }\n  }\n  /**\n   * Handle a tap on the media element. It will toggle the user\n   * activity state, which hides and shows the controls.\n   *\n   * @listens Tech#tap\n   * @private\n   */\n  ;\n\n  _proto.handleTechTap_ = function handleTechTap_() {\n    this.userActive(!this.userActive());\n  }\n  /**\n   * Handle touch to start\n   *\n   * @listens Tech#touchstart\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchStart_ = function handleTechTouchStart_() {\n    this.userWasActive = this.userActive();\n  }\n  /**\n   * Handle touch to move\n   *\n   * @listens Tech#touchmove\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchMove_ = function handleTechTouchMove_() {\n    if (this.userWasActive) {\n      this.reportUserActivity();\n    }\n  }\n  /**\n   * Handle touch to end\n   *\n   * @param {EventTarget~Event} event\n   *        the touchend event that triggered\n   *        this function\n   *\n   * @listens Tech#touchend\n   * @private\n   */\n  ;\n\n  _proto.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n    // Stop the mouse events from also happening\n    event.preventDefault();\n  }\n  /**\n   * native click events on the SWF aren't triggered on IE11, Win8.1RT\n   * use stageclick events triggered from inside the SWF instead\n   *\n   * @private\n   * @listens stageclick\n   */\n  ;\n\n  _proto.handleStageClick_ = function handleStageClick_() {\n    this.reportUserActivity();\n  }\n  /**\n   * @private\n   */\n  ;\n\n  _proto.toggleFullscreenClass_ = function toggleFullscreenClass_() {\n    if (this.isFullscreen()) {\n      this.addClass('vjs-fullscreen');\n    } else {\n      this.removeClass('vjs-fullscreen');\n    }\n  }\n  /**\n   * when the document fschange event triggers it calls this\n   */\n  ;\n\n  _proto.documentFullscreenChange_ = function documentFullscreenChange_(e) {\n    var el = this.el();\n    var isFs = document[this.fsApi_.fullscreenElement] === el;\n\n    if (!isFs && el.matches) {\n      isFs = el.matches(':' + this.fsApi_.fullscreen);\n    } else if (!isFs && el.msMatchesSelector) {\n      isFs = el.msMatchesSelector(':' + this.fsApi_.fullscreen);\n    }\n\n    this.isFullscreen(isFs); // If cancelling fullscreen, remove event listener.\n\n    if (this.isFullscreen() === false) {\n      off(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_);\n    }\n\n    if (this.fsApi_.prefixed) {\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * Handle Tech Fullscreen Change\n   *\n   * @param {EventTarget~Event} event\n   *        the fullscreenchange event that triggered this function\n   *\n   * @param {Object} data\n   *        the data that was sent with the event\n   *\n   * @private\n   * @listens Tech#fullscreenchange\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n    if (data) {\n      this.isFullscreen(data.isFullscreen);\n    }\n    /**\n     * Fired when going in and out of fullscreen.\n     *\n     * @event Player#fullscreenchange\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('fullscreenchange');\n  }\n  /**\n   * @private\n   */\n  ;\n\n  _proto.togglePictureInPictureClass_ = function togglePictureInPictureClass_() {\n    if (this.isInPictureInPicture()) {\n      this.addClass('vjs-picture-in-picture');\n    } else {\n      this.removeClass('vjs-picture-in-picture');\n    }\n  }\n  /**\n   * Handle Tech Enter Picture-in-Picture.\n   *\n   * @param {EventTarget~Event} event\n   *        the enterpictureinpicture event that triggered this function\n   *\n   * @private\n   * @listens Tech#enterpictureinpicture\n   */\n  ;\n\n  _proto.handleTechEnterPictureInPicture_ = function handleTechEnterPictureInPicture_(event) {\n    this.isInPictureInPicture(true);\n  }\n  /**\n   * Handle Tech Leave Picture-in-Picture.\n   *\n   * @param {EventTarget~Event} event\n   *        the leavepictureinpicture event that triggered this function\n   *\n   * @private\n   * @listens Tech#leavepictureinpicture\n   */\n  ;\n\n  _proto.handleTechLeavePictureInPicture_ = function handleTechLeavePictureInPicture_(event) {\n    this.isInPictureInPicture(false);\n  }\n  /**\n   * Fires when an error occurred during the loading of an audio/video.\n   *\n   * @private\n   * @listens Tech#error\n   */\n  ;\n\n  _proto.handleTechError_ = function handleTechError_() {\n    var error = this.tech_.error();\n    this.error(error);\n  }\n  /**\n   * Retrigger the `textdata` event that was triggered by the {@link Tech}.\n   *\n   * @fires Player#textdata\n   * @listens Tech#textdata\n   * @private\n   */\n  ;\n\n  _proto.handleTechTextData_ = function handleTechTextData_() {\n    var data = null;\n\n    if (arguments.length > 1) {\n      data = arguments[1];\n    }\n    /**\n     * Fires when we get a textdata event from tech\n     *\n     * @event Player#textdata\n     * @type {EventTarget~Event}\n     */\n\n\n    this.trigger('textdata', data);\n  }\n  /**\n   * Get object for cached values.\n   *\n   * @return {Object}\n   *         get the current object cache\n   */\n  ;\n\n  _proto.getCache = function getCache() {\n    return this.cache_;\n  }\n  /**\n   * Resets the internal cache object.\n   *\n   * Using this function outside the player constructor or reset method may\n   * have unintended side-effects.\n   *\n   * @private\n   */\n  ;\n\n  _proto.resetCache_ = function resetCache_() {\n    this.cache_ = {\n      // Right now, the currentTime is not _really_ cached because it is always\n      // retrieved from the tech (see: currentTime). However, for completeness,\n      // we set it to zero here to ensure that if we do start actually caching\n      // it, we reset it along with everything else.\n      currentTime: 0,\n      inactivityTimeout: this.options_.inactivityTimeout,\n      duration: NaN,\n      lastVolume: 1,\n      lastPlaybackRate: this.defaultPlaybackRate(),\n      media: null,\n      src: '',\n      source: {},\n      sources: [],\n      volume: 1\n    };\n  }\n  /**\n   * Pass values to the playback tech\n   *\n   * @param {string} [method]\n   *        the method to call\n   *\n   * @param {Object} arg\n   *        the argument to pass\n   *\n   * @private\n   */\n  ;\n\n  _proto.techCall_ = function techCall_(method, arg) {\n    // If it's not ready yet, call method when it is\n    this.ready(function () {\n      if (method in allowedSetters) {\n        return set(this.middleware_, this.tech_, method, arg);\n      } else if (method in allowedMediators) {\n        return mediate(this.middleware_, this.tech_, method, arg);\n      }\n\n      try {\n        if (this.tech_) {\n          this.tech_[method](arg);\n        }\n      } catch (e) {\n        log(e);\n        throw e;\n      }\n    }, true);\n  }\n  /**\n   * Get calls can't wait for the tech, and sometimes don't need to.\n   *\n   * @param {string} method\n   *        Tech method\n   *\n   * @return {Function|undefined}\n   *         the method or undefined\n   *\n   * @private\n   */\n  ;\n\n  _proto.techGet_ = function techGet_(method) {\n    if (!this.tech_ || !this.tech_.isReady_) {\n      return;\n    }\n\n    if (method in allowedGetters) {\n      return get(this.middleware_, this.tech_, method);\n    } else if (method in allowedMediators) {\n      return mediate(this.middleware_, this.tech_, method);\n    } // Flash likes to die and reload when you hide or reposition it.\n    // In these cases the object methods go away and we get errors.\n    // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\n\n    try {\n      return this.tech_[method]();\n    } catch (e) {\n      // When building additional tech libs, an expected method may not be defined yet\n      if (this.tech_[method] === undefined) {\n        log(\"Video.js: \" + method + \" method not defined for \" + this.techName_ + \" playback technology.\", e);\n        throw e;\n      } // When a method isn't available on the object it throws a TypeError\n\n\n      if (e.name === 'TypeError') {\n        log(\"Video.js: \" + method + \" unavailable on \" + this.techName_ + \" playback technology element.\", e);\n        this.tech_.isReady_ = false;\n        throw e;\n      } // If error unknown, just log and throw\n\n\n      log(e);\n      throw e;\n    }\n  }\n  /**\n   * Attempt to begin playback at the first opportunity.\n   *\n   * @return {Promise|undefined}\n   *         Returns a promise if the browser supports Promises (or one\n   *         was passed in as an option). This promise will be resolved on\n   *         the return value of play. If this is undefined it will fulfill the\n   *         promise chain otherwise the promise chain will be fulfilled when\n   *         the promise from play is fulfilled.\n   */\n  ;\n\n  _proto.play = function play() {\n    var _this8 = this;\n\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (PromiseClass) {\n      return new PromiseClass(function (resolve) {\n        _this8.play_(resolve);\n      });\n    }\n\n    return this.play_();\n  }\n  /**\n   * The actual logic for play, takes a callback that will be resolved on the\n   * return value of play. This allows us to resolve to the play promise if there\n   * is one on modern browsers.\n   *\n   * @private\n   * @param {Function} [callback]\n   *        The callback that should be called when the techs play is actually called\n   */\n  ;\n\n  _proto.play_ = function play_(callback) {\n    var _this9 = this;\n\n    if (callback === void 0) {\n      callback = silencePromise;\n    }\n\n    this.playCallbacks_.push(callback);\n    var isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc())); // treat calls to play_ somewhat like the `one` event function\n\n    if (this.waitToPlay_) {\n      this.off(['ready', 'loadstart'], this.waitToPlay_);\n      this.waitToPlay_ = null;\n    } // if the player/tech is not ready or the src itself is not ready\n    // queue up a call to play on `ready` or `loadstart`\n\n\n    if (!this.isReady_ || !isSrcReady) {\n      this.waitToPlay_ = function (e) {\n        _this9.play_();\n      };\n\n      this.one(['ready', 'loadstart'], this.waitToPlay_); // if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod\n      // in that case, we need to prime the video element by calling load so it'll be ready in time\n\n      if (!isSrcReady && (IS_ANY_SAFARI || IS_IOS)) {\n        this.load();\n      }\n\n      return;\n    } // If the player/tech is ready and we have a source, we can attempt playback.\n\n\n    var val = this.techGet_('play'); // play was terminated if the returned value is null\n\n    if (val === null) {\n      this.runPlayTerminatedQueue_();\n    } else {\n      this.runPlayCallbacks_(val);\n    }\n  }\n  /**\n   * These functions will be run when if play is terminated. If play\n   * runPlayCallbacks_ is run these function will not be run. This allows us\n   * to differenciate between a terminated play and an actual call to play.\n   */\n  ;\n\n  _proto.runPlayTerminatedQueue_ = function runPlayTerminatedQueue_() {\n    var queue = this.playTerminatedQueue_.slice(0);\n    this.playTerminatedQueue_ = [];\n    queue.forEach(function (q) {\n      q();\n    });\n  }\n  /**\n   * When a callback to play is delayed we have to run these\n   * callbacks when play is actually called on the tech. This function\n   * runs the callbacks that were delayed and accepts the return value\n   * from the tech.\n   *\n   * @param {undefined|Promise} val\n   *        The return value from the tech.\n   */\n  ;\n\n  _proto.runPlayCallbacks_ = function runPlayCallbacks_(val) {\n    var callbacks = this.playCallbacks_.slice(0);\n    this.playCallbacks_ = []; // clear play terminatedQueue since we finished a real play\n\n    this.playTerminatedQueue_ = [];\n    callbacks.forEach(function (cb) {\n      cb(val);\n    });\n  }\n  /**\n   * Pause the video playback\n   *\n   * @return {Player}\n   *         A reference to the player object this function was called on\n   */\n  ;\n\n  _proto.pause = function pause() {\n    this.techCall_('pause');\n  }\n  /**\n   * Check if the player is paused or has yet to play\n   *\n   * @return {boolean}\n   *         - false: if the media is currently playing\n   *         - true: if media is not currently playing\n   */\n  ;\n\n  _proto.paused = function paused() {\n    // The initial state of paused should be true (in Safari it's actually false)\n    return this.techGet_('paused') === false ? false : true;\n  }\n  /**\n   * Get a TimeRange object representing the current ranges of time that the user\n   * has played.\n   *\n   * @return {TimeRange}\n   *         A time range object that represents all the increments of time that have\n   *         been played.\n   */\n  ;\n\n  _proto.played = function played() {\n    return this.techGet_('played') || createTimeRanges(0, 0);\n  }\n  /**\n   * Returns whether or not the user is \"scrubbing\". Scrubbing is\n   * when the user has clicked the progress bar handle and is\n   * dragging it along the progress bar.\n   *\n   * @param {boolean} [isScrubbing]\n   *        whether the user is or is not scrubbing\n   *\n   * @return {boolean}\n   *         The value of scrubbing when getting\n   */\n  ;\n\n  _proto.scrubbing = function scrubbing(isScrubbing) {\n    if (typeof isScrubbing === 'undefined') {\n      return this.scrubbing_;\n    }\n\n    this.scrubbing_ = !!isScrubbing;\n\n    if (isScrubbing) {\n      this.addClass('vjs-scrubbing');\n    } else {\n      this.removeClass('vjs-scrubbing');\n    }\n  }\n  /**\n   * Get or set the current time (in seconds)\n   *\n   * @param {number|string} [seconds]\n   *        The time to seek to in seconds\n   *\n   * @return {number}\n   *         - the current time in seconds when getting\n   */\n  ;\n\n  _proto.currentTime = function currentTime(seconds) {\n    if (typeof seconds !== 'undefined') {\n      if (seconds < 0) {\n        seconds = 0;\n      }\n\n      this.techCall_('setCurrentTime', seconds);\n      return;\n    } // cache last currentTime and return. default to 0 seconds\n    //\n    // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n    // currentTime when scrubbing, but may not provide much performance benefit afterall.\n    // Should be tested. Also something has to read the actual current time or the cache will\n    // never get updated.\n\n\n    this.cache_.currentTime = this.techGet_('currentTime') || 0;\n    return this.cache_.currentTime;\n  }\n  /**\n   * Normally gets the length in time of the video in seconds;\n   * in all but the rarest use cases an argument will NOT be passed to the method\n   *\n   * > **NOTE**: The video must have started loading before the duration can be\n   * known, and in the case of Flash, may not be known until the video starts\n   * playing.\n   *\n   * @fires Player#durationchange\n   *\n   * @param {number} [seconds]\n   *        The duration of the video to set in seconds\n   *\n   * @return {number}\n   *         - The duration of the video in seconds when getting\n   */\n  ;\n\n  _proto.duration = function duration(seconds) {\n    if (seconds === undefined) {\n      // return NaN if the duration is not known\n      return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n    }\n\n    seconds = parseFloat(seconds); // Standardize on Infinity for signaling video is live\n\n    if (seconds < 0) {\n      seconds = Infinity;\n    }\n\n    if (seconds !== this.cache_.duration) {\n      // Cache the last set value for optimized scrubbing (esp. Flash)\n      this.cache_.duration = seconds;\n\n      if (seconds === Infinity) {\n        this.addClass('vjs-live');\n\n        if (this.options_.liveui && this.player_.liveTracker) {\n          this.addClass('vjs-liveui');\n        }\n      } else {\n        this.removeClass('vjs-live');\n        this.removeClass('vjs-liveui');\n      }\n\n      if (!isNaN(seconds)) {\n        // Do not fire durationchange unless the duration value is known.\n        // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n        /**\n         * @event Player#durationchange\n         * @type {EventTarget~Event}\n         */\n        this.trigger('durationchange');\n      }\n    }\n  }\n  /**\n   * Calculates how much time is left in the video. Not part\n   * of the native video API.\n   *\n   * @return {number}\n   *         The time remaining in seconds\n   */\n  ;\n\n  _proto.remainingTime = function remainingTime() {\n    return this.duration() - this.currentTime();\n  }\n  /**\n   * A remaining time function that is intented to be used when\n   * the time is to be displayed directly to the user.\n   *\n   * @return {number}\n   *         The rounded time remaining in seconds\n   */\n  ;\n\n  _proto.remainingTimeDisplay = function remainingTimeDisplay() {\n    return Math.floor(this.duration()) - Math.floor(this.currentTime());\n  } //\n  // Kind of like an array of portions of the video that have been downloaded.\n\n  /**\n   * Get a TimeRange object with an array of the times of the video\n   * that have been downloaded. If you just want the percent of the\n   * video that's been downloaded, use bufferedPercent.\n   *\n   * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}\n   *\n   * @return {TimeRange}\n   *         A mock TimeRange object (following HTML spec)\n   */\n  ;\n\n  _proto.buffered = function buffered() {\n    var buffered = this.techGet_('buffered');\n\n    if (!buffered || !buffered.length) {\n      buffered = createTimeRanges(0, 0);\n    }\n\n    return buffered;\n  }\n  /**\n   * Get the percent (as a decimal) of the video that's been downloaded.\n   * This method is not a part of the native HTML video API.\n   *\n   * @return {number}\n   *         A decimal between 0 and 1 representing the percent\n   *         that is buffered 0 being 0% and 1 being 100%\n   */\n  ;\n\n  _proto.bufferedPercent = function bufferedPercent$1() {\n    return bufferedPercent(this.buffered(), this.duration());\n  }\n  /**\n   * Get the ending time of the last buffered time range\n   * This is used in the progress bar to encapsulate all time ranges.\n   *\n   * @return {number}\n   *         The end of the last buffered time range\n   */\n  ;\n\n  _proto.bufferedEnd = function bufferedEnd() {\n    var buffered = this.buffered();\n    var duration = this.duration();\n    var end = buffered.end(buffered.length - 1);\n\n    if (end > duration) {\n      end = duration;\n    }\n\n    return end;\n  }\n  /**\n   * Get or set the current volume of the media\n   *\n   * @param  {number} [percentAsDecimal]\n   *         The new volume as a decimal percent:\n   *         - 0 is muted/0%/off\n   *         - 1.0 is 100%/full\n   *         - 0.5 is half volume or 50%\n   *\n   * @return {number}\n   *         The current volume as a percent when getting\n   */\n  ;\n\n  _proto.volume = function volume(percentAsDecimal) {\n    var vol;\n\n    if (percentAsDecimal !== undefined) {\n      // Force value to between 0 and 1\n      vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n      this.cache_.volume = vol;\n      this.techCall_('setVolume', vol);\n\n      if (vol > 0) {\n        this.lastVolume_(vol);\n      }\n\n      return;\n    } // Default to 1 when returning current volume.\n\n\n    vol = parseFloat(this.techGet_('volume'));\n    return isNaN(vol) ? 1 : vol;\n  }\n  /**\n   * Get the current muted state, or turn mute on or off\n   *\n   * @param {boolean} [muted]\n   *        - true to mute\n   *        - false to unmute\n   *\n   * @return {boolean}\n   *         - true if mute is on and getting\n   *         - false if mute is off and getting\n   */\n  ;\n\n  _proto.muted = function muted(_muted) {\n    if (_muted !== undefined) {\n      this.techCall_('setMuted', _muted);\n      return;\n    }\n\n    return this.techGet_('muted') || false;\n  }\n  /**\n   * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted\n   * indicates the state of muted on initial playback.\n   *\n   * ```js\n   *   var myPlayer = videojs('some-player-id');\n   *\n   *   myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n   *\n   *   // get, should be false\n   *   console.log(myPlayer.defaultMuted());\n   *   // set to true\n   *   myPlayer.defaultMuted(true);\n   *   // get should be true\n   *   console.log(myPlayer.defaultMuted());\n   * ```\n   *\n   * @param {boolean} [defaultMuted]\n   *        - true to mute\n   *        - false to unmute\n   *\n   * @return {boolean|Player}\n   *         - true if defaultMuted is on and getting\n   *         - false if defaultMuted is off and getting\n   *         - A reference to the current player when setting\n   */\n  ;\n\n  _proto.defaultMuted = function defaultMuted(_defaultMuted) {\n    if (_defaultMuted !== undefined) {\n      return this.techCall_('setDefaultMuted', _defaultMuted);\n    }\n\n    return this.techGet_('defaultMuted') || false;\n  }\n  /**\n   * Get the last volume, or set it\n   *\n   * @param  {number} [percentAsDecimal]\n   *         The new last volume as a decimal percent:\n   *         - 0 is muted/0%/off\n   *         - 1.0 is 100%/full\n   *         - 0.5 is half volume or 50%\n   *\n   * @return {number}\n   *         the current value of lastVolume as a percent when getting\n   *\n   * @private\n   */\n  ;\n\n  _proto.lastVolume_ = function lastVolume_(percentAsDecimal) {\n    if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n      this.cache_.lastVolume = percentAsDecimal;\n      return;\n    }\n\n    return this.cache_.lastVolume;\n  }\n  /**\n   * Check if current tech can support native fullscreen\n   * (e.g. with built in controls like iOS, so not our flash swf)\n   *\n   * @return {boolean}\n   *         if native fullscreen is supported\n   */\n  ;\n\n  _proto.supportsFullScreen = function supportsFullScreen() {\n    return this.techGet_('supportsFullScreen') || false;\n  }\n  /**\n   * Check if the player is in fullscreen mode or tell the player that it\n   * is or is not in fullscreen mode.\n   *\n   * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n   * property and instead document.fullscreenElement is used. But isFullscreen is\n   * still a valuable property for internal player workings.\n   *\n   * @param  {boolean} [isFS]\n   *         Set the players current fullscreen state\n   *\n   * @return {boolean}\n   *         - true if fullscreen is on and getting\n   *         - false if fullscreen is off and getting\n   */\n  ;\n\n  _proto.isFullscreen = function isFullscreen(isFS) {\n    if (isFS !== undefined) {\n      this.isFullscreen_ = !!isFS;\n      this.toggleFullscreenClass_();\n      return;\n    }\n\n    return !!this.isFullscreen_;\n  }\n  /**\n   * Increase the size of the video to full screen\n   * In some browsers, full screen is not supported natively, so it enters\n   * \"full window mode\", where the video fills the browser window.\n   * In browsers and devices that support native full screen, sometimes the\n   * browser's default controls will be shown, and not the Video.js custom skin.\n   * This includes most mobile devices (iOS, Android) and older versions of\n   * Safari.\n   *\n   * @param  {Object} [fullscreenOptions]\n   *         Override the player fullscreen options\n   *\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.requestFullscreen = function requestFullscreen(fullscreenOptions) {\n    var fsOptions;\n    this.isFullscreen(true);\n\n    if (this.fsApi_.requestFullscreen) {\n      // the browser supports going fullscreen at the element level so we can\n      // take the controls fullscreen as well as the video\n      // Trigger fullscreenchange event after change\n      // We have to specifically add this each time, and remove\n      // when canceling fullscreen. Otherwise if there's multiple\n      // players on a page, they would all be reacting to the same fullscreen\n      // events\n      on(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_); // only pass FullscreenOptions to requestFullscreen if it isn't prefixed\n\n      if (!this.fsApi_.prefixed) {\n        fsOptions = this.options_.fullscreen && this.options_.fullscreen.options || {};\n\n        if (fullscreenOptions !== undefined) {\n          fsOptions = fullscreenOptions;\n        }\n      }\n\n      silencePromise(this.el_[this.fsApi_.requestFullscreen](fsOptions));\n    } else if (this.tech_.supportsFullScreen()) {\n      // we can't take the video.js controls fullscreen but we can go fullscreen\n      // with native controls\n      this.techCall_('enterFullScreen');\n    } else {\n      // fullscreen isn't supported so we'll just stretch the video element to\n      // fill the viewport\n      this.enterFullWindow();\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * Return the video to its normal size after having been in full screen mode\n   *\n   * @fires Player#fullscreenchange\n   */\n  ;\n\n  _proto.exitFullscreen = function exitFullscreen() {\n    this.isFullscreen(false); // Check for browser element fullscreen support\n\n    if (this.fsApi_.requestFullscreen) {\n      silencePromise(document[this.fsApi_.exitFullscreen]());\n    } else if (this.tech_.supportsFullScreen()) {\n      this.techCall_('exitFullScreen');\n    } else {\n      this.exitFullWindow();\n      /**\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('fullscreenchange');\n    }\n  }\n  /**\n   * When fullscreen isn't supported we can stretch the\n   * video container to as wide as the browser will let us.\n   *\n   * @fires Player#enterFullWindow\n   */\n  ;\n\n  _proto.enterFullWindow = function enterFullWindow() {\n    this.isFullWindow = true; // Storing original doc overflow value to return to when fullscreen is off\n\n    this.docOrigOverflow = document.documentElement.style.overflow; // Add listener for esc key to exit fullscreen\n\n    on(document, 'keydown', this.boundFullWindowOnEscKey_); // Hide any scroll bars\n\n    document.documentElement.style.overflow = 'hidden'; // Apply fullscreen styles\n\n    addClass(document.body, 'vjs-full-window');\n    /**\n     * @event Player#enterFullWindow\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('enterFullWindow');\n  }\n  /**\n   * Check for call to either exit full window or\n   * full screen on ESC key\n   *\n   * @param {string} event\n   *        Event to check for key press\n   */\n  ;\n\n  _proto.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n    if (keycode.isEventKey(event, 'Esc')) {\n      if (this.isFullscreen() === true) {\n        this.exitFullscreen();\n      } else {\n        this.exitFullWindow();\n      }\n    }\n  }\n  /**\n   * Exit full window\n   *\n   * @fires Player#exitFullWindow\n   */\n  ;\n\n  _proto.exitFullWindow = function exitFullWindow() {\n    this.isFullWindow = false;\n    off(document, 'keydown', this.boundFullWindowOnEscKey_); // Unhide scroll bars.\n\n    document.documentElement.style.overflow = this.docOrigOverflow; // Remove fullscreen styles\n\n    removeClass(document.body, 'vjs-full-window'); // Resize the box, controller, and poster to original sizes\n    // this.positionAll();\n\n    /**\n     * @event Player#exitFullWindow\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('exitFullWindow');\n  }\n  /**\n   * Check if the player is in Picture-in-Picture mode or tell the player that it\n   * is or is not in Picture-in-Picture mode.\n   *\n   * @param  {boolean} [isPiP]\n   *         Set the players current Picture-in-Picture state\n   *\n   * @return {boolean}\n   *         - true if Picture-in-Picture is on and getting\n   *         - false if Picture-in-Picture is off and getting\n   */\n  ;\n\n  _proto.isInPictureInPicture = function isInPictureInPicture(isPiP) {\n    if (isPiP !== undefined) {\n      this.isInPictureInPicture_ = !!isPiP;\n      this.togglePictureInPictureClass_();\n      return;\n    }\n\n    return !!this.isInPictureInPicture_;\n  }\n  /**\n   * Create a floating video window always on top of other windows so that users may\n   * continue consuming media while they interact with other content sites, or\n   * applications on their device.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @fires Player#enterpictureinpicture\n   *\n   * @return {Promise}\n   *         A promise with a Picture-in-Picture window.\n   */\n  ;\n\n  _proto.requestPictureInPicture = function requestPictureInPicture() {\n    if ('pictureInPictureEnabled' in document) {\n      /**\n       * This event fires when the player enters picture in picture mode\n       *\n       * @event Player#enterpictureinpicture\n       * @type {EventTarget~Event}\n       */\n      return this.techGet_('requestPictureInPicture');\n    }\n  }\n  /**\n   * Exit Picture-in-Picture mode.\n   *\n   * @see [Spec]{@link https://wicg.github.io/picture-in-picture}\n   *\n   * @fires Player#leavepictureinpicture\n   *\n   * @return {Promise}\n   *         A promise.\n   */\n  ;\n\n  _proto.exitPictureInPicture = function exitPictureInPicture() {\n    if ('pictureInPictureEnabled' in document) {\n      /**\n       * This event fires when the player leaves picture in picture mode\n       *\n       * @event Player#leavepictureinpicture\n       * @type {EventTarget~Event}\n       */\n      return document.exitPictureInPicture();\n    }\n  }\n  /**\n   * Called when this Player has focus and a key gets pressed down, or when\n   * any Component of this player receives a key press that it doesn't handle.\n   * This allows player-wide hotkeys (either as defined below, or optionally\n   * by an external function).\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   *\n   * @listens keydown\n   */\n  ;\n\n  _proto.handleKeyDown = function handleKeyDown(event) {\n    var userActions = this.options_.userActions; // Bail out if hotkeys are not configured.\n\n    if (!userActions || !userActions.hotkeys) {\n      return;\n    } // Function that determines whether or not to exclude an element from\n    // hotkeys handling.\n\n\n    var excludeElement = function excludeElement(el) {\n      var tagName = el.tagName.toLowerCase(); // These tags will be excluded entirely.\n\n      var excludedTags = ['textarea']; // Inputs matching these types will still trigger hotkey handling as\n      // they are not text inputs.\n\n      var allowedInputTypes = ['button', 'checkbox', 'hidden', 'radio', 'reset', 'submit'];\n\n      if (tagName === 'input') {\n        return allowedInputTypes.indexOf(el.type) === -1;\n      }\n\n      return excludedTags.indexOf(tagName) !== -1;\n    }; // Bail out if the user is focused on an interactive form element.\n\n\n    if (excludeElement(this.el_.ownerDocument.activeElement)) {\n      return;\n    }\n\n    if (typeof userActions.hotkeys === 'function') {\n      userActions.hotkeys.call(this, event);\n    } else {\n      this.handleHotkeys(event);\n    }\n  }\n  /**\n   * Called when this Player receives a hotkey keydown event.\n   * Supported player-wide hotkeys are:\n   *\n   *   f          - toggle fullscreen\n   *   m          - toggle mute\n   *   k or Space - toggle play/pause\n   *\n   * @param {EventTarget~Event} event\n   *        The `keydown` event that caused this function to be called.\n   */\n  ;\n\n  _proto.handleHotkeys = function handleHotkeys(event) {\n    var hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {}; // set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set\n\n    var _hotkeys$fullscreenKe = hotkeys.fullscreenKey,\n        fullscreenKey = _hotkeys$fullscreenKe === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'f');\n    } : _hotkeys$fullscreenKe,\n        _hotkeys$muteKey = hotkeys.muteKey,\n        muteKey = _hotkeys$muteKey === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'm');\n    } : _hotkeys$muteKey,\n        _hotkeys$playPauseKey = hotkeys.playPauseKey,\n        playPauseKey = _hotkeys$playPauseKey === void 0 ? function (keydownEvent) {\n      return keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space');\n    } : _hotkeys$playPauseKey;\n\n    if (fullscreenKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var FSToggle = Component.getComponent('FullscreenToggle');\n\n      if (document[this.fsApi_.fullscreenEnabled] !== false) {\n        FSToggle.prototype.handleClick.call(this, event);\n      }\n    } else if (muteKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var MuteToggle = Component.getComponent('MuteToggle');\n      MuteToggle.prototype.handleClick.call(this, event);\n    } else if (playPauseKey.call(this, event)) {\n      event.preventDefault();\n      event.stopPropagation();\n      var PlayToggle = Component.getComponent('PlayToggle');\n      PlayToggle.prototype.handleClick.call(this, event);\n    }\n  }\n  /**\n   * Check whether the player can play a given mimetype\n   *\n   * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype\n   *\n   * @param {string} type\n   *        The mimetype to check\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n  ;\n\n  _proto.canPlayType = function canPlayType(type) {\n    var can; // Loop through each playback technology in the options order\n\n    for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n      var techName = j[i];\n      var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n      // Remove once that deprecated behavior is removed.\n\n      if (!tech) {\n        tech = Component.getComponent(techName);\n      } // Check if the current tech is defined before continuing\n\n\n      if (!tech) {\n        log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n        continue;\n      } // Check if the browser supports this technology\n\n\n      if (tech.isSupported()) {\n        can = tech.canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n    }\n\n    return '';\n  }\n  /**\n   * Select source based on tech-order or source-order\n   * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n   * defaults to tech-order selection\n   *\n   * @param {Array} sources\n   *        The sources for a media asset\n   *\n   * @return {Object|boolean}\n   *         Object of source and tech order or false\n   */\n  ;\n\n  _proto.selectSource = function selectSource(sources) {\n    var _this10 = this; // Get only the techs specified in `techOrder` that exist and are supported by the\n    // current platform\n\n\n    var techs = this.options_.techOrder.map(function (techName) {\n      return [techName, Tech.getTech(techName)];\n    }).filter(function (_ref) {\n      var techName = _ref[0],\n          tech = _ref[1]; // Check if the current tech is defined before continuing\n\n      if (tech) {\n        // Check if the browser supports this technology\n        return tech.isSupported();\n      }\n\n      log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n      return false;\n    }); // Iterate over each `innerArray` element once per `outerArray` element and execute\n    // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n    // that value.\n\n    var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n      var found;\n      outerArray.some(function (outerChoice) {\n        return innerArray.some(function (innerChoice) {\n          found = tester(outerChoice, innerChoice);\n\n          if (found) {\n            return true;\n          }\n        });\n      });\n      return found;\n    };\n\n    var foundSourceAndTech;\n\n    var flip = function flip(fn) {\n      return function (a, b) {\n        return fn(b, a);\n      };\n    };\n\n    var finder = function finder(_ref2, source) {\n      var techName = _ref2[0],\n          tech = _ref2[1];\n\n      if (tech.canPlaySource(source, _this10.options_[techName.toLowerCase()])) {\n        return {\n          source: source,\n          tech: techName\n        };\n      }\n    }; // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n    // to select from them based on their priority.\n\n\n    if (this.options_.sourceOrder) {\n      // Source-first ordering\n      foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n    } else {\n      // Tech-first ordering\n      foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n    }\n\n    return foundSourceAndTech || false;\n  }\n  /**\n   * Get or set the video source.\n   *\n   * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n   *        A SourceObject, an array of SourceObjects, or a string referencing\n   *        a URL to a media source. It is _highly recommended_ that an object\n   *        or array of objects is used here, so that source selection\n   *        algorithms can take the `type` into account.\n   *\n   *        If not provided, this method acts as a getter.\n   *\n   * @return {string|undefined}\n   *         If the `source` argument is missing, returns the current source\n   *         URL. Otherwise, returns nothing/undefined.\n   */\n  ;\n\n  _proto.src = function src(source) {\n    var _this11 = this; // getter usage\n\n\n    if (typeof source === 'undefined') {\n      return this.cache_.src || '';\n    } // filter out invalid sources and turn our source into\n    // an array of source objects\n\n\n    var sources = filterSource(source); // if a source was passed in then it is invalid because\n    // it was filtered to a zero length Array. So we have to\n    // show an error\n\n    if (!sources.length) {\n      this.setTimeout(function () {\n        this.error({\n          code: 4,\n          message: this.localize(this.options_.notSupportedMessage)\n        });\n      }, 0);\n      return;\n    } // intial sources\n\n\n    this.changingSrc_ = true;\n    this.cache_.sources = sources;\n    this.updateSourceCaches_(sources[0]); // middlewareSource is the source after it has been changed by middleware\n\n    setSource(this, sources[0], function (middlewareSource, mws) {\n      _this11.middleware_ = mws; // since sourceSet is async we have to update the cache again after we select a source since\n      // the source that is selected could be out of order from the cache update above this callback.\n\n      _this11.cache_.sources = sources;\n\n      _this11.updateSourceCaches_(middlewareSource);\n\n      var err = _this11.src_(middlewareSource);\n\n      if (err) {\n        if (sources.length > 1) {\n          return _this11.src(sources.slice(1));\n        }\n\n        _this11.changingSrc_ = false; // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\n        _this11.setTimeout(function () {\n          this.error({\n            code: 4,\n            message: this.localize(this.options_.notSupportedMessage)\n          });\n        }, 0); // we could not find an appropriate tech, but let's still notify the delegate that this is it\n        // this needs a better comment about why this is needed\n\n\n        _this11.triggerReady();\n\n        return;\n      }\n\n      setTech(mws, _this11.tech_);\n    });\n  }\n  /**\n   * Set the source object on the tech, returns a boolean that indicates whether\n   * there is a tech that can play the source or not\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object to set on the Tech\n   *\n   * @return {boolean}\n   *         - True if there is no Tech to playback this source\n   *         - False otherwise\n   *\n   * @private\n   */\n  ;\n\n  _proto.src_ = function src_(source) {\n    var _this12 = this;\n\n    var sourceTech = this.selectSource([source]);\n\n    if (!sourceTech) {\n      return true;\n    }\n\n    if (!titleCaseEquals(sourceTech.tech, this.techName_)) {\n      this.changingSrc_ = true; // load this technology with the chosen source\n\n      this.loadTech_(sourceTech.tech, sourceTech.source);\n      this.tech_.ready(function () {\n        _this12.changingSrc_ = false;\n      });\n      return false;\n    } // wait until the tech is ready to set the source\n    // and set it synchronously if possible (#2326)\n\n\n    this.ready(function () {\n      // The setSource tech method was added with source handlers\n      // so older techs won't support it\n      // We need to check the direct prototype for the case where subclasses\n      // of the tech do not support source handlers\n      if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n        this.techCall_('setSource', source);\n      } else {\n        this.techCall_('src', source.src);\n      }\n\n      this.changingSrc_ = false;\n    }, true);\n    return false;\n  }\n  /**\n   * Begin loading the src data.\n   */\n  ;\n\n  _proto.load = function load() {\n    this.techCall_('load');\n  }\n  /**\n   * Reset the player. Loads the first tech in the techOrder,\n   * removes all the text tracks in the existing `tech`,\n   * and calls `reset` on the `tech`.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    var _this13 = this;\n\n    var PromiseClass = this.options_.Promise || window$1.Promise;\n\n    if (this.paused() || !PromiseClass) {\n      this.doReset_();\n    } else {\n      var playPromise = this.play();\n      silencePromise(playPromise.then(function () {\n        return _this13.doReset_();\n      }));\n    }\n  };\n\n  _proto.doReset_ = function doReset_() {\n    if (this.tech_) {\n      this.tech_.clearTracks('text');\n    }\n\n    this.resetCache_();\n    this.poster('');\n    this.loadTech_(this.options_.techOrder[0], null);\n    this.techCall_('reset');\n    this.resetControlBarUI_();\n\n    if (isEvented(this)) {\n      this.trigger('playerreset');\n    }\n  }\n  /**\n   * Reset Control Bar's UI by calling sub-methods that reset\n   * all of Control Bar's components\n   */\n  ;\n\n  _proto.resetControlBarUI_ = function resetControlBarUI_() {\n    this.resetProgressBar_();\n    this.resetPlaybackRate_();\n    this.resetVolumeBar_();\n  }\n  /**\n   * Reset tech's progress so progress bar is reset in the UI\n   */\n  ;\n\n  _proto.resetProgressBar_ = function resetProgressBar_() {\n    this.currentTime(0);\n    var _this$controlBar = this.controlBar,\n        durationDisplay = _this$controlBar.durationDisplay,\n        remainingTimeDisplay = _this$controlBar.remainingTimeDisplay;\n\n    if (durationDisplay) {\n      durationDisplay.updateContent();\n    }\n\n    if (remainingTimeDisplay) {\n      remainingTimeDisplay.updateContent();\n    }\n  }\n  /**\n   * Reset Playback ratio\n   */\n  ;\n\n  _proto.resetPlaybackRate_ = function resetPlaybackRate_() {\n    this.playbackRate(this.defaultPlaybackRate());\n    this.handleTechRateChange_();\n  }\n  /**\n   * Reset Volume bar\n   */\n  ;\n\n  _proto.resetVolumeBar_ = function resetVolumeBar_() {\n    this.volume(1.0);\n    this.trigger('volumechange');\n  }\n  /**\n   * Returns all of the current source objects.\n   *\n   * @return {Tech~SourceObject[]}\n   *         The current source objects\n   */\n  ;\n\n  _proto.currentSources = function currentSources() {\n    var source = this.currentSource();\n    var sources = []; // assume `{}` or `{ src }`\n\n    if (Object.keys(source).length !== 0) {\n      sources.push(source);\n    }\n\n    return this.cache_.sources || sources;\n  }\n  /**\n   * Returns the current source object.\n   *\n   * @return {Tech~SourceObject}\n   *         The current source object\n   */\n  ;\n\n  _proto.currentSource = function currentSource() {\n    return this.cache_.source || {};\n  }\n  /**\n   * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n   * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.\n   *\n   * @return {string}\n   *         The current source\n   */\n  ;\n\n  _proto.currentSrc = function currentSrc() {\n    return this.currentSource() && this.currentSource().src || '';\n  }\n  /**\n   * Get the current source type e.g. video/mp4\n   * This can allow you rebuild the current source object so that you could load the same\n   * source and tech later\n   *\n   * @return {string}\n   *         The source MIME type\n   */\n  ;\n\n  _proto.currentType = function currentType() {\n    return this.currentSource() && this.currentSource().type || '';\n  }\n  /**\n   * Get or set the preload attribute\n   *\n   * @param {boolean} [value]\n   *        - true means that we should preload\n   *        - false means that we should not preload\n   *\n   * @return {string}\n   *         The preload attribute value when getting\n   */\n  ;\n\n  _proto.preload = function preload(value) {\n    if (value !== undefined) {\n      this.techCall_('setPreload', value);\n      this.options_.preload = value;\n      return;\n    }\n\n    return this.techGet_('preload');\n  }\n  /**\n   * Get or set the autoplay option. When this is a boolean it will\n   * modify the attribute on the tech. When this is a string the attribute on\n   * the tech will be removed and `Player` will handle autoplay on loadstarts.\n   *\n   * @param {boolean|string} [value]\n   *        - true: autoplay using the browser behavior\n   *        - false: do not autoplay\n   *        - 'play': call play() on every loadstart\n   *        - 'muted': call muted() then play() on every loadstart\n   *        - 'any': call play() on every loadstart. if that fails call muted() then play().\n   *        - *: values other than those listed here will be set `autoplay` to true\n   *\n   * @return {boolean|string}\n   *         The current value of autoplay when getting\n   */\n  ;\n\n  _proto.autoplay = function autoplay(value) {\n    // getter usage\n    if (value === undefined) {\n      return this.options_.autoplay || false;\n    }\n\n    var techAutoplay; // if the value is a valid string set it to that\n\n    if (typeof value === 'string' && /(any|play|muted)/.test(value)) {\n      this.options_.autoplay = value;\n      this.manualAutoplay_(value);\n      techAutoplay = false; // any falsy value sets autoplay to false in the browser,\n      // lets do the same\n    } else if (!value) {\n      this.options_.autoplay = false; // any other value (ie truthy) sets autoplay to true\n    } else {\n      this.options_.autoplay = true;\n    }\n\n    techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay; // if we don't have a tech then we do not queue up\n    // a setAutoplay call on tech ready. We do this because the\n    // autoplay option will be passed in the constructor and we\n    // do not need to set it twice\n\n    if (this.tech_) {\n      this.techCall_('setAutoplay', techAutoplay);\n    }\n  }\n  /**\n   * Set or unset the playsinline attribute.\n   * Playsinline tells the browser that non-fullscreen playback is preferred.\n   *\n   * @param {boolean} [value]\n   *        - true means that we should try to play inline by default\n   *        - false means that we should use the browser's default playback mode,\n   *          which in most cases is inline. iOS Safari is a notable exception\n   *          and plays fullscreen by default.\n   *\n   * @return {string|Player}\n   *         - the current value of playsinline\n   *         - the player when setting\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  ;\n\n  _proto.playsinline = function playsinline(value) {\n    if (value !== undefined) {\n      this.techCall_('setPlaysinline', value);\n      this.options_.playsinline = value;\n      return this;\n    }\n\n    return this.techGet_('playsinline');\n  }\n  /**\n   * Get or set the loop attribute on the video element.\n   *\n   * @param {boolean} [value]\n   *        - true means that we should loop the video\n   *        - false means that we should not loop the video\n   *\n   * @return {boolean}\n   *         The current value of loop when getting\n   */\n  ;\n\n  _proto.loop = function loop(value) {\n    if (value !== undefined) {\n      this.techCall_('setLoop', value);\n      this.options_.loop = value;\n      return;\n    }\n\n    return this.techGet_('loop');\n  }\n  /**\n   * Get or set the poster image source url\n   *\n   * @fires Player#posterchange\n   *\n   * @param {string} [src]\n   *        Poster image source URL\n   *\n   * @return {string}\n   *         The current value of poster when getting\n   */\n  ;\n\n  _proto.poster = function poster(src) {\n    if (src === undefined) {\n      return this.poster_;\n    } // The correct way to remove a poster is to set as an empty string\n    // other falsey values will throw errors\n\n\n    if (!src) {\n      src = '';\n    }\n\n    if (src === this.poster_) {\n      return;\n    } // update the internal poster variable\n\n\n    this.poster_ = src; // update the tech's poster\n\n    this.techCall_('setPoster', src);\n    this.isPosterFromTech_ = false; // alert components that the poster has been set\n\n    /**\n     * This event fires when the poster image is changed on the player.\n     *\n     * @event Player#posterchange\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('posterchange');\n  }\n  /**\n   * Some techs (e.g. YouTube) can provide a poster source in an\n   * asynchronous way. We want the poster component to use this\n   * poster source so that it covers up the tech's controls.\n   * (YouTube's play button). However we only want to use this\n   * source if the player user hasn't set a poster through\n   * the normal APIs.\n   *\n   * @fires Player#posterchange\n   * @listens Tech#posterchange\n   * @private\n   */\n  ;\n\n  _proto.handleTechPosterChange_ = function handleTechPosterChange_() {\n    if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n      var newPoster = this.tech_.poster() || '';\n\n      if (newPoster !== this.poster_) {\n        this.poster_ = newPoster;\n        this.isPosterFromTech_ = true; // Let components know the poster has changed\n\n        this.trigger('posterchange');\n      }\n    }\n  }\n  /**\n   * Get or set whether or not the controls are showing.\n   *\n   * @fires Player#controlsenabled\n   *\n   * @param {boolean} [bool]\n   *        - true to turn controls on\n   *        - false to turn controls off\n   *\n   * @return {boolean}\n   *         The current value of controls when getting\n   */\n  ;\n\n  _proto.controls = function controls(bool) {\n    if (bool === undefined) {\n      return !!this.controls_;\n    }\n\n    bool = !!bool; // Don't trigger a change event unless it actually changed\n\n    if (this.controls_ === bool) {\n      return;\n    }\n\n    this.controls_ = bool;\n\n    if (this.usingNativeControls()) {\n      this.techCall_('setControls', bool);\n    }\n\n    if (this.controls_) {\n      this.removeClass('vjs-controls-disabled');\n      this.addClass('vjs-controls-enabled');\n      /**\n       * @event Player#controlsenabled\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('controlsenabled');\n\n      if (!this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      }\n    } else {\n      this.removeClass('vjs-controls-enabled');\n      this.addClass('vjs-controls-disabled');\n      /**\n       * @event Player#controlsdisabled\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('controlsdisabled');\n\n      if (!this.usingNativeControls()) {\n        this.removeTechControlsListeners_();\n      }\n    }\n  }\n  /**\n   * Toggle native controls on/off. Native controls are the controls built into\n   * devices (e.g. default iPhone controls), Flash, or other techs\n   * (e.g. Vimeo Controls)\n   * **This should only be set by the current tech, because only the tech knows\n   * if it can support native controls**\n   *\n   * @fires Player#usingnativecontrols\n   * @fires Player#usingcustomcontrols\n   *\n   * @param {boolean} [bool]\n   *        - true to turn native controls on\n   *        - false to turn native controls off\n   *\n   * @return {boolean}\n   *         The current value of native controls when getting\n   */\n  ;\n\n  _proto.usingNativeControls = function usingNativeControls(bool) {\n    if (bool === undefined) {\n      return !!this.usingNativeControls_;\n    }\n\n    bool = !!bool; // Don't trigger a change event unless it actually changed\n\n    if (this.usingNativeControls_ === bool) {\n      return;\n    }\n\n    this.usingNativeControls_ = bool;\n\n    if (this.usingNativeControls_) {\n      this.addClass('vjs-using-native-controls');\n      /**\n       * player is using the native device controls\n       *\n       * @event Player#usingnativecontrols\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('usingnativecontrols');\n    } else {\n      this.removeClass('vjs-using-native-controls');\n      /**\n       * player is using the custom HTML controls\n       *\n       * @event Player#usingcustomcontrols\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('usingcustomcontrols');\n    }\n  }\n  /**\n   * Set or get the current MediaError\n   *\n   * @fires Player#error\n   *\n   * @param  {MediaError|string|number} [err]\n   *         A MediaError or a string/number to be turned\n   *         into a MediaError\n   *\n   * @return {MediaError|null}\n   *         The current MediaError when getting (or null)\n   */\n  ;\n\n  _proto.error = function error(err) {\n    if (err === undefined) {\n      return this.error_ || null;\n    } // Suppress the first error message for no compatible source until\n    // user interaction\n\n\n    if (this.options_.suppressNotSupportedError && err && err.message && err.message === this.localize(this.options_.notSupportedMessage)) {\n      var triggerSuppressedError = function triggerSuppressedError() {\n        this.error(err);\n      };\n\n      this.options_.suppressNotSupportedError = false;\n      this.any(['click', 'touchstart'], triggerSuppressedError);\n      this.one('loadstart', function () {\n        this.off(['click', 'touchstart'], triggerSuppressedError);\n      });\n      return;\n    } // restoring to default\n\n\n    if (err === null) {\n      this.error_ = err;\n      this.removeClass('vjs-error');\n\n      if (this.errorDisplay) {\n        this.errorDisplay.close();\n      }\n\n      return;\n    }\n\n    this.error_ = new MediaError(err); // add the vjs-error classname to the player\n\n    this.addClass('vjs-error'); // log the name of the error type and any message\n    // IE11 logs \"[object object]\" and required you to expand message to see error object\n\n    log.error(\"(CODE:\" + this.error_.code + \" \" + MediaError.errorTypes[this.error_.code] + \")\", this.error_.message, this.error_);\n    /**\n     * @event Player#error\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('error');\n    return;\n  }\n  /**\n   * Report user activity\n   *\n   * @param {Object} event\n   *        Event object\n   */\n  ;\n\n  _proto.reportUserActivity = function reportUserActivity(event) {\n    this.userActivity_ = true;\n  }\n  /**\n   * Get/set if user is active\n   *\n   * @fires Player#useractive\n   * @fires Player#userinactive\n   *\n   * @param {boolean} [bool]\n   *        - true if the user is active\n   *        - false if the user is inactive\n   *\n   * @return {boolean}\n   *         The current value of userActive when getting\n   */\n  ;\n\n  _proto.userActive = function userActive(bool) {\n    if (bool === undefined) {\n      return this.userActive_;\n    }\n\n    bool = !!bool;\n\n    if (bool === this.userActive_) {\n      return;\n    }\n\n    this.userActive_ = bool;\n\n    if (this.userActive_) {\n      this.userActivity_ = true;\n      this.removeClass('vjs-user-inactive');\n      this.addClass('vjs-user-active');\n      /**\n       * @event Player#useractive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('useractive');\n      return;\n    } // Chrome/Safari/IE have bugs where when you change the cursor it can\n    // trigger a mousemove event. This causes an issue when you're hiding\n    // the cursor when the user is inactive, and a mousemove signals user\n    // activity. Making it impossible to go into inactive mode. Specifically\n    // this happens in fullscreen when we really need to hide the cursor.\n    //\n    // When this gets resolved in ALL browsers it can be removed\n    // https://code.google.com/p/chromium/issues/detail?id=103041\n\n\n    if (this.tech_) {\n      this.tech_.one('mousemove', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      });\n    }\n\n    this.userActivity_ = false;\n    this.removeClass('vjs-user-active');\n    this.addClass('vjs-user-inactive');\n    /**\n     * @event Player#userinactive\n     * @type {EventTarget~Event}\n     */\n\n    this.trigger('userinactive');\n  }\n  /**\n   * Listen for user activity based on timeout value\n   *\n   * @private\n   */\n  ;\n\n  _proto.listenForUserActivity_ = function listenForUserActivity_() {\n    var mouseInProgress;\n    var lastMoveX;\n    var lastMoveY;\n    var handleActivity = bind(this, this.reportUserActivity);\n\n    var handleMouseMove = function handleMouseMove(e) {\n      // #1068 - Prevent mousemove spamming\n      // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n      if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n        lastMoveX = e.screenX;\n        lastMoveY = e.screenY;\n        handleActivity();\n      }\n    };\n\n    var handleMouseDown = function handleMouseDown() {\n      handleActivity(); // For as long as the they are touching the device or have their mouse down,\n      // we consider them active even if they're not moving their finger or mouse.\n      // So we want to continue to update that they are active\n\n      this.clearInterval(mouseInProgress); // Setting userActivity=true now and setting the interval to the same time\n      // as the activityCheck interval (250) should ensure we never miss the\n      // next activityCheck\n\n      mouseInProgress = this.setInterval(handleActivity, 250);\n    };\n\n    var handleMouseUp = function handleMouseUp(event) {\n      handleActivity(); // Stop the interval that maintains activity if the mouse/touch is down\n\n      this.clearInterval(mouseInProgress);\n    }; // Any mouse movement will be considered user activity\n\n\n    this.on('mousedown', handleMouseDown);\n    this.on('mousemove', handleMouseMove);\n    this.on('mouseup', handleMouseUp);\n    var controlBar = this.getChild('controlBar'); // Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)\n    // controlBar would no longer be hidden by default timeout.\n\n    if (controlBar && !IS_IOS && !IS_ANDROID) {\n      controlBar.on('mouseenter', function (event) {\n        this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n        this.player().options_.inactivityTimeout = 0;\n      });\n      controlBar.on('mouseleave', function (event) {\n        this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n      });\n    } // Listen for keyboard navigation\n    // Shouldn't need to use inProgress interval because of key repeat\n\n\n    this.on('keydown', handleActivity);\n    this.on('keyup', handleActivity); // Run an interval every 250 milliseconds instead of stuffing everything into\n    // the mousemove/touchmove function itself, to prevent performance degradation.\n    // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n    // then gets picked up by this loop\n    // http://ejohn.org/blog/learning-from-twitter/\n\n    var inactivityTimeout;\n    this.setInterval(function () {\n      // Check to see if mouse/touch activity has happened\n      if (!this.userActivity_) {\n        return;\n      } // Reset the activity tracker\n\n\n      this.userActivity_ = false; // If the user state was inactive, set the state to active\n\n      this.userActive(true); // Clear any existing inactivity timeout to start the timer over\n\n      this.clearTimeout(inactivityTimeout);\n      var timeout = this.options_.inactivityTimeout;\n\n      if (timeout <= 0) {\n        return;\n      } // In <timeout> milliseconds, if no more activity has occurred the\n      // user will be considered inactive\n\n\n      inactivityTimeout = this.setTimeout(function () {\n        // Protect against the case where the inactivityTimeout can trigger just\n        // before the next user activity is picked up by the activity check loop\n        // causing a flicker\n        if (!this.userActivity_) {\n          this.userActive(false);\n        }\n      }, timeout);\n    }, 250);\n  }\n  /**\n   * Gets or sets the current playback rate. A playback rate of\n   * 1.0 represents normal speed and 0.5 would indicate half-speed\n   * playback, for instance.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n   *\n   * @param {number} [rate]\n   *       New playback rate to set.\n   *\n   * @return {number}\n   *         The current playback rate when getting or 1.0\n   */\n  ;\n\n  _proto.playbackRate = function playbackRate(rate) {\n    if (rate !== undefined) {\n      // NOTE: this.cache_.lastPlaybackRate is set from the tech handler\n      // that is registered above\n      this.techCall_('setPlaybackRate', rate);\n      return;\n    }\n\n    if (this.tech_ && this.tech_.featuresPlaybackRate) {\n      return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n    }\n\n    return 1.0;\n  }\n  /**\n   * Gets or sets the current default playback rate. A default playback rate of\n   * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.\n   * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not\n   * not the current playbackRate.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate\n   *\n   * @param {number} [rate]\n   *       New default playback rate to set.\n   *\n   * @return {number|Player}\n   *         - The default playback rate when getting or 1.0\n   *         - the player when setting\n   */\n  ;\n\n  _proto.defaultPlaybackRate = function defaultPlaybackRate(rate) {\n    if (rate !== undefined) {\n      return this.techCall_('setDefaultPlaybackRate', rate);\n    }\n\n    if (this.tech_ && this.tech_.featuresPlaybackRate) {\n      return this.techGet_('defaultPlaybackRate');\n    }\n\n    return 1.0;\n  }\n  /**\n   * Gets or sets the audio flag\n   *\n   * @param {boolean} bool\n   *        - true signals that this is an audio player\n   *        - false signals that this is not an audio player\n   *\n   * @return {boolean}\n   *         The current value of isAudio when getting\n   */\n  ;\n\n  _proto.isAudio = function isAudio(bool) {\n    if (bool !== undefined) {\n      this.isAudio_ = !!bool;\n      return;\n    }\n\n    return !!this.isAudio_;\n  }\n  /**\n   * A helper method for adding a {@link TextTrack} to our\n   * {@link TextTrackList}.\n   *\n   * In addition to the W3C settings we allow adding additional info through options.\n   *\n   * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n   *\n   * @param {string} [kind]\n   *        the kind of TextTrack you are adding\n   *\n   * @param {string} [label]\n   *        the label to give the TextTrack label\n   *\n   * @param {string} [language]\n   *        the language to set on the TextTrack\n   *\n   * @return {TextTrack|undefined}\n   *         the TextTrack that was added or undefined\n   *         if there is no tech\n   */\n  ;\n\n  _proto.addTextTrack = function addTextTrack(kind, label, language) {\n    if (this.tech_) {\n      return this.tech_.addTextTrack(kind, label, language);\n    }\n  }\n  /**\n   * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will\n   * automatically removed from the video element whenever the source changes, unless\n   * manualCleanup is set to false.\n   *\n   * @param {Object} options\n   *        Options to pass to {@link HTMLTrackElement} during creation. See\n   *        {@link HTMLTrackElement} for object properties that you should use.\n   *\n   * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n   *\n   * @return {HtmlTrackElement}\n   *         the HTMLTrackElement that was created and added\n   *         to the HtmlTrackElementList and the remote\n   *         TextTrackList\n   *\n   * @deprecated The default value of the \"manualCleanup\" parameter will default\n   *             to \"false\" in upcoming versions of Video.js\n   */\n  ;\n\n  _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n    if (this.tech_) {\n      return this.tech_.addRemoteTextTrack(options, manualCleanup);\n    }\n  }\n  /**\n   * Remove a remote {@link TextTrack} from the respective\n   * {@link TextTrackList} and {@link HtmlTrackElementList}.\n   *\n   * @param {Object} track\n   *        Remote {@link TextTrack} to remove\n   *\n   * @return {undefined}\n   *         does not return anything\n   */\n  ;\n\n  _proto.removeRemoteTextTrack = function removeRemoteTextTrack(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    var _obj = obj,\n        track = _obj.track;\n\n    if (!track) {\n      track = obj;\n    } // destructure the input into an object with a track argument, defaulting to arguments[0]\n    // default the whole argument to an empty object if nothing was passed in\n\n\n    if (this.tech_) {\n      return this.tech_.removeRemoteTextTrack(track);\n    }\n  }\n  /**\n   * Gets available media playback quality metrics as specified by the W3C's Media\n   * Playback Quality API.\n   *\n   * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n   *\n   * @return {Object|undefined}\n   *         An object with supported media playback quality metrics or undefined if there\n   *         is no tech or the tech does not support it.\n   */\n  ;\n\n  _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n    return this.techGet_('getVideoPlaybackQuality');\n  }\n  /**\n   * Get video width\n   *\n   * @return {number}\n   *         current video width\n   */\n  ;\n\n  _proto.videoWidth = function videoWidth() {\n    return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n  }\n  /**\n   * Get video height\n   *\n   * @return {number}\n   *         current video height\n   */\n  ;\n\n  _proto.videoHeight = function videoHeight() {\n    return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n  }\n  /**\n   * The player's language code\n   * NOTE: The language should be set in the player options if you want the\n   * the controls to be built with a specific language. Changing the language\n   * later will not update controls text.\n   *\n   * @param {string} [code]\n   *        the language code to set the player to\n   *\n   * @return {string}\n   *         The current language code when getting\n   */\n  ;\n\n  _proto.language = function language(code) {\n    if (code === undefined) {\n      return this.language_;\n    }\n\n    this.language_ = String(code).toLowerCase();\n  }\n  /**\n   * Get the player's language dictionary\n   * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n   * Languages specified directly in the player options have precedence\n   *\n   * @return {Array}\n   *         An array of of supported languages\n   */\n  ;\n\n  _proto.languages = function languages() {\n    return mergeOptions(Player.prototype.options_.languages, this.languages_);\n  }\n  /**\n   * returns a JavaScript object reperesenting the current track\n   * information. **DOES not return it as JSON**\n   *\n   * @return {Object}\n   *         Object representing the current of track info\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    var options = mergeOptions(this.options_);\n    var tracks = options.tracks;\n    options.tracks = [];\n\n    for (var i = 0; i < tracks.length; i++) {\n      var track = tracks[i]; // deep merge tracks and null out player so no circular references\n\n      track = mergeOptions(track);\n      track.player = undefined;\n      options.tracks[i] = track;\n    }\n\n    return options;\n  }\n  /**\n   * Creates a simple modal dialog (an instance of the {@link ModalDialog}\n   * component) that immediately overlays the player with arbitrary\n   * content and removes itself when closed.\n   *\n   * @param {string|Function|Element|Array|null} content\n   *        Same as {@link ModalDialog#content}'s param of the same name.\n   *        The most straight-forward usage is to provide a string or DOM\n   *        element.\n   *\n   * @param {Object} [options]\n   *        Extra options which will be passed on to the {@link ModalDialog}.\n   *\n   * @return {ModalDialog}\n   *         the {@link ModalDialog} that was created\n   */\n  ;\n\n  _proto.createModal = function createModal(content, options) {\n    var _this14 = this;\n\n    options = options || {};\n    options.content = content || '';\n    var modal = new ModalDialog(this, options);\n    this.addChild(modal);\n    modal.on('dispose', function () {\n      _this14.removeChild(modal);\n    });\n    modal.open();\n    return modal;\n  }\n  /**\n   * Change breakpoint classes when the player resizes.\n   *\n   * @private\n   */\n  ;\n\n  _proto.updateCurrentBreakpoint_ = function updateCurrentBreakpoint_() {\n    if (!this.responsive()) {\n      return;\n    }\n\n    var currentBreakpoint = this.currentBreakpoint();\n    var currentWidth = this.currentWidth();\n\n    for (var i = 0; i < BREAKPOINT_ORDER.length; i++) {\n      var candidateBreakpoint = BREAKPOINT_ORDER[i];\n      var maxWidth = this.breakpoints_[candidateBreakpoint];\n\n      if (currentWidth <= maxWidth) {\n        // The current breakpoint did not change, nothing to do.\n        if (currentBreakpoint === candidateBreakpoint) {\n          return;\n        } // Only remove a class if there is a current breakpoint.\n\n\n        if (currentBreakpoint) {\n          this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n        }\n\n        this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n        this.breakpoint_ = candidateBreakpoint;\n        break;\n      }\n    }\n  }\n  /**\n   * Removes the current breakpoint.\n   *\n   * @private\n   */\n  ;\n\n  _proto.removeCurrentBreakpoint_ = function removeCurrentBreakpoint_() {\n    var className = this.currentBreakpointClass();\n    this.breakpoint_ = '';\n\n    if (className) {\n      this.removeClass(className);\n    }\n  }\n  /**\n   * Get or set breakpoints on the player.\n   *\n   * Calling this method with an object or `true` will remove any previous\n   * custom breakpoints and start from the defaults again.\n   *\n   * @param  {Object|boolean} [breakpoints]\n   *         If an object is given, it can be used to provide custom\n   *         breakpoints. If `true` is given, will set default breakpoints.\n   *         If this argument is not given, will simply return the current\n   *         breakpoints.\n   *\n   * @param  {number} [breakpoints.tiny]\n   *         The maximum width for the \"vjs-layout-tiny\" class.\n   *\n   * @param  {number} [breakpoints.xsmall]\n   *         The maximum width for the \"vjs-layout-x-small\" class.\n   *\n   * @param  {number} [breakpoints.small]\n   *         The maximum width for the \"vjs-layout-small\" class.\n   *\n   * @param  {number} [breakpoints.medium]\n   *         The maximum width for the \"vjs-layout-medium\" class.\n   *\n   * @param  {number} [breakpoints.large]\n   *         The maximum width for the \"vjs-layout-large\" class.\n   *\n   * @param  {number} [breakpoints.xlarge]\n   *         The maximum width for the \"vjs-layout-x-large\" class.\n   *\n   * @param  {number} [breakpoints.huge]\n   *         The maximum width for the \"vjs-layout-huge\" class.\n   *\n   * @return {Object}\n   *         An object mapping breakpoint names to maximum width values.\n   */\n  ;\n\n  _proto.breakpoints = function breakpoints(_breakpoints) {\n    // Used as a getter.\n    if (_breakpoints === undefined) {\n      return assign(this.breakpoints_);\n    }\n\n    this.breakpoint_ = '';\n    this.breakpoints_ = assign({}, DEFAULT_BREAKPOINTS, _breakpoints); // When breakpoint definitions change, we need to update the currently\n    // selected breakpoint.\n\n    this.updateCurrentBreakpoint_(); // Clone the breakpoints before returning.\n\n    return assign(this.breakpoints_);\n  }\n  /**\n   * Get or set a flag indicating whether or not this player should adjust\n   * its UI based on its dimensions.\n   *\n   * @param  {boolean} value\n   *         Should be `true` if the player should adjust its UI based on its\n   *         dimensions; otherwise, should be `false`.\n   *\n   * @return {boolean}\n   *         Will be `true` if this player should adjust its UI based on its\n   *         dimensions; otherwise, will be `false`.\n   */\n  ;\n\n  _proto.responsive = function responsive(value) {\n    // Used as a getter.\n    if (value === undefined) {\n      return this.responsive_;\n    }\n\n    value = Boolean(value);\n    var current = this.responsive_; // Nothing changed.\n\n    if (value === current) {\n      return;\n    } // The value actually changed, set it.\n\n\n    this.responsive_ = value; // Start listening for breakpoints and set the initial breakpoint if the\n    // player is now responsive.\n\n    if (value) {\n      this.on('playerresize', this.updateCurrentBreakpoint_);\n      this.updateCurrentBreakpoint_(); // Stop listening for breakpoints if the player is no longer responsive.\n    } else {\n      this.off('playerresize', this.updateCurrentBreakpoint_);\n      this.removeCurrentBreakpoint_();\n    }\n\n    return value;\n  }\n  /**\n   * Get current breakpoint name, if any.\n   *\n   * @return {string}\n   *         If there is currently a breakpoint set, returns a the key from the\n   *         breakpoints object matching it. Otherwise, returns an empty string.\n   */\n  ;\n\n  _proto.currentBreakpoint = function currentBreakpoint() {\n    return this.breakpoint_;\n  }\n  /**\n   * Get the current breakpoint class name.\n   *\n   * @return {string}\n   *         The matching class name (e.g. `\"vjs-layout-tiny\"` or\n   *         `\"vjs-layout-large\"`) for the current breakpoint. Empty string if\n   *         there is no current breakpoint.\n   */\n  ;\n\n  _proto.currentBreakpointClass = function currentBreakpointClass() {\n    return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n  }\n  /**\n   * An object that describes a single piece of media.\n   *\n   * Properties that are not part of this type description will be retained; so,\n   * this can be viewed as a generic metadata storage mechanism as well.\n   *\n   * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}\n   * @typedef  {Object} Player~MediaObject\n   *\n   * @property {string} [album]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {string} [artist]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {Object[]} [artwork]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API. If not specified, will be populated via the `poster`, if\n   *           available.\n   *\n   * @property {string} [poster]\n   *           URL to an image that will display before playback.\n   *\n   * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]\n   *           A single source object, an array of source objects, or a string\n   *           referencing a URL to a media source. It is _highly recommended_\n   *           that an object or array of objects is used here, so that source\n   *           selection algorithms can take the `type` into account.\n   *\n   * @property {string} [title]\n   *           Unused, except if this object is passed to the `MediaSession`\n   *           API.\n   *\n   * @property {Object[]} [textTracks]\n   *           An array of objects to be used to create text tracks, following\n   *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.\n   *           For ease of removal, these will be created as \"remote\" text\n   *           tracks and set to automatically clean up on source changes.\n   *\n   *           These objects may have properties like `src`, `kind`, `label`,\n   *           and `language`, see {@link Tech#createRemoteTextTrack}.\n   */\n\n  /**\n   * Populate the player using a {@link Player~MediaObject|MediaObject}.\n   *\n   * @param  {Player~MediaObject} media\n   *         A media object.\n   *\n   * @param  {Function} ready\n   *         A callback to be called when the player is ready.\n   */\n  ;\n\n  _proto.loadMedia = function loadMedia(media, ready) {\n    var _this15 = this;\n\n    if (!media || typeof media !== 'object') {\n      return;\n    }\n\n    this.reset(); // Clone the media object so it cannot be mutated from outside.\n\n    this.cache_.media = mergeOptions(media);\n    var _this$cache_$media = this.cache_.media,\n        artwork = _this$cache_$media.artwork,\n        poster = _this$cache_$media.poster,\n        src = _this$cache_$media.src,\n        textTracks = _this$cache_$media.textTracks; // If `artwork` is not given, create it using `poster`.\n\n    if (!artwork && poster) {\n      this.cache_.media.artwork = [{\n        src: poster,\n        type: getMimetype(poster)\n      }];\n    }\n\n    if (src) {\n      this.src(src);\n    }\n\n    if (poster) {\n      this.poster(poster);\n    }\n\n    if (Array.isArray(textTracks)) {\n      textTracks.forEach(function (tt) {\n        return _this15.addRemoteTextTrack(tt, false);\n      });\n    }\n\n    this.ready(ready);\n  }\n  /**\n   * Get a clone of the current {@link Player~MediaObject} for this player.\n   *\n   * If the `loadMedia` method has not been used, will attempt to return a\n   * {@link Player~MediaObject} based on the current state of the player.\n   *\n   * @return {Player~MediaObject}\n   */\n  ;\n\n  _proto.getMedia = function getMedia() {\n    if (!this.cache_.media) {\n      var poster = this.poster();\n      var src = this.currentSources();\n      var textTracks = Array.prototype.map.call(this.remoteTextTracks(), function (tt) {\n        return {\n          kind: tt.kind,\n          label: tt.label,\n          language: tt.language,\n          src: tt.src\n        };\n      });\n      var media = {\n        src: src,\n        textTracks: textTracks\n      };\n\n      if (poster) {\n        media.poster = poster;\n        media.artwork = [{\n          src: media.poster,\n          type: getMimetype(media.poster)\n        }];\n      }\n\n      return media;\n    }\n\n    return mergeOptions(this.cache_.media);\n  }\n  /**\n   * Gets tag settings\n   *\n   * @param {Element} tag\n   *        The player tag\n   *\n   * @return {Object}\n   *         An object containing all of the settings\n   *         for a player tag\n   */\n  ;\n\n  Player.getTagSettings = function getTagSettings(tag) {\n    var baseOptions = {\n      sources: [],\n      tracks: []\n    };\n    var tagOptions = getAttributes(tag);\n    var dataSetup = tagOptions['data-setup'];\n\n    if (hasClass(tag, 'vjs-fill')) {\n      tagOptions.fill = true;\n    }\n\n    if (hasClass(tag, 'vjs-fluid')) {\n      tagOptions.fluid = true;\n    } // Check if data-setup attr exists.\n\n\n    if (dataSetup !== null) {\n      // Parse options JSON\n      // If empty string, make it a parsable json object.\n      var _safeParseTuple = safeParseTuple(dataSetup || '{}'),\n          err = _safeParseTuple[0],\n          data = _safeParseTuple[1];\n\n      if (err) {\n        log.error(err);\n      }\n\n      assign(tagOptions, data);\n    }\n\n    assign(baseOptions, tagOptions); // Get tag children settings\n\n    if (tag.hasChildNodes()) {\n      var children = tag.childNodes;\n\n      for (var i = 0, j = children.length; i < j; i++) {\n        var child = children[i]; // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\n        var childName = child.nodeName.toLowerCase();\n\n        if (childName === 'source') {\n          baseOptions.sources.push(getAttributes(child));\n        } else if (childName === 'track') {\n          baseOptions.tracks.push(getAttributes(child));\n        }\n      }\n    }\n\n    return baseOptions;\n  }\n  /**\n   * Determine whether or not flexbox is supported\n   *\n   * @return {boolean}\n   *         - true if flexbox is supported\n   *         - false if flexbox is not supported\n   */\n  ;\n\n  _proto.flexNotSupported_ = function flexNotSupported_() {\n    var elem = document.createElement('i'); // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n    // common flex features that we can rely on when checking for flex support.\n\n    return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || // IE10-specific (2012 flex spec), available for completeness\n    'msFlexOrder' in elem.style);\n  };\n\n  return Player;\n}(Component);\n/**\n * Get the {@link VideoTrackList}\n * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n *\n * @return {VideoTrackList}\n *         the current video track list\n *\n * @method Player.prototype.videoTracks\n */\n\n/**\n * Get the {@link AudioTrackList}\n * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n *\n * @return {AudioTrackList}\n *         the current audio track list\n *\n * @method Player.prototype.audioTracks\n */\n\n/**\n * Get the {@link TextTrackList}\n *\n * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n *\n * @return {TextTrackList}\n *         the current text track list\n *\n * @method Player.prototype.textTracks\n */\n\n/**\n * Get the remote {@link TextTrackList}\n *\n * @return {TextTrackList}\n *         The current remote text track list\n *\n * @method Player.prototype.remoteTextTracks\n */\n\n/**\n * Get the remote {@link HtmlTrackElementList} tracks.\n *\n * @return {HtmlTrackElementList}\n *         The current remote text track element list\n *\n * @method Player.prototype.remoteTextTrackEls\n */\n\n\nALL.names.forEach(function (name) {\n  var props = ALL[name];\n\n  Player.prototype[props.getterName] = function () {\n    if (this.tech_) {\n      return this.tech_[props.getterName]();\n    } // if we have not yet loadTech_, we create {video,audio,text}Tracks_\n    // these will be passed to the tech during loading\n\n\n    this[props.privateName] = this[props.privateName] || new props.ListClass();\n    return this[props.privateName];\n  };\n});\n/**\n * Global enumeration of players.\n *\n * The keys are the player IDs and the values are either the {@link Player}\n * instance or `null` for disposed players.\n *\n * @type {Object}\n */\n\nPlayer.players = {};\nvar navigator = window$1.navigator;\n/*\n * Player instance options, surfaced using options\n * options = Player.prototype.options_\n * Make changes in options, not here.\n *\n * @type {Object}\n * @private\n */\n\nPlayer.prototype.options_ = {\n  // Default order of fallback technology\n  techOrder: Tech.defaultTechOrder_,\n  html5: {},\n  flash: {},\n  // default inactivity timeout\n  inactivityTimeout: 2000,\n  // default playback rates\n  playbackRates: [],\n  // Add playback rate selection by adding rates\n  // 'playbackRates': [0.5, 1, 1.5, 2],\n  liveui: false,\n  // Included control sets\n  children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'liveTracker', 'controlBar', 'errorDisplay', 'textTrackSettings', 'resizeManager'],\n  language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n  // locales and their language translations\n  languages: {},\n  // Default message to show when a video cannot be played.\n  notSupportedMessage: 'No compatible source was found for this media.',\n  fullscreen: {\n    options: {\n      navigationUI: 'hide'\n    }\n  },\n  breakpoints: {},\n  responsive: false\n};\n[\n/**\n * Returns whether or not the player is in the \"ended\" state.\n *\n * @return {Boolean} True if the player is in the ended state, false if not.\n * @method Player#ended\n */\n'ended',\n/**\n * Returns whether or not the player is in the \"seeking\" state.\n *\n * @return {Boolean} True if the player is in the seeking state, false if not.\n * @method Player#seeking\n */\n'seeking',\n/**\n * Returns the TimeRanges of the media that are currently available\n * for seeking to.\n *\n * @return {TimeRanges} the seekable intervals of the media timeline\n * @method Player#seekable\n */\n'seekable',\n/**\n * Returns the current state of network activity for the element, from\n * the codes in the list below.\n * - NETWORK_EMPTY (numeric value 0)\n *   The element has not yet been initialised. All attributes are in\n *   their initial states.\n * - NETWORK_IDLE (numeric value 1)\n *   The element's resource selection algorithm is active and has\n *   selected a resource, but it is not actually using the network at\n *   this time.\n * - NETWORK_LOADING (numeric value 2)\n *   The user agent is actively trying to download data.\n * - NETWORK_NO_SOURCE (numeric value 3)\n *   The element's resource selection algorithm is active, but it has\n *   not yet found a resource to use.\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n * @return {number} the current network activity state\n * @method Player#networkState\n */\n'networkState',\n/**\n * Returns a value that expresses the current state of the element\n * with respect to rendering the current playback position, from the\n * codes in the list below.\n * - HAVE_NOTHING (numeric value 0)\n *   No information regarding the media resource is available.\n * - HAVE_METADATA (numeric value 1)\n *   Enough of the resource has been obtained that the duration of the\n *   resource is available.\n * - HAVE_CURRENT_DATA (numeric value 2)\n *   Data for the immediate current playback position is available.\n * - HAVE_FUTURE_DATA (numeric value 3)\n *   Data for the immediate current playback position is available, as\n *   well as enough data for the user agent to advance the current\n *   playback position in the direction of playback.\n * - HAVE_ENOUGH_DATA (numeric value 4)\n *   The user agent estimates that enough data is available for\n *   playback to proceed uninterrupted.\n *\n * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n * @return {number} the current playback rendering state\n * @method Player#readyState\n */\n'readyState'].forEach(function (fn) {\n  Player.prototype[fn] = function () {\n    return this.techGet_(fn);\n  };\n});\nTECH_EVENTS_RETRIGGER.forEach(function (event) {\n  Player.prototype[\"handleTech\" + toTitleCase(event) + \"_\"] = function () {\n    return this.trigger(event);\n  };\n});\n/**\n * Fired when the player has initial duration and dimension information\n *\n * @event Player#loadedmetadata\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the player has downloaded data at the current playback position\n *\n * @event Player#loadeddata\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the current playback position has changed *\n * During playback this is fired every 15-250 milliseconds, depending on the\n * playback technology in use.\n *\n * @event Player#timeupdate\n * @type {EventTarget~Event}\n */\n\n/**\n * Fired when the volume changes\n *\n * @event Player#volumechange\n * @type {EventTarget~Event}\n */\n\n/**\n * Reports whether or not a player has a plugin available.\n *\n * This does not report whether or not the plugin has ever been initialized\n * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.\n *\n * @method Player#hasPlugin\n * @param  {string}  name\n *         The name of a plugin.\n *\n * @return {boolean}\n *         Whether or not this player has the requested plugin available.\n */\n\n/**\n * Reports whether or not a player is using a plugin by name.\n *\n * For basic plugins, this only reports whether the plugin has _ever_ been\n * initialized on this player.\n *\n * @method Player#usingPlugin\n * @param  {string} name\n *         The name of a plugin.\n *\n * @return {boolean}\n *         Whether or not this player is using the requested plugin.\n */\n\nComponent.registerComponent('Player', Player);\n/**\n * The base plugin name.\n *\n * @private\n * @constant\n * @type {string}\n */\n\nvar BASE_PLUGIN_NAME = 'plugin';\n/**\n * The key on which a player's active plugins cache is stored.\n *\n * @private\n * @constant\n * @type     {string}\n */\n\nvar PLUGIN_CACHE_KEY = 'activePlugins_';\n/**\n * Stores registered plugins in a private space.\n *\n * @private\n * @type    {Object}\n */\n\nvar pluginStorage = {};\n/**\n * Reports whether or not a plugin has been registered.\n *\n * @private\n * @param   {string} name\n *          The name of a plugin.\n *\n * @return {boolean}\n *          Whether or not the plugin has been registered.\n */\n\nvar pluginExists = function pluginExists(name) {\n  return pluginStorage.hasOwnProperty(name);\n};\n/**\n * Get a single registered plugin by name.\n *\n * @private\n * @param   {string} name\n *          The name of a plugin.\n *\n * @return {Function|undefined}\n *          The plugin (or undefined).\n */\n\n\nvar getPlugin = function getPlugin(name) {\n  return pluginExists(name) ? pluginStorage[name] : undefined;\n};\n/**\n * Marks a plugin as \"active\" on a player.\n *\n * Also, ensures that the player has an object for tracking active plugins.\n *\n * @private\n * @param   {Player} player\n *          A Video.js player instance.\n *\n * @param   {string} name\n *          The name of a plugin.\n */\n\n\nvar markPluginAsActive = function markPluginAsActive(player, name) {\n  player[PLUGIN_CACHE_KEY] = player[PLUGIN_CACHE_KEY] || {};\n  player[PLUGIN_CACHE_KEY][name] = true;\n};\n/**\n * Triggers a pair of plugin setup events.\n *\n * @private\n * @param  {Player} player\n *         A Video.js player instance.\n *\n * @param  {Plugin~PluginEventHash} hash\n *         A plugin event hash.\n *\n * @param  {boolean} [before]\n *         If true, prefixes the event name with \"before\". In other words,\n *         use this to trigger \"beforepluginsetup\" instead of \"pluginsetup\".\n */\n\n\nvar triggerSetupEvent = function triggerSetupEvent(player, hash, before) {\n  var eventName = (before ? 'before' : '') + 'pluginsetup';\n  player.trigger(eventName, hash);\n  player.trigger(eventName + ':' + hash.name, hash);\n};\n/**\n * Takes a basic plugin function and returns a wrapper function which marks\n * on the player that the plugin has been activated.\n *\n * @private\n * @param   {string} name\n *          The name of the plugin.\n *\n * @param   {Function} plugin\n *          The basic plugin.\n *\n * @return {Function}\n *          A wrapper function for the given plugin.\n */\n\n\nvar createBasicPlugin = function createBasicPlugin(name, plugin) {\n  var basicPluginWrapper = function basicPluginWrapper() {\n    // We trigger the \"beforepluginsetup\" and \"pluginsetup\" events on the player\n    // regardless, but we want the hash to be consistent with the hash provided\n    // for advanced plugins.\n    //\n    // The only potentially counter-intuitive thing here is the `instance` in\n    // the \"pluginsetup\" event is the value returned by the `plugin` function.\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: plugin,\n      instance: null\n    }, true);\n    var instance = plugin.apply(this, arguments);\n    markPluginAsActive(this, name);\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: plugin,\n      instance: instance\n    });\n    return instance;\n  };\n\n  Object.keys(plugin).forEach(function (prop) {\n    basicPluginWrapper[prop] = plugin[prop];\n  });\n  return basicPluginWrapper;\n};\n/**\n * Takes a plugin sub-class and returns a factory function for generating\n * instances of it.\n *\n * This factory function will replace itself with an instance of the requested\n * sub-class of Plugin.\n *\n * @private\n * @param   {string} name\n *          The name of the plugin.\n *\n * @param   {Plugin} PluginSubClass\n *          The advanced plugin.\n *\n * @return {Function}\n */\n\n\nvar createPluginFactory = function createPluginFactory(name, PluginSubClass) {\n  // Add a `name` property to the plugin prototype so that each plugin can\n  // refer to itself by name.\n  PluginSubClass.prototype.name = name;\n  return function () {\n    triggerSetupEvent(this, {\n      name: name,\n      plugin: PluginSubClass,\n      instance: null\n    }, true);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var instance = _construct(PluginSubClass, [this].concat(args)); // The plugin is replaced by a function that returns the current instance.\n\n\n    this[name] = function () {\n      return instance;\n    };\n\n    triggerSetupEvent(this, instance.getEventHash());\n    return instance;\n  };\n};\n/**\n * Parent class for all advanced plugins.\n *\n * @mixes   module:evented~EventedMixin\n * @mixes   module:stateful~StatefulMixin\n * @fires   Player#beforepluginsetup\n * @fires   Player#beforepluginsetup:$name\n * @fires   Player#pluginsetup\n * @fires   Player#pluginsetup:$name\n * @listens Player#dispose\n * @throws  {Error}\n *          If attempting to instantiate the base {@link Plugin} class\n *          directly instead of via a sub-class.\n */\n\n\nvar Plugin =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Creates an instance of this class.\n   *\n   * Sub-classes should call `super` to ensure plugins are properly initialized.\n   *\n   * @param {Player} player\n   *        A Video.js player instance.\n   */\n  function Plugin(player) {\n    if (this.constructor === Plugin) {\n      throw new Error('Plugin must be sub-classed; not directly instantiated.');\n    }\n\n    this.player = player; // Make this object evented, but remove the added `trigger` method so we\n    // use the prototype version instead.\n\n    evented(this);\n    delete this.trigger;\n    stateful(this, this.constructor.defaultState);\n    markPluginAsActive(player, this.name); // Auto-bind the dispose method so we can use it as a listener and unbind\n    // it later easily.\n\n    this.dispose = bind(this, this.dispose); // If the player is disposed, dispose the plugin.\n\n    player.on('dispose', this.dispose);\n  }\n  /**\n   * Get the version of the plugin that was set on <pluginName>.VERSION\n   */\n\n\n  var _proto = Plugin.prototype;\n\n  _proto.version = function version() {\n    return this.constructor.VERSION;\n  }\n  /**\n   * Each event triggered by plugins includes a hash of additional data with\n   * conventional properties.\n   *\n   * This returns that object or mutates an existing hash.\n   *\n   * @param   {Object} [hash={}]\n   *          An object to be used as event an event hash.\n   *\n   * @return {Plugin~PluginEventHash}\n   *          An event hash object with provided properties mixed-in.\n   */\n  ;\n\n  _proto.getEventHash = function getEventHash(hash) {\n    if (hash === void 0) {\n      hash = {};\n    }\n\n    hash.name = this.name;\n    hash.plugin = this.constructor;\n    hash.instance = this;\n    return hash;\n  }\n  /**\n   * Triggers an event on the plugin object and overrides\n   * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.\n   *\n   * @param   {string|Object} event\n   *          An event type or an object with a type property.\n   *\n   * @param   {Object} [hash={}]\n   *          Additional data hash to merge with a\n   *          {@link Plugin~PluginEventHash|PluginEventHash}.\n   *\n   * @return {boolean}\n   *          Whether or not default was prevented.\n   */\n  ;\n\n  _proto.trigger = function trigger$1(event, hash) {\n    if (hash === void 0) {\n      hash = {};\n    }\n\n    return trigger(this.eventBusEl_, event, this.getEventHash(hash));\n  }\n  /**\n   * Handles \"statechanged\" events on the plugin. No-op by default, override by\n   * subclassing.\n   *\n   * @abstract\n   * @param    {Event} e\n   *           An event object provided by a \"statechanged\" event.\n   *\n   * @param    {Object} e.changes\n   *           An object describing changes that occurred with the \"statechanged\"\n   *           event.\n   */\n  ;\n\n  _proto.handleStateChanged = function handleStateChanged(e) {}\n  /**\n   * Disposes a plugin.\n   *\n   * Subclasses can override this if they want, but for the sake of safety,\n   * it's probably best to subscribe the \"dispose\" event.\n   *\n   * @fires Plugin#dispose\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    var name = this.name,\n        player = this.player;\n    /**\n     * Signals that a advanced plugin is about to be disposed.\n     *\n     * @event Plugin#dispose\n     * @type  {EventTarget~Event}\n     */\n\n    this.trigger('dispose');\n    this.off();\n    player.off('dispose', this.dispose); // Eliminate any possible sources of leaking memory by clearing up\n    // references between the player and the plugin instance and nulling out\n    // the plugin's state and replacing methods with a function that throws.\n\n    player[PLUGIN_CACHE_KEY][name] = false;\n    this.player = this.state = null; // Finally, replace the plugin name on the player with a new factory\n    // function, so that the plugin is ready to be set up again.\n\n    player[name] = createPluginFactory(name, pluginStorage[name]);\n  }\n  /**\n   * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).\n   *\n   * @param   {string|Function} plugin\n   *          If a string, matches the name of a plugin. If a function, will be\n   *          tested directly.\n   *\n   * @return {boolean}\n   *          Whether or not a plugin is a basic plugin.\n   */\n  ;\n\n  Plugin.isBasic = function isBasic(plugin) {\n    var p = typeof plugin === 'string' ? getPlugin(plugin) : plugin;\n    return typeof p === 'function' && !Plugin.prototype.isPrototypeOf(p.prototype);\n  }\n  /**\n   * Register a Video.js plugin.\n   *\n   * @param   {string} name\n   *          The name of the plugin to be registered. Must be a string and\n   *          must not match an existing plugin or a method on the `Player`\n   *          prototype.\n   *\n   * @param   {Function} plugin\n   *          A sub-class of `Plugin` or a function for basic plugins.\n   *\n   * @return {Function}\n   *          For advanced plugins, a factory function for that plugin. For\n   *          basic plugins, a wrapper function that initializes the plugin.\n   */\n  ;\n\n  Plugin.registerPlugin = function registerPlugin(name, plugin) {\n    if (typeof name !== 'string') {\n      throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", must be a string, was \" + typeof name + \".\");\n    }\n\n    if (pluginExists(name)) {\n      log.warn(\"A plugin named \\\"\" + name + \"\\\" already exists. You may want to avoid re-registering plugins!\");\n    } else if (Player.prototype.hasOwnProperty(name)) {\n      throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", cannot share a name with an existing player method!\");\n    }\n\n    if (typeof plugin !== 'function') {\n      throw new Error(\"Illegal plugin for \\\"\" + name + \"\\\", must be a function, was \" + typeof plugin + \".\");\n    }\n\n    pluginStorage[name] = plugin; // Add a player prototype method for all sub-classed plugins (but not for\n    // the base Plugin class).\n\n    if (name !== BASE_PLUGIN_NAME) {\n      if (Plugin.isBasic(plugin)) {\n        Player.prototype[name] = createBasicPlugin(name, plugin);\n      } else {\n        Player.prototype[name] = createPluginFactory(name, plugin);\n      }\n    }\n\n    return plugin;\n  }\n  /**\n   * De-register a Video.js plugin.\n   *\n   * @param  {string} name\n   *         The name of the plugin to be de-registered. Must be a string that\n   *         matches an existing plugin.\n   *\n   * @throws {Error}\n   *         If an attempt is made to de-register the base plugin.\n   */\n  ;\n\n  Plugin.deregisterPlugin = function deregisterPlugin(name) {\n    if (name === BASE_PLUGIN_NAME) {\n      throw new Error('Cannot de-register base plugin.');\n    }\n\n    if (pluginExists(name)) {\n      delete pluginStorage[name];\n      delete Player.prototype[name];\n    }\n  }\n  /**\n   * Gets an object containing multiple Video.js plugins.\n   *\n   * @param   {Array} [names]\n   *          If provided, should be an array of plugin names. Defaults to _all_\n   *          plugin names.\n   *\n   * @return {Object|undefined}\n   *          An object containing plugin(s) associated with their name(s) or\n   *          `undefined` if no matching plugins exist).\n   */\n  ;\n\n  Plugin.getPlugins = function getPlugins(names) {\n    if (names === void 0) {\n      names = Object.keys(pluginStorage);\n    }\n\n    var result;\n    names.forEach(function (name) {\n      var plugin = getPlugin(name);\n\n      if (plugin) {\n        result = result || {};\n        result[name] = plugin;\n      }\n    });\n    return result;\n  }\n  /**\n   * Gets a plugin's version, if available\n   *\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {string}\n   *          The plugin's version or an empty string.\n   */\n  ;\n\n  Plugin.getPluginVersion = function getPluginVersion(name) {\n    var plugin = getPlugin(name);\n    return plugin && plugin.VERSION || '';\n  };\n\n  return Plugin;\n}();\n/**\n * Gets a plugin by name if it exists.\n *\n * @static\n * @method   getPlugin\n * @memberOf Plugin\n * @param    {string} name\n *           The name of a plugin.\n *\n * @returns  {Function|undefined}\n *           The plugin (or `undefined`).\n */\n\n\nPlugin.getPlugin = getPlugin;\n/**\n * The name of the base plugin class as it is registered.\n *\n * @type {string}\n */\n\nPlugin.BASE_PLUGIN_NAME = BASE_PLUGIN_NAME;\nPlugin.registerPlugin(BASE_PLUGIN_NAME, Plugin);\n/**\n * Documented in player.js\n *\n * @ignore\n */\n\nPlayer.prototype.usingPlugin = function (name) {\n  return !!this[PLUGIN_CACHE_KEY] && this[PLUGIN_CACHE_KEY][name] === true;\n};\n/**\n * Documented in player.js\n *\n * @ignore\n */\n\n\nPlayer.prototype.hasPlugin = function (name) {\n  return !!pluginExists(name);\n};\n/**\n * Signals that a plugin is about to be set up on a player.\n *\n * @event    Player#beforepluginsetup\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin is about to be set up on a player - by name. The name\n * is the name of the plugin.\n *\n * @event    Player#beforepluginsetup:$name\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin has just been set up on a player.\n *\n * @event    Player#pluginsetup\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * Signals that a plugin has just been set up on a player - by name. The name\n * is the name of the plugin.\n *\n * @event    Player#pluginsetup:$name\n * @type     {Plugin~PluginEventHash}\n */\n\n/**\n * @typedef  {Object} Plugin~PluginEventHash\n *\n * @property {string} instance\n *           For basic plugins, the return value of the plugin function. For\n *           advanced plugins, the plugin instance on which the event is fired.\n *\n * @property {string} name\n *           The name of the plugin.\n *\n * @property {string} plugin\n *           For basic plugins, the plugin function. For advanced plugins, the\n *           plugin class/constructor.\n */\n\n/**\n * @file extend.js\n * @module extend\n */\n\n/**\n * A combination of node inherits and babel's inherits (after transpile).\n * Both work the same but node adds `super_` to the subClass\n * and Bable adds the superClass as __proto__. Both seem useful.\n *\n * @param {Object} subClass\n *        The class to inherit to\n *\n * @param {Object} superClass\n *        The class to inherit from\n *\n * @private\n */\n\n\nvar _inherits = function _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (superClass) {\n    // node\n    subClass.super_ = superClass;\n  }\n};\n/**\n * Used to subclass an existing class by emulating ES subclassing using the\n * `extends` keyword.\n *\n * @function\n * @example\n * var MyComponent = videojs.extend(videojs.getComponent('Component'), {\n *   myCustomMethod: function() {\n *     // Do things in my method.\n *   }\n * });\n *\n * @param    {Function} superClass\n *           The class to inherit from\n *\n * @param    {Object}   [subClassMethods={}]\n *           Methods of the new class\n *\n * @return   {Function}\n *           The new class with subClassMethods that inherited superClass.\n */\n\n\nvar extend = function extend(superClass, subClassMethods) {\n  if (subClassMethods === void 0) {\n    subClassMethods = {};\n  }\n\n  var subClass = function subClass() {\n    superClass.apply(this, arguments);\n  };\n\n  var methods = {};\n\n  if (typeof subClassMethods === 'object') {\n    if (subClassMethods.constructor !== Object.prototype.constructor) {\n      subClass = subClassMethods.constructor;\n    }\n\n    methods = subClassMethods;\n  } else if (typeof subClassMethods === 'function') {\n    subClass = subClassMethods;\n  }\n\n  _inherits(subClass, superClass); // Extend subObj's prototype with functions and other properties from props\n\n\n  for (var name in methods) {\n    if (methods.hasOwnProperty(name)) {\n      subClass.prototype[name] = methods[name];\n    }\n  }\n\n  return subClass;\n};\n/**\n * @file video.js\n * @module videojs\n */\n\n/**\n * Normalize an `id` value by trimming off a leading `#`\n *\n * @private\n * @param   {string} id\n *          A string, maybe with a leading `#`.\n *\n * @return {string}\n *          The string, without any leading `#`.\n */\n\n\nvar normalizeId = function normalizeId(id) {\n  return id.indexOf('#') === 0 ? id.slice(1) : id;\n};\n/**\n * The `videojs()` function doubles as the main function for users to create a\n * {@link Player} instance as well as the main library namespace.\n *\n * It can also be used as a getter for a pre-existing {@link Player} instance.\n * However, we _strongly_ recommend using `videojs.getPlayer()` for this\n * purpose because it avoids any potential for unintended initialization.\n *\n * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n * of our JSDoc template, we cannot properly document this as both a function\n * and a namespace, so its function signature is documented here.\n *\n * #### Arguments\n * ##### id\n * string|Element, **required**\n *\n * Video element or video element ID.\n *\n * ##### options\n * Object, optional\n *\n * Options object for providing settings.\n * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n *\n * ##### ready\n * {@link Component~ReadyCallback}, optional\n *\n * A function to be called when the {@link Player} and {@link Tech} are ready.\n *\n * #### Return Value\n *\n * The `videojs()` function returns a {@link Player} instance.\n *\n * @namespace\n *\n * @borrows AudioTrack as AudioTrack\n * @borrows Component.getComponent as getComponent\n * @borrows module:computed-style~computedStyle as computedStyle\n * @borrows module:events.on as on\n * @borrows module:events.one as one\n * @borrows module:events.off as off\n * @borrows module:events.trigger as trigger\n * @borrows EventTarget as EventTarget\n * @borrows module:extend~extend as extend\n * @borrows module:fn.bind as bind\n * @borrows module:format-time.formatTime as formatTime\n * @borrows module:format-time.resetFormatTime as resetFormatTime\n * @borrows module:format-time.setFormatTime as setFormatTime\n * @borrows module:merge-options.mergeOptions as mergeOptions\n * @borrows module:middleware.use as use\n * @borrows Player.players as players\n * @borrows Plugin.registerPlugin as registerPlugin\n * @borrows Plugin.deregisterPlugin as deregisterPlugin\n * @borrows Plugin.getPlugins as getPlugins\n * @borrows Plugin.getPlugin as getPlugin\n * @borrows Plugin.getPluginVersion as getPluginVersion\n * @borrows Tech.getTech as getTech\n * @borrows Tech.registerTech as registerTech\n * @borrows TextTrack as TextTrack\n * @borrows module:time-ranges.createTimeRanges as createTimeRange\n * @borrows module:time-ranges.createTimeRanges as createTimeRanges\n * @borrows module:url.isCrossOrigin as isCrossOrigin\n * @borrows module:url.parseUrl as parseUrl\n * @borrows VideoTrack as VideoTrack\n *\n * @param  {string|Element} id\n *         Video element or video element ID.\n *\n * @param  {Object} [options]\n *         Options object for providing settings.\n *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n *\n * @param  {Component~ReadyCallback} [ready]\n *         A function to be called when the {@link Player} and {@link Tech} are\n *         ready.\n *\n * @return {Player}\n *         The `videojs()` function returns a {@link Player|Player} instance.\n */\n\n\nfunction videojs$1(id, options, ready) {\n  var player = videojs$1.getPlayer(id);\n\n  if (player) {\n    if (options) {\n      log.warn(\"Player \\\"\" + id + \"\\\" is already initialised. Options will not be applied.\");\n    }\n\n    if (ready) {\n      player.ready(ready);\n    }\n\n    return player;\n  }\n\n  var el = typeof id === 'string' ? $('#' + normalizeId(id)) : id;\n\n  if (!isEl(el)) {\n    throw new TypeError('The element or ID supplied is not valid. (videojs)');\n  } // document.body.contains(el) will only check if el is contained within that one document.\n  // This causes problems for elements in iframes.\n  // Instead, use the element's ownerDocument instead of the global document.\n  // This will make sure that the element is indeed in the dom of that document.\n  // Additionally, check that the document in question has a default view.\n  // If the document is no longer attached to the dom, the defaultView of the document will be null.\n\n\n  if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n    log.warn('The element supplied is not included in the DOM');\n  }\n\n  options = options || {};\n  videojs$1.hooks('beforesetup').forEach(function (hookFunction) {\n    var opts = hookFunction(el, mergeOptions(options));\n\n    if (!isObject(opts) || Array.isArray(opts)) {\n      log.error('please return an object in beforesetup hooks');\n      return;\n    }\n\n    options = mergeOptions(options, opts);\n  }); // We get the current \"Player\" component here in case an integration has\n  // replaced it with a custom player.\n\n  var PlayerComponent = Component.getComponent('Player');\n  player = new PlayerComponent(el, options, ready);\n  videojs$1.hooks('setup').forEach(function (hookFunction) {\n    return hookFunction(player);\n  });\n  return player;\n}\n/**\n * An Object that contains lifecycle hooks as keys which point to an array\n * of functions that are run when a lifecycle is triggered\n *\n * @private\n */\n\n\nvideojs$1.hooks_ = {};\n/**\n * Get a list of hooks for a specific lifecycle\n *\n * @param  {string} type\n *         the lifecyle to get hooks from\n *\n * @param  {Function|Function[]} [fn]\n *         Optionally add a hook (or hooks) to the lifecycle that your are getting.\n *\n * @return {Array}\n *         an array of hooks, or an empty array if there are none.\n */\n\nvideojs$1.hooks = function (type, fn) {\n  videojs$1.hooks_[type] = videojs$1.hooks_[type] || [];\n\n  if (fn) {\n    videojs$1.hooks_[type] = videojs$1.hooks_[type].concat(fn);\n  }\n\n  return videojs$1.hooks_[type];\n};\n/**\n * Add a function hook to a specific videojs lifecycle.\n *\n * @param {string} type\n *        the lifecycle to hook the function to.\n *\n * @param {Function|Function[]}\n *        The function or array of functions to attach.\n */\n\n\nvideojs$1.hook = function (type, fn) {\n  videojs$1.hooks(type, fn);\n};\n/**\n * Add a function hook that will only run once to a specific videojs lifecycle.\n *\n * @param {string} type\n *        the lifecycle to hook the function to.\n *\n * @param {Function|Function[]}\n *        The function or array of functions to attach.\n */\n\n\nvideojs$1.hookOnce = function (type, fn) {\n  videojs$1.hooks(type, [].concat(fn).map(function (original) {\n    var wrapper = function wrapper() {\n      videojs$1.removeHook(type, wrapper);\n      return original.apply(void 0, arguments);\n    };\n\n    return wrapper;\n  }));\n};\n/**\n * Remove a hook from a specific videojs lifecycle.\n *\n * @param  {string} type\n *         the lifecycle that the function hooked to\n *\n * @param  {Function} fn\n *         The hooked function to remove\n *\n * @return {boolean}\n *         The function that was removed or undef\n */\n\n\nvideojs$1.removeHook = function (type, fn) {\n  var index = videojs$1.hooks(type).indexOf(fn);\n\n  if (index <= -1) {\n    return false;\n  }\n\n  videojs$1.hooks_[type] = videojs$1.hooks_[type].slice();\n  videojs$1.hooks_[type].splice(index, 1);\n  return true;\n}; // Add default styles\n\n\nif (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true && isReal()) {\n  var style = $('.vjs-styles-defaults');\n\n  if (!style) {\n    style = createStyleElement('vjs-styles-defaults');\n    var head = $('head');\n\n    if (head) {\n      head.insertBefore(style, head.firstChild);\n    }\n\n    setTextContent(style, \"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \");\n  }\n} // Run Auto-load players\n// You have to wait at least once in case this script is loaded after your\n// video in the DOM (weird behavior only with minified version)\n\n\nautoSetupTimeout(1, videojs$1);\n/**\n * Current Video.js version. Follows [semantic versioning](https://semver.org/).\n *\n * @type {string}\n */\n\nvideojs$1.VERSION = version;\n/**\n * The global options object. These are the settings that take effect\n * if no overrides are specified when the player is created.\n *\n * @type {Object}\n */\n\nvideojs$1.options = Player.prototype.options_;\n/**\n * Get an object with the currently created players, keyed by player ID\n *\n * @return {Object}\n *         The created players\n */\n\nvideojs$1.getPlayers = function () {\n  return Player.players;\n};\n/**\n * Get a single player based on an ID or DOM element.\n *\n * This is useful if you want to check if an element or ID has an associated\n * Video.js player, but not create one if it doesn't.\n *\n * @param   {string|Element} id\n *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -\n *          or a string matching the `id` of such an element.\n *\n * @return {Player|undefined}\n *          A player instance or `undefined` if there is no player instance\n *          matching the argument.\n */\n\n\nvideojs$1.getPlayer = function (id) {\n  var players = Player.players;\n  var tag;\n\n  if (typeof id === 'string') {\n    var nId = normalizeId(id);\n    var player = players[nId];\n\n    if (player) {\n      return player;\n    }\n\n    tag = $('#' + nId);\n  } else {\n    tag = id;\n  }\n\n  if (isEl(tag)) {\n    var _tag = tag,\n        _player = _tag.player,\n        playerId = _tag.playerId; // Element may have a `player` property referring to an already created\n    // player instance. If so, return that.\n\n    if (_player || players[playerId]) {\n      return _player || players[playerId];\n    }\n  }\n};\n/**\n * Returns an array of all current players.\n *\n * @return {Array}\n *         An array of all players. The array will be in the order that\n *         `Object.keys` provides, which could potentially vary between\n *         JavaScript engines.\n *\n */\n\n\nvideojs$1.getAllPlayers = function () {\n  return (// Disposed players leave a key with a `null` value, so we need to make sure\n    // we filter those out.\n    Object.keys(Player.players).map(function (k) {\n      return Player.players[k];\n    }).filter(Boolean)\n  );\n};\n\nvideojs$1.players = Player.players;\nvideojs$1.getComponent = Component.getComponent;\n/**\n * Register a component so it can referred to by name. Used when adding to other\n * components, either through addChild `component.addChild('myComponent')` or through\n * default children options  `{ children: ['myComponent'] }`.\n *\n * > NOTE: You could also just initialize the component before adding.\n * `component.addChild(new MyComponent());`\n *\n * @param {string} name\n *        The class name of the component\n *\n * @param {Component} comp\n *        The component class\n *\n * @return {Component}\n *         The newly registered component\n */\n\nvideojs$1.registerComponent = function (name, comp) {\n  if (Tech.isTech(comp)) {\n    log.warn(\"The \" + name + \" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\");\n  }\n\n  Component.registerComponent.call(Component, name, comp);\n};\n\nvideojs$1.getTech = Tech.getTech;\nvideojs$1.registerTech = Tech.registerTech;\nvideojs$1.use = use;\n/**\n * An object that can be returned by a middleware to signify\n * that the middleware is being terminated.\n *\n * @type {object}\n * @property {object} middleware.TERMINATOR\n */\n\nObject.defineProperty(videojs$1, 'middleware', {\n  value: {},\n  writeable: false,\n  enumerable: true\n});\nObject.defineProperty(videojs$1.middleware, 'TERMINATOR', {\n  value: TERMINATOR,\n  writeable: false,\n  enumerable: true\n});\n/**\n * A reference to the {@link module:browser|browser utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:browser|browser}\n */\n\nvideojs$1.browser = browser;\n/**\n * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only\n * included for backward-compatibility with 4.x.\n *\n * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.\n * @type {boolean}\n */\n\nvideojs$1.TOUCH_ENABLED = TOUCH_ENABLED;\nvideojs$1.extend = extend;\nvideojs$1.mergeOptions = mergeOptions;\nvideojs$1.bind = bind;\nvideojs$1.registerPlugin = Plugin.registerPlugin;\nvideojs$1.deregisterPlugin = Plugin.deregisterPlugin;\n/**\n * Deprecated method to register a plugin with Video.js\n *\n * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead\n *\n * @param {string} name\n *        The plugin name\n *\n * @param {Plugin|Function} plugin\n *         The plugin sub-class or function\n */\n\nvideojs$1.plugin = function (name, plugin) {\n  log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n  return Plugin.registerPlugin(name, plugin);\n};\n\nvideojs$1.getPlugins = Plugin.getPlugins;\nvideojs$1.getPlugin = Plugin.getPlugin;\nvideojs$1.getPluginVersion = Plugin.getPluginVersion;\n/**\n * Adding languages so that they're available to all players.\n * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`\n *\n * @param {string} code\n *        The language code or dictionary property\n *\n * @param {Object} data\n *        The data values to be translated\n *\n * @return {Object}\n *         The resulting language dictionary object\n */\n\nvideojs$1.addLanguage = function (code, data) {\n  var _mergeOptions;\n\n  code = ('' + code).toLowerCase();\n  videojs$1.options.languages = mergeOptions(videojs$1.options.languages, (_mergeOptions = {}, _mergeOptions[code] = data, _mergeOptions));\n  return videojs$1.options.languages[code];\n};\n/**\n * A reference to the {@link module:log|log utility module} as an object.\n *\n * @type {Function}\n * @see  {@link module:log|log}\n */\n\n\nvideojs$1.log = log;\nvideojs$1.createLogger = createLogger$1;\nvideojs$1.createTimeRange = videojs$1.createTimeRanges = createTimeRanges;\nvideojs$1.formatTime = formatTime;\nvideojs$1.setFormatTime = setFormatTime;\nvideojs$1.resetFormatTime = resetFormatTime;\nvideojs$1.parseUrl = parseUrl;\nvideojs$1.isCrossOrigin = isCrossOrigin;\nvideojs$1.EventTarget = EventTarget;\nvideojs$1.on = on;\nvideojs$1.one = one;\nvideojs$1.off = off;\nvideojs$1.trigger = trigger;\n/**\n * A cross-browser XMLHttpRequest wrapper.\n *\n * @function\n * @param    {Object} options\n *           Settings for the request.\n *\n * @return   {XMLHttpRequest|XDomainRequest}\n *           The request object.\n *\n * @see      https://github.com/Raynos/xhr\n */\n\nvideojs$1.xhr = XHR;\nvideojs$1.TextTrack = TextTrack;\nvideojs$1.AudioTrack = AudioTrack;\nvideojs$1.VideoTrack = VideoTrack;\n['isEl', 'isTextNode', 'createEl', 'hasClass', 'addClass', 'removeClass', 'toggleClass', 'setAttributes', 'getAttributes', 'emptyEl', 'appendContent', 'insertContent'].forEach(function (k) {\n  videojs$1[k] = function () {\n    log.warn(\"videojs.\" + k + \"() is deprecated; use videojs.dom.\" + k + \"() instead\");\n    return Dom[k].apply(null, arguments);\n  };\n});\nvideojs$1.computedStyle = computedStyle;\n/**\n * A reference to the {@link module:dom|DOM utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:dom|dom}\n */\n\nvideojs$1.dom = Dom;\n/**\n * A reference to the {@link module:url|URL utility module} as an object.\n *\n * @type {Object}\n * @see  {@link module:url|url}\n */\n\nvideojs$1.url = Url;\n/**\n * @videojs/http-streaming\n * @version 1.10.3\n * @copyright 2019 Brightcove, Inc\n * @license Apache-2.0\n */\n\n/**\n * @file resolve-url.js - Handling how URLs are resolved and manipulated\n */\n\nvar resolveUrl = function resolveUrl(baseURL, relativeURL) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeURL)) {\n    return relativeURL;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseURL)) {\n    baseURL = URLToolkit.buildAbsoluteURL(window$1.location.href, baseURL);\n  }\n\n  return URLToolkit.buildAbsoluteURL(baseURL, relativeURL);\n};\n/**\n * Checks whether xhr request was redirected and returns correct url depending\n * on `handleManifestRedirects` option\n *\n * @api private\n *\n * @param  {String} url - an url being requested\n * @param  {XMLHttpRequest} req - xhr request result\n *\n * @return {String}\n */\n\n\nvar resolveManifestRedirect = function resolveManifestRedirect(handleManifestRedirect, url, req) {\n  // To understand how the responseURL below is set and generated:\n  // - https://fetch.spec.whatwg.org/#concept-response-url\n  // - https://fetch.spec.whatwg.org/#atomic-http-redirect-handling\n  if (handleManifestRedirect && req.responseURL && url !== req.responseURL) {\n    return req.responseURL;\n  }\n\n  return url;\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar get$1 = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n/**\n * @file playlist-loader.js\n *\n * A state machine that manages the loading, caching, and updating of\n * M3U8 playlists.\n *\n */\n\n\nvar mergeOptions$1 = videojs$1.mergeOptions,\n    EventTarget$1 = videojs$1.EventTarget,\n    log$1 = videojs$1.log;\n/**\n * Loops through all supported media groups in master and calls the provided\n * callback for each group\n *\n * @param {Object} master\n *        The parsed master manifest object\n * @param {Function} callback\n *        Callback to call for each media group\n */\n\nvar forEachMediaGroup = function forEachMediaGroup(master, callback) {\n  ['AUDIO', 'SUBTITLES'].forEach(function (mediaType) {\n    for (var groupKey in master.mediaGroups[mediaType]) {\n      for (var labelKey in master.mediaGroups[mediaType][groupKey]) {\n        var mediaProperties = master.mediaGroups[mediaType][groupKey][labelKey];\n        callback(mediaProperties, mediaType, groupKey, labelKey);\n      }\n    }\n  });\n};\n/**\n  * Returns a new array of segments that is the result of merging\n  * properties from an older list of segments onto an updated\n  * list. No properties on the updated playlist will be overridden.\n  *\n  * @param {Array} original the outdated list of segments\n  * @param {Array} update the updated list of segments\n  * @param {Number=} offset the index of the first update\n  * segment in the original segment list. For non-live playlists,\n  * this should always be zero and does not need to be\n  * specified. For live playlists, it should be the difference\n  * between the media sequence numbers in the original and updated\n  * playlists.\n  * @return a list of merged segment objects\n  */\n\n\nvar updateSegments = function updateSegments(original, update, offset) {\n  var result = update.slice();\n  offset = offset || 0;\n  var length = Math.min(original.length, update.length + offset);\n\n  for (var i = offset; i < length; i++) {\n    result[i - offset] = mergeOptions$1(original[i], result[i - offset]);\n  }\n\n  return result;\n};\n\nvar resolveSegmentUris = function resolveSegmentUris(segment, baseUri) {\n  if (!segment.resolvedUri) {\n    segment.resolvedUri = resolveUrl(baseUri, segment.uri);\n  }\n\n  if (segment.key && !segment.key.resolvedUri) {\n    segment.key.resolvedUri = resolveUrl(baseUri, segment.key.uri);\n  }\n\n  if (segment.map && !segment.map.resolvedUri) {\n    segment.map.resolvedUri = resolveUrl(baseUri, segment.map.uri);\n  }\n};\n/**\n  * Returns a new master playlist that is the result of merging an\n  * updated media playlist into the original version. If the\n  * updated media playlist does not match any of the playlist\n  * entries in the original master playlist, null is returned.\n  *\n  * @param {Object} master a parsed master M3U8 object\n  * @param {Object} media a parsed media M3U8 object\n  * @return {Object} a new object that represents the original\n  * master playlist with the updated media playlist merged in, or\n  * null if the merge produced no change.\n  */\n\n\nvar updateMaster = function updateMaster(master, media) {\n  var result = mergeOptions$1(master, {});\n  var playlist = result.playlists[media.uri];\n\n  if (!playlist) {\n    return null;\n  } // consider the playlist unchanged if the number of segments is equal, the media\n  // sequence number is unchanged, and this playlist hasn't become the end of the playlist\n\n\n  if (playlist.segments && media.segments && playlist.segments.length === media.segments.length && playlist.endList === media.endList && playlist.mediaSequence === media.mediaSequence) {\n    return null;\n  }\n\n  var mergedPlaylist = mergeOptions$1(playlist, media); // if the update could overlap existing segment information, merge the two segment lists\n\n  if (playlist.segments) {\n    mergedPlaylist.segments = updateSegments(playlist.segments, media.segments, media.mediaSequence - playlist.mediaSequence);\n  } // resolve any segment URIs to prevent us from having to do it later\n\n\n  mergedPlaylist.segments.forEach(function (segment) {\n    resolveSegmentUris(segment, mergedPlaylist.resolvedUri);\n  }); // TODO Right now in the playlists array there are two references to each playlist, one\n  // that is referenced by index, and one by URI. The index reference may no longer be\n  // necessary.\n\n  for (var i = 0; i < result.playlists.length; i++) {\n    if (result.playlists[i].uri === media.uri) {\n      result.playlists[i] = mergedPlaylist;\n    }\n  }\n\n  result.playlists[media.uri] = mergedPlaylist;\n  return result;\n};\n\nvar setupMediaPlaylists = function setupMediaPlaylists(master) {\n  // setup by-URI lookups and resolve media playlist URIs\n  var i = master.playlists.length;\n\n  while (i--) {\n    var playlist = master.playlists[i];\n    master.playlists[playlist.uri] = playlist;\n    playlist.resolvedUri = resolveUrl(master.uri, playlist.uri);\n    playlist.id = i;\n\n    if (!playlist.attributes) {\n      // Although the spec states an #EXT-X-STREAM-INF tag MUST have a\n      // BANDWIDTH attribute, we can play the stream without it. This means a poorly\n      // formatted master playlist may not have an attribute list. An attributes\n      // property is added here to prevent undefined references when we encounter\n      // this scenario.\n      playlist.attributes = {};\n      log$1.warn('Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.');\n    }\n  }\n};\n\nvar resolveMediaGroupUris = function resolveMediaGroupUris(master) {\n  forEachMediaGroup(master, function (properties) {\n    if (properties.uri) {\n      properties.resolvedUri = resolveUrl(master.uri, properties.uri);\n    }\n  });\n};\n/**\n * Calculates the time to wait before refreshing a live playlist\n *\n * @param {Object} media\n *        The current media\n * @param {Boolean} update\n *        True if there were any updates from the last refresh, false otherwise\n * @return {Number}\n *         The time in ms to wait before refreshing the live playlist\n */\n\n\nvar refreshDelay = function refreshDelay(media, update) {\n  var lastSegment = media.segments[media.segments.length - 1];\n  var delay = void 0;\n\n  if (update && lastSegment && lastSegment.duration) {\n    delay = lastSegment.duration * 1000;\n  } else {\n    // if the playlist is unchanged since the last reload or last segment duration\n    // cannot be determined, try again after half the target duration\n    delay = (media.targetDuration || 10) * 500;\n  }\n\n  return delay;\n};\n/**\n * Load a playlist from a remote location\n *\n * @class PlaylistLoader\n * @extends Stream\n * @param {String} srcUrl the url to start with\n * @param {Boolean} withCredentials the withCredentials xhr option\n * @constructor\n */\n\n\nvar PlaylistLoader = function (_EventTarget) {\n  inherits(PlaylistLoader, _EventTarget);\n\n  function PlaylistLoader(srcUrl, hls) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, PlaylistLoader);\n\n    var _this = possibleConstructorReturn(this, (PlaylistLoader.__proto__ || Object.getPrototypeOf(PlaylistLoader)).call(this));\n\n    var _options$withCredenti = options.withCredentials,\n        withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n        _options$handleManife = options.handleManifestRedirects,\n        handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n    _this.srcUrl = srcUrl;\n    _this.hls_ = hls;\n    _this.withCredentials = withCredentials;\n    _this.handleManifestRedirects = handleManifestRedirects;\n    var hlsOptions = hls.options_;\n    _this.customTagParsers = hlsOptions && hlsOptions.customTagParsers || [];\n    _this.customTagMappers = hlsOptions && hlsOptions.customTagMappers || [];\n\n    if (!_this.srcUrl) {\n      throw new Error('A non-empty playlist URL is required');\n    } // initialize the loader state\n\n\n    _this.state = 'HAVE_NOTHING'; // live playlist staleness timeout\n\n    _this.on('mediaupdatetimeout', function () {\n      if (_this.state !== 'HAVE_METADATA') {\n        // only refresh the media playlist if no other activity is going on\n        return;\n      }\n\n      _this.state = 'HAVE_CURRENT_METADATA';\n      _this.request = _this.hls_.xhr({\n        uri: resolveUrl(_this.master.uri, _this.media().uri),\n        withCredentials: _this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this.request) {\n          return;\n        }\n\n        if (error) {\n          return _this.playlistRequestError(_this.request, _this.media().uri, 'HAVE_METADATA');\n        }\n\n        _this.haveMetadata(_this.request, _this.media().uri);\n      });\n    });\n\n    return _this;\n  }\n\n  createClass(PlaylistLoader, [{\n    key: 'playlistRequestError',\n    value: function playlistRequestError(xhr, url, startingState) {\n      // any in-flight request is now finished\n      this.request = null;\n\n      if (startingState) {\n        this.state = startingState;\n      }\n\n      this.error = {\n        playlist: this.master.playlists[url],\n        status: xhr.status,\n        message: 'HLS playlist request error at URL: ' + url + '.',\n        responseText: xhr.responseText,\n        code: xhr.status >= 500 ? 4 : 2\n      };\n      this.trigger('error');\n    } // update the playlist loader's state in response to a new or\n    // updated playlist.\n\n  }, {\n    key: 'haveMetadata',\n    value: function haveMetadata(xhr, url) {\n      var _this2 = this; // any in-flight request is now finished\n\n\n      this.request = null;\n      this.state = 'HAVE_METADATA';\n      var parser = new Parser(); // adding custom tag parsers\n\n      this.customTagParsers.forEach(function (customParser) {\n        return parser.addParser(customParser);\n      }); // adding custom tag mappers\n\n      this.customTagMappers.forEach(function (mapper) {\n        return parser.addTagMapper(mapper);\n      });\n      parser.push(xhr.responseText);\n      parser.end();\n      parser.manifest.uri = url; // m3u8-parser does not attach an attributes property to media playlists so make\n      // sure that the property is attached to avoid undefined reference errors\n\n      parser.manifest.attributes = parser.manifest.attributes || {}; // merge this playlist into the master\n\n      var update = updateMaster(this.master, parser.manifest);\n      this.targetDuration = parser.manifest.targetDuration;\n\n      if (update) {\n        this.master = update;\n        this.media_ = this.master.playlists[parser.manifest.uri];\n      } else {\n        this.trigger('playlistunchanged');\n      } // refresh live playlists after a target duration passes\n\n\n      if (!this.media().endList) {\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          _this2.trigger('mediaupdatetimeout');\n        }, refreshDelay(this.media(), !!update));\n      }\n\n      this.trigger('loadedplaylist');\n    }\n    /**\n     * Abort any outstanding work and clean up.\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.finalRenditionTimeout);\n    }\n  }, {\n    key: 'stopRequest',\n    value: function stopRequest() {\n      if (this.request) {\n        var oldRequest = this.request;\n        this.request = null;\n        oldRequest.onreadystatechange = null;\n        oldRequest.abort();\n      }\n    }\n    /**\n     * When called without any arguments, returns the currently\n     * active media playlist. When called with a single argument,\n     * triggers the playlist loader to asynchronously switch to the\n     * specified media playlist. Calling this method while the\n     * loader is in the HAVE_NOTHING causes an error to be emitted\n     * but otherwise has no effect.\n     *\n     * @param {Object=} playlist the parsed media playlist\n     * object to switch to\n     * @param {Boolean=} is this the last available playlist\n     *\n     * @return {Playlist} the current loaded media\n     */\n\n  }, {\n    key: 'media',\n    value: function media(playlist, isFinalRendition) {\n      var _this3 = this; // getter\n\n\n      if (!playlist) {\n        return this.media_;\n      } // setter\n\n\n      if (this.state === 'HAVE_NOTHING') {\n        throw new Error('Cannot switch media playlist from ' + this.state);\n      } // find the playlist object if the target playlist has been\n      // specified by URI\n\n\n      if (typeof playlist === 'string') {\n        if (!this.master.playlists[playlist]) {\n          throw new Error('Unknown playlist URI: ' + playlist);\n        }\n\n        playlist = this.master.playlists[playlist];\n      }\n\n      window$1.clearTimeout(this.finalRenditionTimeout);\n\n      if (isFinalRendition) {\n        var delay = playlist.targetDuration / 2 * 1000 || 5 * 1000;\n        this.finalRenditionTimeout = window$1.setTimeout(this.media.bind(this, playlist, false), delay);\n        return;\n      }\n\n      var startingState = this.state;\n      var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to fully loaded playlists immediately\n\n      if (this.master.playlists[playlist.uri].endList) {\n        // abort outstanding playlist requests\n        if (this.request) {\n          this.request.onreadystatechange = null;\n          this.request.abort();\n          this.request = null;\n        }\n\n        this.state = 'HAVE_METADATA';\n        this.media_ = playlist; // trigger media change if the active media has been updated\n\n        if (mediaChange) {\n          this.trigger('mediachanging');\n          this.trigger('mediachange');\n        }\n\n        return;\n      } // switching to the active playlist is a no-op\n\n\n      if (!mediaChange) {\n        return;\n      }\n\n      this.state = 'SWITCHING_MEDIA'; // there is already an outstanding playlist request\n\n      if (this.request) {\n        if (playlist.resolvedUri === this.request.url) {\n          // requesting to switch to the same playlist multiple times\n          // has no effect after the first\n          return;\n        }\n\n        this.request.onreadystatechange = null;\n        this.request.abort();\n        this.request = null;\n      } // request the new playlist\n\n\n      if (this.media_) {\n        this.trigger('mediachanging');\n      }\n\n      this.request = this.hls_.xhr({\n        uri: playlist.resolvedUri,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this3.request) {\n          return;\n        }\n\n        playlist.resolvedUri = resolveManifestRedirect(_this3.handleManifestRedirects, playlist.resolvedUri, req);\n\n        if (error) {\n          return _this3.playlistRequestError(_this3.request, playlist.uri, startingState);\n        }\n\n        _this3.haveMetadata(req, playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n\n\n        if (startingState === 'HAVE_MASTER') {\n          _this3.trigger('loadedmetadata');\n        } else {\n          _this3.trigger('mediachange');\n        }\n      });\n    }\n    /**\n     * pause loading of the playlist\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n\n      if (this.state === 'HAVE_NOTHING') {\n        // If we pause the loader before any data has been retrieved, its as if we never\n        // started, so reset to an unstarted state.\n        this.started = false;\n      } // Need to restore state now that no activity is happening\n\n\n      if (this.state === 'SWITCHING_MEDIA') {\n        // if the loader was in the process of switching media, it should either return to\n        // HAVE_MASTER or HAVE_METADATA depending on if the loader has loaded a media\n        // playlist yet. This is determined by the existence of loader.media_\n        if (this.media_) {\n          this.state = 'HAVE_METADATA';\n        } else {\n          this.state = 'HAVE_MASTER';\n        }\n      } else if (this.state === 'HAVE_CURRENT_METADATA') {\n        this.state = 'HAVE_METADATA';\n      }\n    }\n    /**\n     * start loading of the playlist\n     */\n\n  }, {\n    key: 'load',\n    value: function load(isFinalRendition) {\n      var _this4 = this;\n\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      var media = this.media();\n\n      if (isFinalRendition) {\n        var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          return _this4.load();\n        }, delay);\n        return;\n      }\n\n      if (!this.started) {\n        this.start();\n        return;\n      }\n\n      if (media && !media.endList) {\n        this.trigger('mediaupdatetimeout');\n      } else {\n        this.trigger('loadedplaylist');\n      }\n    }\n    /**\n     * start loading of the playlist\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this5 = this;\n\n      this.started = true; // request the specified URL\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this5.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this5.request = null;\n\n        if (error) {\n          _this5.error = {\n            status: req.status,\n            message: 'HLS playlist request error at URL: ' + _this5.srcUrl + '.',\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this5.state === 'HAVE_NOTHING') {\n            _this5.started = false;\n          }\n\n          return _this5.trigger('error');\n        }\n\n        var parser = new Parser(); // adding custom tag parsers\n\n        _this5.customTagParsers.forEach(function (customParser) {\n          return parser.addParser(customParser);\n        }); // adding custom tag mappers\n\n\n        _this5.customTagMappers.forEach(function (mapper) {\n          return parser.addTagMapper(mapper);\n        });\n\n        parser.push(req.responseText);\n        parser.end();\n        _this5.state = 'HAVE_MASTER';\n        _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n        parser.manifest.uri = _this5.srcUrl; // loaded a master playlist\n\n        if (parser.manifest.playlists) {\n          _this5.master = parser.manifest;\n          setupMediaPlaylists(_this5.master);\n          resolveMediaGroupUris(_this5.master);\n\n          _this5.trigger('loadedplaylist');\n\n          if (!_this5.request) {\n            // no media playlist was specifically selected so start\n            // from the first listed one\n            _this5.media(parser.manifest.playlists[0]);\n          }\n\n          return;\n        } // loaded a media playlist\n        // infer a master playlist if none was previously requested\n\n\n        _this5.master = {\n          mediaGroups: {\n            'AUDIO': {},\n            'VIDEO': {},\n            'CLOSED-CAPTIONS': {},\n            'SUBTITLES': {}\n          },\n          uri: window$1.location.href,\n          playlists: [{\n            uri: _this5.srcUrl,\n            id: 0,\n            resolvedUri: _this5.srcUrl,\n            // m3u8-parser does not attach an attributes property to media playlists so make\n            // sure that the property is attached to avoid undefined reference errors\n            attributes: {}\n          }]\n        };\n        _this5.master.playlists[_this5.srcUrl] = _this5.master.playlists[0];\n\n        _this5.haveMetadata(req, _this5.srcUrl);\n\n        return _this5.trigger('loadedmetadata');\n      });\n    }\n  }]);\n  return PlaylistLoader;\n}(EventTarget$1);\n/**\n * @file playlist.js\n *\n * Playlist related utilities.\n */\n\n\nvar createTimeRange = videojs$1.createTimeRange;\n/**\n * walk backward until we find a duration we can use\n * or return a failure\n *\n * @param {Playlist} playlist the playlist to walk through\n * @param {Number} endSequence the mediaSequence to stop walking on\n */\n\nvar backwardDuration = function backwardDuration(playlist, endSequence) {\n  var result = 0;\n  var i = endSequence - playlist.mediaSequence; // if a start time is available for segment immediately following\n  // the interval, use it\n\n  var segment = playlist.segments[i]; // Walk backward until we find the latest segment with timeline\n  // information that is earlier than endSequence\n\n  if (segment) {\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: segment.start,\n        precise: true\n      };\n    }\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: segment.end - segment.duration,\n        precise: true\n      };\n    }\n  }\n\n  while (i--) {\n    segment = playlist.segments[i];\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: result + segment.end,\n        precise: true\n      };\n    }\n\n    result += segment.duration;\n\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: result + segment.start,\n        precise: true\n      };\n    }\n  }\n\n  return {\n    result: result,\n    precise: false\n  };\n};\n/**\n * walk forward until we find a duration we can use\n * or return a failure\n *\n * @param {Playlist} playlist the playlist to walk through\n * @param {Number} endSequence the mediaSequence to stop walking on\n */\n\n\nvar forwardDuration = function forwardDuration(playlist, endSequence) {\n  var result = 0;\n  var segment = void 0;\n  var i = endSequence - playlist.mediaSequence; // Walk forward until we find the earliest segment with timeline\n  // information\n\n  for (; i < playlist.segments.length; i++) {\n    segment = playlist.segments[i];\n\n    if (typeof segment.start !== 'undefined') {\n      return {\n        result: segment.start - result,\n        precise: true\n      };\n    }\n\n    result += segment.duration;\n\n    if (typeof segment.end !== 'undefined') {\n      return {\n        result: segment.end - result,\n        precise: true\n      };\n    }\n  } // indicate we didn't find a useful duration estimate\n\n\n  return {\n    result: -1,\n    precise: false\n  };\n};\n/**\n  * Calculate the media duration from the segments associated with a\n  * playlist. The duration of a subinterval of the available segments\n  * may be calculated by specifying an end index.\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number=} endSequence an exclusive upper boundary\n  * for the playlist.  Defaults to playlist length.\n  * @param {Number} expired the amount of time that has dropped\n  * off the front of the playlist in a live scenario\n  * @return {Number} the duration between the first available segment\n  * and end index.\n  */\n\n\nvar intervalDuration = function intervalDuration(playlist, endSequence, expired) {\n  var backward = void 0;\n  var forward = void 0;\n\n  if (typeof endSequence === 'undefined') {\n    endSequence = playlist.mediaSequence + playlist.segments.length;\n  }\n\n  if (endSequence < playlist.mediaSequence) {\n    return 0;\n  } // do a backward walk to estimate the duration\n\n\n  backward = backwardDuration(playlist, endSequence);\n\n  if (backward.precise) {\n    // if we were able to base our duration estimate on timing\n    // information provided directly from the Media Source, return\n    // it\n    return backward.result;\n  } // walk forward to see if a precise duration estimate can be made\n  // that way\n\n\n  forward = forwardDuration(playlist, endSequence);\n\n  if (forward.precise) {\n    // we found a segment that has been buffered and so it's\n    // position is known precisely\n    return forward.result;\n  } // return the less-precise, playlist-based duration estimate\n\n\n  return backward.result + expired;\n};\n/**\n  * Calculates the duration of a playlist. If a start and end index\n  * are specified, the duration will be for the subset of the media\n  * timeline between those two indices. The total duration for live\n  * playlists is always Infinity.\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number=} endSequence an exclusive upper\n  * boundary for the playlist. Defaults to the playlist media\n  * sequence number plus its length.\n  * @param {Number=} expired the amount of time that has\n  * dropped off the front of the playlist in a live scenario\n  * @return {Number} the duration between the start index and end\n  * index.\n  */\n\n\nvar duration = function duration(playlist, endSequence, expired) {\n  if (!playlist) {\n    return 0;\n  }\n\n  if (typeof expired !== 'number') {\n    expired = 0;\n  } // if a slice of the total duration is not requested, use\n  // playlist-level duration indicators when they're present\n\n\n  if (typeof endSequence === 'undefined') {\n    // if present, use the duration specified in the playlist\n    if (playlist.totalDuration) {\n      return playlist.totalDuration;\n    } // duration should be Infinity for live playlists\n\n\n    if (!playlist.endList) {\n      return window$1.Infinity;\n    }\n  } // calculate the total duration based on the segment durations\n\n\n  return intervalDuration(playlist, endSequence, expired);\n};\n/**\n  * Calculate the time between two indexes in the current playlist\n  * neight the start- nor the end-index need to be within the current\n  * playlist in which case, the targetDuration of the playlist is used\n  * to approximate the durations of the segments\n  *\n  * @param {Object} playlist a media playlist object\n  * @param {Number} startIndex\n  * @param {Number} endIndex\n  * @return {Number} the number of seconds between startIndex and endIndex\n  */\n\n\nvar sumDurations = function sumDurations(playlist, startIndex, endIndex) {\n  var durations = 0;\n\n  if (startIndex > endIndex) {\n    var _ref = [endIndex, startIndex];\n    startIndex = _ref[0];\n    endIndex = _ref[1];\n  }\n\n  if (startIndex < 0) {\n    for (var i = startIndex; i < Math.min(0, endIndex); i++) {\n      durations += playlist.targetDuration;\n    }\n\n    startIndex = 0;\n  }\n\n  for (var _i = startIndex; _i < endIndex; _i++) {\n    durations += playlist.segments[_i].duration;\n  }\n\n  return durations;\n};\n/**\n * Determines the media index of the segment corresponding to the safe edge of the live\n * window which is the duration of the last segment plus 2 target durations from the end\n * of the playlist.\n *\n * @param {Object} playlist\n *        a media playlist object\n * @return {Number}\n *         The media index of the segment at the safe live point. 0 if there is no \"safe\"\n *         point.\n * @function safeLiveIndex\n */\n\n\nvar safeLiveIndex = function safeLiveIndex(playlist) {\n  if (!playlist.segments.length) {\n    return 0;\n  }\n\n  var i = playlist.segments.length - 1;\n  var distanceFromEnd = playlist.segments[i].duration || playlist.targetDuration;\n  var safeDistance = distanceFromEnd + playlist.targetDuration * 2;\n\n  while (i--) {\n    distanceFromEnd += playlist.segments[i].duration;\n\n    if (distanceFromEnd >= safeDistance) {\n      break;\n    }\n  }\n\n  return Math.max(0, i);\n};\n/**\n * Calculates the playlist end time\n *\n * @param {Object} playlist a media playlist object\n * @param {Number=} expired the amount of time that has\n *                  dropped off the front of the playlist in a live scenario\n * @param {Boolean|false} useSafeLiveEnd a boolean value indicating whether or not the\n *                        playlist end calculation should consider the safe live end\n *                        (truncate the playlist end by three segments). This is normally\n *                        used for calculating the end of the playlist's seekable range.\n * @returns {Number} the end time of playlist\n * @function playlistEnd\n */\n\n\nvar playlistEnd = function playlistEnd(playlist, expired, useSafeLiveEnd) {\n  if (!playlist || !playlist.segments) {\n    return null;\n  }\n\n  if (playlist.endList) {\n    return duration(playlist);\n  }\n\n  if (expired === null) {\n    return null;\n  }\n\n  expired = expired || 0;\n  var endSequence = useSafeLiveEnd ? safeLiveIndex(playlist) : playlist.segments.length;\n  return intervalDuration(playlist, playlist.mediaSequence + endSequence, expired);\n};\n/**\n  * Calculates the interval of time that is currently seekable in a\n  * playlist. The returned time ranges are relative to the earliest\n  * moment in the specified playlist that is still available. A full\n  * seekable implementation for live streams would need to offset\n  * these values by the duration of content that has expired from the\n  * stream.\n  *\n  * @param {Object} playlist a media playlist object\n  * dropped off the front of the playlist in a live scenario\n  * @param {Number=} expired the amount of time that has\n  * dropped off the front of the playlist in a live scenario\n  * @return {TimeRanges} the periods of time that are valid targets\n  * for seeking\n  */\n\n\nvar seekable = function seekable(playlist, expired) {\n  var useSafeLiveEnd = true;\n  var seekableStart = expired || 0;\n  var seekableEnd = playlistEnd(playlist, expired, useSafeLiveEnd);\n\n  if (seekableEnd === null) {\n    return createTimeRange();\n  }\n\n  return createTimeRange(seekableStart, seekableEnd);\n};\n\nvar isWholeNumber = function isWholeNumber(num) {\n  return num - Math.floor(num) === 0;\n};\n\nvar roundSignificantDigit = function roundSignificantDigit(increment, num) {\n  // If we have a whole number, just add 1 to it\n  if (isWholeNumber(num)) {\n    return num + increment * 0.1;\n  }\n\n  var numDecimalDigits = num.toString().split('.')[1].length;\n\n  for (var i = 1; i <= numDecimalDigits; i++) {\n    var scale = Math.pow(10, i);\n    var temp = num * scale;\n\n    if (isWholeNumber(temp) || i === numDecimalDigits) {\n      return (temp + increment) / scale;\n    }\n  }\n};\n\nvar ceilLeastSignificantDigit = roundSignificantDigit.bind(null, 1);\nvar floorLeastSignificantDigit = roundSignificantDigit.bind(null, -1);\n/**\n * Determine the index and estimated starting time of the segment that\n * contains a specified playback position in a media playlist.\n *\n * @param {Object} playlist the media playlist to query\n * @param {Number} currentTime The number of seconds since the earliest\n * possible position to determine the containing segment for\n * @param {Number} startIndex\n * @param {Number} startTime\n * @return {Object}\n */\n\nvar getMediaInfoForTime = function getMediaInfoForTime(playlist, currentTime, startIndex, startTime) {\n  var i = void 0;\n  var segment = void 0;\n  var numSegments = playlist.segments.length;\n  var time = currentTime - startTime;\n\n  if (time < 0) {\n    // Walk backward from startIndex in the playlist, adding durations\n    // until we find a segment that contains `time` and return it\n    if (startIndex > 0) {\n      for (i = startIndex - 1; i >= 0; i--) {\n        segment = playlist.segments[i];\n        time += floorLeastSignificantDigit(segment.duration);\n\n        if (time > 0) {\n          return {\n            mediaIndex: i,\n            startTime: startTime - sumDurations(playlist, startIndex, i)\n          };\n        }\n      }\n    } // We were unable to find a good segment within the playlist\n    // so select the first segment\n\n\n    return {\n      mediaIndex: 0,\n      startTime: currentTime\n    };\n  } // When startIndex is negative, we first walk forward to first segment\n  // adding target durations. If we \"run out of time\" before getting to\n  // the first segment, return the first segment\n\n\n  if (startIndex < 0) {\n    for (i = startIndex; i < 0; i++) {\n      time -= playlist.targetDuration;\n\n      if (time < 0) {\n        return {\n          mediaIndex: 0,\n          startTime: currentTime\n        };\n      }\n    }\n\n    startIndex = 0;\n  } // Walk forward from startIndex in the playlist, subtracting durations\n  // until we find a segment that contains `time` and return it\n\n\n  for (i = startIndex; i < numSegments; i++) {\n    segment = playlist.segments[i];\n    time -= ceilLeastSignificantDigit(segment.duration);\n\n    if (time < 0) {\n      return {\n        mediaIndex: i,\n        startTime: startTime + sumDurations(playlist, startIndex, i)\n      };\n    }\n  } // We are out of possible candidates so load the last one...\n\n\n  return {\n    mediaIndex: numSegments - 1,\n    startTime: currentTime\n  };\n};\n/**\n * Check whether the playlist is blacklisted or not.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is blacklisted or not\n * @function isBlacklisted\n */\n\n\nvar isBlacklisted = function isBlacklisted(playlist) {\n  return playlist.excludeUntil && playlist.excludeUntil > Date.now();\n};\n/**\n * Check whether the playlist is compatible with current playback configuration or has\n * been blacklisted permanently for being incompatible.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is incompatible or not\n * @function isIncompatible\n */\n\n\nvar isIncompatible = function isIncompatible(playlist) {\n  return playlist.excludeUntil && playlist.excludeUntil === Infinity;\n};\n/**\n * Check whether the playlist is enabled or not.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is enabled or not\n * @function isEnabled\n */\n\n\nvar isEnabled = function isEnabled(playlist) {\n  var blacklisted = isBlacklisted(playlist);\n  return !playlist.disabled && !blacklisted;\n};\n/**\n * Check whether the playlist has been manually disabled through the representations api.\n *\n * @param {Object} playlist the media playlist object\n * @return {boolean} whether the playlist is disabled manually or not\n * @function isDisabled\n */\n\n\nvar isDisabled = function isDisabled(playlist) {\n  return playlist.disabled;\n};\n/**\n * Returns whether the current playlist is an AES encrypted HLS stream\n *\n * @return {Boolean} true if it's an AES encrypted HLS stream\n */\n\n\nvar isAes = function isAes(media) {\n  for (var i = 0; i < media.segments.length; i++) {\n    if (media.segments[i].key) {\n      return true;\n    }\n  }\n\n  return false;\n};\n/**\n * Returns whether the current playlist contains fMP4\n *\n * @return {Boolean} true if the playlist contains fMP4\n */\n\n\nvar isFmp4 = function isFmp4(media) {\n  for (var i = 0; i < media.segments.length; i++) {\n    if (media.segments[i].map) {\n      return true;\n    }\n  }\n\n  return false;\n};\n/**\n * Checks if the playlist has a value for the specified attribute\n *\n * @param {String} attr\n *        Attribute to check for\n * @param {Object} playlist\n *        The media playlist object\n * @return {Boolean}\n *         Whether the playlist contains a value for the attribute or not\n * @function hasAttribute\n */\n\n\nvar hasAttribute = function hasAttribute(attr, playlist) {\n  return playlist.attributes && playlist.attributes[attr];\n};\n/**\n * Estimates the time required to complete a segment download from the specified playlist\n *\n * @param {Number} segmentDuration\n *        Duration of requested segment\n * @param {Number} bandwidth\n *        Current measured bandwidth of the player\n * @param {Object} playlist\n *        The media playlist object\n * @param {Number=} bytesReceived\n *        Number of bytes already received for the request. Defaults to 0\n * @return {Number|NaN}\n *         The estimated time to request the segment. NaN if bandwidth information for\n *         the given playlist is unavailable\n * @function estimateSegmentRequestTime\n */\n\n\nvar estimateSegmentRequestTime = function estimateSegmentRequestTime(segmentDuration, bandwidth, playlist) {\n  var bytesReceived = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n  if (!hasAttribute('BANDWIDTH', playlist)) {\n    return NaN;\n  }\n\n  var size = segmentDuration * playlist.attributes.BANDWIDTH;\n  return (size - bytesReceived * 8) / bandwidth;\n};\n/*\n * Returns whether the current playlist is the lowest rendition\n *\n * @return {Boolean} true if on lowest rendition\n */\n\n\nvar isLowestEnabledRendition = function isLowestEnabledRendition(master, media) {\n  if (master.playlists.length === 1) {\n    return true;\n  }\n\n  var currentBandwidth = media.attributes.BANDWIDTH || Number.MAX_VALUE;\n  return master.playlists.filter(function (playlist) {\n    if (!isEnabled(playlist)) {\n      return false;\n    }\n\n    return (playlist.attributes.BANDWIDTH || 0) < currentBandwidth;\n  }).length === 0;\n}; // exports\n\n\nvar Playlist = {\n  duration: duration,\n  seekable: seekable,\n  safeLiveIndex: safeLiveIndex,\n  getMediaInfoForTime: getMediaInfoForTime,\n  isEnabled: isEnabled,\n  isDisabled: isDisabled,\n  isBlacklisted: isBlacklisted,\n  isIncompatible: isIncompatible,\n  playlistEnd: playlistEnd,\n  isAes: isAes,\n  isFmp4: isFmp4,\n  hasAttribute: hasAttribute,\n  estimateSegmentRequestTime: estimateSegmentRequestTime,\n  isLowestEnabledRendition: isLowestEnabledRendition\n};\n/**\n * @file xhr.js\n */\n\nvar videojsXHR = videojs$1.xhr,\n    mergeOptions$1$1 = videojs$1.mergeOptions;\n\nvar xhrFactory = function xhrFactory() {\n  var xhr = function XhrFunction(options, callback) {\n    // Add a default timeout for all hls requests\n    options = mergeOptions$1$1({\n      timeout: 45e3\n    }, options); // Allow an optional user-specified function to modify the option\n    // object before we construct the xhr request\n\n    var beforeRequest = XhrFunction.beforeRequest || videojs$1.Hls.xhr.beforeRequest;\n\n    if (beforeRequest && typeof beforeRequest === 'function') {\n      var newOptions = beforeRequest(options);\n\n      if (newOptions) {\n        options = newOptions;\n      }\n    }\n\n    var request = videojsXHR(options, function (error, response) {\n      var reqResponse = request.response;\n\n      if (!error && reqResponse) {\n        request.responseTime = Date.now();\n        request.roundTripTime = request.responseTime - request.requestTime;\n        request.bytesReceived = reqResponse.byteLength || reqResponse.length;\n\n        if (!request.bandwidth) {\n          request.bandwidth = Math.floor(request.bytesReceived / request.roundTripTime * 8 * 1000);\n        }\n      }\n\n      if (response.headers) {\n        request.responseHeaders = response.headers;\n      } // videojs.xhr now uses a specific code on the error\n      // object to signal that a request has timed out instead\n      // of setting a boolean on the request object\n\n\n      if (error && error.code === 'ETIMEDOUT') {\n        request.timedout = true;\n      } // videojs.xhr no longer considers status codes outside of 200 and 0\n      // (for file uris) to be errors, but the old XHR did, so emulate that\n      // behavior. Status 206 may be used in response to byterange requests.\n\n\n      if (!error && !request.aborted && response.statusCode !== 200 && response.statusCode !== 206 && response.statusCode !== 0) {\n        error = new Error('XHR Failed with a response of: ' + (request && (reqResponse || request.responseText)));\n      }\n\n      callback(error, request);\n    });\n    var originalAbort = request.abort;\n\n    request.abort = function () {\n      request.aborted = true;\n      return originalAbort.apply(request, arguments);\n    };\n\n    request.uri = options.uri;\n    request.requestTime = Date.now();\n    return request;\n  };\n\n  return xhr;\n};\n/**\n * Turns segment byterange into a string suitable for use in\n * HTTP Range requests\n *\n * @param {Object} byterange - an object with two values defining the start and end\n *                             of a byte-range\n */\n\n\nvar byterangeStr = function byterangeStr(byterange) {\n  var byterangeStart = void 0;\n  var byterangeEnd = void 0; // `byterangeEnd` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n\n  byterangeEnd = byterange.offset + byterange.length - 1;\n  byterangeStart = byterange.offset;\n  return 'bytes=' + byterangeStart + '-' + byterangeEnd;\n};\n/**\n * Defines headers for use in the xhr request for a particular segment.\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n */\n\n\nvar segmentXhrHeaders = function segmentXhrHeaders(segment) {\n  var headers = {};\n\n  if (segment.byterange) {\n    headers.Range = byterangeStr(segment.byterange);\n  }\n\n  return headers;\n};\n/**\n * @file bin-utils.js\n */\n\n/**\n * convert a TimeRange to text\n *\n * @param {TimeRange} range the timerange to use for conversion\n * @param {Number} i the iterator on the range to convert\n */\n\n\nvar textRange = function textRange(range, i) {\n  return range.start(i) + '-' + range.end(i);\n};\n/**\n * format a number as hex string\n *\n * @param {Number} e The number\n * @param {Number} i the iterator\n */\n\n\nvar formatHexString = function formatHexString(e, i) {\n  var value = e.toString(16);\n  return '00'.substring(0, 2 - value.length) + value + (i % 2 ? ' ' : '');\n};\n\nvar formatAsciiString = function formatAsciiString(e) {\n  if (e >= 0x20 && e < 0x7e) {\n    return String.fromCharCode(e);\n  }\n\n  return '.';\n};\n/**\n * Creates an object for sending to a web worker modifying properties that are TypedArrays\n * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n *\n * @param {Object} message\n *        Object of properties and values to send to the web worker\n * @return {Object}\n *         Modified message with TypedArray values expanded\n * @function createTransferableMessage\n */\n\n\nvar createTransferableMessage = function createTransferableMessage(message) {\n  var transferable = {};\n  Object.keys(message).forEach(function (key) {\n    var value = message[key];\n\n    if (ArrayBuffer.isView(value)) {\n      transferable[key] = {\n        bytes: value.buffer,\n        byteOffset: value.byteOffset,\n        byteLength: value.byteLength\n      };\n    } else {\n      transferable[key] = value;\n    }\n  });\n  return transferable;\n};\n/**\n * Returns a unique string identifier for a media initialization\n * segment.\n */\n\n\nvar initSegmentId = function initSegmentId(initSegment) {\n  var byterange = initSegment.byterange || {\n    length: Infinity,\n    offset: 0\n  };\n  return [byterange.length, byterange.offset, initSegment.resolvedUri].join(',');\n};\n/**\n * Returns a unique string identifier for a media segment key.\n */\n\n\nvar segmentKeyId = function segmentKeyId(key) {\n  return key.resolvedUri;\n};\n/**\n * utils to help dump binary data to the console\n */\n\n\nvar hexDump = function hexDump(data) {\n  var bytes = Array.prototype.slice.call(data);\n  var step = 16;\n  var result = '';\n  var hex = void 0;\n  var ascii = void 0;\n\n  for (var j = 0; j < bytes.length / step; j++) {\n    hex = bytes.slice(j * step, j * step + step).map(formatHexString).join('');\n    ascii = bytes.slice(j * step, j * step + step).map(formatAsciiString).join('');\n    result += hex + ' ' + ascii + '\\n';\n  }\n\n  return result;\n};\n\nvar tagDump = function tagDump(_ref) {\n  var bytes = _ref.bytes;\n  return hexDump(bytes);\n};\n\nvar textRanges = function textRanges(ranges) {\n  var result = '';\n  var i = void 0;\n\n  for (i = 0; i < ranges.length; i++) {\n    result += textRange(ranges, i) + ' ';\n  }\n\n  return result;\n};\n\nvar utils =\n/*#__PURE__*/\nObject.freeze({\n  createTransferableMessage: createTransferableMessage,\n  initSegmentId: initSegmentId,\n  segmentKeyId: segmentKeyId,\n  hexDump: hexDump,\n  tagDump: tagDump,\n  textRanges: textRanges\n}); // TODO handle fmp4 case where the timing info is accurate and doesn't involve transmux\n// Add 25% to the segment duration to account for small discrepencies in segment timing.\n// 25% was arbitrarily chosen, and may need to be refined over time.\n\nvar SEGMENT_END_FUDGE_PERCENT = 0.25;\n/**\n * Converts a player time (any time that can be gotten/set from player.currentTime(),\n * e.g., any time within player.seekable().start(0) to player.seekable().end(0)) to a\n * program time (any time referencing the real world (e.g., EXT-X-PROGRAM-DATE-TIME)).\n *\n * The containing segment is required as the EXT-X-PROGRAM-DATE-TIME serves as an \"anchor\n * point\" (a point where we have a mapping from program time to player time, with player\n * time being the post transmux start of the segment).\n *\n * For more details, see [this doc](../../docs/program-time-from-player-time.md).\n *\n * @param {Number} playerTime the player time\n * @param {Object} segment the segment which contains the player time\n * @return {Date} program time\n */\n\nvar playerTimeToProgramTime = function playerTimeToProgramTime(playerTime, segment) {\n  if (!segment.dateTimeObject) {\n    // Can't convert without an \"anchor point\" for the program time (i.e., a time that can\n    // be used to map the start of a segment with a real world time).\n    return null;\n  }\n\n  var transmuxerPrependedSeconds = segment.videoTimingInfo.transmuxerPrependedSeconds;\n  var transmuxedStart = segment.videoTimingInfo.transmuxedPresentationStart; // get the start of the content from before old content is prepended\n\n  var startOfSegment = transmuxedStart + transmuxerPrependedSeconds;\n  var offsetFromSegmentStart = playerTime - startOfSegment;\n  return new Date(segment.dateTimeObject.getTime() + offsetFromSegmentStart * 1000);\n};\n\nvar originalSegmentVideoDuration = function originalSegmentVideoDuration(videoTimingInfo) {\n  return videoTimingInfo.transmuxedPresentationEnd - videoTimingInfo.transmuxedPresentationStart - videoTimingInfo.transmuxerPrependedSeconds;\n};\n/**\n * Finds a segment that contains the time requested given as an ISO-8601 string. The\n * returned segment might be an estimate or an accurate match.\n *\n * @param {String} programTime The ISO-8601 programTime to find a match for\n * @param {Object} playlist A playlist object to search within\n */\n\n\nvar findSegmentForProgramTime = function findSegmentForProgramTime(programTime, playlist) {\n  // Assumptions:\n  //  - verifyProgramDateTimeTags has already been run\n  //  - live streams have been started\n  var dateTimeObject = void 0;\n\n  try {\n    dateTimeObject = new Date(programTime);\n  } catch (e) {\n    return null;\n  }\n\n  if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n    return null;\n  }\n\n  var segment = playlist.segments[0];\n\n  if (dateTimeObject < segment.dateTimeObject) {\n    // Requested time is before stream start.\n    return null;\n  }\n\n  for (var i = 0; i < playlist.segments.length - 1; i++) {\n    segment = playlist.segments[i];\n    var nextSegmentStart = playlist.segments[i + 1].dateTimeObject;\n\n    if (dateTimeObject < nextSegmentStart) {\n      break;\n    }\n  }\n\n  var lastSegment = playlist.segments[playlist.segments.length - 1];\n  var lastSegmentStart = lastSegment.dateTimeObject;\n  var lastSegmentDuration = lastSegment.videoTimingInfo ? originalSegmentVideoDuration(lastSegment.videoTimingInfo) : lastSegment.duration + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT;\n  var lastSegmentEnd = new Date(lastSegmentStart.getTime() + lastSegmentDuration * 1000);\n\n  if (dateTimeObject > lastSegmentEnd) {\n    // Beyond the end of the stream, or our best guess of the end of the stream.\n    return null;\n  }\n\n  if (dateTimeObject > lastSegmentStart) {\n    segment = lastSegment;\n  }\n\n  return {\n    segment: segment,\n    estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : Playlist.duration(playlist, playlist.mediaSequence + playlist.segments.indexOf(segment)),\n    // Although, given that all segments have accurate date time objects, the segment\n    // selected should be accurate, unless the video has been transmuxed at some point\n    // (determined by the presence of the videoTimingInfo object), the segment's \"player\n    // time\" (the start time in the player) can't be considered accurate.\n    type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n  };\n};\n/**\n * Finds a segment that contains the given player time(in seconds).\n *\n * @param {Number} time The player time to find a match for\n * @param {Object} playlist A playlist object to search within\n */\n\n\nvar findSegmentForPlayerTime = function findSegmentForPlayerTime(time, playlist) {\n  // Assumptions:\n  // - there will always be a segment.duration\n  // - we can start from zero\n  // - segments are in time order\n  if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n    return null;\n  }\n\n  var segmentEnd = 0;\n  var segment = void 0;\n\n  for (var i = 0; i < playlist.segments.length; i++) {\n    segment = playlist.segments[i]; // videoTimingInfo is set after the segment is downloaded and transmuxed, and\n    // should contain the most accurate values we have for the segment's player times.\n    //\n    // Use the accurate transmuxedPresentationEnd value if it is available, otherwise fall\n    // back to an estimate based on the manifest derived (inaccurate) segment.duration, to\n    // calculate an end value.\n\n    segmentEnd = segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationEnd : segmentEnd + segment.duration;\n\n    if (time <= segmentEnd) {\n      break;\n    }\n  }\n\n  var lastSegment = playlist.segments[playlist.segments.length - 1];\n\n  if (lastSegment.videoTimingInfo && lastSegment.videoTimingInfo.transmuxedPresentationEnd < time) {\n    // The time requested is beyond the stream end.\n    return null;\n  }\n\n  if (time > segmentEnd) {\n    // The time is within or beyond the last segment.\n    //\n    // Check to see if the time is beyond a reasonable guess of the end of the stream.\n    if (time > segmentEnd + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT) {\n      // Technically, because the duration value is only an estimate, the time may still\n      // exist in the last segment, however, there isn't enough information to make even\n      // a reasonable estimate.\n      return null;\n    }\n\n    segment = lastSegment;\n  }\n\n  return {\n    segment: segment,\n    estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : segmentEnd - segment.duration,\n    // Because videoTimingInfo is only set after transmux, it is the only way to get\n    // accurate timing values.\n    type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n  };\n};\n/**\n * Gives the offset of the comparisonTimestamp from the programTime timestamp in seconds.\n * If the offset returned is positive, the programTime occurs after the\n * comparisonTimestamp.\n * If the offset is negative, the programTime occurs before the comparisonTimestamp.\n *\n * @param {String} comparisonTimeStamp An ISO-8601 timestamp to compare against\n * @param {String} programTime The programTime as an ISO-8601 string\n * @return {Number} offset\n */\n\n\nvar getOffsetFromTimestamp = function getOffsetFromTimestamp(comparisonTimeStamp, programTime) {\n  var segmentDateTime = void 0;\n  var programDateTime = void 0;\n\n  try {\n    segmentDateTime = new Date(comparisonTimeStamp);\n    programDateTime = new Date(programTime);\n  } catch (e) {// TODO handle error\n  }\n\n  var segmentTimeEpoch = segmentDateTime.getTime();\n  var programTimeEpoch = programDateTime.getTime();\n  return (programTimeEpoch - segmentTimeEpoch) / 1000;\n};\n/**\n * Checks that all segments in this playlist have programDateTime tags.\n *\n * @param {Object} playlist A playlist object\n */\n\n\nvar verifyProgramDateTimeTags = function verifyProgramDateTimeTags(playlist) {\n  if (!playlist.segments || playlist.segments.length === 0) {\n    return false;\n  }\n\n  for (var i = 0; i < playlist.segments.length; i++) {\n    var segment = playlist.segments[i];\n\n    if (!segment.dateTimeObject) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Returns the programTime of the media given a playlist and a playerTime.\n * The playlist must have programDateTime tags for a programDateTime tag to be returned.\n * If the segments containing the time requested have not been buffered yet, an estimate\n * may be returned to the callback.\n *\n * @param {Object} args\n * @param {Object} args.playlist A playlist object to search within\n * @param {Number} time A playerTime in seconds\n * @param {Function} callback(err, programTime)\n * @returns {String} err.message A detailed error message\n * @returns {Object} programTime\n * @returns {Number} programTime.mediaSeconds The streamTime in seconds\n * @returns {String} programTime.programDateTime The programTime as an ISO-8601 String\n */\n\n\nvar getProgramTime = function getProgramTime(_ref) {\n  var playlist = _ref.playlist,\n      _ref$time = _ref.time,\n      time = _ref$time === undefined ? undefined : _ref$time,\n      callback = _ref.callback;\n\n  if (!callback) {\n    throw new Error('getProgramTime: callback must be provided');\n  }\n\n  if (!playlist || time === undefined) {\n    return callback({\n      message: 'getProgramTime: playlist and time must be provided'\n    });\n  }\n\n  var matchedSegment = findSegmentForPlayerTime(time, playlist);\n\n  if (!matchedSegment) {\n    return callback({\n      message: 'valid programTime was not found'\n    });\n  }\n\n  if (matchedSegment.type === 'estimate') {\n    return callback({\n      message: 'Accurate programTime could not be determined.' + ' Please seek to e.seekTime and try again',\n      seekTime: matchedSegment.estimatedStart\n    });\n  }\n\n  var programTimeObject = {\n    mediaSeconds: time\n  };\n  var programTime = playerTimeToProgramTime(time, matchedSegment.segment);\n\n  if (programTime) {\n    programTimeObject.programDateTime = programTime.toISOString();\n  }\n\n  return callback(null, programTimeObject);\n};\n/**\n * Seeks in the player to a time that matches the given programTime ISO-8601 string.\n *\n * @param {Object} args\n * @param {String} args.programTime A programTime to seek to as an ISO-8601 String\n * @param {Object} args.playlist A playlist to look within\n * @param {Number} args.retryCount The number of times to try for an accurate seek. Default is 2.\n * @param {Function} args.seekTo A method to perform a seek\n * @param {Boolean} args.pauseAfterSeek Whether to end in a paused state after seeking. Default is true.\n * @param {Object} args.tech The tech to seek on\n * @param {Function} args.callback(err, newTime) A callback to return the new time to\n * @returns {String} err.message A detailed error message\n * @returns {Number} newTime The exact time that was seeked to in seconds\n */\n\n\nvar seekToProgramTime = function seekToProgramTime(_ref2) {\n  var programTime = _ref2.programTime,\n      playlist = _ref2.playlist,\n      _ref2$retryCount = _ref2.retryCount,\n      retryCount = _ref2$retryCount === undefined ? 2 : _ref2$retryCount,\n      seekTo = _ref2.seekTo,\n      _ref2$pauseAfterSeek = _ref2.pauseAfterSeek,\n      pauseAfterSeek = _ref2$pauseAfterSeek === undefined ? true : _ref2$pauseAfterSeek,\n      tech = _ref2.tech,\n      callback = _ref2.callback;\n\n  if (!callback) {\n    throw new Error('seekToProgramTime: callback must be provided');\n  }\n\n  if (typeof programTime === 'undefined' || !playlist || !seekTo) {\n    return callback({\n      message: 'seekToProgramTime: programTime, seekTo and playlist must be provided'\n    });\n  }\n\n  if (!playlist.endList && !tech.hasStarted_) {\n    return callback({\n      message: 'player must be playing a live stream to start buffering'\n    });\n  }\n\n  if (!verifyProgramDateTimeTags(playlist)) {\n    return callback({\n      message: 'programDateTime tags must be provided in the manifest ' + playlist.resolvedUri\n    });\n  }\n\n  var matchedSegment = findSegmentForProgramTime(programTime, playlist); // no match\n\n  if (!matchedSegment) {\n    return callback({\n      message: programTime + ' was not found in the stream'\n    });\n  }\n\n  var segment = matchedSegment.segment;\n  var mediaOffset = getOffsetFromTimestamp(segment.dateTimeObject, programTime);\n\n  if (matchedSegment.type === 'estimate') {\n    // we've run out of retries\n    if (retryCount === 0) {\n      return callback({\n        message: programTime + ' is not buffered yet. Try again'\n      });\n    }\n\n    seekTo(matchedSegment.estimatedStart + mediaOffset);\n    tech.one('seeked', function () {\n      seekToProgramTime({\n        programTime: programTime,\n        playlist: playlist,\n        retryCount: retryCount - 1,\n        seekTo: seekTo,\n        pauseAfterSeek: pauseAfterSeek,\n        tech: tech,\n        callback: callback\n      });\n    });\n    return;\n  } // Since the segment.start value is determined from the buffered end or ending time\n  // of the prior segment, the seekToTime doesn't need to account for any transmuxer\n  // modifications.\n\n\n  var seekToTime = segment.start + mediaOffset;\n\n  var seekedCallback = function seekedCallback() {\n    return callback(null, tech.currentTime());\n  }; // listen for seeked event\n\n\n  tech.one('seeked', seekedCallback); // pause before seeking as video.js will restore this state\n\n  if (pauseAfterSeek) {\n    tech.pause();\n  }\n\n  seekTo(seekToTime);\n};\n/**\n * ranges\n *\n * Utilities for working with TimeRanges.\n *\n */\n// Fudge factor to account for TimeRanges rounding\n\n\nvar TIME_FUDGE_FACTOR = 1 / 30; // Comparisons between time values such as current time and the end of the buffered range\n// can be misleading because of precision differences or when the current media has poorly\n// aligned audio and video, which can cause values to be slightly off from what you would\n// expect. This value is what we consider to be safe to use in such comparisons to account\n// for these scenarios.\n\nvar SAFE_TIME_DELTA = TIME_FUDGE_FACTOR * 3;\n\nvar filterRanges = function filterRanges(timeRanges, predicate) {\n  var results = [];\n  var i = void 0;\n\n  if (timeRanges && timeRanges.length) {\n    // Search for ranges that match the predicate\n    for (i = 0; i < timeRanges.length; i++) {\n      if (predicate(timeRanges.start(i), timeRanges.end(i))) {\n        results.push([timeRanges.start(i), timeRanges.end(i)]);\n      }\n    }\n  }\n\n  return videojs$1.createTimeRanges(results);\n};\n/**\n * Attempts to find the buffered TimeRange that contains the specified\n * time.\n * @param {TimeRanges} buffered - the TimeRanges object to query\n * @param {number} time  - the time to filter on.\n * @returns {TimeRanges} a new TimeRanges object\n */\n\n\nvar findRange = function findRange(buffered, time) {\n  return filterRanges(buffered, function (start, end) {\n    return start - TIME_FUDGE_FACTOR <= time && end + TIME_FUDGE_FACTOR >= time;\n  });\n};\n/**\n * Returns the TimeRanges that begin later than the specified time.\n * @param {TimeRanges} timeRanges - the TimeRanges object to query\n * @param {number} time - the time to filter on.\n * @returns {TimeRanges} a new TimeRanges object.\n */\n\n\nvar findNextRange = function findNextRange(timeRanges, time) {\n  return filterRanges(timeRanges, function (start) {\n    return start - TIME_FUDGE_FACTOR >= time;\n  });\n};\n/**\n * Returns gaps within a list of TimeRanges\n * @param {TimeRanges} buffered - the TimeRanges object\n * @return {TimeRanges} a TimeRanges object of gaps\n */\n\n\nvar findGaps = function findGaps(buffered) {\n  if (buffered.length < 2) {\n    return videojs$1.createTimeRanges();\n  }\n\n  var ranges = [];\n\n  for (var i = 1; i < buffered.length; i++) {\n    var start = buffered.end(i - 1);\n    var end = buffered.start(i);\n    ranges.push([start, end]);\n  }\n\n  return videojs$1.createTimeRanges(ranges);\n};\n/**\n * Gets a human readable string for a TimeRange\n *\n * @param {TimeRange} range\n * @returns {String} a human readable string\n */\n\n\nvar printableRange = function printableRange(range) {\n  var strArr = [];\n\n  if (!range || !range.length) {\n    return '';\n  }\n\n  for (var i = 0; i < range.length; i++) {\n    strArr.push(range.start(i) + ' => ' + range.end(i));\n  }\n\n  return strArr.join(', ');\n};\n/**\n * Calculates the amount of time left in seconds until the player hits the end of the\n * buffer and causes a rebuffer\n *\n * @param {TimeRange} buffered\n *        The state of the buffer\n * @param {Numnber} currentTime\n *        The current time of the player\n * @param {Number} playbackRate\n *        The current playback rate of the player. Defaults to 1.\n * @return {Number}\n *         Time until the player has to start rebuffering in seconds.\n * @function timeUntilRebuffer\n */\n\n\nvar timeUntilRebuffer = function timeUntilRebuffer(buffered, currentTime) {\n  var playbackRate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var bufferedEnd = buffered.length ? buffered.end(buffered.length - 1) : 0;\n  return (bufferedEnd - currentTime) / playbackRate;\n};\n/**\n * Converts a TimeRanges object into an array representation\n * @param {TimeRanges} timeRanges\n * @returns {Array}\n */\n\n\nvar timeRangesToArray = function timeRangesToArray(timeRanges) {\n  var timeRangesList = [];\n\n  for (var i = 0; i < timeRanges.length; i++) {\n    timeRangesList.push({\n      start: timeRanges.start(i),\n      end: timeRanges.end(i)\n    });\n  }\n\n  return timeRangesList;\n};\n/**\n * @file create-text-tracks-if-necessary.js\n */\n\n/**\n * Create text tracks on video.js if they exist on a segment.\n *\n * @param {Object} sourceBuffer the VSB or FSB\n * @param {Object} mediaSource the HTML media source\n * @param {Object} segment the segment that may contain the text track\n * @private\n */\n\n\nvar createTextTracksIfNecessary = function createTextTracksIfNecessary(sourceBuffer, mediaSource, segment) {\n  var player = mediaSource.player_; // create an in-band caption track if one is present in the segment\n\n  if (segment.captions && segment.captions.length) {\n    if (!sourceBuffer.inbandTextTracks_) {\n      sourceBuffer.inbandTextTracks_ = {};\n    }\n\n    for (var trackId in segment.captionStreams) {\n      if (!sourceBuffer.inbandTextTracks_[trackId]) {\n        player.tech_.trigger({\n          type: 'usage',\n          name: 'hls-608'\n        });\n        var track = player.textTracks().getTrackById(trackId);\n\n        if (track) {\n          // Resuse an existing track with a CC# id because this was\n          // very likely created by videojs-contrib-hls from information\n          // in the m3u8 for us to use\n          sourceBuffer.inbandTextTracks_[trackId] = track;\n        } else {\n          // Otherwise, create a track with the default `CC#` label and\n          // without a language\n          sourceBuffer.inbandTextTracks_[trackId] = player.addRemoteTextTrack({\n            kind: 'captions',\n            id: trackId,\n            label: trackId\n          }, false).track;\n        }\n      }\n    }\n  }\n\n  if (segment.metadata && segment.metadata.length && !sourceBuffer.metadataTrack_) {\n    sourceBuffer.metadataTrack_ = player.addRemoteTextTrack({\n      kind: 'metadata',\n      label: 'Timed Metadata'\n    }, false).track;\n    sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType = segment.metadata.dispatchType;\n  }\n};\n/**\n * @file remove-cues-from-track.js\n */\n\n/**\n * Remove cues from a track on video.js.\n *\n * @param {Double} start start of where we should remove the cue\n * @param {Double} end end of where the we should remove the cue\n * @param {Object} track the text track to remove the cues from\n * @private\n */\n\n\nvar removeCuesFromTrack = function removeCuesFromTrack(start, end, track) {\n  var i = void 0;\n  var cue = void 0;\n\n  if (!track) {\n    return;\n  }\n\n  if (!track.cues) {\n    return;\n  }\n\n  i = track.cues.length;\n\n  while (i--) {\n    cue = track.cues[i]; // Remove any overlapping cue\n\n    if (cue.startTime <= end && cue.endTime >= start) {\n      track.removeCue(cue);\n    }\n  }\n};\n/**\n * @file add-text-track-data.js\n */\n\n/**\n * Define properties on a cue for backwards compatability,\n * but warn the user that the way that they are using it\n * is depricated and will be removed at a later date.\n *\n * @param {Cue} cue the cue to add the properties on\n * @private\n */\n\n\nvar deprecateOldCue = function deprecateOldCue(cue) {\n  Object.defineProperties(cue.frame, {\n    id: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');\n        return cue.value.key;\n      }\n    },\n    value: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');\n        return cue.value.data;\n      }\n    },\n    privateData: {\n      get: function get() {\n        videojs$1.log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');\n        return cue.value.data;\n      }\n    }\n  });\n};\n\nvar durationOfVideo = function durationOfVideo(duration) {\n  var dur = void 0;\n\n  if (isNaN(duration) || Math.abs(duration) === Infinity) {\n    dur = Number.MAX_VALUE;\n  } else {\n    dur = duration;\n  }\n\n  return dur;\n};\n/**\n * Add text track data to a source handler given the captions and\n * metadata from the buffer.\n *\n * @param {Object} sourceHandler the virtual source buffer\n * @param {Array} captionArray an array of caption data\n * @param {Array} metadataArray an array of meta data\n * @private\n */\n\n\nvar addTextTrackData = function addTextTrackData(sourceHandler, captionArray, metadataArray) {\n  var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n\n  if (captionArray) {\n    captionArray.forEach(function (caption) {\n      var track = caption.stream;\n      this.inbandTextTracks_[track].addCue(new Cue(caption.startTime + this.timestampOffset, caption.endTime + this.timestampOffset, caption.text));\n    }, sourceHandler);\n  }\n\n  if (metadataArray) {\n    var videoDuration = durationOfVideo(sourceHandler.mediaSource_.duration);\n    metadataArray.forEach(function (metadata) {\n      var time = metadata.cueTime + this.timestampOffset; // if time isn't a finite number between 0 and Infinity, like NaN,\n      // ignore this bit of metadata.\n      // This likely occurs when you have an non-timed ID3 tag like TIT2,\n      // which is the \"Title/Songname/Content description\" frame\n\n      if (typeof time !== 'number' || window$1.isNaN(time) || time < 0 || !(time < Infinity)) {\n        return;\n      }\n\n      metadata.frames.forEach(function (frame) {\n        var cue = new Cue(time, time, frame.value || frame.url || frame.data || '');\n        cue.frame = frame;\n        cue.value = frame;\n        deprecateOldCue(cue);\n        this.metadataTrack_.addCue(cue);\n      }, this);\n    }, sourceHandler); // Updating the metadeta cues so that\n    // the endTime of each cue is the startTime of the next cue\n    // the endTime of last cue is the duration of the video\n\n    if (sourceHandler.metadataTrack_ && sourceHandler.metadataTrack_.cues && sourceHandler.metadataTrack_.cues.length) {\n      var cues = sourceHandler.metadataTrack_.cues;\n      var cuesArray = []; // Create a copy of the TextTrackCueList...\n      // ...disregarding cues with a falsey value\n\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i]) {\n          cuesArray.push(cues[i]);\n        }\n      } // Group cues by their startTime value\n\n\n      var cuesGroupedByStartTime = cuesArray.reduce(function (obj, cue) {\n        var timeSlot = obj[cue.startTime] || [];\n        timeSlot.push(cue);\n        obj[cue.startTime] = timeSlot;\n        return obj;\n      }, {}); // Sort startTimes by ascending order\n\n      var sortedStartTimes = Object.keys(cuesGroupedByStartTime).sort(function (a, b) {\n        return Number(a) - Number(b);\n      }); // Map each cue group's endTime to the next group's startTime\n\n      sortedStartTimes.forEach(function (startTime, idx) {\n        var cueGroup = cuesGroupedByStartTime[startTime];\n        var nextTime = Number(sortedStartTimes[idx + 1]) || videoDuration; // Map each cue's endTime the next group's startTime\n\n        cueGroup.forEach(function (cue) {\n          cue.endTime = nextTime;\n        });\n      });\n    }\n  }\n};\n\nvar win = typeof window !== 'undefined' ? window : {},\n    TARGET = typeof Symbol === 'undefined' ? '__target' : Symbol(),\n    SCRIPT_TYPE = 'application/javascript',\n    BlobBuilder = win.BlobBuilder || win.WebKitBlobBuilder || win.MozBlobBuilder || win.MSBlobBuilder,\n    URL = win.URL || win.webkitURL || URL && URL.msURL,\n    Worker = win.Worker;\n/**\n * Returns a wrapper around Web Worker code that is constructible.\n *\n * @function shimWorker\n *\n * @param { String }    filename    The name of the file\n * @param { Function }  fn          Function wrapping the code of the worker\n */\n\nfunction shimWorker(filename, fn) {\n  return function ShimWorker(forceFallback) {\n    var o = this;\n\n    if (!fn) {\n      return new Worker(filename);\n    } else if (Worker && !forceFallback) {\n      // Convert the function's inner code to a string to construct the worker\n      var source = fn.toString().replace(/^function.+?{/, '').slice(0, -1),\n          objURL = createSourceObject(source);\n      this[TARGET] = new Worker(objURL);\n      wrapTerminate(this[TARGET], objURL);\n      return this[TARGET];\n    } else {\n      var selfShim = {\n        postMessage: function postMessage(m) {\n          if (o.onmessage) {\n            setTimeout(function () {\n              o.onmessage({\n                data: m,\n                target: selfShim\n              });\n            });\n          }\n        }\n      };\n      fn.call(selfShim);\n\n      this.postMessage = function (m) {\n        setTimeout(function () {\n          selfShim.onmessage({\n            data: m,\n            target: o\n          });\n        });\n      };\n\n      this.isThisThread = true;\n    }\n  };\n} // Test Worker capabilities\n\n\nif (Worker) {\n  var testWorker,\n      objURL = createSourceObject('self.onmessage = function () {}'),\n      testArray = new Uint8Array(1);\n\n  try {\n    testWorker = new Worker(objURL); // Native browser on some Samsung devices throws for transferables, let's detect it\n\n    testWorker.postMessage(testArray, [testArray.buffer]);\n  } catch (e) {\n    Worker = null;\n  } finally {\n    URL.revokeObjectURL(objURL);\n\n    if (testWorker) {\n      testWorker.terminate();\n    }\n  }\n}\n\nfunction createSourceObject(str) {\n  try {\n    return URL.createObjectURL(new Blob([str], {\n      type: SCRIPT_TYPE\n    }));\n  } catch (e) {\n    var blob = new BlobBuilder();\n    blob.append(str);\n    return URL.createObjectURL(blob.getBlob(type));\n  }\n}\n\nfunction wrapTerminate(worker, objURL) {\n  if (!worker || !objURL) return;\n  var term = worker.terminate;\n  worker.objURL = objURL;\n\n  worker.terminate = function () {\n    if (worker.objURL) URL.revokeObjectURL(worker.objURL);\n    term.call(worker);\n  };\n}\n\nvar TransmuxWorker = new shimWorker(\"./transmuxer-worker.worker.js\", function (window, document$$1) {\n  var self = this;\n\n  var transmuxerWorker = function () {\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Functions that generate fragmented MP4s suitable for use with Media\n     * Source Extensions.\n     */\n    var UINT32_MAX = Math.pow(2, 32) - 1;\n    var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n    (function () {\n      var i;\n      types = {\n        avc1: [],\n        // codingname\n        avcC: [],\n        btrt: [],\n        dinf: [],\n        dref: [],\n        esds: [],\n        ftyp: [],\n        hdlr: [],\n        mdat: [],\n        mdhd: [],\n        mdia: [],\n        mfhd: [],\n        minf: [],\n        moof: [],\n        moov: [],\n        mp4a: [],\n        // codingname\n        mvex: [],\n        mvhd: [],\n        sdtp: [],\n        smhd: [],\n        stbl: [],\n        stco: [],\n        stsc: [],\n        stsd: [],\n        stsz: [],\n        stts: [],\n        styp: [],\n        tfdt: [],\n        tfhd: [],\n        traf: [],\n        trak: [],\n        trun: [],\n        trex: [],\n        tkhd: [],\n        vmhd: []\n      }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n      // don't throw an error\n\n      if (typeof Uint8Array === 'undefined') {\n        return;\n      }\n\n      for (i in types) {\n        if (types.hasOwnProperty(i)) {\n          types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n        }\n      }\n\n      MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n      AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n      MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n      VIDEO_HDLR = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n      ]);\n      AUDIO_HDLR = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // pre_defined\n      0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n      ]);\n      HDLR_TYPES = {\n        video: VIDEO_HDLR,\n        audio: AUDIO_HDLR\n      };\n      DREF = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // entry_count\n      0x00, 0x00, 0x00, 0x0c, // entry_size\n      0x75, 0x72, 0x6c, 0x20, // 'url' type\n      0x00, // version 0\n      0x00, 0x00, 0x01 // entry_flags\n      ]);\n      SMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, // balance, 0 means centered\n      0x00, 0x00 // reserved\n      ]);\n      STCO = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00 // entry_count\n      ]);\n      STSC = STCO;\n      STSZ = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x00, // sample_size\n      0x00, 0x00, 0x00, 0x00 // sample_count\n      ]);\n      STTS = STCO;\n      VMHD = new Uint8Array([0x00, // version\n      0x00, 0x00, 0x01, // flags\n      0x00, 0x00, // graphicsmode\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n      ]);\n    })();\n\n    box = function box(type) {\n      var payload = [],\n          size = 0,\n          i,\n          result,\n          view;\n\n      for (i = 1; i < arguments.length; i++) {\n        payload.push(arguments[i]);\n      }\n\n      i = payload.length; // calculate the total size we need to allocate\n\n      while (i--) {\n        size += payload[i].byteLength;\n      }\n\n      result = new Uint8Array(size + 8);\n      view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n      view.setUint32(0, result.byteLength);\n      result.set(type, 4); // copy the payload into the result\n\n      for (i = 0, size = 8; i < payload.length; i++) {\n        result.set(payload[i], size);\n        size += payload[i].byteLength;\n      }\n\n      return result;\n    };\n\n    dinf = function dinf() {\n      return box(types.dinf, box(types.dref, DREF));\n    };\n\n    esds = function esds(track) {\n      return box(types.esds, new Uint8Array([0x00, // version\n      0x00, 0x00, 0x00, // flags\n      // ES_Descriptor\n      0x03, // tag, ES_DescrTag\n      0x19, // length\n      0x00, 0x00, // ES_ID\n      0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n      // DecoderConfigDescriptor\n      0x04, // tag, DecoderConfigDescrTag\n      0x11, // length\n      0x40, // object type\n      0x15, // streamType\n      0x00, 0x06, 0x00, // bufferSizeDB\n      0x00, 0x00, 0xda, 0xc0, // maxBitrate\n      0x00, 0x00, 0xda, 0xc0, // avgBitrate\n      // DecoderSpecificInfo\n      0x05, // tag, DecoderSpecificInfoTag\n      0x02, // length\n      // ISO/IEC 14496-3, AudioSpecificConfig\n      // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n      track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n      ]));\n    };\n\n    ftyp = function ftyp() {\n      return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n    };\n\n    hdlr = function hdlr(type) {\n      return box(types.hdlr, HDLR_TYPES[type]);\n    };\n\n    mdat = function mdat(data) {\n      return box(types.mdat, data);\n    };\n\n    mdhd = function mdhd(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x02, // creation_time\n      0x00, 0x00, 0x00, 0x03, // modification_time\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n      track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n      0x55, 0xc4, // 'und' language (undetermined)\n      0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n      // defined. The sample rate can be parsed out of an ADTS header, for\n      // instance.\n\n      if (track.samplerate) {\n        result[12] = track.samplerate >>> 24 & 0xFF;\n        result[13] = track.samplerate >>> 16 & 0xFF;\n        result[14] = track.samplerate >>> 8 & 0xFF;\n        result[15] = track.samplerate & 0xFF;\n      }\n\n      return box(types.mdhd, result);\n    };\n\n    mdia = function mdia(track) {\n      return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n    };\n\n    mfhd = function mfhd(sequenceNumber) {\n      return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n      (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n      ]));\n    };\n\n    minf = function minf(track) {\n      return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n    };\n\n    moof = function moof(sequenceNumber, tracks) {\n      var trackFragments = [],\n          i = tracks.length; // build traf boxes for each track fragment\n\n      while (i--) {\n        trackFragments[i] = traf(tracks[i]);\n      }\n\n      return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n    };\n    /**\n     * Returns a movie box.\n     * @param tracks {array} the tracks associated with this movie\n     * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n     */\n\n\n    moov = function moov(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = trak(tracks[i]);\n      }\n\n      return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n    };\n\n    mvex = function mvex(tracks) {\n      var i = tracks.length,\n          boxes = [];\n\n      while (i--) {\n        boxes[i] = trex(tracks[i]);\n      }\n\n      return box.apply(null, [types.mvex].concat(boxes));\n    };\n\n    mvhd = function mvhd(duration) {\n      var bytes = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01, // creation_time\n      0x00, 0x00, 0x00, 0x02, // modification_time\n      0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n      (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n      0x00, 0x01, 0x00, 0x00, // 1.0 rate\n      0x01, 0x00, // 1.0 volume\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n      0xff, 0xff, 0xff, 0xff // next_track_ID\n      ]);\n      return box(types.mvhd, bytes);\n    };\n\n    sdtp = function sdtp(track) {\n      var samples = track.samples || [],\n          bytes = new Uint8Array(4 + samples.length),\n          flags,\n          i; // leave the full box header (4 bytes) all zero\n      // write the sample table\n\n      for (i = 0; i < samples.length; i++) {\n        flags = samples[i].flags;\n        bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n      }\n\n      return box(types.sdtp, bytes);\n    };\n\n    stbl = function stbl(track) {\n      return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n    };\n\n    (function () {\n      var videoSample, audioSample;\n\n      stsd = function stsd(track) {\n        return box(types.stsd, new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n      };\n\n      videoSample = function videoSample(track) {\n        var sps = track.sps || [],\n            pps = track.pps || [],\n            sequenceParameterSets = [],\n            pictureParameterSets = [],\n            i; // assemble the SPSs\n\n        for (i = 0; i < sps.length; i++) {\n          sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n          sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n          sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n        } // assemble the PPSs\n\n\n        for (i = 0; i < pps.length; i++) {\n          pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n          pictureParameterSets.push(pps[i].byteLength & 0xFF);\n          pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n        }\n\n        return box(types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // data_reference_index\n        0x00, 0x00, // pre_defined\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n        (track.width & 0xff00) >> 8, track.width & 0xff, // width\n        (track.height & 0xff00) >> 8, track.height & 0xff, // height\n        0x00, 0x48, 0x00, 0x00, // horizresolution\n        0x00, 0x48, 0x00, 0x00, // vertresolution\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // frame_count\n        0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n        0x00, 0x18, // depth = 24\n        0x11, 0x11 // pre_defined = -1\n        ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n        track.profileIdc, // AVCProfileIndication\n        track.profileCompatibility, // profile_compatibility\n        track.levelIdc, // AVCLevelIndication\n        0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n        ].concat([sps.length // numOfSequenceParameterSets\n        ]).concat(sequenceParameterSets).concat([pps.length // numOfPictureParameterSets\n        ]).concat(pictureParameterSets))), // \"PPS\"\n        box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n        0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n        0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\n        );\n      };\n\n      audioSample = function audioSample(track) {\n        return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, // data_reference_index\n        // AudioSampleEntry, ISO/IEC 14496-12\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n        (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n        0x00, 0x00, // pre_defined\n        0x00, 0x00, // reserved\n        (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n        // MP4AudioSampleEntry, ISO/IEC 14496-14\n        ]), esds(track));\n      };\n    })();\n\n    tkhd = function tkhd(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x07, // flags\n      0x00, 0x00, 0x00, 0x00, // creation_time\n      0x00, 0x00, 0x00, 0x00, // modification_time\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x00, // reserved\n      (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, // layer\n      0x00, 0x00, // alternate_group\n      0x01, 0x00, // non-audio track volume\n      0x00, 0x00, // reserved\n      0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n      (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n      (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n      ]);\n      return box(types.tkhd, result);\n    };\n    /**\n     * Generate a track fragment (traf) box. A traf box collects metadata\n     * about tracks in a movie fragment (moof) box.\n     */\n\n\n    traf = function traf(track) {\n      var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n      trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x3a, // flags\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x01, // sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x00, 0x00, 0x00 // default_sample_flags\n      ]));\n      upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n      lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n      trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n      0x00, 0x00, 0x00, // flags\n      // baseMediaDecodeTime\n      upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n      // the containing moof to the first payload byte of the associated\n      // mdat\n\n      dataOffset = 32 + // tfhd\n      20 + // tfdt\n      8 + // traf header\n      16 + // mfhd\n      8 + // moof header\n      8; // mdat header\n      // audio tracks require less metadata\n\n      if (track.type === 'audio') {\n        trackFragmentRun = trun(track, dataOffset);\n        return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n      } // video tracks should contain an independent and disposable samples\n      // box (sdtp)\n      // generate one and adjust offsets to match\n\n\n      sampleDependencyTable = sdtp(track);\n      trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n      return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n    };\n    /**\n     * Generate a track box.\n     * @param track {object} a track definition\n     * @return {Uint8Array} the track box\n     */\n\n\n    trak = function trak(track) {\n      track.duration = track.duration || 0xffffffff;\n      return box(types.trak, tkhd(track), mdia(track));\n    };\n\n    trex = function trex(track) {\n      var result = new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n      0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n      0x00, 0x00, 0x00, 0x00, // default_sample_duration\n      0x00, 0x00, 0x00, 0x00, // default_sample_size\n      0x00, 0x01, 0x00, 0x01 // default_sample_flags\n      ]); // the last two bytes of default_sample_flags is the sample\n      // degradation priority, a hint about the importance of this sample\n      // relative to others. Lower the degradation priority for all sample\n      // types other than video.\n\n      if (track.type !== 'video') {\n        result[result.length - 1] = 0x00;\n      }\n\n      return box(types.trex, result);\n    };\n\n    (function () {\n      var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n      // duration is present for the first sample, it will be present for\n      // all subsequent samples.\n      // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n      trunHeader = function trunHeader(samples, offset) {\n        var durationPresent = 0,\n            sizePresent = 0,\n            flagsPresent = 0,\n            compositionTimeOffset = 0; // trun flag constants\n\n        if (samples.length) {\n          if (samples[0].duration !== undefined) {\n            durationPresent = 0x1;\n          }\n\n          if (samples[0].size !== undefined) {\n            sizePresent = 0x2;\n          }\n\n          if (samples[0].flags !== undefined) {\n            flagsPresent = 0x4;\n          }\n\n          if (samples[0].compositionTimeOffset !== undefined) {\n            compositionTimeOffset = 0x8;\n          }\n        }\n\n        return [0x00, // version 0\n        0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n        (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n        (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n        ];\n      };\n\n      videoTrun = function videoTrun(track, offset) {\n        var bytes, samples, sample, i;\n        samples = track.samples || [];\n        offset += 8 + 12 + 16 * samples.length;\n        bytes = trunHeader(samples, offset);\n\n        for (i = 0; i < samples.length; i++) {\n          sample = samples[i];\n          bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n          sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n          (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n          ]);\n        }\n\n        return box(types.trun, new Uint8Array(bytes));\n      };\n\n      audioTrun = function audioTrun(track, offset) {\n        var bytes, samples, sample, i;\n        samples = track.samples || [];\n        offset += 8 + 12 + 8 * samples.length;\n        bytes = trunHeader(samples, offset);\n\n        for (i = 0; i < samples.length; i++) {\n          sample = samples[i];\n          bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n          (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n        }\n\n        return box(types.trun, new Uint8Array(bytes));\n      };\n\n      trun = function trun(track, offset) {\n        if (track.type === 'audio') {\n          return audioTrun(track, offset);\n        }\n\n        return videoTrun(track, offset);\n      };\n    })();\n\n    var mp4Generator = {\n      ftyp: ftyp,\n      mdat: mdat,\n      moof: moof,\n      moov: moov,\n      initSegment: function initSegment(tracks) {\n        var fileType = ftyp(),\n            movie = moov(tracks),\n            result;\n        result = new Uint8Array(fileType.byteLength + movie.byteLength);\n        result.set(fileType);\n        result.set(movie, fileType.byteLength);\n        return result;\n      }\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var toUnsigned = function toUnsigned(value) {\n      return value >>> 0;\n    };\n\n    var bin = {\n      toUnsigned: toUnsigned\n    };\n    var toUnsigned$1 = bin.toUnsigned;\n\n    var _findBox, parseType, timescale, startTime, getVideoTrackIds; // Find the data for a box specified by its path\n\n\n    _findBox = function findBox(data, path) {\n      var results = [],\n          i,\n          size,\n          type,\n          end,\n          subresults;\n\n      if (!path.length) {\n        // short-circuit the search for empty paths\n        return null;\n      }\n\n      for (i = 0; i < data.byteLength;) {\n        size = toUnsigned$1(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n        type = parseType(data.subarray(i + 4, i + 8));\n        end = size > 1 ? i + size : data.byteLength;\n\n        if (type === path[0]) {\n          if (path.length === 1) {\n            // this is the end of the path and we've found the box we were\n            // looking for\n            results.push(data.subarray(i + 8, end));\n          } else {\n            // recursively search for the next box along the path\n            subresults = _findBox(data.subarray(i + 8, end), path.slice(1));\n\n            if (subresults.length) {\n              results = results.concat(subresults);\n            }\n          }\n        }\n\n        i = end;\n      } // we've finished searching all of data\n\n\n      return results;\n    };\n    /**\n     * Returns the string representation of an ASCII encoded four byte buffer.\n     * @param buffer {Uint8Array} a four-byte buffer to translate\n     * @return {string} the corresponding string\n     */\n\n\n    parseType = function parseType(buffer) {\n      var result = '';\n      result += String.fromCharCode(buffer[0]);\n      result += String.fromCharCode(buffer[1]);\n      result += String.fromCharCode(buffer[2]);\n      result += String.fromCharCode(buffer[3]);\n      return result;\n    };\n    /**\n     * Parses an MP4 initialization segment and extracts the timescale\n     * values for any declared tracks. Timescale values indicate the\n     * number of clock ticks per second to assume for time-based values\n     * elsewhere in the MP4.\n     *\n     * To determine the start time of an MP4, you need two pieces of\n     * information: the timescale unit and the earliest base media decode\n     * time. Multiple timescales can be specified within an MP4 but the\n     * base media decode time is always expressed in the timescale from\n     * the media header box for the track:\n     * ```\n     * moov > trak > mdia > mdhd.timescale\n     * ```\n     * @param init {Uint8Array} the bytes of the init segment\n     * @return {object} a hash of track ids to timescale values or null if\n     * the init segment is malformed.\n     */\n\n\n    timescale = function timescale(init) {\n      var result = {},\n          traks = _findBox(init, ['moov', 'trak']); // mdhd timescale\n\n\n      return traks.reduce(function (result, trak) {\n        var tkhd, version, index, id, mdhd;\n        tkhd = _findBox(trak, ['tkhd'])[0];\n\n        if (!tkhd) {\n          return null;\n        }\n\n        version = tkhd[0];\n        index = version === 0 ? 12 : 20;\n        id = toUnsigned$1(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n        mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n        if (!mdhd) {\n          return null;\n        }\n\n        version = mdhd[0];\n        index = version === 0 ? 12 : 20;\n        result[id] = toUnsigned$1(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n        return result;\n      }, result);\n    };\n    /**\n     * Determine the base media decode start time, in seconds, for an MP4\n     * fragment. If multiple fragments are specified, the earliest time is\n     * returned.\n     *\n     * The base media decode time can be parsed from track fragment\n     * metadata:\n     * ```\n     * moof > traf > tfdt.baseMediaDecodeTime\n     * ```\n     * It requires the timescale value from the mdhd to interpret.\n     *\n     * @param timescale {object} a hash of track ids to timescale values.\n     * @return {number} the earliest base media decode start time for the\n     * fragment, in seconds\n     */\n\n\n    startTime = function startTime(timescale, fragment) {\n      var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n      trafs = _findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n      baseTimes = [].concat.apply([], trafs.map(function (traf) {\n        return _findBox(traf, ['tfhd']).map(function (tfhd) {\n          var id, scale, baseTime; // get the track id from the tfhd\n\n          id = toUnsigned$1(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n          scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n          baseTime = _findBox(traf, ['tfdt']).map(function (tfdt) {\n            var version, result;\n            version = tfdt[0];\n            result = toUnsigned$1(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n            if (version === 1) {\n              result *= Math.pow(2, 32);\n              result += toUnsigned$1(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n            }\n\n            return result;\n          })[0];\n          baseTime = baseTime || Infinity; // convert base time to seconds\n\n          return baseTime / scale;\n        });\n      })); // return the minimum\n\n      result = Math.min.apply(null, baseTimes);\n      return isFinite(result) ? result : 0;\n    };\n    /**\n      * Find the trackIds of the video tracks in this source.\n      * Found by parsing the Handler Reference and Track Header Boxes:\n      *   moov > trak > mdia > hdlr\n      *   moov > trak > tkhd\n      *\n      * @param {Uint8Array} init - The bytes of the init segment for this source\n      * @return {Number[]} A list of trackIds\n      *\n      * @see ISO-BMFF-12/2015, Section 8.4.3\n     **/\n\n\n    getVideoTrackIds = function getVideoTrackIds(init) {\n      var traks = _findBox(init, ['moov', 'trak']);\n\n      var videoTrackIds = [];\n      traks.forEach(function (trak) {\n        var hdlrs = _findBox(trak, ['mdia', 'hdlr']);\n\n        var tkhds = _findBox(trak, ['tkhd']);\n\n        hdlrs.forEach(function (hdlr, index) {\n          var handlerType = parseType(hdlr.subarray(8, 12));\n          var tkhd = tkhds[index];\n          var view;\n          var version;\n          var trackId;\n\n          if (handlerType === 'vide') {\n            view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n            version = view.getUint8(0);\n            trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n            videoTrackIds.push(trackId);\n          }\n        });\n      });\n      return videoTrackIds;\n    };\n\n    var probe = {\n      findBox: _findBox,\n      parseType: parseType,\n      timescale: timescale,\n      startTime: startTime,\n      videoTrackIds: getVideoTrackIds\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * A lightweight readable stream implemention that handles event dispatching.\n     * Objects that inherit from streams should call init in their constructors.\n     */\n\n    var Stream = function Stream() {\n      this.init = function () {\n        var listeners = {};\n        /**\n         * Add a listener for a specified event type.\n         * @param type {string} the event name\n         * @param listener {function} the callback to be invoked when an event of\n         * the specified type occurs\n         */\n\n        this.on = function (type, listener) {\n          if (!listeners[type]) {\n            listeners[type] = [];\n          }\n\n          listeners[type] = listeners[type].concat(listener);\n        };\n        /**\n         * Remove a listener for a specified event type.\n         * @param type {string} the event name\n         * @param listener {function} a function previously registered for this\n         * type of event through `on`\n         */\n\n\n        this.off = function (type, listener) {\n          var index;\n\n          if (!listeners[type]) {\n            return false;\n          }\n\n          index = listeners[type].indexOf(listener);\n          listeners[type] = listeners[type].slice();\n          listeners[type].splice(index, 1);\n          return index > -1;\n        };\n        /**\n         * Trigger an event of the specified type on this stream. Any additional\n         * arguments to this function are passed as parameters to event listeners.\n         * @param type {string} the event name\n         */\n\n\n        this.trigger = function (type) {\n          var callbacks, i, length, args;\n          callbacks = listeners[type];\n\n          if (!callbacks) {\n            return;\n          } // Slicing the arguments on every invocation of this method\n          // can add a significant amount of overhead. Avoid the\n          // intermediate object creation for the common case of a\n          // single callback argument\n\n\n          if (arguments.length === 2) {\n            length = callbacks.length;\n\n            for (i = 0; i < length; ++i) {\n              callbacks[i].call(this, arguments[1]);\n            }\n          } else {\n            args = [];\n            i = arguments.length;\n\n            for (i = 1; i < arguments.length; ++i) {\n              args.push(arguments[i]);\n            }\n\n            length = callbacks.length;\n\n            for (i = 0; i < length; ++i) {\n              callbacks[i].apply(this, args);\n            }\n          }\n        };\n        /**\n         * Destroys the stream and cleans up.\n         */\n\n\n        this.dispose = function () {\n          listeners = {};\n        };\n      };\n    };\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     * @param destination {stream} the stream that will receive all `data` events\n     * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n     *                            when the current stream emits a 'done' event\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n\n\n    Stream.prototype.pipe = function (destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n      this.on('done', function (flushSource) {\n        destination.flush(flushSource);\n      });\n      return destination;\n    }; // Default stream functions that are expected to be overridden to perform\n    // actual work. These are provided by the prototype as a sort of no-op\n    // implementation so that we don't have to check for their existence in the\n    // `pipe` function above.\n\n\n    Stream.prototype.push = function (data) {\n      this.trigger('data', data);\n    };\n\n    Stream.prototype.flush = function (flushSource) {\n      this.trigger('done', flushSource);\n    };\n\n    var stream = Stream;\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n    // Convert an array of nal units into an array of frames with each frame being\n    // composed of the nal units that make up that frame\n    // Also keep track of cummulative data about the frame from the nal units such\n    // as the frame duration, starting pts, etc.\n\n    var groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n      var i,\n          currentNal,\n          currentFrame = [],\n          frames = [];\n      currentFrame.byteLength = 0;\n\n      for (i = 0; i < nalUnits.length; i++) {\n        currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n        if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n          // Since the very first nal unit is expected to be an AUD\n          // only push to the frames array when currentFrame is not empty\n          if (currentFrame.length) {\n            currentFrame.duration = currentNal.dts - currentFrame.dts;\n            frames.push(currentFrame);\n          }\n\n          currentFrame = [currentNal];\n          currentFrame.byteLength = currentNal.data.byteLength;\n          currentFrame.pts = currentNal.pts;\n          currentFrame.dts = currentNal.dts;\n        } else {\n          // Specifically flag key frames for ease of use later\n          if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n            currentFrame.keyFrame = true;\n          }\n\n          currentFrame.duration = currentNal.dts - currentFrame.dts;\n          currentFrame.byteLength += currentNal.data.byteLength;\n          currentFrame.push(currentNal);\n        }\n      } // For the last frame, use the duration of the previous frame if we\n      // have nothing better to go on\n\n\n      if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n        currentFrame.duration = frames[frames.length - 1].duration;\n      } // Push the final frame\n\n\n      frames.push(currentFrame);\n      return frames;\n    }; // Convert an array of frames into an array of Gop with each Gop being composed\n    // of the frames that make up that Gop\n    // Also keep track of cummulative data about the Gop from the frames such as the\n    // Gop duration, starting pts, etc.\n\n\n    var groupFramesIntoGops = function groupFramesIntoGops(frames) {\n      var i,\n          currentFrame,\n          currentGop = [],\n          gops = []; // We must pre-set some of the values on the Gop since we\n      // keep running totals of these values\n\n      currentGop.byteLength = 0;\n      currentGop.nalCount = 0;\n      currentGop.duration = 0;\n      currentGop.pts = frames[0].pts;\n      currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n      gops.byteLength = 0;\n      gops.nalCount = 0;\n      gops.duration = 0;\n      gops.pts = frames[0].pts;\n      gops.dts = frames[0].dts;\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n\n        if (currentFrame.keyFrame) {\n          // Since the very first frame is expected to be an keyframe\n          // only push to the gops array when currentGop is not empty\n          if (currentGop.length) {\n            gops.push(currentGop);\n            gops.byteLength += currentGop.byteLength;\n            gops.nalCount += currentGop.nalCount;\n            gops.duration += currentGop.duration;\n          }\n\n          currentGop = [currentFrame];\n          currentGop.nalCount = currentFrame.length;\n          currentGop.byteLength = currentFrame.byteLength;\n          currentGop.pts = currentFrame.pts;\n          currentGop.dts = currentFrame.dts;\n          currentGop.duration = currentFrame.duration;\n        } else {\n          currentGop.duration += currentFrame.duration;\n          currentGop.nalCount += currentFrame.length;\n          currentGop.byteLength += currentFrame.byteLength;\n          currentGop.push(currentFrame);\n        }\n      }\n\n      if (gops.length && currentGop.duration <= 0) {\n        currentGop.duration = gops[gops.length - 1].duration;\n      }\n\n      gops.byteLength += currentGop.byteLength;\n      gops.nalCount += currentGop.nalCount;\n      gops.duration += currentGop.duration; // push the final Gop\n\n      gops.push(currentGop);\n      return gops;\n    };\n    /*\n     * Search for the first keyframe in the GOPs and throw away all frames\n     * until that keyframe. Then extend the duration of the pulled keyframe\n     * and pull the PTS and DTS of the keyframe so that it covers the time\n     * range of the frames that were disposed.\n     *\n     * @param {Array} gops video GOPs\n     * @returns {Array} modified video GOPs\n     */\n\n\n    var extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n      var currentGop;\n\n      if (!gops[0][0].keyFrame && gops.length > 1) {\n        // Remove the first GOP\n        currentGop = gops.shift();\n        gops.byteLength -= currentGop.byteLength;\n        gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n        // first gop to cover the time period of the\n        // frames we just removed\n\n        gops[0][0].dts = currentGop.dts;\n        gops[0][0].pts = currentGop.pts;\n        gops[0][0].duration += currentGop.duration;\n      }\n\n      return gops;\n    };\n    /**\n     * Default sample object\n     * see ISO/IEC 14496-12:2012, section 8.6.4.3\n     */\n\n\n    var createDefaultSample = function createDefaultSample() {\n      return {\n        size: 0,\n        flags: {\n          isLeading: 0,\n          dependsOn: 1,\n          isDependedOn: 0,\n          hasRedundancy: 0,\n          degradationPriority: 0,\n          isNonSyncSample: 1\n        }\n      };\n    };\n    /*\n     * Collates information from a video frame into an object for eventual\n     * entry into an MP4 sample table.\n     *\n     * @param {Object} frame the video frame\n     * @param {Number} dataOffset the byte offset to position the sample\n     * @return {Object} object containing sample table info for a frame\n     */\n\n\n    var sampleForFrame = function sampleForFrame(frame, dataOffset) {\n      var sample = createDefaultSample();\n      sample.dataOffset = dataOffset;\n      sample.compositionTimeOffset = frame.pts - frame.dts;\n      sample.duration = frame.duration;\n      sample.size = 4 * frame.length; // Space for nal unit size\n\n      sample.size += frame.byteLength;\n\n      if (frame.keyFrame) {\n        sample.flags.dependsOn = 2;\n        sample.flags.isNonSyncSample = 0;\n      }\n\n      return sample;\n    }; // generate the track's sample table from an array of gops\n\n\n    var generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n      var h,\n          i,\n          sample,\n          currentGop,\n          currentFrame,\n          dataOffset = baseDataOffset || 0,\n          samples = [];\n\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h];\n\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i];\n          sample = sampleForFrame(currentFrame, dataOffset);\n          dataOffset += sample.size;\n          samples.push(sample);\n        }\n      }\n\n      return samples;\n    }; // generate the track's raw mdat data from an array of gops\n\n\n    var concatenateNalData = function concatenateNalData(gops) {\n      var h,\n          i,\n          j,\n          currentGop,\n          currentFrame,\n          currentNal,\n          dataOffset = 0,\n          nalsByteLength = gops.byteLength,\n          numberOfNals = gops.nalCount,\n          totalByteLength = nalsByteLength + 4 * numberOfNals,\n          data = new Uint8Array(totalByteLength),\n          view = new DataView(data.buffer); // For each Gop..\n\n      for (h = 0; h < gops.length; h++) {\n        currentGop = gops[h]; // For each Frame..\n\n        for (i = 0; i < currentGop.length; i++) {\n          currentFrame = currentGop[i]; // For each NAL..\n\n          for (j = 0; j < currentFrame.length; j++) {\n            currentNal = currentFrame[j];\n            view.setUint32(dataOffset, currentNal.data.byteLength);\n            dataOffset += 4;\n            data.set(currentNal.data, dataOffset);\n            dataOffset += currentNal.data.byteLength;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var frameUtils = {\n      groupNalsIntoFrames: groupNalsIntoFrames,\n      groupFramesIntoGops: groupFramesIntoGops,\n      extendFirstKeyFrame: extendFirstKeyFrame,\n      generateSampleTable: generateSampleTable,\n      concatenateNalData: concatenateNalData\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var highPrefix = [33, 16, 5, 32, 164, 27];\n    var lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\n    var zeroFill = function zeroFill(count) {\n      var a = [];\n\n      while (count--) {\n        a.push(0);\n      }\n\n      return a;\n    };\n\n    var makeTable = function makeTable(metaTable) {\n      return Object.keys(metaTable).reduce(function (obj, key) {\n        obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n          return arr.concat(part);\n        }, []));\n        return obj;\n      }, {});\n    }; // Frames-of-silence to use for filling in missing AAC frames\n\n\n    var coneOfSilence = {\n      96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n      88200: [highPrefix, [231], zeroFill(170), [56]],\n      64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n      48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n      44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n      32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n      24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n      16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n      12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n      11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n      8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n    };\n    var silence = makeTable(coneOfSilence);\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ONE_SECOND_IN_TS = 90000,\n        // 90kHz clock\n    secondsToVideoTs,\n        secondsToAudioTs,\n        videoTsToSeconds,\n        audioTsToSeconds,\n        audioTsToVideoTs,\n        videoTsToAudioTs;\n\n    secondsToVideoTs = function secondsToVideoTs(seconds) {\n      return seconds * ONE_SECOND_IN_TS;\n    };\n\n    secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n      return seconds * sampleRate;\n    };\n\n    videoTsToSeconds = function videoTsToSeconds(timestamp) {\n      return timestamp / ONE_SECOND_IN_TS;\n    };\n\n    audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n      return timestamp / sampleRate;\n    };\n\n    audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n      return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n    };\n\n    videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n      return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n    };\n\n    var clock = {\n      secondsToVideoTs: secondsToVideoTs,\n      secondsToAudioTs: secondsToAudioTs,\n      videoTsToSeconds: videoTsToSeconds,\n      audioTsToSeconds: audioTsToSeconds,\n      audioTsToVideoTs: audioTsToVideoTs,\n      videoTsToAudioTs: videoTsToAudioTs\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ONE_SECOND_IN_TS$1 = 90000; // 90kHz clock\n\n    /**\n     * Sum the `byteLength` properties of the data in each AAC frame\n     */\n\n    var sumFrameByteLengths = function sumFrameByteLengths(array) {\n      var i,\n          currentObj,\n          sum = 0; // sum the byteLength's all each nal unit in the frame\n\n      for (i = 0; i < array.length; i++) {\n        currentObj = array[i];\n        sum += currentObj.data.byteLength;\n      }\n\n      return sum;\n    }; // Possibly pad (prefix) the audio track with silence if appending this track\n    // would lead to the introduction of a gap in the audio buffer\n\n\n    var prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n      var baseMediaDecodeTimeTs,\n          frameDuration = 0,\n          audioGapDuration = 0,\n          audioFillFrameCount = 0,\n          audioFillDuration = 0,\n          silentFrame,\n          i;\n\n      if (!frames.length) {\n        return;\n      }\n\n      baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n      frameDuration = Math.ceil(ONE_SECOND_IN_TS$1 / (track.samplerate / 1024));\n\n      if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n        // insert the shortest possible amount (audio gap or audio to video gap)\n        audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n        audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n        audioFillDuration = audioFillFrameCount * frameDuration;\n      } // don't attempt to fill gaps smaller than a single frame or larger\n      // than a half second\n\n\n      if (audioFillFrameCount < 1 || audioFillDuration > ONE_SECOND_IN_TS$1 / 2) {\n        return;\n      }\n\n      silentFrame = silence[track.samplerate];\n\n      if (!silentFrame) {\n        // we don't have a silent frame pregenerated for the sample rate, so use a frame\n        // from the content instead\n        silentFrame = frames[0].data;\n      }\n\n      for (i = 0; i < audioFillFrameCount; i++) {\n        frames.splice(i, 0, {\n          data: silentFrame\n        });\n      }\n\n      track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n    }; // If the audio segment extends before the earliest allowed dts\n    // value, remove AAC frames until starts at or after the earliest\n    // allowed DTS so that we don't end up with a negative baseMedia-\n    // DecodeTime for the audio track\n\n\n    var trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n      if (track.minSegmentDts >= earliestAllowedDts) {\n        return adtsFrames;\n      } // We will need to recalculate the earliest segment Dts\n\n\n      track.minSegmentDts = Infinity;\n      return adtsFrames.filter(function (currentFrame) {\n        // If this is an allowed frame, keep it and record it's Dts\n        if (currentFrame.dts >= earliestAllowedDts) {\n          track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n          track.minSegmentPts = track.minSegmentDts;\n          return true;\n        } // Otherwise, discard it\n\n\n        return false;\n      });\n    }; // generate the track's raw mdat data from an array of frames\n\n\n    var generateSampleTable$1 = function generateSampleTable(frames) {\n      var i,\n          currentFrame,\n          samples = [];\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n        samples.push({\n          size: currentFrame.data.byteLength,\n          duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n        });\n      }\n\n      return samples;\n    }; // generate the track's sample table from an array of frames\n\n\n    var concatenateFrameData = function concatenateFrameData(frames) {\n      var i,\n          currentFrame,\n          dataOffset = 0,\n          data = new Uint8Array(sumFrameByteLengths(frames));\n\n      for (i = 0; i < frames.length; i++) {\n        currentFrame = frames[i];\n        data.set(currentFrame.data, dataOffset);\n        dataOffset += currentFrame.data.byteLength;\n      }\n\n      return data;\n    };\n\n    var audioFrameUtils = {\n      prefixWithSilence: prefixWithSilence,\n      trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n      generateSampleTable: generateSampleTable$1,\n      concatenateFrameData: concatenateFrameData\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ONE_SECOND_IN_TS$2 = 90000; // 90kHz clock\n\n    /**\n     * Store information about the start and end of the track and the\n     * duration for each frame/sample we process in order to calculate\n     * the baseMediaDecodeTime\n     */\n\n    var collectDtsInfo = function collectDtsInfo(track, data) {\n      if (typeof data.pts === 'number') {\n        if (track.timelineStartInfo.pts === undefined) {\n          track.timelineStartInfo.pts = data.pts;\n        }\n\n        if (track.minSegmentPts === undefined) {\n          track.minSegmentPts = data.pts;\n        } else {\n          track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n        }\n\n        if (track.maxSegmentPts === undefined) {\n          track.maxSegmentPts = data.pts;\n        } else {\n          track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n        }\n      }\n\n      if (typeof data.dts === 'number') {\n        if (track.timelineStartInfo.dts === undefined) {\n          track.timelineStartInfo.dts = data.dts;\n        }\n\n        if (track.minSegmentDts === undefined) {\n          track.minSegmentDts = data.dts;\n        } else {\n          track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n        }\n\n        if (track.maxSegmentDts === undefined) {\n          track.maxSegmentDts = data.dts;\n        } else {\n          track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n        }\n      }\n    };\n    /**\n     * Clear values used to calculate the baseMediaDecodeTime between\n     * tracks\n     */\n\n\n    var clearDtsInfo = function clearDtsInfo(track) {\n      delete track.minSegmentDts;\n      delete track.maxSegmentDts;\n      delete track.minSegmentPts;\n      delete track.maxSegmentPts;\n    };\n    /**\n     * Calculate the track's baseMediaDecodeTime based on the earliest\n     * DTS the transmuxer has ever seen and the minimum DTS for the\n     * current track\n     * @param track {object} track metadata configuration\n     * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n\n    var calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n      var baseMediaDecodeTime,\n          scale,\n          minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n      if (!keepOriginalTimestamps) {\n        minSegmentDts -= track.timelineStartInfo.dts;\n      } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n      // we want the start of the first segment to be placed\n\n\n      baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n      baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n      baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n      if (track.type === 'audio') {\n        // Audio has a different clock equal to the sampling_rate so we need to\n        // scale the PTS values into the clock rate of the track\n        scale = track.samplerate / ONE_SECOND_IN_TS$2;\n        baseMediaDecodeTime *= scale;\n        baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n      }\n\n      return baseMediaDecodeTime;\n    };\n\n    var trackDecodeInfo = {\n      clearDtsInfo: clearDtsInfo,\n      calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n      collectDtsInfo: collectDtsInfo\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Reads in-band caption information from a video elementary\n     * stream. Captions must follow the CEA-708 standard for injection\n     * into an MPEG-2 transport streams.\n     * @see https://en.wikipedia.org/wiki/CEA-708\n     * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n     */\n    // Supplemental enhancement information (SEI) NAL units have a\n    // payload type field to indicate how they are to be\n    // interpreted. CEAS-708 caption content is always transmitted with\n    // payload type 0x04.\n\n    var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n        RBSP_TRAILING_BITS = 128;\n    /**\n      * Parse a supplemental enhancement information (SEI) NAL unit.\n      * Stops parsing once a message of type ITU T T35 has been found.\n      *\n      * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n      * @return {object} the parsed SEI payload\n      * @see Rec. ITU-T H.264, 7.3.2.3.1\n      */\n\n    var parseSei = function parseSei(bytes) {\n      var i = 0,\n          result = {\n        payloadType: -1,\n        payloadSize: 0\n      },\n          payloadType = 0,\n          payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n      while (i < bytes.byteLength) {\n        // stop once we have hit the end of the sei_rbsp\n        if (bytes[i] === RBSP_TRAILING_BITS) {\n          break;\n        } // Parse payload type\n\n\n        while (bytes[i] === 0xFF) {\n          payloadType += 255;\n          i++;\n        }\n\n        payloadType += bytes[i++]; // Parse payload size\n\n        while (bytes[i] === 0xFF) {\n          payloadSize += 255;\n          i++;\n        }\n\n        payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n        // there can only ever be one caption message in a frame's sei\n\n        if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n          result.payloadType = payloadType;\n          result.payloadSize = payloadSize;\n          result.payload = bytes.subarray(i, i + payloadSize);\n          break;\n        } // skip the payload and parse the next message\n\n\n        i += payloadSize;\n        payloadType = 0;\n        payloadSize = 0;\n      }\n\n      return result;\n    }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n    var parseUserData = function parseUserData(sei) {\n      // itu_t_t35_contry_code must be 181 (United States) for\n      // captions\n      if (sei.payload[0] !== 181) {\n        return null;\n      } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n      if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n        return null;\n      } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n      if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n        return null;\n      } // finally, user_data_type_code should be 0x03 for caption data\n\n\n      if (sei.payload[7] !== 0x03) {\n        return null;\n      } // return the user_data_type_structure and strip the trailing\n      // marker bits\n\n\n      return sei.payload.subarray(8, sei.payload.length - 1);\n    }; // see CEA-708-D, section 4.4\n\n\n    var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n      var results = [],\n          i,\n          count,\n          offset,\n          data; // if this is just filler, return immediately\n\n      if (!(userData[0] & 0x40)) {\n        return results;\n      } // parse out the cc_data_1 and cc_data_2 fields\n\n\n      count = userData[0] & 0x1f;\n\n      for (i = 0; i < count; i++) {\n        offset = i * 3;\n        data = {\n          type: userData[offset + 2] & 0x03,\n          pts: pts\n        }; // capture cc data when cc_valid is 1\n\n        if (userData[offset + 2] & 0x04) {\n          data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n          results.push(data);\n        }\n      }\n\n      return results;\n    };\n\n    var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n      var length = data.byteLength,\n          emulationPreventionBytesPositions = [],\n          i = 1,\n          newLength,\n          newData; // Find all `Emulation Prevention Bytes`\n\n      while (i < length - 2) {\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      } // If no Emulation Prevention Bytes were found just return the original\n      // array\n\n\n      if (emulationPreventionBytesPositions.length === 0) {\n        return data;\n      } // Create a new array to hold the NAL unit data\n\n\n      newLength = length - emulationPreventionBytesPositions.length;\n      newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          // Skip this byte\n          sourceIndex++; // Remove this position index\n\n          emulationPreventionBytesPositions.shift();\n        }\n\n        newData[i] = data[sourceIndex];\n      }\n\n      return newData;\n    }; // exports\n\n\n    var captionPacketParser = {\n      parseSei: parseSei,\n      parseUserData: parseUserData,\n      parseCaptionPackets: parseCaptionPackets,\n      discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n      USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n    }; // -----------------\n    // Link To Transport\n    // -----------------\n\n    var CaptionStream = function CaptionStream() {\n      CaptionStream.prototype.init.call(this);\n      this.captionPackets_ = [];\n      this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n      new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n      new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n      new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n      ];\n      this.reset(); // forward data and done events from CCs to this CaptionStream\n\n      this.ccStreams_.forEach(function (cc) {\n        cc.on('data', this.trigger.bind(this, 'data'));\n        cc.on('done', this.trigger.bind(this, 'done'));\n      }, this);\n    };\n\n    CaptionStream.prototype = new stream();\n\n    CaptionStream.prototype.push = function (event) {\n      var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n      if (event.nalUnitType !== 'sei_rbsp') {\n        return;\n      } // parse the sei\n\n\n      sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n      if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n        return;\n      } // parse out the user data payload\n\n\n      userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n      if (!userData) {\n        return;\n      } // Sometimes, the same segment # will be downloaded twice. To stop the\n      // caption data from being processed twice, we track the latest dts we've\n      // received and ignore everything with a dts before that. However, since\n      // data for a specific dts can be split across packets on either side of\n      // a segment boundary, we need to make sure we *don't* ignore the packets\n      // from the *next* segment that have dts === this.latestDts_. By constantly\n      // tracking the number of packets received with dts === this.latestDts_, we\n      // know how many should be ignored once we start receiving duplicates.\n\n\n      if (event.dts < this.latestDts_) {\n        // We've started getting older data, so set the flag.\n        this.ignoreNextEqualDts_ = true;\n        return;\n      } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n        this.numSameDts_--;\n\n        if (!this.numSameDts_) {\n          // We've received the last duplicate packet, time to start processing again\n          this.ignoreNextEqualDts_ = false;\n        }\n\n        return;\n      } // parse out CC data packets and save them for later\n\n\n      newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n      this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n      if (this.latestDts_ !== event.dts) {\n        this.numSameDts_ = 0;\n      }\n\n      this.numSameDts_++;\n      this.latestDts_ = event.dts;\n    };\n\n    CaptionStream.prototype.flush = function () {\n      // make sure we actually parsed captions before proceeding\n      if (!this.captionPackets_.length) {\n        this.ccStreams_.forEach(function (cc) {\n          cc.flush();\n        }, this);\n        return;\n      } // In Chrome, the Array#sort function is not stable so add a\n      // presortIndex that we can use to ensure we get a stable-sort\n\n\n      this.captionPackets_.forEach(function (elem, idx) {\n        elem.presortIndex = idx;\n      }); // sort caption byte-pairs based on their PTS values\n\n      this.captionPackets_.sort(function (a, b) {\n        if (a.pts === b.pts) {\n          return a.presortIndex - b.presortIndex;\n        }\n\n        return a.pts - b.pts;\n      });\n      this.captionPackets_.forEach(function (packet) {\n        if (packet.type < 2) {\n          // Dispatch packet to the right Cea608Stream\n          this.dispatchCea608Packet(packet);\n        } // this is where an 'else' would go for a dispatching packets\n        // to a theoretical Cea708Stream that handles SERVICEn data\n\n      }, this);\n      this.captionPackets_.length = 0;\n      this.ccStreams_.forEach(function (cc) {\n        cc.flush();\n      }, this);\n      return;\n    };\n\n    CaptionStream.prototype.reset = function () {\n      this.latestDts_ = null;\n      this.ignoreNextEqualDts_ = false;\n      this.numSameDts_ = 0;\n      this.activeCea608Channel_ = [null, null];\n      this.ccStreams_.forEach(function (ccStream) {\n        ccStream.reset();\n      });\n    }; // From the CEA-608 spec:\n\n    /*\n     * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n     * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n     * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n     * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n     * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n     * to switch to captioning or Text.\n    */\n    // With that in mind, we ignore any data between an XDS control code and a\n    // subsequent closed-captioning control code.\n\n\n    CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n      // NOTE: packet.type is the CEA608 field\n      if (this.setsTextOrXDSActive(packet)) {\n        this.activeCea608Channel_[packet.type] = null;\n      } else if (this.setsChannel1Active(packet)) {\n        this.activeCea608Channel_[packet.type] = 0;\n      } else if (this.setsChannel2Active(packet)) {\n        this.activeCea608Channel_[packet.type] = 1;\n      }\n\n      if (this.activeCea608Channel_[packet.type] === null) {\n        // If we haven't received anything to set the active channel, or the\n        // packets are Text/XDS data, discard the data; we don't want jumbled\n        // captions\n        return;\n      }\n\n      this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n    };\n\n    CaptionStream.prototype.setsChannel1Active = function (packet) {\n      return (packet.ccData & 0x7800) === 0x1000;\n    };\n\n    CaptionStream.prototype.setsChannel2Active = function (packet) {\n      return (packet.ccData & 0x7800) === 0x1800;\n    };\n\n    CaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n      return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n    }; // ----------------------\n    // Session to Application\n    // ----------------------\n    // This hash maps non-ASCII, special, and extended character codes to their\n    // proper Unicode equivalent. The first keys that are only a single byte\n    // are the non-standard ASCII characters, which simply map the CEA608 byte\n    // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n    // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n    // can be performed regardless of the field and data channel on which the\n    // character code was received.\n\n\n    var CHARACTER_TRANSLATION = {\n      0x2a: 0xe1,\n      // \n      0x5c: 0xe9,\n      // \n      0x5e: 0xed,\n      // \n      0x5f: 0xf3,\n      // \n      0x60: 0xfa,\n      // \n      0x7b: 0xe7,\n      // \n      0x7c: 0xf7,\n      // \n      0x7d: 0xd1,\n      // \n      0x7e: 0xf1,\n      // \n      0x7f: 0x2588,\n      // \n      0x0130: 0xae,\n      // \n      0x0131: 0xb0,\n      // \n      0x0132: 0xbd,\n      // \n      0x0133: 0xbf,\n      // \n      0x0134: 0x2122,\n      // \n      0x0135: 0xa2,\n      // \n      0x0136: 0xa3,\n      // \n      0x0137: 0x266a,\n      // \n      0x0138: 0xe0,\n      // \n      0x0139: 0xa0,\n      //\n      0x013a: 0xe8,\n      // \n      0x013b: 0xe2,\n      // \n      0x013c: 0xea,\n      // \n      0x013d: 0xee,\n      // \n      0x013e: 0xf4,\n      // \n      0x013f: 0xfb,\n      // \n      0x0220: 0xc1,\n      // \n      0x0221: 0xc9,\n      // \n      0x0222: 0xd3,\n      // \n      0x0223: 0xda,\n      // \n      0x0224: 0xdc,\n      // \n      0x0225: 0xfc,\n      // \n      0x0226: 0x2018,\n      // \n      0x0227: 0xa1,\n      // \n      0x0228: 0x2a,\n      // *\n      0x0229: 0x27,\n      // '\n      0x022a: 0x2014,\n      // \n      0x022b: 0xa9,\n      // \n      0x022c: 0x2120,\n      // \n      0x022d: 0x2022,\n      // \n      0x022e: 0x201c,\n      // \n      0x022f: 0x201d,\n      // \n      0x0230: 0xc0,\n      // \n      0x0231: 0xc2,\n      // \n      0x0232: 0xc7,\n      // \n      0x0233: 0xc8,\n      // \n      0x0234: 0xca,\n      // \n      0x0235: 0xcb,\n      // \n      0x0236: 0xeb,\n      // \n      0x0237: 0xce,\n      // \n      0x0238: 0xcf,\n      // \n      0x0239: 0xef,\n      // \n      0x023a: 0xd4,\n      // \n      0x023b: 0xd9,\n      // \n      0x023c: 0xf9,\n      // \n      0x023d: 0xdb,\n      // \n      0x023e: 0xab,\n      // \n      0x023f: 0xbb,\n      // \n      0x0320: 0xc3,\n      // \n      0x0321: 0xe3,\n      // \n      0x0322: 0xcd,\n      // \n      0x0323: 0xcc,\n      // \n      0x0324: 0xec,\n      // \n      0x0325: 0xd2,\n      // \n      0x0326: 0xf2,\n      // \n      0x0327: 0xd5,\n      // \n      0x0328: 0xf5,\n      // \n      0x0329: 0x7b,\n      // {\n      0x032a: 0x7d,\n      // }\n      0x032b: 0x5c,\n      // \\\n      0x032c: 0x5e,\n      // ^\n      0x032d: 0x5f,\n      // _\n      0x032e: 0x7c,\n      // |\n      0x032f: 0x7e,\n      // ~\n      0x0330: 0xc4,\n      // \n      0x0331: 0xe4,\n      // \n      0x0332: 0xd6,\n      // \n      0x0333: 0xf6,\n      // \n      0x0334: 0xdf,\n      // \n      0x0335: 0xa5,\n      // \n      0x0336: 0xa4,\n      // \n      0x0337: 0x2502,\n      // \n      0x0338: 0xc5,\n      // \n      0x0339: 0xe5,\n      // \n      0x033a: 0xd8,\n      // \n      0x033b: 0xf8,\n      // \n      0x033c: 0x250c,\n      // \n      0x033d: 0x2510,\n      // \n      0x033e: 0x2514,\n      // \n      0x033f: 0x2518 // \n\n    };\n\n    var getCharFromCode = function getCharFromCode(code) {\n      if (code === null) {\n        return '';\n      }\n\n      code = CHARACTER_TRANSLATION[code] || code;\n      return String.fromCharCode(code);\n    }; // the index of the last row in a CEA-608 display buffer\n\n\n    var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n    // getting it through bit logic.\n\n    var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n    // cells. The \"bottom\" row is the last element in the outer array.\n\n    var createDisplayBuffer = function createDisplayBuffer() {\n      var result = [],\n          i = BOTTOM_ROW + 1;\n\n      while (i--) {\n        result.push('');\n      }\n\n      return result;\n    };\n\n    var Cea608Stream = function Cea608Stream(field, dataChannel) {\n      Cea608Stream.prototype.init.call(this);\n      this.field_ = field || 0;\n      this.dataChannel_ = dataChannel || 0;\n      this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n      this.setConstants();\n      this.reset();\n\n      this.push = function (packet) {\n        var data, swap, char0, char1, text; // remove the parity bits\n\n        data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n        if (data === this.lastControlCode_) {\n          this.lastControlCode_ = null;\n          return;\n        } // Store control codes\n\n\n        if ((data & 0xf000) === 0x1000) {\n          this.lastControlCode_ = data;\n        } else if (data !== this.PADDING_) {\n          this.lastControlCode_ = null;\n        }\n\n        char0 = data >>> 8;\n        char1 = data & 0xff;\n\n        if (data === this.PADDING_) {\n          return;\n        } else if (data === this.RESUME_CAPTION_LOADING_) {\n          this.mode_ = 'popOn';\n        } else if (data === this.END_OF_CAPTION_) {\n          // If an EOC is received while in paint-on mode, the displayed caption\n          // text should be swapped to non-displayed memory as if it was a pop-on\n          // caption. Because of that, we should explicitly switch back to pop-on\n          // mode\n          this.mode_ = 'popOn';\n          this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n          this.flushDisplayed(packet.pts); // flip memory\n\n          swap = this.displayed_;\n          this.displayed_ = this.nonDisplayed_;\n          this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n          this.startPts_ = packet.pts;\n        } else if (data === this.ROLL_UP_2_ROWS_) {\n          this.rollUpRows_ = 2;\n          this.setRollUp(packet.pts);\n        } else if (data === this.ROLL_UP_3_ROWS_) {\n          this.rollUpRows_ = 3;\n          this.setRollUp(packet.pts);\n        } else if (data === this.ROLL_UP_4_ROWS_) {\n          this.rollUpRows_ = 4;\n          this.setRollUp(packet.pts);\n        } else if (data === this.CARRIAGE_RETURN_) {\n          this.clearFormatting(packet.pts);\n          this.flushDisplayed(packet.pts);\n          this.shiftRowsUp_();\n          this.startPts_ = packet.pts;\n        } else if (data === this.BACKSPACE_) {\n          if (this.mode_ === 'popOn') {\n            this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n          } else {\n            this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n          }\n        } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n          this.flushDisplayed(packet.pts);\n          this.displayed_ = createDisplayBuffer();\n        } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n          this.nonDisplayed_ = createDisplayBuffer();\n        } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n          if (this.mode_ !== 'paintOn') {\n            // NOTE: This should be removed when proper caption positioning is\n            // implemented\n            this.flushDisplayed(packet.pts);\n            this.displayed_ = createDisplayBuffer();\n          }\n\n          this.mode_ = 'paintOn';\n          this.startPts_ = packet.pts; // Append special characters to caption text\n        } else if (this.isSpecialCharacter(char0, char1)) {\n          // Bitmask char0 so that we can apply character transformations\n          // regardless of field and data channel.\n          // Then byte-shift to the left and OR with char1 so we can pass the\n          // entire character code to `getCharFromCode`.\n          char0 = (char0 & 0x03) << 8;\n          text = getCharFromCode(char0 | char1);\n          this[this.mode_](packet.pts, text);\n          this.column_++; // Append extended characters to caption text\n        } else if (this.isExtCharacter(char0, char1)) {\n          // Extended characters always follow their \"non-extended\" equivalents.\n          // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n          // decoders are supposed to drop the \"\", while compliant decoders\n          // backspace the \"e\" and insert \"\".\n          // Delete the previous character\n          if (this.mode_ === 'popOn') {\n            this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n          } else {\n            this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n          } // Bitmask char0 so that we can apply character transformations\n          // regardless of field and data channel.\n          // Then byte-shift to the left and OR with char1 so we can pass the\n          // entire character code to `getCharFromCode`.\n\n\n          char0 = (char0 & 0x03) << 8;\n          text = getCharFromCode(char0 | char1);\n          this[this.mode_](packet.pts, text);\n          this.column_++; // Process mid-row codes\n        } else if (this.isMidRowCode(char0, char1)) {\n          // Attributes are not additive, so clear all formatting\n          this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n          // should be replaced with spaces, so add one now\n\n          this[this.mode_](packet.pts, ' ');\n          this.column_++;\n\n          if ((char1 & 0xe) === 0xe) {\n            this.addFormatting(packet.pts, ['i']);\n          }\n\n          if ((char1 & 0x1) === 0x1) {\n            this.addFormatting(packet.pts, ['u']);\n          } // Detect offset control codes and adjust cursor\n\n        } else if (this.isOffsetControlCode(char0, char1)) {\n          // Cursor position is set by indent PAC (see below) in 4-column\n          // increments, with an additional offset code of 1-3 to reach any\n          // of the 32 columns specified by CEA-608. So all we need to do\n          // here is increment the column cursor by the given offset.\n          this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n        } else if (this.isPAC(char0, char1)) {\n          // There's no logic for PAC -> row mapping, so we have to just\n          // find the row code in an array and use its index :(\n          var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n          if (this.mode_ === 'rollUp') {\n            // This implies that the base row is incorrectly set.\n            // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n            // of roll-up rows set.\n            if (row - this.rollUpRows_ + 1 < 0) {\n              row = this.rollUpRows_ - 1;\n            }\n\n            this.setRollUp(packet.pts, row);\n          }\n\n          if (row !== this.row_) {\n            // formatting is only persistent for current row\n            this.clearFormatting(packet.pts);\n            this.row_ = row;\n          } // All PACs can apply underline, so detect and apply\n          // (All odd-numbered second bytes set underline)\n\n\n          if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n            this.addFormatting(packet.pts, ['u']);\n          }\n\n          if ((data & 0x10) === 0x10) {\n            // We've got an indent level code. Each successive even number\n            // increments the column cursor by 4, so we can get the desired\n            // column position by bit-shifting to the right (to get n/2)\n            // and multiplying by 4.\n            this.column_ = ((data & 0xe) >> 1) * 4;\n          }\n\n          if (this.isColorPAC(char1)) {\n            // it's a color code, though we only support white, which\n            // can be either normal or italicized. white italics can be\n            // either 0x4e or 0x6e depending on the row, so we just\n            // bitwise-and with 0xe to see if italics should be turned on\n            if ((char1 & 0xe) === 0xe) {\n              this.addFormatting(packet.pts, ['i']);\n            }\n          } // We have a normal character in char0, and possibly one in char1\n\n        } else if (this.isNormalChar(char0)) {\n          if (char1 === 0x00) {\n            char1 = null;\n          }\n\n          text = getCharFromCode(char0);\n          text += getCharFromCode(char1);\n          this[this.mode_](packet.pts, text);\n          this.column_ += text.length;\n        } // finish data processing\n\n      };\n    };\n\n    Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n    // display buffer\n\n    Cea608Stream.prototype.flushDisplayed = function (pts) {\n      var content = this.displayed_ // remove spaces from the start and end of the string\n      .map(function (row) {\n        try {\n          return row.trim();\n        } catch (e) {\n          // Ordinarily, this shouldn't happen. However, caption\n          // parsing errors should not throw exceptions and\n          // break playback.\n          // eslint-disable-next-line no-console\n          console.error('Skipping malformed caption.');\n          return '';\n        }\n      }) // combine all text rows to display in one cue\n      .join('\\n') // and remove blank rows from the start and end, but not the middle\n      .replace(/^\\n+|\\n+$/g, '');\n\n      if (content.length) {\n        this.trigger('data', {\n          startPts: this.startPts_,\n          endPts: pts,\n          text: content,\n          stream: this.name_\n        });\n      }\n    };\n    /**\n     * Zero out the data, used for startup and on seek\n     */\n\n\n    Cea608Stream.prototype.reset = function () {\n      this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n      // actually display captions. If a caption is shifted to a row\n      // with a lower index than this, it is cleared from the display\n      // buffer\n\n      this.topRow_ = 0;\n      this.startPts_ = 0;\n      this.displayed_ = createDisplayBuffer();\n      this.nonDisplayed_ = createDisplayBuffer();\n      this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n      this.column_ = 0;\n      this.row_ = BOTTOM_ROW;\n      this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n      this.formatting_ = [];\n    };\n    /**\n     * Sets up control code and related constants for this instance\n     */\n\n\n    Cea608Stream.prototype.setConstants = function () {\n      // The following attributes have these uses:\n      // ext_ :    char0 for mid-row codes, and the base for extended\n      //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n      //           extended codes)\n      // control_: char0 for control codes, except byte-shifted to the\n      //           left so that we can do this.control_ | CONTROL_CODE\n      // offset_:  char0 for tab offset codes\n      //\n      // It's also worth noting that control codes, and _only_ control codes,\n      // differ between field 1 and field2. Field 2 control codes are always\n      // their field 1 value plus 1. That's why there's the \"| field\" on the\n      // control value.\n      if (this.dataChannel_ === 0) {\n        this.BASE_ = 0x10;\n        this.EXT_ = 0x11;\n        this.CONTROL_ = (0x14 | this.field_) << 8;\n        this.OFFSET_ = 0x17;\n      } else if (this.dataChannel_ === 1) {\n        this.BASE_ = 0x18;\n        this.EXT_ = 0x19;\n        this.CONTROL_ = (0x1c | this.field_) << 8;\n        this.OFFSET_ = 0x1f;\n      } // Constants for the LSByte command codes recognized by Cea608Stream. This\n      // list is not exhaustive. For a more comprehensive listing and semantics see\n      // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n      // Padding\n\n\n      this.PADDING_ = 0x0000; // Pop-on Mode\n\n      this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n      this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n      this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n      this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n      this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n      this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n      this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n      this.BACKSPACE_ = this.CONTROL_ | 0x21;\n      this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n      this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n    };\n    /**\n     * Detects if the 2-byte packet data is a special character\n     *\n     * Special characters have a second byte in the range 0x30 to 0x3f,\n     * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n     * data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an special character\n     */\n\n\n    Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n      return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n    };\n    /**\n     * Detects if the 2-byte packet data is an extended character\n     *\n     * Extended characters have a second byte in the range 0x20 to 0x3f,\n     * with the first byte being 0x12 or 0x13 (for data channel 1) or\n     * 0x1a or 0x1b (for data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an extended character\n     */\n\n\n    Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n      return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n    };\n    /**\n     * Detects if the 2-byte packet is a mid-row code\n     *\n     * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n     * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n     * channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are a mid-row code\n     */\n\n\n    Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n      return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n    };\n    /**\n     * Detects if the 2-byte packet is an offset control code\n     *\n     * Offset control codes have a second byte in the range 0x21 to 0x23,\n     * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n     * data channel 2).\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are an offset control code\n     */\n\n\n    Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n      return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n    };\n    /**\n     * Detects if the 2-byte packet is a Preamble Address Code\n     *\n     * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n     * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n     * range 0x40 to 0x7f.\n     *\n     * @param  {Integer} char0 The first byte\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the 2 bytes are a PAC\n     */\n\n\n    Cea608Stream.prototype.isPAC = function (char0, char1) {\n      return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n    };\n    /**\n     * Detects if a packet's second byte is in the range of a PAC color code\n     *\n     * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n     * 0x60 to 0x6f.\n     *\n     * @param  {Integer} char1 The second byte\n     * @return {Boolean}       Whether the byte is a color PAC\n     */\n\n\n    Cea608Stream.prototype.isColorPAC = function (char1) {\n      return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n    };\n    /**\n     * Detects if a single byte is in the range of a normal character\n     *\n     * Normal text bytes are in the range 0x20 to 0x7f.\n     *\n     * @param  {Integer} char  The byte\n     * @return {Boolean}       Whether the byte is a normal character\n     */\n\n\n    Cea608Stream.prototype.isNormalChar = function (_char) {\n      return _char >= 0x20 && _char <= 0x7f;\n    };\n    /**\n     * Configures roll-up\n     *\n     * @param  {Integer} pts         Current PTS\n     * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n     *                               a new position\n     */\n\n\n    Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n      // Reset the base row to the bottom row when switching modes\n      if (this.mode_ !== 'rollUp') {\n        this.row_ = BOTTOM_ROW;\n        this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n        this.flushDisplayed(pts);\n        this.nonDisplayed_ = createDisplayBuffer();\n        this.displayed_ = createDisplayBuffer();\n      }\n\n      if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n        // move currently displayed captions (up or down) to the new base row\n        for (var i = 0; i < this.rollUpRows_; i++) {\n          this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n          this.displayed_[this.row_ - i] = '';\n        }\n      }\n\n      if (newBaseRow === undefined) {\n        newBaseRow = this.row_;\n      }\n\n      this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n    }; // Adds the opening HTML tag for the passed character to the caption text,\n    // and keeps track of it for later closing\n\n\n    Cea608Stream.prototype.addFormatting = function (pts, format) {\n      this.formatting_ = this.formatting_.concat(format);\n      var text = format.reduce(function (text, format) {\n        return text + '<' + format + '>';\n      }, '');\n      this[this.mode_](pts, text);\n    }; // Adds HTML closing tags for current formatting to caption text and\n    // clears remembered formatting\n\n\n    Cea608Stream.prototype.clearFormatting = function (pts) {\n      if (!this.formatting_.length) {\n        return;\n      }\n\n      var text = this.formatting_.reverse().reduce(function (text, format) {\n        return text + '</' + format + '>';\n      }, '');\n      this.formatting_ = [];\n      this[this.mode_](pts, text);\n    }; // Mode Implementations\n\n\n    Cea608Stream.prototype.popOn = function (pts, text) {\n      var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n      baseRow += text;\n      this.nonDisplayed_[this.row_] = baseRow;\n    };\n\n    Cea608Stream.prototype.rollUp = function (pts, text) {\n      var baseRow = this.displayed_[this.row_];\n      baseRow += text;\n      this.displayed_[this.row_] = baseRow;\n    };\n\n    Cea608Stream.prototype.shiftRowsUp_ = function () {\n      var i; // clear out inactive rows\n\n      for (i = 0; i < this.topRow_; i++) {\n        this.displayed_[i] = '';\n      }\n\n      for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n        this.displayed_[i] = '';\n      } // shift displayed rows up\n\n\n      for (i = this.topRow_; i < this.row_; i++) {\n        this.displayed_[i] = this.displayed_[i + 1];\n      } // clear out the bottom row\n\n\n      this.displayed_[this.row_] = '';\n    };\n\n    Cea608Stream.prototype.paintOn = function (pts, text) {\n      var baseRow = this.displayed_[this.row_];\n      baseRow += text;\n      this.displayed_[this.row_] = baseRow;\n    }; // exports\n\n\n    var captionStream = {\n      CaptionStream: CaptionStream,\n      Cea608Stream: Cea608Stream\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var streamTypes = {\n      H264_STREAM_TYPE: 0x1B,\n      ADTS_STREAM_TYPE: 0x0F,\n      METADATA_STREAM_TYPE: 0x15\n    };\n    var MAX_TS = 8589934592;\n    var RO_THRESH = 4294967296;\n\n    var handleRollover = function handleRollover(value, reference) {\n      var direction = 1;\n\n      if (value > reference) {\n        // If the current timestamp value is greater than our reference timestamp and we detect a\n        // timestamp rollover, this means the roll over is happening in the opposite direction.\n        // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n        // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n        // rollover point. In loading this segment, the timestamp values will be very large,\n        // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n        // the time stamp to be `value - 2^33`.\n        direction = -1;\n      } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n      // cause an incorrect adjustment.\n\n\n      while (Math.abs(reference - value) > RO_THRESH) {\n        value += direction * MAX_TS;\n      }\n\n      return value;\n    };\n\n    var TimestampRolloverStream = function TimestampRolloverStream(type) {\n      var lastDTS, referenceDTS;\n      TimestampRolloverStream.prototype.init.call(this);\n      this.type_ = type;\n\n      this.push = function (data) {\n        if (data.type !== this.type_) {\n          return;\n        }\n\n        if (referenceDTS === undefined) {\n          referenceDTS = data.dts;\n        }\n\n        data.dts = handleRollover(data.dts, referenceDTS);\n        data.pts = handleRollover(data.pts, referenceDTS);\n        lastDTS = data.dts;\n        this.trigger('data', data);\n      };\n\n      this.flush = function () {\n        referenceDTS = lastDTS;\n        this.trigger('done');\n      };\n\n      this.discontinuity = function () {\n        referenceDTS = void 0;\n        lastDTS = void 0;\n      };\n    };\n\n    TimestampRolloverStream.prototype = new stream();\n    var timestampRolloverStream = {\n      TimestampRolloverStream: TimestampRolloverStream,\n      handleRollover: handleRollover\n    };\n\n    var percentEncode = function percentEncode(bytes, start, end) {\n      var i,\n          result = '';\n\n      for (i = start; i < end; i++) {\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n      }\n\n      return result;\n    },\n        // return the string representation of the specified byte range,\n    // interpreted as UTf-8.\n    parseUtf8 = function parseUtf8(bytes, start, end) {\n      return decodeURIComponent(percentEncode(bytes, start, end));\n    },\n        // return the string representation of the specified byte range,\n    // interpreted as ISO-8859-1.\n    parseIso88591 = function parseIso88591(bytes, start, end) {\n      return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n    },\n        parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n      return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n    },\n        tagParsers = {\n      TXXX: function TXXX(tag) {\n        var i;\n\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the text fields\n            tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n            tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n            break;\n          }\n        }\n\n        tag.data = tag.value;\n      },\n      WXXX: function WXXX(tag) {\n        var i;\n\n        if (tag.data[0] !== 3) {\n          // ignore frames with unrecognized character encodings\n          return;\n        }\n\n        for (i = 1; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.description = parseUtf8(tag.data, 1, i);\n            tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n            break;\n          }\n        }\n      },\n      PRIV: function PRIV(tag) {\n        var i;\n\n        for (i = 0; i < tag.data.length; i++) {\n          if (tag.data[i] === 0) {\n            // parse the description and URL fields\n            tag.owner = parseIso88591(tag.data, 0, i);\n            break;\n          }\n        }\n\n        tag.privateData = tag.data.subarray(i + 1);\n        tag.data = tag.privateData;\n      }\n    },\n        _MetadataStream;\n\n    _MetadataStream = function MetadataStream(options) {\n      var settings = {\n        debug: !!(options && options.debug),\n        // the bytes of the program-level descriptor field in MP2T\n        // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n        // program element descriptors\"\n        descriptor: options && options.descriptor\n      },\n          // the total size in bytes of the ID3 tag being parsed\n      tagSize = 0,\n          // tag data that is not complete enough to be parsed\n      buffer = [],\n          // the total number of bytes currently in the buffer\n      bufferSize = 0,\n          i;\n\n      _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n      // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n      this.dispatchType = streamTypes.METADATA_STREAM_TYPE.toString(16);\n\n      if (settings.descriptor) {\n        for (i = 0; i < settings.descriptor.length; i++) {\n          this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n        }\n      }\n\n      this.push = function (chunk) {\n        var tag, frameStart, frameSize, frame, i, frameHeader;\n\n        if (chunk.type !== 'timed-metadata') {\n          return;\n        } // if data_alignment_indicator is set in the PES header,\n        // we must have the start of a new ID3 tag. Assume anything\n        // remaining in the buffer was malformed and throw it out\n\n\n        if (chunk.dataAlignmentIndicator) {\n          bufferSize = 0;\n          buffer.length = 0;\n        } // ignore events that don't look like ID3 data\n\n\n        if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n          if (settings.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Skipping unrecognized metadata packet');\n          }\n\n          return;\n        } // add this chunk to the data we've collected so far\n\n\n        buffer.push(chunk);\n        bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n        if (buffer.length === 1) {\n          // the frame size is transmitted as a 28-bit integer in the\n          // last four bytes of the ID3 header.\n          // The most significant bit of each byte is dropped and the\n          // results concatenated to recover the actual value.\n          tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n          // convenient for our comparisons to include it\n\n          tagSize += 10;\n        } // if the entire frame has not arrived, wait for more data\n\n\n        if (bufferSize < tagSize) {\n          return;\n        } // collect the entire frame so it can be parsed\n\n\n        tag = {\n          data: new Uint8Array(tagSize),\n          frames: [],\n          pts: buffer[0].pts,\n          dts: buffer[0].dts\n        };\n\n        for (i = 0; i < tagSize;) {\n          tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n          i += buffer[0].data.byteLength;\n          bufferSize -= buffer[0].data.byteLength;\n          buffer.shift();\n        } // find the start of the first frame and the end of the tag\n\n\n        frameStart = 10;\n\n        if (tag.data[5] & 0x40) {\n          // advance the frame start past the extended header\n          frameStart += 4; // header size field\n\n          frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n          tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n        } // parse one or more ID3 frames\n        // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n        do {\n          // determine the number of bytes in this frame\n          frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n          if (frameSize < 1) {\n            // eslint-disable-next-line no-console\n            return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n          }\n\n          frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n          frame = {\n            id: frameHeader,\n            data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n          };\n          frame.key = frame.id;\n\n          if (tagParsers[frame.id]) {\n            tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n            // time for raw AAC data\n\n            if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n              var d = frame.data,\n                  size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n              size *= 4;\n              size += d[7] & 0x03;\n              frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n              // on the value of this frame\n              // we couldn't have known the appropriate pts and dts before\n              // parsing this ID3 tag so set those values now\n\n              if (tag.pts === undefined && tag.dts === undefined) {\n                tag.pts = frame.timeStamp;\n                tag.dts = frame.timeStamp;\n              }\n\n              this.trigger('timestamp', frame);\n            }\n          }\n\n          tag.frames.push(frame);\n          frameStart += 10; // advance past the frame header\n\n          frameStart += frameSize; // advance past the frame body\n        } while (frameStart < tagSize);\n\n        this.trigger('data', tag);\n      };\n    };\n\n    _MetadataStream.prototype = new stream();\n    var metadataStream = _MetadataStream;\n    var TimestampRolloverStream$1 = timestampRolloverStream.TimestampRolloverStream; // object types\n\n    var _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\n    var MP2T_PACKET_LENGTH = 188,\n        // bytes\n    SYNC_BYTE = 0x47;\n    /**\n     * Splits an incoming stream of binary data into MPEG-2 Transport\n     * Stream packets.\n     */\n\n    _TransportPacketStream = function TransportPacketStream() {\n      var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n          bytesInBuffer = 0;\n\n      _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n      /**\n       * Split a stream of data into M2TS packets\n      **/\n\n\n      this.push = function (bytes) {\n        var startIndex = 0,\n            endIndex = MP2T_PACKET_LENGTH,\n            everything; // If there are bytes remaining from the last segment, prepend them to the\n        // bytes that were pushed in\n\n        if (bytesInBuffer) {\n          everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n          everything.set(buffer.subarray(0, bytesInBuffer));\n          everything.set(bytes, bytesInBuffer);\n          bytesInBuffer = 0;\n        } else {\n          everything = bytes;\n        } // While we have enough data for a packet\n\n\n        while (endIndex < everything.byteLength) {\n          // Look for a pair of start and end sync bytes in the data..\n          if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n            // We found a packet so emit it and jump one whole packet forward in\n            // the stream\n            this.trigger('data', everything.subarray(startIndex, endIndex));\n            startIndex += MP2T_PACKET_LENGTH;\n            endIndex += MP2T_PACKET_LENGTH;\n            continue;\n          } // If we get here, we have somehow become de-synchronized and we need to step\n          // forward one byte at a time until we find a pair of sync bytes that denote\n          // a packet\n\n\n          startIndex++;\n          endIndex++;\n        } // If there was some data left over at the end of the segment that couldn't\n        // possibly be a whole packet, keep it because it might be the start of a packet\n        // that continues in the next segment\n\n\n        if (startIndex < everything.byteLength) {\n          buffer.set(everything.subarray(startIndex), 0);\n          bytesInBuffer = everything.byteLength - startIndex;\n        }\n      };\n      /**\n       * Passes identified M2TS packets to the TransportParseStream to be parsed\n      **/\n\n\n      this.flush = function () {\n        // If the buffer contains a whole packet when we are being flushed, emit it\n        // and empty the buffer. Otherwise hold onto the data because it may be\n        // important for decoding the next segment\n        if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n          this.trigger('data', buffer);\n          bytesInBuffer = 0;\n        }\n\n        this.trigger('done');\n      };\n    };\n\n    _TransportPacketStream.prototype = new stream();\n    /**\n     * Accepts an MP2T TransportPacketStream and emits data events with parsed\n     * forms of the individual transport stream packets.\n     */\n\n    _TransportParseStream = function TransportParseStream() {\n      var parsePsi, parsePat, parsePmt, self;\n\n      _TransportParseStream.prototype.init.call(this);\n\n      self = this;\n      this.packetsWaitingForPmt = [];\n      this.programMapTable = undefined;\n\n      parsePsi = function parsePsi(payload, psi) {\n        var offset = 0; // PSI packets may be split into multiple sections and those\n        // sections may be split into multiple packets. If a PSI\n        // section starts in this packet, the payload_unit_start_indicator\n        // will be true and the first byte of the payload will indicate\n        // the offset from the current position to the start of the\n        // section.\n\n        if (psi.payloadUnitStartIndicator) {\n          offset += payload[offset] + 1;\n        }\n\n        if (psi.type === 'pat') {\n          parsePat(payload.subarray(offset), psi);\n        } else {\n          parsePmt(payload.subarray(offset), psi);\n        }\n      };\n\n      parsePat = function parsePat(payload, pat) {\n        pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n        pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n        // skip the PSI header and parse the first PMT entry\n\n        self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n        pat.pmtPid = self.pmtPid;\n      };\n      /**\n       * Parse out the relevant fields of a Program Map Table (PMT).\n       * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n       * packet. The first byte in this array should be the table_id\n       * field.\n       * @param pmt {object} the object that should be decorated with\n       * fields parsed from the PMT.\n       */\n\n\n      parsePmt = function parsePmt(payload, pmt) {\n        var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n        // take effect. We don't believe this should ever be the case\n        // for HLS but we'll ignore \"forward\" PMT declarations if we see\n        // them. Future PMT declarations have the current_next_indicator\n        // set to zero.\n\n        if (!(payload[5] & 0x01)) {\n          return;\n        } // overwrite any existing program map table\n\n\n        self.programMapTable = {\n          video: null,\n          audio: null,\n          'timed-metadata': {}\n        }; // the mapping table ends at the end of the current section\n\n        sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n        tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n        // long the program info descriptors are\n\n        programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n        offset = 12 + programInfoLength;\n\n        while (offset < tableEnd) {\n          var streamType = payload[offset];\n          var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n          // TODO: should this be done for metadata too? for now maintain behavior of\n          //       multiple metadata streams\n\n          if (streamType === streamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n            self.programMapTable.video = pid;\n          } else if (streamType === streamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n            self.programMapTable.audio = pid;\n          } else if (streamType === streamTypes.METADATA_STREAM_TYPE) {\n            // map pid to stream type for metadata streams\n            self.programMapTable['timed-metadata'][pid] = streamType;\n          } // move to the next table entry\n          // skip past the elementary stream descriptors, if present\n\n\n          offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n        } // record the map on the packet as well\n\n\n        pmt.programMapTable = self.programMapTable;\n      };\n      /**\n       * Deliver a new MP2T packet to the next stream in the pipeline.\n       */\n\n\n      this.push = function (packet) {\n        var result = {},\n            offset = 4;\n        result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n        result.pid = packet[1] & 0x1f;\n        result.pid <<= 8;\n        result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n        // fifth byte of the TS packet header. The adaptation field is\n        // used to add stuffing to PES packets that don't fill a complete\n        // TS packet, and to specify some forms of timing and control data\n        // that we do not currently use.\n\n        if ((packet[3] & 0x30) >>> 4 > 0x01) {\n          offset += packet[offset] + 1;\n        } // parse the rest of the packet based on the type\n\n\n        if (result.pid === 0) {\n          result.type = 'pat';\n          parsePsi(packet.subarray(offset), result);\n          this.trigger('data', result);\n        } else if (result.pid === this.pmtPid) {\n          result.type = 'pmt';\n          parsePsi(packet.subarray(offset), result);\n          this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n          while (this.packetsWaitingForPmt.length) {\n            this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n          }\n        } else if (this.programMapTable === undefined) {\n          // When we have not seen a PMT yet, defer further processing of\n          // PES packets until one has been parsed\n          this.packetsWaitingForPmt.push([packet, offset, result]);\n        } else {\n          this.processPes_(packet, offset, result);\n        }\n      };\n\n      this.processPes_ = function (packet, offset, result) {\n        // set the appropriate stream type\n        if (result.pid === this.programMapTable.video) {\n          result.streamType = streamTypes.H264_STREAM_TYPE;\n        } else if (result.pid === this.programMapTable.audio) {\n          result.streamType = streamTypes.ADTS_STREAM_TYPE;\n        } else {\n          // if not video or audio, it is timed-metadata or unknown\n          // if unknown, streamType will be undefined\n          result.streamType = this.programMapTable['timed-metadata'][result.pid];\n        }\n\n        result.type = 'pes';\n        result.data = packet.subarray(offset);\n        this.trigger('data', result);\n      };\n    };\n\n    _TransportParseStream.prototype = new stream();\n    _TransportParseStream.STREAM_TYPES = {\n      h264: 0x1b,\n      adts: 0x0f\n    };\n    /**\n     * Reconsistutes program elementary stream (PES) packets from parsed\n     * transport stream packets. That is, if you pipe an\n     * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n     * events will be events which capture the bytes for individual PES\n     * packets plus relevant metadata that has been extracted from the\n     * container.\n     */\n\n    _ElementaryStream = function ElementaryStream() {\n      var self = this,\n          // PES packet fragments\n      video = {\n        data: [],\n        size: 0\n      },\n          audio = {\n        data: [],\n        size: 0\n      },\n          timedMetadata = {\n        data: [],\n        size: 0\n      },\n          parsePes = function parsePes(payload, pes) {\n        var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n        pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n        pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n        // and a DTS value. Determine what combination of values is\n        // available to work with.\n\n        ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n        // performs all bitwise operations on 32-bit integers but javascript\n        // supports a much greater range (52-bits) of integer using standard\n        // mathematical operations.\n        // We construct a 31-bit value using bitwise operators over the 31\n        // most significant bits and then multiply by 4 (equal to a left-shift\n        // of 2) before we add the final 2 least significant bits of the\n        // timestamp (equal to an OR.)\n\n        if (ptsDtsFlags & 0xC0) {\n          // the PTS and DTS are not written out directly. For information\n          // on how they are encoded, see\n          // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n          pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n          pes.pts *= 4; // Left shift by 2\n\n          pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n          pes.dts = pes.pts;\n\n          if (ptsDtsFlags & 0x40) {\n            pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n            pes.dts *= 4; // Left shift by 2\n\n            pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n          }\n        } // the data section starts immediately after the PES header.\n        // pes_header_data_length specifies the number of header bytes\n        // that follow the last byte of the field.\n\n\n        pes.data = payload.subarray(9 + payload[8]);\n      },\n\n      /**\n        * Pass completely parsed PES packets to the next stream in the pipeline\n       **/\n      flushStream = function flushStream(stream$$1, type, forceFlush) {\n        var packetData = new Uint8Array(stream$$1.size),\n            event = {\n          type: type\n        },\n            i = 0,\n            offset = 0,\n            packetFlushable = false,\n            fragment; // do nothing if there is not enough buffered data for a complete\n        // PES header\n\n        if (!stream$$1.data.length || stream$$1.size < 9) {\n          return;\n        }\n\n        event.trackId = stream$$1.data[0].pid; // reassemble the packet\n\n        for (i = 0; i < stream$$1.data.length; i++) {\n          fragment = stream$$1.data[i];\n          packetData.set(fragment.data, offset);\n          offset += fragment.data.byteLength;\n        } // parse assembled packet's PES header\n\n\n        parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n        // check that there is enough stream data to fill the packet\n\n        packetFlushable = type === 'video' || event.packetLength <= stream$$1.size; // flush pending packets if the conditions are right\n\n        if (forceFlush || packetFlushable) {\n          stream$$1.size = 0;\n          stream$$1.data.length = 0;\n        } // only emit packets that are complete. this is to avoid assembling\n        // incomplete PES packets due to poor segmentation\n\n\n        if (packetFlushable) {\n          self.trigger('data', event);\n        }\n      };\n\n      _ElementaryStream.prototype.init.call(this);\n      /**\n       * Identifies M2TS packet types and parses PES packets using metadata\n       * parsed from the PMT\n       **/\n\n\n      this.push = function (data) {\n        ({\n          pat: function pat() {// we have to wait for the PMT to arrive as well before we\n            // have any meaningful metadata\n          },\n          pes: function pes() {\n            var stream$$1, streamType;\n\n            switch (data.streamType) {\n              case streamTypes.H264_STREAM_TYPE:\n              case streamTypes.H264_STREAM_TYPE:\n                stream$$1 = video;\n                streamType = 'video';\n                break;\n\n              case streamTypes.ADTS_STREAM_TYPE:\n                stream$$1 = audio;\n                streamType = 'audio';\n                break;\n\n              case streamTypes.METADATA_STREAM_TYPE:\n                stream$$1 = timedMetadata;\n                streamType = 'timed-metadata';\n                break;\n\n              default:\n                // ignore unknown stream types\n                return;\n            } // if a new packet is starting, we can flush the completed\n            // packet\n\n\n            if (data.payloadUnitStartIndicator) {\n              flushStream(stream$$1, streamType, true);\n            } // buffer this fragment until we are sure we've received the\n            // complete payload\n\n\n            stream$$1.data.push(data);\n            stream$$1.size += data.data.byteLength;\n          },\n          pmt: function pmt() {\n            var event = {\n              type: 'metadata',\n              tracks: []\n            },\n                programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n            if (programMapTable.video !== null) {\n              event.tracks.push({\n                timelineStartInfo: {\n                  baseMediaDecodeTime: 0\n                },\n                id: +programMapTable.video,\n                codec: 'avc',\n                type: 'video'\n              });\n            }\n\n            if (programMapTable.audio !== null) {\n              event.tracks.push({\n                timelineStartInfo: {\n                  baseMediaDecodeTime: 0\n                },\n                id: +programMapTable.audio,\n                codec: 'adts',\n                type: 'audio'\n              });\n            }\n\n            self.trigger('data', event);\n          }\n        })[data.type]();\n      };\n      /**\n       * Flush any remaining input. Video PES packets may be of variable\n       * length. Normally, the start of a new video packet can trigger the\n       * finalization of the previous packet. That is not possible if no\n       * more video is forthcoming, however. In that case, some other\n       * mechanism (like the end of the file) has to be employed. When it is\n       * clear that no additional data is forthcoming, calling this method\n       * will flush the buffered packets.\n       */\n\n\n      this.flush = function () {\n        // !!THIS ORDER IS IMPORTANT!!\n        // video first then audio\n        flushStream(video, 'video');\n        flushStream(audio, 'audio');\n        flushStream(timedMetadata, 'timed-metadata');\n        this.trigger('done');\n      };\n    };\n\n    _ElementaryStream.prototype = new stream();\n    var m2ts = {\n      PAT_PID: 0x0000,\n      MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n      TransportPacketStream: _TransportPacketStream,\n      TransportParseStream: _TransportParseStream,\n      ElementaryStream: _ElementaryStream,\n      TimestampRolloverStream: TimestampRolloverStream$1,\n      CaptionStream: captionStream.CaptionStream,\n      Cea608Stream: captionStream.Cea608Stream,\n      MetadataStream: metadataStream\n    };\n\n    for (var type in streamTypes) {\n      if (streamTypes.hasOwnProperty(type)) {\n        m2ts[type] = streamTypes[type];\n      }\n    }\n\n    var m2ts_1 = m2ts;\n\n    var _AdtsStream;\n\n    var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n    /*\n     * Accepts a ElementaryStream and emits data events with parsed\n     * AAC Audio Frames of the individual packets. Input audio in ADTS\n     * format is unpacked and re-emitted as AAC frames.\n     *\n     * @see http://wiki.multimedia.cx/index.php?title=ADTS\n     * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n     */\n\n    _AdtsStream = function AdtsStream() {\n      var buffer;\n\n      _AdtsStream.prototype.init.call(this);\n\n      this.push = function (packet) {\n        var i = 0,\n            frameNum = 0,\n            frameLength,\n            protectionSkipBytes,\n            frameEnd,\n            oldBuffer,\n            sampleCount,\n            adtsFrameDuration;\n\n        if (packet.type !== 'audio') {\n          // ignore non-audio data\n          return;\n        } // Prepend any data in the buffer to the input data so that we can parse\n        // aac frames the cross a PES packet boundary\n\n\n        if (buffer) {\n          oldBuffer = buffer;\n          buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n          buffer.set(oldBuffer);\n          buffer.set(packet.data, oldBuffer.byteLength);\n        } else {\n          buffer = packet.data;\n        } // unpack any ADTS frames which have been fully received\n        // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n        while (i + 5 < buffer.length) {\n          // Loook for the start of an ADTS header..\n          if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n            // If a valid header was not found,  jump one forward and attempt to\n            // find a valid ADTS header starting at the next byte\n            i++;\n            continue;\n          } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n          // end of the ADTS header\n\n\n          protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n          // end of the sync sequence\n\n          frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n          sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n          adtsFrameDuration = sampleCount * 90000 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n          frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n          // and wait for more data\n\n          if (buffer.byteLength < frameEnd) {\n            return;\n          } // Otherwise, deliver the complete AAC frame\n\n\n          this.trigger('data', {\n            pts: packet.pts + frameNum * adtsFrameDuration,\n            dts: packet.dts + frameNum * adtsFrameDuration,\n            sampleCount: sampleCount,\n            audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n            channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n            samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n            samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n            // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n            samplesize: 16,\n            data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n          }); // If the buffer is empty, clear it and return\n\n          if (buffer.byteLength === frameEnd) {\n            buffer = undefined;\n            return;\n          }\n\n          frameNum++; // Remove the finished frame from the buffer and start the process again\n\n          buffer = buffer.subarray(frameEnd);\n        }\n      };\n\n      this.flush = function () {\n        this.trigger('done');\n      };\n    };\n\n    _AdtsStream.prototype = new stream();\n    var adts = _AdtsStream;\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var ExpGolomb;\n    /**\n     * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n     * scheme used by h264.\n     */\n\n    ExpGolomb = function ExpGolomb(workingData) {\n      var // the number of bytes left to examine in workingData\n      workingBytesAvailable = workingData.byteLength,\n          // the current word being examined\n      workingWord = 0,\n          // :uint\n      // the number of bits left to examine in the current word\n      workingBitsAvailable = 0; // :uint;\n      // ():uint\n\n      this.length = function () {\n        return 8 * workingBytesAvailable;\n      }; // ():uint\n\n\n      this.bitsAvailable = function () {\n        return 8 * workingBytesAvailable + workingBitsAvailable;\n      }; // ():void\n\n\n      this.loadWord = function () {\n        var position = workingData.byteLength - workingBytesAvailable,\n            workingBytes = new Uint8Array(4),\n            availableBytes = Math.min(4, workingBytesAvailable);\n\n        if (availableBytes === 0) {\n          throw new Error('no bytes available');\n        }\n\n        workingBytes.set(workingData.subarray(position, position + availableBytes));\n        workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n        workingBitsAvailable = availableBytes * 8;\n        workingBytesAvailable -= availableBytes;\n      }; // (count:int):void\n\n\n      this.skipBits = function (count) {\n        var skipBytes; // :int\n\n        if (workingBitsAvailable > count) {\n          workingWord <<= count;\n          workingBitsAvailable -= count;\n        } else {\n          count -= workingBitsAvailable;\n          skipBytes = Math.floor(count / 8);\n          count -= skipBytes * 8;\n          workingBytesAvailable -= skipBytes;\n          this.loadWord();\n          workingWord <<= count;\n          workingBitsAvailable -= count;\n        }\n      }; // (size:int):uint\n\n\n      this.readBits = function (size) {\n        var bits = Math.min(workingBitsAvailable, size),\n            // :uint\n        valu = workingWord >>> 32 - bits; // :uint\n        // if size > 31, handle error\n\n        workingBitsAvailable -= bits;\n\n        if (workingBitsAvailable > 0) {\n          workingWord <<= bits;\n        } else if (workingBytesAvailable > 0) {\n          this.loadWord();\n        }\n\n        bits = size - bits;\n\n        if (bits > 0) {\n          return valu << bits | this.readBits(bits);\n        }\n\n        return valu;\n      }; // ():uint\n\n\n      this.skipLeadingZeros = function () {\n        var leadingZeroCount; // :uint\n\n        for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n          if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n            // the first bit of working word is 1\n            workingWord <<= leadingZeroCount;\n            workingBitsAvailable -= leadingZeroCount;\n            return leadingZeroCount;\n          }\n        } // we exhausted workingWord and still have not found a 1\n\n\n        this.loadWord();\n        return leadingZeroCount + this.skipLeadingZeros();\n      }; // ():void\n\n\n      this.skipUnsignedExpGolomb = function () {\n        this.skipBits(1 + this.skipLeadingZeros());\n      }; // ():void\n\n\n      this.skipExpGolomb = function () {\n        this.skipBits(1 + this.skipLeadingZeros());\n      }; // ():uint\n\n\n      this.readUnsignedExpGolomb = function () {\n        var clz = this.skipLeadingZeros(); // :uint\n\n        return this.readBits(clz + 1) - 1;\n      }; // ():int\n\n\n      this.readExpGolomb = function () {\n        var valu = this.readUnsignedExpGolomb(); // :int\n\n        if (0x01 & valu) {\n          // the number is odd if the low order bit is set\n          return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n        }\n\n        return -1 * (valu >>> 1); // divide by two then make it negative\n      }; // Some convenience functions\n      // :Boolean\n\n\n      this.readBoolean = function () {\n        return this.readBits(1) === 1;\n      }; // ():int\n\n\n      this.readUnsignedByte = function () {\n        return this.readBits(8);\n      };\n\n      this.loadWord();\n    };\n\n    var expGolomb = ExpGolomb;\n\n    var _H264Stream, _NalByteStream;\n\n    var PROFILES_WITH_OPTIONAL_SPS_DATA;\n    /**\n     * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n     */\n\n    _NalByteStream = function NalByteStream() {\n      var syncPoint = 0,\n          i,\n          buffer;\n\n      _NalByteStream.prototype.init.call(this);\n      /*\n       * Scans a byte stream and triggers a data event with the NAL units found.\n       * @param {Object} data Event received from H264Stream\n       * @param {Uint8Array} data.data The h264 byte stream to be scanned\n       *\n       * @see H264Stream.push\n       */\n\n\n      this.push = function (data) {\n        var swapBuffer;\n\n        if (!buffer) {\n          buffer = data.data;\n        } else {\n          swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n          swapBuffer.set(buffer);\n          swapBuffer.set(data.data, buffer.byteLength);\n          buffer = swapBuffer;\n        } // Rec. ITU-T H.264, Annex B\n        // scan for NAL unit boundaries\n        // a match looks like this:\n        // 0 0 1 .. NAL .. 0 0 1\n        // ^ sync point        ^ i\n        // or this:\n        // 0 0 1 .. NAL .. 0 0 0\n        // ^ sync point        ^ i\n        // advance the sync point to a NAL start, if necessary\n\n\n        for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\n          if (buffer[syncPoint + 2] === 1) {\n            // the sync point is properly aligned\n            i = syncPoint + 5;\n            break;\n          }\n        }\n\n        while (i < buffer.byteLength) {\n          // look at the current byte to determine if we've hit the end of\n          // a NAL unit boundary\n          switch (buffer[i]) {\n            case 0:\n              // skip past non-sync sequences\n              if (buffer[i - 1] !== 0) {\n                i += 2;\n                break;\n              } else if (buffer[i - 2] !== 0) {\n                i++;\n                break;\n              } // deliver the NAL unit if it isn't empty\n\n\n              if (syncPoint + 3 !== i - 2) {\n                this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n              } // drop trailing zeroes\n\n\n              do {\n                i++;\n              } while (buffer[i] !== 1 && i < buffer.length);\n\n              syncPoint = i - 2;\n              i += 3;\n              break;\n\n            case 1:\n              // skip past non-sync sequences\n              if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n                i += 3;\n                break;\n              } // deliver the NAL unit\n\n\n              this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n              syncPoint = i - 2;\n              i += 3;\n              break;\n\n            default:\n              // the current byte isn't a one or zero, so it cannot be part\n              // of a sync sequence\n              i += 3;\n              break;\n          }\n        } // filter out the NAL units that were delivered\n\n\n        buffer = buffer.subarray(syncPoint);\n        i -= syncPoint;\n        syncPoint = 0;\n      };\n\n      this.flush = function () {\n        // deliver the last buffered NAL unit\n        if (buffer && buffer.byteLength > 3) {\n          this.trigger('data', buffer.subarray(syncPoint + 3));\n        } // reset the stream state\n\n\n        buffer = null;\n        syncPoint = 0;\n        this.trigger('done');\n      };\n    };\n\n    _NalByteStream.prototype = new stream(); // values of profile_idc that indicate additional fields are included in the SPS\n    // see Recommendation ITU-T H.264 (4/2013),\n    // 7.3.2.1.1 Sequence parameter set data syntax\n\n    PROFILES_WITH_OPTIONAL_SPS_DATA = {\n      100: true,\n      110: true,\n      122: true,\n      244: true,\n      44: true,\n      83: true,\n      86: true,\n      118: true,\n      128: true,\n      138: true,\n      139: true,\n      134: true\n    };\n    /**\n     * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n     * events.\n     */\n\n    _H264Stream = function H264Stream() {\n      var nalByteStream = new _NalByteStream(),\n          self,\n          trackId,\n          currentPts,\n          currentDts,\n          discardEmulationPreventionBytes,\n          readSequenceParameterSet,\n          skipScalingList;\n\n      _H264Stream.prototype.init.call(this);\n\n      self = this;\n      /*\n       * Pushes a packet from a stream onto the NalByteStream\n       *\n       * @param {Object} packet - A packet received from a stream\n       * @param {Uint8Array} packet.data - The raw bytes of the packet\n       * @param {Number} packet.dts - Decode timestamp of the packet\n       * @param {Number} packet.pts - Presentation timestamp of the packet\n       * @param {Number} packet.trackId - The id of the h264 track this packet came from\n       * @param {('video'|'audio')} packet.type - The type of packet\n       *\n       */\n\n      this.push = function (packet) {\n        if (packet.type !== 'video') {\n          return;\n        }\n\n        trackId = packet.trackId;\n        currentPts = packet.pts;\n        currentDts = packet.dts;\n        nalByteStream.push(packet);\n      };\n      /*\n       * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n       * for the NALUs to the next stream component.\n       * Also, preprocess caption and sequence parameter NALUs.\n       *\n       * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n       * @see NalByteStream.push\n       */\n\n\n      nalByteStream.on('data', function (data) {\n        var event = {\n          trackId: trackId,\n          pts: currentPts,\n          dts: currentDts,\n          data: data\n        };\n\n        switch (data[0] & 0x1f) {\n          case 0x05:\n            event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n            break;\n\n          case 0x06:\n            event.nalUnitType = 'sei_rbsp';\n            event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n            break;\n\n          case 0x07:\n            event.nalUnitType = 'seq_parameter_set_rbsp';\n            event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n            event.config = readSequenceParameterSet(event.escapedRBSP);\n            break;\n\n          case 0x08:\n            event.nalUnitType = 'pic_parameter_set_rbsp';\n            break;\n\n          case 0x09:\n            event.nalUnitType = 'access_unit_delimiter_rbsp';\n            break;\n\n          default:\n            break;\n        } // This triggers data on the H264Stream\n\n\n        self.trigger('data', event);\n      });\n      nalByteStream.on('done', function () {\n        self.trigger('done');\n      });\n\n      this.flush = function () {\n        nalByteStream.flush();\n      };\n      /**\n       * Advance the ExpGolomb decoder past a scaling list. The scaling\n       * list is optionally transmitted as part of a sequence parameter\n       * set and is not relevant to transmuxing.\n       * @param count {number} the number of entries in this scaling list\n       * @param expGolombDecoder {object} an ExpGolomb pointed to the\n       * start of a scaling list\n       * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n       */\n\n\n      skipScalingList = function skipScalingList(count, expGolombDecoder) {\n        var lastScale = 8,\n            nextScale = 8,\n            j,\n            deltaScale;\n\n        for (j = 0; j < count; j++) {\n          if (nextScale !== 0) {\n            deltaScale = expGolombDecoder.readExpGolomb();\n            nextScale = (lastScale + deltaScale + 256) % 256;\n          }\n\n          lastScale = nextScale === 0 ? lastScale : nextScale;\n        }\n      };\n      /**\n       * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n       * Sequence Payload\"\n       * @param data {Uint8Array} the bytes of a RBSP from a NAL\n       * unit\n       * @return {Uint8Array} the RBSP without any Emulation\n       * Prevention Bytes\n       */\n\n\n      discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n        var length = data.byteLength,\n            emulationPreventionBytesPositions = [],\n            i = 1,\n            newLength,\n            newData; // Find all `Emulation Prevention Bytes`\n\n        while (i < length - 2) {\n          if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n            emulationPreventionBytesPositions.push(i + 2);\n            i += 2;\n          } else {\n            i++;\n          }\n        } // If no Emulation Prevention Bytes were found just return the original\n        // array\n\n\n        if (emulationPreventionBytesPositions.length === 0) {\n          return data;\n        } // Create a new array to hold the NAL unit data\n\n\n        newLength = length - emulationPreventionBytesPositions.length;\n        newData = new Uint8Array(newLength);\n        var sourceIndex = 0;\n\n        for (i = 0; i < newLength; sourceIndex++, i++) {\n          if (sourceIndex === emulationPreventionBytesPositions[0]) {\n            // Skip this byte\n            sourceIndex++; // Remove this position index\n\n            emulationPreventionBytesPositions.shift();\n          }\n\n          newData[i] = data[sourceIndex];\n        }\n\n        return newData;\n      };\n      /**\n       * Read a sequence parameter set and return some interesting video\n       * properties. A sequence parameter set is the H264 metadata that\n       * describes the properties of upcoming video frames.\n       * @param data {Uint8Array} the bytes of a sequence parameter set\n       * @return {object} an object with configuration parsed from the\n       * sequence parameter set, including the dimensions of the\n       * associated video frames.\n       */\n\n\n      readSequenceParameterSet = function readSequenceParameterSet(data) {\n        var frameCropLeftOffset = 0,\n            frameCropRightOffset = 0,\n            frameCropTopOffset = 0,\n            frameCropBottomOffset = 0,\n            sarScale = 1,\n            expGolombDecoder,\n            profileIdc,\n            levelIdc,\n            profileCompatibility,\n            chromaFormatIdc,\n            picOrderCntType,\n            numRefFramesInPicOrderCntCycle,\n            picWidthInMbsMinus1,\n            picHeightInMapUnitsMinus1,\n            frameMbsOnlyFlag,\n            scalingListCount,\n            sarRatio,\n            aspectRatioIdc,\n            i;\n        expGolombDecoder = new expGolomb(data);\n        profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n        profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n        levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n        // some profiles have more optional data we don't need\n\n        if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n          chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n          if (chromaFormatIdc === 3) {\n            expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n          expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n          if (expGolombDecoder.readBoolean()) {\n            // seq_scaling_matrix_present_flag\n            scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n            for (i = 0; i < scalingListCount; i++) {\n              if (expGolombDecoder.readBoolean()) {\n                // seq_scaling_list_present_flag[ i ]\n                if (i < 6) {\n                  skipScalingList(16, expGolombDecoder);\n                } else {\n                  skipScalingList(64, expGolombDecoder);\n                }\n              }\n            }\n          }\n        }\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n        picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n        if (picOrderCntType === 0) {\n          expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n        } else if (picOrderCntType === 1) {\n          expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n          expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n          expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n          numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n          for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n            expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n          }\n        }\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n        expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n        picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n        picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n        frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n        if (frameMbsOnlyFlag === 0) {\n          expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n        }\n\n        expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n        if (expGolombDecoder.readBoolean()) {\n          // frame_cropping_flag\n          frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n          frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n        }\n\n        if (expGolombDecoder.readBoolean()) {\n          // vui_parameters_present_flag\n          if (expGolombDecoder.readBoolean()) {\n            // aspect_ratio_info_present_flag\n            aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n            switch (aspectRatioIdc) {\n              case 1:\n                sarRatio = [1, 1];\n                break;\n\n              case 2:\n                sarRatio = [12, 11];\n                break;\n\n              case 3:\n                sarRatio = [10, 11];\n                break;\n\n              case 4:\n                sarRatio = [16, 11];\n                break;\n\n              case 5:\n                sarRatio = [40, 33];\n                break;\n\n              case 6:\n                sarRatio = [24, 11];\n                break;\n\n              case 7:\n                sarRatio = [20, 11];\n                break;\n\n              case 8:\n                sarRatio = [32, 11];\n                break;\n\n              case 9:\n                sarRatio = [80, 33];\n                break;\n\n              case 10:\n                sarRatio = [18, 11];\n                break;\n\n              case 11:\n                sarRatio = [15, 11];\n                break;\n\n              case 12:\n                sarRatio = [64, 33];\n                break;\n\n              case 13:\n                sarRatio = [160, 99];\n                break;\n\n              case 14:\n                sarRatio = [4, 3];\n                break;\n\n              case 15:\n                sarRatio = [3, 2];\n                break;\n\n              case 16:\n                sarRatio = [2, 1];\n                break;\n\n              case 255:\n                {\n                  sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n                  break;\n                }\n            }\n\n            if (sarRatio) {\n              sarScale = sarRatio[0] / sarRatio[1];\n            }\n          }\n        }\n\n        return {\n          profileIdc: profileIdc,\n          levelIdc: levelIdc,\n          profileCompatibility: profileCompatibility,\n          width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n          height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2\n        };\n      };\n    };\n\n    _H264Stream.prototype = new stream();\n    var h264 = {\n      H264Stream: _H264Stream,\n      NalByteStream: _NalByteStream\n    };\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     *\n     * Utilities to detect basic properties and metadata about Aac data.\n     */\n\n    var ADTS_SAMPLING_FREQUENCIES$1 = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n    var isLikelyAacData = function isLikelyAacData(data) {\n      if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n        return true;\n      }\n\n      return false;\n    };\n\n    var parseSyncSafeInteger$1 = function parseSyncSafeInteger(data) {\n      return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n    }; // return a percent-encoded representation of the specified byte range\n    // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n    var percentEncode$1 = function percentEncode(bytes, start, end) {\n      var i,\n          result = '';\n\n      for (i = start; i < end; i++) {\n        result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n      }\n\n      return result;\n    }; // return the string representation of the specified byte range,\n    // interpreted as ISO-8859-1.\n\n\n    var parseIso88591$1 = function parseIso88591(bytes, start, end) {\n      return unescape(percentEncode$1(bytes, start, end)); // jshint ignore:line\n    };\n\n    var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n      var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n          flags = header[byteIndex + 5],\n          footerPresent = (flags & 16) >> 4;\n\n      if (footerPresent) {\n        return returnSize + 20;\n      }\n\n      return returnSize + 10;\n    };\n\n    var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n      var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n          middle = header[byteIndex + 4] << 3,\n          highTwo = header[byteIndex + 3] & 0x3 << 11;\n      return highTwo | middle | lowThree;\n    };\n\n    var parseType$1 = function parseType(header, byteIndex) {\n      if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n        return 'timed-metadata';\n      } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n        return 'audio';\n      }\n\n      return null;\n    };\n\n    var parseSampleRate = function parseSampleRate(packet) {\n      var i = 0;\n\n      while (i + 5 < packet.length) {\n        if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n          // If a valid header was not found,  jump one forward and attempt to\n          // find a valid ADTS header starting at the next byte\n          i++;\n          continue;\n        }\n\n        return ADTS_SAMPLING_FREQUENCIES$1[(packet[i + 2] & 0x3c) >>> 2];\n      }\n\n      return null;\n    };\n\n    var parseAacTimestamp = function parseAacTimestamp(packet) {\n      var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n      frameStart = 10;\n\n      if (packet[5] & 0x40) {\n        // advance the frame start past the extended header\n        frameStart += 4; // header size field\n\n        frameStart += parseSyncSafeInteger$1(packet.subarray(10, 14));\n      } // parse one or more ID3 frames\n      // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n      do {\n        // determine the number of bytes in this frame\n        frameSize = parseSyncSafeInteger$1(packet.subarray(frameStart + 4, frameStart + 8));\n\n        if (frameSize < 1) {\n          return null;\n        }\n\n        frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n        if (frameHeader === 'PRIV') {\n          frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n          for (var i = 0; i < frame.byteLength; i++) {\n            if (frame[i] === 0) {\n              var owner = parseIso88591$1(frame, 0, i);\n\n              if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n                var d = frame.subarray(i + 1);\n                var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                size *= 4;\n                size += d[7] & 0x03;\n                return size;\n              }\n\n              break;\n            }\n          }\n        }\n\n        frameStart += 10; // advance past the frame header\n\n        frameStart += frameSize; // advance past the frame body\n      } while (frameStart < packet.byteLength);\n\n      return null;\n    };\n\n    var utils = {\n      isLikelyAacData: isLikelyAacData,\n      parseId3TagSize: parseId3TagSize,\n      parseAdtsSize: parseAdtsSize,\n      parseType: parseType$1,\n      parseSampleRate: parseSampleRate,\n      parseAacTimestamp: parseAacTimestamp\n    }; // Constants\n\n    var _AacStream;\n    /**\n     * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n     */\n\n\n    _AacStream = function AacStream() {\n      var everything = new Uint8Array(),\n          timeStamp = 0;\n\n      _AacStream.prototype.init.call(this);\n\n      this.setTimestamp = function (timestamp) {\n        timeStamp = timestamp;\n      };\n\n      this.push = function (bytes) {\n        var frameSize = 0,\n            byteIndex = 0,\n            bytesLeft,\n            chunk,\n            packet,\n            tempLength; // If there are bytes remaining from the last segment, prepend them to the\n        // bytes that were pushed in\n\n        if (everything.length) {\n          tempLength = everything.length;\n          everything = new Uint8Array(bytes.byteLength + tempLength);\n          everything.set(everything.subarray(0, tempLength));\n          everything.set(bytes, tempLength);\n        } else {\n          everything = bytes;\n        }\n\n        while (everything.length - byteIndex >= 3) {\n          if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n            // Exit early because we don't have enough to parse\n            // the ID3 tag header\n            if (everything.length - byteIndex < 10) {\n              break;\n            } // check framesize\n\n\n            frameSize = utils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n            // to emit a full packet\n            // Add to byteIndex to support multiple ID3 tags in sequence\n\n            if (byteIndex + frameSize > everything.length) {\n              break;\n            }\n\n            chunk = {\n              type: 'timed-metadata',\n              data: everything.subarray(byteIndex, byteIndex + frameSize)\n            };\n            this.trigger('data', chunk);\n            byteIndex += frameSize;\n            continue;\n          } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n            // Exit early because we don't have enough to parse\n            // the ADTS frame header\n            if (everything.length - byteIndex < 7) {\n              break;\n            }\n\n            frameSize = utils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n            // to emit a full packet\n\n            if (byteIndex + frameSize > everything.length) {\n              break;\n            }\n\n            packet = {\n              type: 'audio',\n              data: everything.subarray(byteIndex, byteIndex + frameSize),\n              pts: timeStamp,\n              dts: timeStamp\n            };\n            this.trigger('data', packet);\n            byteIndex += frameSize;\n            continue;\n          }\n\n          byteIndex++;\n        }\n\n        bytesLeft = everything.length - byteIndex;\n\n        if (bytesLeft > 0) {\n          everything = everything.subarray(byteIndex);\n        } else {\n          everything = new Uint8Array();\n        }\n      };\n    };\n\n    _AacStream.prototype = new stream();\n    var aac = _AacStream;\n    var H264Stream = h264.H264Stream;\n    var isLikelyAacData$1 = utils.isLikelyAacData; // constants\n\n    var AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\n    var VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility']; // object types\n\n    var _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n    /**\n     * Compare two arrays (even typed) for same-ness\n     */\n\n\n    var arrayEquals = function arrayEquals(a, b) {\n      var i;\n\n      if (a.length !== b.length) {\n        return false;\n      } // compare the value of each element in the array\n\n\n      for (i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    var generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n      var ptsOffsetFromDts = startPts - startDts,\n          decodeDuration = endDts - startDts,\n          presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n      // however, the player time values will reflect a start from the baseMediaDecodeTime.\n      // In order to provide relevant values for the player times, base timing info on the\n      // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n      return {\n        start: {\n          dts: baseMediaDecodeTime,\n          pts: baseMediaDecodeTime + ptsOffsetFromDts\n        },\n        end: {\n          dts: baseMediaDecodeTime + decodeDuration,\n          pts: baseMediaDecodeTime + presentationDuration\n        },\n        prependedContentDuration: prependedContentDuration,\n        baseMediaDecodeTime: baseMediaDecodeTime\n      };\n    };\n    /**\n     * Constructs a single-track, ISO BMFF media segment from AAC data\n     * events. The output of this stream can be fed to a SourceBuffer\n     * configured with a suitable initialization segment.\n     * @param track {object} track metadata configuration\n     * @param options {object} transmuxer options object\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n\n    _AudioSegmentStream = function AudioSegmentStream(track, options) {\n      var adtsFrames = [],\n          sequenceNumber = 0,\n          earliestAllowedDts = 0,\n          audioAppendStartTs = 0,\n          videoBaseMediaDecodeTime = Infinity;\n      options = options || {};\n\n      _AudioSegmentStream.prototype.init.call(this);\n\n      this.push = function (data) {\n        trackDecodeInfo.collectDtsInfo(track, data);\n\n        if (track) {\n          AUDIO_PROPERTIES.forEach(function (prop) {\n            track[prop] = data[prop];\n          });\n        } // buffer audio data until end() is called\n\n\n        adtsFrames.push(data);\n      };\n\n      this.setEarliestDts = function (earliestDts) {\n        earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n      };\n\n      this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n        videoBaseMediaDecodeTime = baseMediaDecodeTime;\n      };\n\n      this.setAudioAppendStart = function (timestamp) {\n        audioAppendStartTs = timestamp;\n      };\n\n      this.flush = function () {\n        var frames, moof, mdat, boxes; // return early if no audio data has been observed\n\n        if (adtsFrames.length === 0) {\n          this.trigger('done', 'AudioSegmentStream');\n          return;\n        }\n\n        frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n        track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n        audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n        // samples (that is, adts frames) in the audio data\n\n        track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n        mdat = mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));\n        adtsFrames = [];\n        moof = mp4Generator.moof(sequenceNumber, [track]);\n        boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n        sequenceNumber++;\n        boxes.set(moof);\n        boxes.set(mdat, moof.byteLength);\n        trackDecodeInfo.clearDtsInfo(track);\n        this.trigger('data', {\n          track: track,\n          boxes: boxes\n        });\n        this.trigger('done', 'AudioSegmentStream');\n      };\n    };\n\n    _AudioSegmentStream.prototype = new stream();\n    /**\n     * Constructs a single-track, ISO BMFF media segment from H264 data\n     * events. The output of this stream can be fed to a SourceBuffer\n     * configured with a suitable initialization segment.\n     * @param track {object} track metadata configuration\n     * @param options {object} transmuxer options object\n     * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n     *        gopsToAlignWith list when attempting to align gop pts\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at 0.\n     */\n\n    _VideoSegmentStream = function VideoSegmentStream(track, options) {\n      var sequenceNumber = 0,\n          nalUnits = [],\n          gopsToAlignWith = [],\n          config,\n          pps;\n      options = options || {};\n\n      _VideoSegmentStream.prototype.init.call(this);\n\n      delete track.minPTS;\n      this.gopCache_ = [];\n      /**\n        * Constructs a ISO BMFF segment given H264 nalUnits\n        * @param {Object} nalUnit A data event representing a nalUnit\n        * @param {String} nalUnit.nalUnitType\n        * @param {Object} nalUnit.config Properties for a mp4 track\n        * @param {Uint8Array} nalUnit.data The nalUnit bytes\n        * @see lib/codecs/h264.js\n       **/\n\n      this.push = function (nalUnit) {\n        trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n        if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n          config = nalUnit.config;\n          track.sps = [nalUnit.data];\n          VIDEO_PROPERTIES.forEach(function (prop) {\n            track[prop] = config[prop];\n          }, this);\n        }\n\n        if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n          pps = nalUnit.data;\n          track.pps = [nalUnit.data];\n        } // buffer video until flush() is called\n\n\n        nalUnits.push(nalUnit);\n      };\n      /**\n        * Pass constructed ISO BMFF track and boxes on to the\n        * next stream in the pipeline\n       **/\n\n\n      this.flush = function () {\n        var frames,\n            gopForFusion,\n            gops,\n            moof,\n            mdat,\n            boxes,\n            prependedContentDuration = 0,\n            firstGop,\n            lastGop; // Throw away nalUnits at the start of the byte stream until\n        // we find the first AUD\n\n        while (nalUnits.length) {\n          if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n            break;\n          }\n\n          nalUnits.shift();\n        } // Return early if no video data has been observed\n\n\n        if (nalUnits.length === 0) {\n          this.resetStream_();\n          this.trigger('done', 'VideoSegmentStream');\n          return;\n        } // Organize the raw nal-units into arrays that represent\n        // higher-level constructs such as frames and gops\n        // (group-of-pictures)\n\n\n        frames = frameUtils.groupNalsIntoFrames(nalUnits);\n        gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n        // a problem since MSE (on Chrome) requires a leading keyframe.\n        //\n        // We have two approaches to repairing this situation:\n        // 1) GOP-FUSION:\n        //    This is where we keep track of the GOPS (group-of-pictures)\n        //    from previous fragments and attempt to find one that we can\n        //    prepend to the current fragment in order to create a valid\n        //    fragment.\n        // 2) KEYFRAME-PULLING:\n        //    Here we search for the first keyframe in the fragment and\n        //    throw away all the frames between the start of the fragment\n        //    and that keyframe. We then extend the duration and pull the\n        //    PTS of the keyframe forward so that it covers the time range\n        //    of the frames that were disposed of.\n        //\n        // #1 is far prefereable over #2 which can cause \"stuttering\" but\n        // requires more things to be just right.\n\n        if (!gops[0][0].keyFrame) {\n          // Search for a gop for fusion from our gopCache\n          gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n          if (gopForFusion) {\n            // in order to provide more accurate timing information about the segment, save\n            // the number of seconds prepended to the original segment due to GOP fusion\n            prependedContentDuration = gopForFusion.duration;\n            gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n            // new gop at the beginning\n\n            gops.byteLength += gopForFusion.byteLength;\n            gops.nalCount += gopForFusion.nalCount;\n            gops.pts = gopForFusion.pts;\n            gops.dts = gopForFusion.dts;\n            gops.duration += gopForFusion.duration;\n          } else {\n            // If we didn't find a candidate gop fall back to keyframe-pulling\n            gops = frameUtils.extendFirstKeyFrame(gops);\n          }\n        } // Trim gops to align with gopsToAlignWith\n\n\n        if (gopsToAlignWith.length) {\n          var alignedGops;\n\n          if (options.alignGopsAtEnd) {\n            alignedGops = this.alignGopsAtEnd_(gops);\n          } else {\n            alignedGops = this.alignGopsAtStart_(gops);\n          }\n\n          if (!alignedGops) {\n            // save all the nals in the last GOP into the gop cache\n            this.gopCache_.unshift({\n              gop: gops.pop(),\n              pps: track.pps,\n              sps: track.sps\n            }); // Keep a maximum of 6 GOPs in the cache\n\n            this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n            nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n            this.resetStream_();\n            this.trigger('done', 'VideoSegmentStream');\n            return;\n          } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n          // when recalculated before sending off to CoalesceStream\n\n\n          trackDecodeInfo.clearDtsInfo(track);\n          gops = alignedGops;\n        }\n\n        trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n        // samples (that is, frames) in the video data\n\n        track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n        mdat = mp4Generator.mdat(frameUtils.concatenateNalData(gops));\n        track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n        this.trigger('processedGopsInfo', gops.map(function (gop) {\n          return {\n            pts: gop.pts,\n            dts: gop.dts,\n            byteLength: gop.byteLength\n          };\n        }));\n        firstGop = gops[0];\n        lastGop = gops[gops.length - 1];\n        this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration)); // save all the nals in the last GOP into the gop cache\n\n        this.gopCache_.unshift({\n          gop: gops.pop(),\n          pps: track.pps,\n          sps: track.sps\n        }); // Keep a maximum of 6 GOPs in the cache\n\n        this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n        nalUnits = [];\n        this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n        this.trigger('timelineStartInfo', track.timelineStartInfo);\n        moof = mp4Generator.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n        // throwing away hundreds of media segment fragments\n\n        boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n        sequenceNumber++;\n        boxes.set(moof);\n        boxes.set(mdat, moof.byteLength);\n        this.trigger('data', {\n          track: track,\n          boxes: boxes\n        });\n        this.resetStream_(); // Continue with the flush process now\n\n        this.trigger('done', 'VideoSegmentStream');\n      };\n\n      this.resetStream_ = function () {\n        trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n        // for instance, when we are rendition switching\n\n        config = undefined;\n        pps = undefined;\n      }; // Search for a candidate Gop for gop-fusion from the gop cache and\n      // return it or return null if no good candidate was found\n\n\n      this.getGopForFusion_ = function (nalUnit) {\n        var halfSecond = 45000,\n            // Half-a-second in a 90khz clock\n        allowableOverlap = 10000,\n            // About 3 frames @ 30fps\n        nearestDistance = Infinity,\n            dtsDistance,\n            nearestGopObj,\n            currentGop,\n            currentGopObj,\n            i; // Search for the GOP nearest to the beginning of this nal unit\n\n        for (i = 0; i < this.gopCache_.length; i++) {\n          currentGopObj = this.gopCache_[i];\n          currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n          if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n            continue;\n          } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n          if (currentGop.dts < track.timelineStartInfo.dts) {\n            continue;\n          } // The distance between the end of the gop and the start of the nalUnit\n\n\n          dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n          // a half-second of the nal unit\n\n          if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n            // Always use the closest GOP we found if there is more than\n            // one candidate\n            if (!nearestGopObj || nearestDistance > dtsDistance) {\n              nearestGopObj = currentGopObj;\n              nearestDistance = dtsDistance;\n            }\n          }\n        }\n\n        if (nearestGopObj) {\n          return nearestGopObj.gop;\n        }\n\n        return null;\n      }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n      // of gopsToAlignWith starting from the START of the list\n\n\n      this.alignGopsAtStart_ = function (gops) {\n        var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n        byteLength = gops.byteLength;\n        nalCount = gops.nalCount;\n        duration = gops.duration;\n        alignIndex = gopIndex = 0;\n\n        while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n          align = gopsToAlignWith[alignIndex];\n          gop = gops[gopIndex];\n\n          if (align.pts === gop.pts) {\n            break;\n          }\n\n          if (gop.pts > align.pts) {\n            // this current gop starts after the current gop we want to align on, so increment\n            // align index\n            alignIndex++;\n            continue;\n          } // current gop starts before the current gop we want to align on. so increment gop\n          // index\n\n\n          gopIndex++;\n          byteLength -= gop.byteLength;\n          nalCount -= gop.nalCount;\n          duration -= gop.duration;\n        }\n\n        if (gopIndex === 0) {\n          // no gops to trim\n          return gops;\n        }\n\n        if (gopIndex === gops.length) {\n          // all gops trimmed, skip appending all gops\n          return null;\n        }\n\n        alignedGops = gops.slice(gopIndex);\n        alignedGops.byteLength = byteLength;\n        alignedGops.duration = duration;\n        alignedGops.nalCount = nalCount;\n        alignedGops.pts = alignedGops[0].pts;\n        alignedGops.dts = alignedGops[0].dts;\n        return alignedGops;\n      }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n      // of gopsToAlignWith starting from the END of the list\n\n\n      this.alignGopsAtEnd_ = function (gops) {\n        var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n        alignIndex = gopsToAlignWith.length - 1;\n        gopIndex = gops.length - 1;\n        alignEndIndex = null;\n        matchFound = false;\n\n        while (alignIndex >= 0 && gopIndex >= 0) {\n          align = gopsToAlignWith[alignIndex];\n          gop = gops[gopIndex];\n\n          if (align.pts === gop.pts) {\n            matchFound = true;\n            break;\n          }\n\n          if (align.pts > gop.pts) {\n            alignIndex--;\n            continue;\n          }\n\n          if (alignIndex === gopsToAlignWith.length - 1) {\n            // gop.pts is greater than the last alignment candidate. If no match is found\n            // by the end of this loop, we still want to append gops that come after this\n            // point\n            alignEndIndex = gopIndex;\n          }\n\n          gopIndex--;\n        }\n\n        if (!matchFound && alignEndIndex === null) {\n          return null;\n        }\n\n        var trimIndex;\n\n        if (matchFound) {\n          trimIndex = gopIndex;\n        } else {\n          trimIndex = alignEndIndex;\n        }\n\n        if (trimIndex === 0) {\n          return gops;\n        }\n\n        var alignedGops = gops.slice(trimIndex);\n        var metadata = alignedGops.reduce(function (total, gop) {\n          total.byteLength += gop.byteLength;\n          total.duration += gop.duration;\n          total.nalCount += gop.nalCount;\n          return total;\n        }, {\n          byteLength: 0,\n          duration: 0,\n          nalCount: 0\n        });\n        alignedGops.byteLength = metadata.byteLength;\n        alignedGops.duration = metadata.duration;\n        alignedGops.nalCount = metadata.nalCount;\n        alignedGops.pts = alignedGops[0].pts;\n        alignedGops.dts = alignedGops[0].dts;\n        return alignedGops;\n      };\n\n      this.alignGopsWith = function (newGopsToAlignWith) {\n        gopsToAlignWith = newGopsToAlignWith;\n      };\n    };\n\n    _VideoSegmentStream.prototype = new stream();\n    /**\n     * A Stream that can combine multiple streams (ie. audio & video)\n     * into a single output segment for MSE. Also supports audio-only\n     * and video-only streams.\n     * @param options {object} transmuxer options object\n     * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n     *        in the source; false to adjust the first segment to start at media timeline start.\n     */\n\n    _CoalesceStream = function CoalesceStream(options, metadataStream) {\n      // Number of Tracks per output segment\n      // If greater than 1, we combine multiple\n      // tracks into a single segment\n      this.numberOfTracks = 0;\n      this.metadataStream = metadataStream;\n      options = options || {};\n\n      if (typeof options.remux !== 'undefined') {\n        this.remuxTracks = !!options.remux;\n      } else {\n        this.remuxTracks = true;\n      }\n\n      if (typeof options.keepOriginalTimestamps === 'boolean') {\n        this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n      }\n\n      this.pendingTracks = [];\n      this.videoTrack = null;\n      this.pendingBoxes = [];\n      this.pendingCaptions = [];\n      this.pendingMetadata = [];\n      this.pendingBytes = 0;\n      this.emittedTracks = 0;\n\n      _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n      this.push = function (output) {\n        // buffer incoming captions until the associated video segment\n        // finishes\n        if (output.text) {\n          return this.pendingCaptions.push(output);\n        } // buffer incoming id3 tags until the final flush\n\n\n        if (output.frames) {\n          return this.pendingMetadata.push(output);\n        } // Add this track to the list of pending tracks and store\n        // important information required for the construction of\n        // the final segment\n\n\n        this.pendingTracks.push(output.track);\n        this.pendingBoxes.push(output.boxes);\n        this.pendingBytes += output.boxes.byteLength;\n\n        if (output.track.type === 'video') {\n          this.videoTrack = output.track;\n        }\n\n        if (output.track.type === 'audio') {\n          this.audioTrack = output.track;\n        }\n      };\n    };\n\n    _CoalesceStream.prototype = new stream();\n\n    _CoalesceStream.prototype.flush = function (flushSource) {\n      var offset = 0,\n          event = {\n        captions: [],\n        captionStreams: {},\n        metadata: [],\n        info: {}\n      },\n          caption,\n          id3,\n          initSegment,\n          timelineStartPts = 0,\n          i;\n\n      if (this.pendingTracks.length < this.numberOfTracks) {\n        if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n          // Return because we haven't received a flush from a data-generating\n          // portion of the segment (meaning that we have only recieved meta-data\n          // or captions.)\n          return;\n        } else if (this.remuxTracks) {\n          // Return until we have enough tracks from the pipeline to remux (if we\n          // are remuxing audio and video into a single MP4)\n          return;\n        } else if (this.pendingTracks.length === 0) {\n          // In the case where we receive a flush without any data having been\n          // received we consider it an emitted track for the purposes of coalescing\n          // `done` events.\n          // We do this for the case where there is an audio and video track in the\n          // segment but no audio data. (seen in several playlists with alternate\n          // audio tracks and no audio present in the main TS segments.)\n          this.emittedTracks++;\n\n          if (this.emittedTracks >= this.numberOfTracks) {\n            this.trigger('done');\n            this.emittedTracks = 0;\n          }\n\n          return;\n        }\n      }\n\n      if (this.videoTrack) {\n        timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n        VIDEO_PROPERTIES.forEach(function (prop) {\n          event.info[prop] = this.videoTrack[prop];\n        }, this);\n      } else if (this.audioTrack) {\n        timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n        AUDIO_PROPERTIES.forEach(function (prop) {\n          event.info[prop] = this.audioTrack[prop];\n        }, this);\n      }\n\n      if (this.pendingTracks.length === 1) {\n        event.type = this.pendingTracks[0].type;\n      } else {\n        event.type = 'combined';\n      }\n\n      this.emittedTracks += this.pendingTracks.length;\n      initSegment = mp4Generator.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n      event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n      // and track definitions\n\n      event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n      event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n      for (i = 0; i < this.pendingBoxes.length; i++) {\n        event.data.set(this.pendingBoxes[i], offset);\n        offset += this.pendingBoxes[i].byteLength;\n      } // Translate caption PTS times into second offsets to match the\n      // video timeline for the segment, and add track info\n\n\n      for (i = 0; i < this.pendingCaptions.length; i++) {\n        caption = this.pendingCaptions[i];\n        caption.startTime = caption.startPts;\n\n        if (!this.keepOriginalTimestamps) {\n          caption.startTime -= timelineStartPts;\n        }\n\n        caption.startTime /= 90e3;\n        caption.endTime = caption.endPts;\n\n        if (!this.keepOriginalTimestamps) {\n          caption.endTime -= timelineStartPts;\n        }\n\n        caption.endTime /= 90e3;\n        event.captionStreams[caption.stream] = true;\n        event.captions.push(caption);\n      } // Translate ID3 frame PTS times into second offsets to match the\n      // video timeline for the segment\n\n\n      for (i = 0; i < this.pendingMetadata.length; i++) {\n        id3 = this.pendingMetadata[i];\n        id3.cueTime = id3.pts;\n\n        if (!this.keepOriginalTimestamps) {\n          id3.cueTime -= timelineStartPts;\n        }\n\n        id3.cueTime /= 90e3;\n        event.metadata.push(id3);\n      } // We add this to every single emitted segment even though we only need\n      // it for the first\n\n\n      event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n      this.pendingTracks.length = 0;\n      this.videoTrack = null;\n      this.pendingBoxes.length = 0;\n      this.pendingCaptions.length = 0;\n      this.pendingBytes = 0;\n      this.pendingMetadata.length = 0; // Emit the built segment\n\n      this.trigger('data', event); // Only emit `done` if all tracks have been flushed and emitted\n\n      if (this.emittedTracks >= this.numberOfTracks) {\n        this.trigger('done');\n        this.emittedTracks = 0;\n      }\n    };\n    /**\n     * A Stream that expects MP2T binary data as input and produces\n     * corresponding media segments, suitable for use with Media Source\n     * Extension (MSE) implementations that support the ISO BMFF byte\n     * stream format, like Chrome.\n     */\n\n\n    _Transmuxer = function Transmuxer(options) {\n      var self = this,\n          hasFlushed = true,\n          videoTrack,\n          audioTrack;\n\n      _Transmuxer.prototype.init.call(this);\n\n      options = options || {};\n      this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n      this.transmuxPipeline_ = {};\n\n      this.setupAacPipeline = function () {\n        var pipeline = {};\n        this.transmuxPipeline_ = pipeline;\n        pipeline.type = 'aac';\n        pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n        pipeline.aacStream = new aac();\n        pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n        pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n        pipeline.adtsStream = new adts();\n        pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n        pipeline.headOfPipeline = pipeline.aacStream;\n        pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n        pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n        pipeline.metadataStream.on('timestamp', function (frame) {\n          pipeline.aacStream.setTimestamp(frame.timeStamp);\n        });\n        pipeline.aacStream.on('data', function (data) {\n          if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n            audioTrack = audioTrack || {\n              timelineStartInfo: {\n                baseMediaDecodeTime: self.baseMediaDecodeTime\n              },\n              codec: 'adts',\n              type: 'audio'\n            }; // hook up the audio segment stream to the first track with aac data\n\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n            pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n          }\n        }); // Re-emit any data coming from the coalesce stream to the outside world\n\n        pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n        pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n      };\n\n      this.setupTsPipeline = function () {\n        var pipeline = {};\n        this.transmuxPipeline_ = pipeline;\n        pipeline.type = 'ts';\n        pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n        pipeline.packetStream = new m2ts_1.TransportPacketStream();\n        pipeline.parseStream = new m2ts_1.TransportParseStream();\n        pipeline.elementaryStream = new m2ts_1.ElementaryStream();\n        pipeline.videoTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('video');\n        pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n        pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n        pipeline.adtsStream = new adts();\n        pipeline.h264Stream = new H264Stream();\n        pipeline.captionStream = new m2ts_1.CaptionStream();\n        pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n        pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n        pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream); // !!THIS ORDER IS IMPORTANT!!\n        // demux the streams\n\n        pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream);\n        pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n        pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n        pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n        pipeline.elementaryStream.on('data', function (data) {\n          var i;\n\n          if (data.type === 'metadata') {\n            i = data.tracks.length; // scan the tracks listed in the metadata\n\n            while (i--) {\n              if (!videoTrack && data.tracks[i].type === 'video') {\n                videoTrack = data.tracks[i];\n                videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n              } else if (!audioTrack && data.tracks[i].type === 'audio') {\n                audioTrack = data.tracks[i];\n                audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n              }\n            } // hook up the video segment stream to the first track with h264 data\n\n\n            if (videoTrack && !pipeline.videoSegmentStream) {\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n              pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n                // When video emits timelineStartInfo data after a flush, we forward that\n                // info to the AudioSegmentStream, if it exists, because video timeline\n                // data takes precedence.\n                if (audioTrack) {\n                  audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n                  // very earliest DTS we have seen in video because Chrome will\n                  // interpret any video track with a baseMediaDecodeTime that is\n                  // non-zero as a gap.\n\n                  pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n                }\n              });\n              pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n              pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n              pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n                if (audioTrack) {\n                  pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n                }\n              }); // Set up the final part of the video pipeline\n\n              pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n            }\n\n            if (audioTrack && !pipeline.audioSegmentStream) {\n              // hook up the audio segment stream to the first track with aac data\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n              pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n            }\n          }\n        }); // Re-emit any data coming from the coalesce stream to the outside world\n\n        pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n        pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n      }; // hook up the segment streams once track metadata is delivered\n\n\n      this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n        var pipeline = this.transmuxPipeline_;\n\n        if (!options.keepOriginalTimestamps) {\n          this.baseMediaDecodeTime = baseMediaDecodeTime;\n        }\n\n        if (audioTrack) {\n          audioTrack.timelineStartInfo.dts = undefined;\n          audioTrack.timelineStartInfo.pts = undefined;\n          trackDecodeInfo.clearDtsInfo(audioTrack);\n\n          if (!options.keepOriginalTimestamps) {\n            audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n\n          if (pipeline.audioTimestampRolloverStream) {\n            pipeline.audioTimestampRolloverStream.discontinuity();\n          }\n        }\n\n        if (videoTrack) {\n          if (pipeline.videoSegmentStream) {\n            pipeline.videoSegmentStream.gopCache_ = [];\n            pipeline.videoTimestampRolloverStream.discontinuity();\n          }\n\n          videoTrack.timelineStartInfo.dts = undefined;\n          videoTrack.timelineStartInfo.pts = undefined;\n          trackDecodeInfo.clearDtsInfo(videoTrack);\n          pipeline.captionStream.reset();\n\n          if (!options.keepOriginalTimestamps) {\n            videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n        }\n\n        if (pipeline.timedMetadataTimestampRolloverStream) {\n          pipeline.timedMetadataTimestampRolloverStream.discontinuity();\n        }\n      };\n\n      this.setAudioAppendStart = function (timestamp) {\n        if (audioTrack) {\n          this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n        }\n      };\n\n      this.alignGopsWith = function (gopsToAlignWith) {\n        if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n          this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n        }\n      }; // feed incoming data to the front of the parsing pipeline\n\n\n      this.push = function (data) {\n        if (hasFlushed) {\n          var isAac = isLikelyAacData$1(data);\n\n          if (isAac && this.transmuxPipeline_.type !== 'aac') {\n            this.setupAacPipeline();\n          } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n            this.setupTsPipeline();\n          }\n\n          hasFlushed = false;\n        }\n\n        this.transmuxPipeline_.headOfPipeline.push(data);\n      }; // flush any buffered data\n\n\n      this.flush = function () {\n        hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n        this.transmuxPipeline_.headOfPipeline.flush();\n      }; // Caption data has to be reset when seeking outside buffered range\n\n\n      this.resetCaptions = function () {\n        if (this.transmuxPipeline_.captionStream) {\n          this.transmuxPipeline_.captionStream.reset();\n        }\n      };\n    };\n\n    _Transmuxer.prototype = new stream();\n    var transmuxer = {\n      Transmuxer: _Transmuxer,\n      VideoSegmentStream: _VideoSegmentStream,\n      AudioSegmentStream: _AudioSegmentStream,\n      AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n      VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n      // exported for testing\n      generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n    };\n\n    var inspectMp4,\n        _textifyMp,\n        parseType$2 = probe.parseType,\n        parseMp4Date = function parseMp4Date(seconds) {\n      return new Date(seconds * 1000 - 2082844800000);\n    },\n        parseSampleFlags = function parseSampleFlags(flags) {\n      return {\n        isLeading: (flags[0] & 0x0c) >>> 2,\n        dependsOn: flags[0] & 0x03,\n        isDependedOn: (flags[1] & 0xc0) >>> 6,\n        hasRedundancy: (flags[1] & 0x30) >>> 4,\n        paddingValue: (flags[1] & 0x0e) >>> 1,\n        isNonSyncSample: flags[1] & 0x01,\n        degradationPriority: flags[2] << 8 | flags[3]\n      };\n    },\n        nalParse = function nalParse(avcStream) {\n      var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n          result = [],\n          i,\n          length;\n\n      for (i = 0; i + 4 < avcStream.length; i += length) {\n        length = avcView.getUint32(i);\n        i += 4; // bail if this doesn't appear to be an H264 stream\n\n        if (length <= 0) {\n          result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n          continue;\n        }\n\n        switch (avcStream[i] & 0x1F) {\n          case 0x01:\n            result.push('slice_layer_without_partitioning_rbsp');\n            break;\n\n          case 0x05:\n            result.push('slice_layer_without_partitioning_rbsp_idr');\n            break;\n\n          case 0x06:\n            result.push('sei_rbsp');\n            break;\n\n          case 0x07:\n            result.push('seq_parameter_set_rbsp');\n            break;\n\n          case 0x08:\n            result.push('pic_parameter_set_rbsp');\n            break;\n\n          case 0x09:\n            result.push('access_unit_delimiter_rbsp');\n            break;\n\n          default:\n            result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n            break;\n        }\n      }\n\n      return result;\n    },\n        // registry of handlers for individual mp4 box types\n    parse$$1 = {\n      // codingname, not a first-class box type. stsd entries share the\n      // same format as real boxes so the parsing infrastructure can be\n      // shared\n      avc1: function avc1(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        return {\n          dataReferenceIndex: view.getUint16(6),\n          width: view.getUint16(24),\n          height: view.getUint16(26),\n          horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n          vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n          frameCount: view.getUint16(40),\n          depth: view.getUint16(74),\n          config: inspectMp4(data.subarray(78, data.byteLength))\n        };\n      },\n      avcC: function avcC(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          configurationVersion: data[0],\n          avcProfileIndication: data[1],\n          profileCompatibility: data[2],\n          avcLevelIndication: data[3],\n          lengthSizeMinusOne: data[4] & 0x03,\n          sps: [],\n          pps: []\n        },\n            numOfSequenceParameterSets = data[5] & 0x1f,\n            numOfPictureParameterSets,\n            nalSize,\n            offset,\n            i; // iterate past any SPSs\n\n        offset = 6;\n\n        for (i = 0; i < numOfSequenceParameterSets; i++) {\n          nalSize = view.getUint16(offset);\n          offset += 2;\n          result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n          offset += nalSize;\n        } // iterate past any PPSs\n\n\n        numOfPictureParameterSets = data[offset];\n        offset++;\n\n        for (i = 0; i < numOfPictureParameterSets; i++) {\n          nalSize = view.getUint16(offset);\n          offset += 2;\n          result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n          offset += nalSize;\n        }\n\n        return result;\n      },\n      btrt: function btrt(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        return {\n          bufferSizeDB: view.getUint32(0),\n          maxBitrate: view.getUint32(4),\n          avgBitrate: view.getUint32(8)\n        };\n      },\n      esds: function esds(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          esId: data[6] << 8 | data[7],\n          streamPriority: data[8] & 0x1f,\n          decoderConfig: {\n            objectProfileIndication: data[11],\n            streamType: data[12] >>> 2 & 0x3f,\n            bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n            maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n            avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n            decoderConfigDescriptor: {\n              tag: data[24],\n              length: data[25],\n              audioObjectType: data[26] >>> 3 & 0x1f,\n              samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n              channelConfiguration: data[27] >>> 3 & 0x0f\n            }\n          }\n        };\n      },\n      ftyp: function ftyp(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          majorBrand: parseType$2(data.subarray(0, 4)),\n          minorVersion: view.getUint32(4),\n          compatibleBrands: []\n        },\n            i = 8;\n\n        while (i < data.byteLength) {\n          result.compatibleBrands.push(parseType$2(data.subarray(i, i + 4)));\n          i += 4;\n        }\n\n        return result;\n      },\n      dinf: function dinf(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      dref: function dref(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          dataReferences: inspectMp4(data.subarray(8))\n        };\n      },\n      hdlr: function hdlr(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4)),\n          handlerType: parseType$2(data.subarray(8, 12)),\n          name: ''\n        },\n            i = 8; // parse out the name field\n\n        for (i = 24; i < data.byteLength; i++) {\n          if (data[i] === 0x00) {\n            // the name field is null-terminated\n            i++;\n            break;\n          }\n\n          result.name += String.fromCharCode(data[i]);\n        } // decode UTF-8 to javascript's internal representation\n        // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n        result.name = decodeURIComponent(escape(result.name));\n        return result;\n      },\n      mdat: function mdat(data) {\n        return {\n          byteLength: data.byteLength,\n          nals: nalParse(data)\n        };\n      },\n      mdhd: function mdhd(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            i = 4,\n            language,\n            result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4)),\n          language: ''\n        };\n\n        if (result.version === 1) {\n          i += 4;\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 8;\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 4;\n          result.timescale = view.getUint32(i);\n          i += 8;\n          result.duration = view.getUint32(i); // truncating top 4 bytes\n        } else {\n          result.creationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.modificationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.timescale = view.getUint32(i);\n          i += 4;\n          result.duration = view.getUint32(i);\n        }\n\n        i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n        // each field is the packed difference between its ASCII value and 0x60\n\n        language = view.getUint16(i);\n        result.language += String.fromCharCode((language >> 10) + 0x60);\n        result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n        result.language += String.fromCharCode((language & 0x1f) + 0x60);\n        return result;\n      },\n      mdia: function mdia(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      mfhd: function mfhd(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n        };\n      },\n      minf: function minf(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      // codingname, not a first-class box type. stsd entries share the\n      // same format as real boxes so the parsing infrastructure can be\n      // shared\n      mp4a: function mp4a(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          // 6 bytes reserved\n          dataReferenceIndex: view.getUint16(6),\n          // 4 + 4 bytes reserved\n          channelcount: view.getUint16(16),\n          samplesize: view.getUint16(18),\n          // 2 bytes pre_defined\n          // 2 bytes reserved\n          samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n        }; // if there are more bytes to process, assume this is an ISO/IEC\n        // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n        if (data.byteLength > 28) {\n          result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n        }\n\n        return result;\n      },\n      moof: function moof(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      moov: function moov(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      mvex: function mvex(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      mvhd: function mvhd(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            i = 4,\n            result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4))\n        };\n\n        if (result.version === 1) {\n          i += 4;\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 8;\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 4;\n          result.timescale = view.getUint32(i);\n          i += 8;\n          result.duration = view.getUint32(i); // truncating top 4 bytes\n        } else {\n          result.creationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.modificationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.timescale = view.getUint32(i);\n          i += 4;\n          result.duration = view.getUint32(i);\n        }\n\n        i += 4; // convert fixed-point, base 16 back to a number\n\n        result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n        i += 4;\n        result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n        i += 2;\n        i += 2;\n        i += 2 * 4;\n        result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n        i += 9 * 4;\n        i += 6 * 4;\n        result.nextTrackId = view.getUint32(i);\n        return result;\n      },\n      pdin: function pdin(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        return {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4)),\n          rate: view.getUint32(4),\n          initialDelay: view.getUint32(8)\n        };\n      },\n      sdtp: function sdtp(data) {\n        var result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          samples: []\n        },\n            i;\n\n        for (i = 4; i < data.byteLength; i++) {\n          result.samples.push({\n            dependsOn: (data[i] & 0x30) >> 4,\n            isDependedOn: (data[i] & 0x0c) >> 2,\n            hasRedundancy: data[i] & 0x03\n          });\n        }\n\n        return result;\n      },\n      sidx: function sidx(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          references: [],\n          referenceId: view.getUint32(4),\n          timescale: view.getUint32(8),\n          earliestPresentationTime: view.getUint32(12),\n          firstOffset: view.getUint32(16)\n        },\n            referenceCount = view.getUint16(22),\n            i;\n\n        for (i = 24; referenceCount; i += 12, referenceCount--) {\n          result.references.push({\n            referenceType: (data[i] & 0x80) >>> 7,\n            referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n            subsegmentDuration: view.getUint32(i + 4),\n            startsWithSap: !!(data[i + 8] & 0x80),\n            sapType: (data[i + 8] & 0x70) >>> 4,\n            sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n          });\n        }\n\n        return result;\n      },\n      smhd: function smhd(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          balance: data[4] + data[5] / 256\n        };\n      },\n      stbl: function stbl(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      stco: function stco(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          chunkOffsets: []\n        },\n            entryCount = view.getUint32(4),\n            i;\n\n        for (i = 8; entryCount; i += 4, entryCount--) {\n          result.chunkOffsets.push(view.getUint32(i));\n        }\n\n        return result;\n      },\n      stsc: function stsc(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            entryCount = view.getUint32(4),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sampleToChunks: []\n        },\n            i;\n\n        for (i = 8; entryCount; i += 12, entryCount--) {\n          result.sampleToChunks.push({\n            firstChunk: view.getUint32(i),\n            samplesPerChunk: view.getUint32(i + 4),\n            sampleDescriptionIndex: view.getUint32(i + 8)\n          });\n        }\n\n        return result;\n      },\n      stsd: function stsd(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sampleDescriptions: inspectMp4(data.subarray(8))\n        };\n      },\n      stsz: function stsz(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          sampleSize: view.getUint32(4),\n          entries: []\n        },\n            i;\n\n        for (i = 12; i < data.byteLength; i += 4) {\n          result.entries.push(view.getUint32(i));\n        }\n\n        return result;\n      },\n      stts: function stts(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          timeToSamples: []\n        },\n            entryCount = view.getUint32(4),\n            i;\n\n        for (i = 8; entryCount; i += 8, entryCount--) {\n          result.timeToSamples.push({\n            sampleCount: view.getUint32(i),\n            sampleDelta: view.getUint32(i + 4)\n          });\n        }\n\n        return result;\n      },\n      styp: function styp(data) {\n        return parse$$1.ftyp(data);\n      },\n      tfdt: function tfdt(data) {\n        var result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n        };\n\n        if (result.version === 1) {\n          result.baseMediaDecodeTime *= Math.pow(2, 32);\n          result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n        }\n\n        return result;\n      },\n      tfhd: function tfhd(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          trackId: view.getUint32(4)\n        },\n            baseDataOffsetPresent = result.flags[2] & 0x01,\n            sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n            defaultSampleDurationPresent = result.flags[2] & 0x08,\n            defaultSampleSizePresent = result.flags[2] & 0x10,\n            defaultSampleFlagsPresent = result.flags[2] & 0x20,\n            durationIsEmpty = result.flags[0] & 0x010000,\n            defaultBaseIsMoof = result.flags[0] & 0x020000,\n            i;\n        i = 8;\n\n        if (baseDataOffsetPresent) {\n          i += 4; // truncate top 4 bytes\n          // FIXME: should we read the full 64 bits?\n\n          result.baseDataOffset = view.getUint32(12);\n          i += 4;\n        }\n\n        if (sampleDescriptionIndexPresent) {\n          result.sampleDescriptionIndex = view.getUint32(i);\n          i += 4;\n        }\n\n        if (defaultSampleDurationPresent) {\n          result.defaultSampleDuration = view.getUint32(i);\n          i += 4;\n        }\n\n        if (defaultSampleSizePresent) {\n          result.defaultSampleSize = view.getUint32(i);\n          i += 4;\n        }\n\n        if (defaultSampleFlagsPresent) {\n          result.defaultSampleFlags = view.getUint32(i);\n        }\n\n        if (durationIsEmpty) {\n          result.durationIsEmpty = true;\n        }\n\n        if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n          result.baseDataOffsetIsMoof = true;\n        }\n\n        return result;\n      },\n      tkhd: function tkhd(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            i = 4,\n            result = {\n          version: view.getUint8(0),\n          flags: new Uint8Array(data.subarray(1, 4))\n        };\n\n        if (result.version === 1) {\n          i += 4;\n          result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 8;\n          result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n          i += 4;\n          result.trackId = view.getUint32(i);\n          i += 4;\n          i += 8;\n          result.duration = view.getUint32(i); // truncating top 4 bytes\n        } else {\n          result.creationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.modificationTime = parseMp4Date(view.getUint32(i));\n          i += 4;\n          result.trackId = view.getUint32(i);\n          i += 4;\n          i += 4;\n          result.duration = view.getUint32(i);\n        }\n\n        i += 4;\n        i += 2 * 4;\n        result.layer = view.getUint16(i);\n        i += 2;\n        result.alternateGroup = view.getUint16(i);\n        i += 2; // convert fixed-point, base 16 back to a number\n\n        result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n        i += 2;\n        i += 2;\n        result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n        i += 9 * 4;\n        result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n        i += 4;\n        result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n        return result;\n      },\n      traf: function traf(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      trak: function trak(data) {\n        return {\n          boxes: inspectMp4(data)\n        };\n      },\n      trex: function trex(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          trackId: view.getUint32(4),\n          defaultSampleDescriptionIndex: view.getUint32(8),\n          defaultSampleDuration: view.getUint32(12),\n          defaultSampleSize: view.getUint32(16),\n          sampleDependsOn: data[20] & 0x03,\n          sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n          sampleHasRedundancy: (data[21] & 0x30) >> 4,\n          samplePaddingValue: (data[21] & 0x0e) >> 1,\n          sampleIsDifferenceSample: !!(data[21] & 0x01),\n          sampleDegradationPriority: view.getUint16(22)\n        };\n      },\n      trun: function trun(data) {\n        var result = {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          samples: []\n        },\n            view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n            // Flag interpretation\n        dataOffsetPresent = result.flags[2] & 0x01,\n            // compare with 2nd byte of 0x1\n        firstSampleFlagsPresent = result.flags[2] & 0x04,\n            // compare with 2nd byte of 0x4\n        sampleDurationPresent = result.flags[1] & 0x01,\n            // compare with 2nd byte of 0x100\n        sampleSizePresent = result.flags[1] & 0x02,\n            // compare with 2nd byte of 0x200\n        sampleFlagsPresent = result.flags[1] & 0x04,\n            // compare with 2nd byte of 0x400\n        sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n            // compare with 2nd byte of 0x800\n        sampleCount = view.getUint32(4),\n            offset = 8,\n            sample;\n\n        if (dataOffsetPresent) {\n          // 32 bit signed integer\n          result.dataOffset = view.getInt32(offset);\n          offset += 4;\n        } // Overrides the flags for the first sample only. The order of\n        // optional values will be: duration, size, compositionTimeOffset\n\n\n        if (firstSampleFlagsPresent && sampleCount) {\n          sample = {\n            flags: parseSampleFlags(data.subarray(offset, offset + 4))\n          };\n          offset += 4;\n\n          if (sampleDurationPresent) {\n            sample.duration = view.getUint32(offset);\n            offset += 4;\n          }\n\n          if (sampleSizePresent) {\n            sample.size = view.getUint32(offset);\n            offset += 4;\n          }\n\n          if (sampleCompositionTimeOffsetPresent) {\n            // Note: this should be a signed int if version is 1\n            sample.compositionTimeOffset = view.getUint32(offset);\n            offset += 4;\n          }\n\n          result.samples.push(sample);\n          sampleCount--;\n        }\n\n        while (sampleCount--) {\n          sample = {};\n\n          if (sampleDurationPresent) {\n            sample.duration = view.getUint32(offset);\n            offset += 4;\n          }\n\n          if (sampleSizePresent) {\n            sample.size = view.getUint32(offset);\n            offset += 4;\n          }\n\n          if (sampleFlagsPresent) {\n            sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n            offset += 4;\n          }\n\n          if (sampleCompositionTimeOffsetPresent) {\n            // Note: this should be a signed int if version is 1\n            sample.compositionTimeOffset = view.getUint32(offset);\n            offset += 4;\n          }\n\n          result.samples.push(sample);\n        }\n\n        return result;\n      },\n      'url ': function url(data) {\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4))\n        };\n      },\n      vmhd: function vmhd(data) {\n        var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n        return {\n          version: data[0],\n          flags: new Uint8Array(data.subarray(1, 4)),\n          graphicsmode: view.getUint16(4),\n          opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n        };\n      }\n    };\n    /**\n     * Return a javascript array of box objects parsed from an ISO base\n     * media file.\n     * @param data {Uint8Array} the binary data of the media to be inspected\n     * @return {array} a javascript array of potentially nested box objects\n     */\n\n\n    inspectMp4 = function inspectMp4(data) {\n      var i = 0,\n          result = [],\n          view,\n          size,\n          type,\n          end,\n          box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n      var ab = new ArrayBuffer(data.length);\n      var v = new Uint8Array(ab);\n\n      for (var z = 0; z < data.length; ++z) {\n        v[z] = data[z];\n      }\n\n      view = new DataView(ab);\n\n      while (i < data.byteLength) {\n        // parse box data\n        size = view.getUint32(i);\n        type = parseType$2(data.subarray(i + 4, i + 8));\n        end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n        box = (parse$$1[type] || function (data) {\n          return {\n            data: data\n          };\n        })(data.subarray(i + 8, end));\n\n        box.size = size;\n        box.type = type; // store this box and move to the next\n\n        result.push(box);\n        i = end;\n      }\n\n      return result;\n    };\n    /**\n     * Returns a textual representation of the javascript represtentation\n     * of an MP4 file. You can use it as an alternative to\n     * JSON.stringify() to compare inspected MP4s.\n     * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n     * file\n     * @param depth {number} (optional) the number of ancestor boxes of\n     * the elements of inspectedMp4. Assumed to be zero if unspecified.\n     * @return {string} a text representation of the parsed MP4\n     */\n\n\n    _textifyMp = function textifyMp4(inspectedMp4, depth) {\n      var indent;\n      depth = depth || 0;\n      indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n      return inspectedMp4.map(function (box, index) {\n        // list the box type first at the current indentation level\n        return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n        Object.keys(box).filter(function (key) {\n          return key !== 'type' && key !== 'boxes'; // output all the box properties\n        }).map(function (key) {\n          var prefix = indent + '  ' + key + ': ',\n              value = box[key]; // print out raw bytes as hexademical\n\n          if (value instanceof Uint8Array || value instanceof Uint32Array) {\n            var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (_byte) {\n              return ' ' + ('00' + _byte.toString(16)).slice(-2);\n            }).join('').match(/.{1,24}/g);\n\n            if (!bytes) {\n              return prefix + '<>';\n            }\n\n            if (bytes.length === 1) {\n              return prefix + '<' + bytes.join('').slice(1) + '>';\n            }\n\n            return prefix + '<\\n' + bytes.map(function (line) {\n              return indent + '  ' + line;\n            }).join('\\n') + '\\n' + indent + '  >';\n          } // stringify generic objects\n\n\n          return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n            if (index === 0) {\n              return line;\n            }\n\n            return indent + '  ' + line;\n          }).join('\\n');\n        }).join('\\n') + ( // recursively textify the child boxes\n        box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n      }).join('\\n');\n    };\n\n    var mp4Inspector$$1 = {\n      inspect: inspectMp4,\n      textify: _textifyMp,\n      parseTfdt: parse$$1.tfdt,\n      parseHdlr: parse$$1.hdlr,\n      parseTfhd: parse$$1.tfhd,\n      parseTrun: parse$$1.trun,\n      parseSidx: parse$$1.sidx\n    };\n    var discardEmulationPreventionBytes$1 = captionPacketParser.discardEmulationPreventionBytes;\n    var CaptionStream$1 = captionStream.CaptionStream;\n    /**\n      * Maps an offset in the mdat to a sample based on the the size of the samples.\n      * Assumes that `parseSamples` has been called first.\n      *\n      * @param {Number} offset - The offset into the mdat\n      * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n      * @return {?Object} The matching sample, or null if no match was found.\n      *\n      * @see ISO-BMFF-12/2015, Section 8.8.8\n     **/\n\n    var mapToSample = function mapToSample(offset, samples) {\n      var approximateOffset = offset;\n\n      for (var i = 0; i < samples.length; i++) {\n        var sample = samples[i];\n\n        if (approximateOffset < sample.size) {\n          return sample;\n        }\n\n        approximateOffset -= sample.size;\n      }\n\n      return null;\n    };\n    /**\n      * Finds SEI nal units contained in a Media Data Box.\n      * Assumes that `parseSamples` has been called first.\n      *\n      * @param {Uint8Array} avcStream - The bytes of the mdat\n      * @param {Object[]} samples - The samples parsed out by `parseSamples`\n      * @param {Number} trackId - The trackId of this video track\n      * @return {Object[]} seiNals - the parsed SEI NALUs found.\n      *   The contents of the seiNal should match what is expected by\n      *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n      *\n      * @see ISO-BMFF-12/2015, Section 8.1.1\n      * @see Rec. ITU-T H.264, 7.3.2.3.1\n     **/\n\n\n    var findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n      var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n          result = [],\n          seiNal,\n          i,\n          length,\n          lastMatchedSample;\n\n      for (i = 0; i + 4 < avcStream.length; i += length) {\n        length = avcView.getUint32(i);\n        i += 4; // Bail if this doesn't appear to be an H264 stream\n\n        if (length <= 0) {\n          continue;\n        }\n\n        switch (avcStream[i] & 0x1F) {\n          case 0x06:\n            var data = avcStream.subarray(i + 1, i + 1 + length);\n            var matchingSample = mapToSample(i, samples);\n            seiNal = {\n              nalUnitType: 'sei_rbsp',\n              size: length,\n              data: data,\n              escapedRBSP: discardEmulationPreventionBytes$1(data),\n              trackId: trackId\n            };\n\n            if (matchingSample) {\n              seiNal.pts = matchingSample.pts;\n              seiNal.dts = matchingSample.dts;\n              lastMatchedSample = matchingSample;\n            } else {\n              // If a matching sample cannot be found, use the last\n              // sample's values as they should be as close as possible\n              seiNal.pts = lastMatchedSample.pts;\n              seiNal.dts = lastMatchedSample.dts;\n            }\n\n            result.push(seiNal);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      return result;\n    };\n    /**\n      * Parses sample information out of Track Run Boxes and calculates\n      * the absolute presentation and decode timestamps of each sample.\n      *\n      * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n      * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n          @see ISO-BMFF-12/2015, Section 8.8.12\n      * @param {Object} tfhd - The parsed Track Fragment Header\n      *   @see inspect.parseTfhd\n      * @return {Object[]} the parsed samples\n      *\n      * @see ISO-BMFF-12/2015, Section 8.8.8\n     **/\n\n\n    var parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n      var currentDts = baseMediaDecodeTime;\n      var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n      var defaultSampleSize = tfhd.defaultSampleSize || 0;\n      var trackId = tfhd.trackId;\n      var allSamples = [];\n      truns.forEach(function (trun) {\n        // Note: We currently do not parse the sample table as well\n        // as the trun. It's possible some sources will require this.\n        // moov > trak > mdia > minf > stbl\n        var trackRun = mp4Inspector$$1.parseTrun(trun);\n        var samples = trackRun.samples;\n        samples.forEach(function (sample) {\n          if (sample.duration === undefined) {\n            sample.duration = defaultSampleDuration;\n          }\n\n          if (sample.size === undefined) {\n            sample.size = defaultSampleSize;\n          }\n\n          sample.trackId = trackId;\n          sample.dts = currentDts;\n\n          if (sample.compositionTimeOffset === undefined) {\n            sample.compositionTimeOffset = 0;\n          }\n\n          sample.pts = currentDts + sample.compositionTimeOffset;\n          currentDts += sample.duration;\n        });\n        allSamples = allSamples.concat(samples);\n      });\n      return allSamples;\n    };\n    /**\n      * Parses out caption nals from an FMP4 segment's video tracks.\n      *\n      * @param {Uint8Array} segment - The bytes of a single segment\n      * @param {Number} videoTrackId - The trackId of a video track in the segment\n      * @return {Object.<Number, Object[]>} A mapping of video trackId to\n      *   a list of seiNals found in that track\n     **/\n\n\n    var parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n      // To get the samples\n      var trafs = probe.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n      var mdats = probe.findBox(segment, ['mdat']);\n      var captionNals = {};\n      var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n      mdats.forEach(function (mdat, index) {\n        var matchingTraf = trafs[index];\n        mdatTrafPairs.push({\n          mdat: mdat,\n          traf: matchingTraf\n        });\n      });\n      mdatTrafPairs.forEach(function (pair) {\n        var mdat = pair.mdat;\n        var traf = pair.traf;\n        var tfhd = probe.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n        var headerInfo = mp4Inspector$$1.parseTfhd(tfhd[0]);\n        var trackId = headerInfo.trackId;\n        var tfdt = probe.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n        var baseMediaDecodeTime = tfdt.length > 0 ? mp4Inspector$$1.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n        var truns = probe.findBox(traf, ['trun']);\n        var samples;\n        var seiNals; // Only parse video data for the chosen video track\n\n        if (videoTrackId === trackId && truns.length > 0) {\n          samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n          seiNals = findSeiNals(mdat, samples, trackId);\n\n          if (!captionNals[trackId]) {\n            captionNals[trackId] = [];\n          }\n\n          captionNals[trackId] = captionNals[trackId].concat(seiNals);\n        }\n      });\n      return captionNals;\n    };\n    /**\n      * Parses out inband captions from an MP4 container and returns\n      * caption objects that can be used by WebVTT and the TextTrack API.\n      * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n      * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n      * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n      *\n      * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n      * @param {Number} trackId - The id of the video track to parse\n      * @param {Number} timescale - The timescale for the video track from the init segment\n      *\n      * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n      * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n      * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n      * @return {String} parsedCaptions[].text - The visible content of the caption\n     **/\n\n\n    var parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n      var seiNals;\n\n      if (!trackId) {\n        return null;\n      }\n\n      seiNals = parseCaptionNals(segment, trackId);\n      return {\n        seiNals: seiNals[trackId],\n        timescale: timescale\n      };\n    };\n    /**\n      * Converts SEI NALUs into captions that can be used by video.js\n     **/\n\n\n    var CaptionParser$$1 = function CaptionParser$$1() {\n      var isInitialized = false;\n      var captionStream$$1; // Stores segments seen before trackId and timescale are set\n\n      var segmentCache; // Stores video track ID of the track being parsed\n\n      var trackId; // Stores the timescale of the track being parsed\n\n      var timescale; // Stores captions parsed so far\n\n      var parsedCaptions;\n      /**\n        * A method to indicate whether a CaptionParser has been initalized\n        * @returns {Boolean}\n       **/\n\n      this.isInitialized = function () {\n        return isInitialized;\n      };\n      /**\n        * Initializes the underlying CaptionStream, SEI NAL parsing\n        * and management, and caption collection\n       **/\n\n\n      this.init = function () {\n        captionStream$$1 = new CaptionStream$1();\n        isInitialized = true; // Collect dispatched captions\n\n        captionStream$$1.on('data', function (event) {\n          // Convert to seconds in the source's timescale\n          event.startTime = event.startPts / timescale;\n          event.endTime = event.endPts / timescale;\n          parsedCaptions.captions.push(event);\n          parsedCaptions.captionStreams[event.stream] = true;\n        });\n      };\n      /**\n        * Determines if a new video track will be selected\n        * or if the timescale changed\n        * @return {Boolean}\n       **/\n\n\n      this.isNewInit = function (videoTrackIds, timescales) {\n        if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n          return false;\n        }\n\n        return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n      };\n      /**\n        * Parses out SEI captions and interacts with underlying\n        * CaptionStream to return dispatched captions\n        *\n        * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n        * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n        * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n        * @see parseEmbeddedCaptions\n        * @see m2ts/caption-stream.js\n       **/\n\n\n      this.parse = function (segment, videoTrackIds, timescales) {\n        var parsedData;\n\n        if (!this.isInitialized()) {\n          return null; // This is not likely to be a video segment\n        } else if (!videoTrackIds || !timescales) {\n          return null;\n        } else if (this.isNewInit(videoTrackIds, timescales)) {\n          // Use the first video track only as there is no\n          // mechanism to switch to other video tracks\n          trackId = videoTrackIds[0];\n          timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n          // data until we have one\n        } else if (!trackId || !timescale) {\n          segmentCache.push(segment);\n          return null;\n        } // Now that a timescale and trackId is set, parse cached segments\n\n\n        while (segmentCache.length > 0) {\n          var cachedSegment = segmentCache.shift();\n          this.parse(cachedSegment, videoTrackIds, timescales);\n        }\n\n        parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n        if (parsedData === null || !parsedData.seiNals) {\n          return null;\n        }\n\n        this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n        this.flushStream();\n        return parsedCaptions;\n      };\n      /**\n        * Pushes SEI NALUs onto CaptionStream\n        * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n        * Assumes that `parseCaptionNals` has been called first\n        * @see m2ts/caption-stream.js\n        **/\n\n\n      this.pushNals = function (nals) {\n        if (!this.isInitialized() || !nals || nals.length === 0) {\n          return null;\n        }\n\n        nals.forEach(function (nal) {\n          captionStream$$1.push(nal);\n        });\n      };\n      /**\n        * Flushes underlying CaptionStream to dispatch processed, displayable captions\n        * @see m2ts/caption-stream.js\n       **/\n\n\n      this.flushStream = function () {\n        if (!this.isInitialized()) {\n          return null;\n        }\n\n        captionStream$$1.flush();\n      };\n      /**\n        * Reset caption buckets for new data\n       **/\n\n\n      this.clearParsedCaptions = function () {\n        parsedCaptions.captions = [];\n        parsedCaptions.captionStreams = {};\n      };\n      /**\n        * Resets underlying CaptionStream\n        * @see m2ts/caption-stream.js\n       **/\n\n\n      this.resetCaptionStream = function () {\n        if (!this.isInitialized()) {\n          return null;\n        }\n\n        captionStream$$1.reset();\n      };\n      /**\n        * Convenience method to clear all captions flushed from the\n        * CaptionStream and still being parsed\n        * @see m2ts/caption-stream.js\n       **/\n\n\n      this.clearAllCaptions = function () {\n        this.clearParsedCaptions();\n        this.resetCaptionStream();\n      };\n      /**\n        * Reset caption parser\n       **/\n\n\n      this.reset = function () {\n        segmentCache = [];\n        trackId = null;\n        timescale = null;\n\n        if (!parsedCaptions) {\n          parsedCaptions = {\n            captions: [],\n            // CC1, CC2, CC3, CC4\n            captionStreams: {}\n          };\n        } else {\n          this.clearParsedCaptions();\n        }\n\n        this.resetCaptionStream();\n      };\n\n      this.reset();\n    };\n\n    var captionParser = CaptionParser$$1;\n    /**\n     * mux.js\n     *\n     * Copyright (c) Brightcove\n     * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n     */\n\n    var mp4 = {\n      generator: mp4Generator,\n      probe: probe,\n      Transmuxer: transmuxer.Transmuxer,\n      AudioSegmentStream: transmuxer.AudioSegmentStream,\n      VideoSegmentStream: transmuxer.VideoSegmentStream,\n      CaptionParser: captionParser\n    };\n\n    var classCallCheck = function classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    };\n\n    var createClass = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n    /**\n     * @file transmuxer-worker.js\n     */\n\n    /**\n     * Re-emits transmuxer events by converting them into messages to the\n     * world outside the worker.\n     *\n     * @param {Object} transmuxer the transmuxer to wire events on\n     * @private\n     */\n\n\n    var wireTransmuxerEvents = function wireTransmuxerEvents(self, transmuxer) {\n      transmuxer.on('data', function (segment) {\n        // transfer ownership of the underlying ArrayBuffer\n        // instead of doing a copy to save memory\n        // ArrayBuffers are transferable but generic TypedArrays are not\n        // @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)\n        var initArray = segment.initSegment;\n        segment.initSegment = {\n          data: initArray.buffer,\n          byteOffset: initArray.byteOffset,\n          byteLength: initArray.byteLength\n        };\n        var typedArray = segment.data;\n        segment.data = typedArray.buffer;\n        self.postMessage({\n          action: 'data',\n          segment: segment,\n          byteOffset: typedArray.byteOffset,\n          byteLength: typedArray.byteLength\n        }, [segment.data]);\n      });\n\n      if (transmuxer.captionStream) {\n        transmuxer.captionStream.on('data', function (caption) {\n          self.postMessage({\n            action: 'caption',\n            data: caption\n          });\n        });\n      }\n\n      transmuxer.on('done', function (data) {\n        self.postMessage({\n          action: 'done'\n        });\n      });\n      transmuxer.on('gopInfo', function (gopInfo) {\n        self.postMessage({\n          action: 'gopInfo',\n          gopInfo: gopInfo\n        });\n      });\n      transmuxer.on('videoSegmentTimingInfo', function (videoSegmentTimingInfo) {\n        self.postMessage({\n          action: 'videoSegmentTimingInfo',\n          videoSegmentTimingInfo: videoSegmentTimingInfo\n        });\n      });\n    };\n    /**\n     * All incoming messages route through this hash. If no function exists\n     * to handle an incoming message, then we ignore the message.\n     *\n     * @class MessageHandlers\n     * @param {Object} options the options to initialize with\n     */\n\n\n    var MessageHandlers = function () {\n      function MessageHandlers(self, options) {\n        classCallCheck(this, MessageHandlers);\n        this.options = options || {};\n        this.self = self;\n        this.init();\n      }\n      /**\n       * initialize our web worker and wire all the events.\n       */\n\n\n      createClass(MessageHandlers, [{\n        key: 'init',\n        value: function init() {\n          if (this.transmuxer) {\n            this.transmuxer.dispose();\n          }\n\n          this.transmuxer = new mp4.Transmuxer(this.options);\n          wireTransmuxerEvents(this.self, this.transmuxer);\n        }\n        /**\n         * Adds data (a ts segment) to the start of the transmuxer pipeline for\n         * processing.\n         *\n         * @param {ArrayBuffer} data data to push into the muxer\n         */\n\n      }, {\n        key: 'push',\n        value: function push(data) {\n          // Cast array buffer to correct type for transmuxer\n          var segment = new Uint8Array(data.data, data.byteOffset, data.byteLength);\n          this.transmuxer.push(segment);\n        }\n        /**\n         * Recreate the transmuxer so that the next segment added via `push`\n         * start with a fresh transmuxer.\n         */\n\n      }, {\n        key: 'reset',\n        value: function reset() {\n          this.init();\n        }\n        /**\n         * Set the value that will be used as the `baseMediaDecodeTime` time for the\n         * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`\n         * set relative to the first based on the PTS values.\n         *\n         * @param {Object} data used to set the timestamp offset in the muxer\n         */\n\n      }, {\n        key: 'setTimestampOffset',\n        value: function setTimestampOffset(data) {\n          var timestampOffset = data.timestampOffset || 0;\n          this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset * 90000));\n        }\n      }, {\n        key: 'setAudioAppendStart',\n        value: function setAudioAppendStart(data) {\n          this.transmuxer.setAudioAppendStart(Math.ceil(data.appendStart * 90000));\n        }\n        /**\n         * Forces the pipeline to finish processing the last segment and emit it's\n         * results.\n         *\n         * @param {Object} data event data, not really used\n         */\n\n      }, {\n        key: 'flush',\n        value: function flush(data) {\n          this.transmuxer.flush();\n        }\n      }, {\n        key: 'resetCaptions',\n        value: function resetCaptions() {\n          this.transmuxer.resetCaptions();\n        }\n      }, {\n        key: 'alignGopsWith',\n        value: function alignGopsWith(data) {\n          this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice());\n        }\n      }]);\n      return MessageHandlers;\n    }();\n    /**\n     * Our web wroker interface so that things can talk to mux.js\n     * that will be running in a web worker. the scope is passed to this by\n     * webworkify.\n     *\n     * @param {Object} self the scope for the web worker\n     */\n\n\n    var TransmuxerWorker = function TransmuxerWorker(self) {\n      self.onmessage = function (event) {\n        if (event.data.action === 'init' && event.data.options) {\n          this.messageHandlers = new MessageHandlers(self, event.data.options);\n          return;\n        }\n\n        if (!this.messageHandlers) {\n          this.messageHandlers = new MessageHandlers(self);\n        }\n\n        if (event.data && event.data.action && event.data.action !== 'init') {\n          if (this.messageHandlers[event.data.action]) {\n            this.messageHandlers[event.data.action](event.data);\n          }\n        }\n      };\n    };\n\n    var transmuxerWorker = new TransmuxerWorker(self);\n    return transmuxerWorker;\n  }();\n});\n/**\n * @file - codecs.js - Handles tasks regarding codec strings such as translating them to\n * codec strings, or translating codec strings into objects that can be examined.\n */\n// Default codec parameters if none were provided for video and/or audio\n\nvar defaultCodecs = {\n  videoCodec: 'avc1',\n  videoObjectTypeIndicator: '.4d400d',\n  // AAC-LC\n  audioProfile: '2'\n};\n/**\n * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n * `avc1.<hhhhhh>`\n *\n * @param {Array} codecs an array of codec strings to fix\n * @return {Array} the translated codec array\n * @private\n */\n\nvar translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n  return codecs.map(function (codec) {\n    return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n      var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n      var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n      return 'avc1.' + profileHex + '00' + avcLevelHex;\n    });\n  });\n};\n/**\n * Parses a codec string to retrieve the number of codecs specified,\n * the video codec and object type indicator, and the audio profile.\n */\n\n\nvar parseCodecs = function parseCodecs() {\n  var codecs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var result = {\n    codecCount: 0\n  };\n  var parsed = void 0;\n  result.codecCount = codecs.split(',').length;\n  result.codecCount = result.codecCount || 2; // parse the video codec\n\n  parsed = /(^|\\s|,)+(avc[13])([^ ,]*)/i.exec(codecs);\n\n  if (parsed) {\n    result.videoCodec = parsed[2];\n    result.videoObjectTypeIndicator = parsed[3];\n  } // parse the last field of the audio codec\n\n\n  result.audioProfile = /(^|\\s|,)+mp4a.[0-9A-Fa-f]+\\.([0-9A-Fa-f]+)/i.exec(codecs);\n  result.audioProfile = result.audioProfile && result.audioProfile[2];\n  return result;\n};\n/**\n * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n * standard `avc1.<hhhhhh>`.\n *\n * @param codecString {String} the codec string\n * @return {String} the codec string with old apple-style codecs replaced\n *\n * @private\n */\n\n\nvar mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n  return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (match) {\n    return translateLegacyCodecs([match])[0];\n  });\n};\n/**\n * Build a media mime-type string from a set of parameters\n * @param {String} type either 'audio' or 'video'\n * @param {String} container either 'mp2t' or 'mp4'\n * @param {Array} codecs an array of codec strings to add\n * @return {String} a valid media mime-type\n */\n\n\nvar makeMimeTypeString = function makeMimeTypeString(type, container, codecs) {\n  // The codecs array is filtered so that falsey values are\n  // dropped and don't cause Array#join to create spurious\n  // commas\n  return type + '/' + container + '; codecs=\"' + codecs.filter(function (c) {\n    return !!c;\n  }).join(', ') + '\"';\n};\n/**\n * Returns the type container based on information in the playlist\n * @param {Playlist} media the current media playlist\n * @return {String} a valid media container type\n */\n\n\nvar getContainerType = function getContainerType(media) {\n  // An initialization segment means the media playlist is an iframe\n  // playlist or is using the mp4 container. We don't currently\n  // support iframe playlists, so assume this is signalling mp4\n  // fragments.\n  if (media.segments && media.segments.length && media.segments[0].map) {\n    return 'mp4';\n  }\n\n  return 'mp2t';\n};\n/**\n * Returns a set of codec strings parsed from the playlist or the default\n * codec strings if no codecs were specified in the playlist\n * @param {Playlist} media the current media playlist\n * @return {Object} an object with the video and audio codecs\n */\n\n\nvar getCodecs = function getCodecs(media) {\n  // if the codecs were explicitly specified, use them instead of the\n  // defaults\n  var mediaAttributes = media.attributes || {};\n\n  if (mediaAttributes.CODECS) {\n    return parseCodecs(mediaAttributes.CODECS);\n  }\n\n  return defaultCodecs;\n};\n\nvar audioProfileFromDefault = function audioProfileFromDefault(master, audioGroupId) {\n  if (!master.mediaGroups.AUDIO || !audioGroupId) {\n    return null;\n  }\n\n  var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n\n  if (!audioGroup) {\n    return null;\n  }\n\n  for (var name in audioGroup) {\n    var audioType = audioGroup[name];\n\n    if (audioType[\"default\"] && audioType.playlists) {\n      // codec should be the same for all playlists within the audio type\n      return parseCodecs(audioType.playlists[0].attributes.CODECS).audioProfile;\n    }\n  }\n\n  return null;\n};\n/**\n * Calculates the MIME type strings for a working configuration of\n * SourceBuffers to play variant streams in a master playlist. If\n * there is no possible working configuration, an empty array will be\n * returned.\n *\n * @param master {Object} the m3u8 object for the master playlist\n * @param media {Object} the m3u8 object for the variant playlist\n * @return {Array} the MIME type strings. If the array has more than\n * one entry, the first element should be applied to the video\n * SourceBuffer and the second to the audio SourceBuffer.\n *\n * @private\n */\n\n\nvar mimeTypesForPlaylist = function mimeTypesForPlaylist(master, media) {\n  var containerType = getContainerType(media);\n  var codecInfo = getCodecs(media);\n  var mediaAttributes = media.attributes || {}; // Default condition for a traditional HLS (no demuxed audio/video)\n\n  var isMuxed = true;\n  var isMaat = false;\n\n  if (!media) {\n    // Not enough information\n    return [];\n  }\n\n  if (master.mediaGroups.AUDIO && mediaAttributes.AUDIO) {\n    var audioGroup = master.mediaGroups.AUDIO[mediaAttributes.AUDIO]; // Handle the case where we are in a multiple-audio track scenario\n\n    if (audioGroup) {\n      isMaat = true; // Start with the everything demuxed then...\n\n      isMuxed = false; // ...check to see if any audio group tracks are muxed (ie. lacking a uri)\n\n      for (var groupId in audioGroup) {\n        // either a uri is present (if the case of HLS and an external playlist), or\n        // playlists is present (in the case of DASH where we don't have external audio\n        // playlists)\n        if (!audioGroup[groupId].uri && !audioGroup[groupId].playlists) {\n          isMuxed = true;\n          break;\n        }\n      }\n    }\n  } // HLS with multiple-audio tracks must always get an audio codec.\n  // Put another way, there is no way to have a video-only multiple-audio HLS!\n\n\n  if (isMaat && !codecInfo.audioProfile) {\n    if (!isMuxed) {\n      // It is possible for codecs to be specified on the audio media group playlist but\n      // not on the rendition playlist. This is mostly the case for DASH, where audio and\n      // video are always separate (and separately specified).\n      codecInfo.audioProfile = audioProfileFromDefault(master, mediaAttributes.AUDIO);\n    }\n\n    if (!codecInfo.audioProfile) {\n      videojs$1.log.warn('Multiple audio tracks present but no audio codec string is specified. ' + 'Attempting to use the default audio codec (mp4a.40.2)');\n      codecInfo.audioProfile = defaultCodecs.audioProfile;\n    }\n  } // Generate the final codec strings from the codec object generated above\n\n\n  var codecStrings = {};\n\n  if (codecInfo.videoCodec) {\n    codecStrings.video = '' + codecInfo.videoCodec + codecInfo.videoObjectTypeIndicator;\n  }\n\n  if (codecInfo.audioProfile) {\n    codecStrings.audio = 'mp4a.40.' + codecInfo.audioProfile;\n  } // Finally, make and return an array with proper mime-types depending on\n  // the configuration\n\n\n  var justAudio = makeMimeTypeString('audio', containerType, [codecStrings.audio]);\n  var justVideo = makeMimeTypeString('video', containerType, [codecStrings.video]);\n  var bothVideoAudio = makeMimeTypeString('video', containerType, [codecStrings.video, codecStrings.audio]);\n\n  if (isMaat) {\n    if (!isMuxed && codecStrings.video) {\n      return [justVideo, justAudio];\n    }\n\n    if (!isMuxed && !codecStrings.video) {\n      // There is no muxed content and no video codec string, so this is an audio only\n      // stream with alternate audio.\n      return [justAudio, justAudio];\n    } // There exists the possiblity that this will return a `video/container`\n    // mime-type for the first entry in the array even when there is only audio.\n    // This doesn't appear to be a problem and simplifies the code.\n\n\n    return [bothVideoAudio, justAudio];\n  } // If there is no video codec at all, always just return a single\n  // audio/<container> mime-type\n\n\n  if (!codecStrings.video) {\n    return [justAudio];\n  } // When not using separate audio media groups, audio and video is\n  // *always* muxed\n\n\n  return [bothVideoAudio];\n};\n/**\n * Parse a content type header into a type and parameters\n * object\n *\n * @param {String} type the content type header\n * @return {Object} the parsed content-type\n * @private\n */\n\n\nvar parseContentType = function parseContentType(type) {\n  var object = {\n    type: '',\n    parameters: {}\n  };\n  var parameters = type.trim().split(';'); // first parameter should always be content-type\n\n  object.type = parameters.shift().trim();\n  parameters.forEach(function (parameter) {\n    var pair = parameter.trim().split('=');\n\n    if (pair.length > 1) {\n      var name = pair[0].replace(/\"/g, '').trim();\n      var value = pair[1].replace(/\"/g, '').trim();\n      object.parameters[name] = value;\n    }\n  });\n  return object;\n};\n/**\n * Check if a codec string refers to an audio codec.\n *\n * @param {String} codec codec string to check\n * @return {Boolean} if this is an audio codec\n * @private\n */\n\n\nvar isAudioCodec = function isAudioCodec(codec) {\n  return /mp4a\\.\\d+.\\d+/i.test(codec);\n};\n/**\n * Check if a codec string refers to a video codec.\n *\n * @param {String} codec codec string to check\n * @return {Boolean} if this is a video codec\n * @private\n */\n\n\nvar isVideoCodec = function isVideoCodec(codec) {\n  return /avc1\\.[\\da-f]+/i.test(codec);\n};\n/**\n * Returns a list of gops in the buffer that have a pts value of 3 seconds or more in\n * front of current time.\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Number} currentTime\n *        The current time\n * @param {Double} mapping\n *        Offset to map display time to stream presentation time\n * @return {Array}\n *         List of gops considered safe to append over\n */\n\n\nvar gopsSafeToAlignWith = function gopsSafeToAlignWith(buffer, currentTime, mapping) {\n  if (typeof currentTime === 'undefined' || currentTime === null || !buffer.length) {\n    return [];\n  } // pts value for current time + 3 seconds to give a bit more wiggle room\n\n\n  var currentTimePts = Math.ceil((currentTime - mapping + 3) * 90000);\n  var i = void 0;\n\n  for (i = 0; i < buffer.length; i++) {\n    if (buffer[i].pts > currentTimePts) {\n      break;\n    }\n  }\n\n  return buffer.slice(i);\n};\n/**\n * Appends gop information (timing and byteLength) received by the transmuxer for the\n * gops appended in the last call to appendBuffer\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Array} gops\n *        List of new gop information\n * @param {boolean} replace\n *        If true, replace the buffer with the new gop information. If false, append the\n *        new gop information to the buffer in the right location of time.\n * @return {Array}\n *         Updated list of gop information\n */\n\n\nvar updateGopBuffer = function updateGopBuffer(buffer, gops, replace) {\n  if (!gops.length) {\n    return buffer;\n  }\n\n  if (replace) {\n    // If we are in safe append mode, then completely overwrite the gop buffer\n    // with the most recent appeneded data. This will make sure that when appending\n    // future segments, we only try to align with gops that are both ahead of current\n    // time and in the last segment appended.\n    return gops.slice();\n  }\n\n  var start = gops[0].pts;\n  var i = 0;\n\n  for (i; i < buffer.length; i++) {\n    if (buffer[i].pts >= start) {\n      break;\n    }\n  }\n\n  return buffer.slice(0, i).concat(gops);\n};\n/**\n * Removes gop information in buffer that overlaps with provided start and end\n *\n * @param {Array} buffer\n *        The current buffer of gop information\n * @param {Double} start\n *        position to start the remove at\n * @param {Double} end\n *        position to end the remove at\n * @param {Double} mapping\n *        Offset to map display time to stream presentation time\n */\n\n\nvar removeGopBuffer = function removeGopBuffer(buffer, start, end, mapping) {\n  var startPts = Math.ceil((start - mapping) * 90000);\n  var endPts = Math.ceil((end - mapping) * 90000);\n  var updatedBuffer = buffer.slice();\n  var i = buffer.length;\n\n  while (i--) {\n    if (buffer[i].pts <= endPts) {\n      break;\n    }\n  }\n\n  if (i === -1) {\n    // no removal because end of remove range is before start of buffer\n    return updatedBuffer;\n  }\n\n  var j = i + 1;\n\n  while (j--) {\n    if (buffer[j].pts <= startPts) {\n      break;\n    }\n  } // clamp remove range start to 0 index\n\n\n  j = Math.max(j, 0);\n  updatedBuffer.splice(j, i - j + 1);\n  return updatedBuffer;\n};\n\nvar buffered = function buffered(videoBuffer, audioBuffer, audioDisabled) {\n  var start = null;\n  var end = null;\n  var arity = 0;\n  var extents = [];\n  var ranges = []; // neither buffer has been created yet\n\n  if (!videoBuffer && !audioBuffer) {\n    return videojs$1.createTimeRange();\n  } // only one buffer is configured\n\n\n  if (!videoBuffer) {\n    return audioBuffer.buffered;\n  }\n\n  if (!audioBuffer) {\n    return videoBuffer.buffered;\n  } // both buffers are configured\n\n\n  if (audioDisabled) {\n    return videoBuffer.buffered;\n  } // both buffers are empty\n\n\n  if (videoBuffer.buffered.length === 0 && audioBuffer.buffered.length === 0) {\n    return videojs$1.createTimeRange();\n  } // Handle the case where we have both buffers and create an\n  // intersection of the two\n\n\n  var videoBuffered = videoBuffer.buffered;\n  var audioBuffered = audioBuffer.buffered;\n  var count = videoBuffered.length; // A) Gather up all start and end times\n\n  while (count--) {\n    extents.push({\n      time: videoBuffered.start(count),\n      type: 'start'\n    });\n    extents.push({\n      time: videoBuffered.end(count),\n      type: 'end'\n    });\n  }\n\n  count = audioBuffered.length;\n\n  while (count--) {\n    extents.push({\n      time: audioBuffered.start(count),\n      type: 'start'\n    });\n    extents.push({\n      time: audioBuffered.end(count),\n      type: 'end'\n    });\n  } // B) Sort them by time\n\n\n  extents.sort(function (a, b) {\n    return a.time - b.time;\n  }); // C) Go along one by one incrementing arity for start and decrementing\n  //    arity for ends\n\n  for (count = 0; count < extents.length; count++) {\n    if (extents[count].type === 'start') {\n      arity++; // D) If arity is ever incremented to 2 we are entering an\n      //    overlapping range\n\n      if (arity === 2) {\n        start = extents[count].time;\n      }\n    } else if (extents[count].type === 'end') {\n      arity--; // E) If arity is ever decremented to 1 we leaving an\n      //    overlapping range\n\n      if (arity === 1) {\n        end = extents[count].time;\n      }\n    } // F) Record overlapping ranges\n\n\n    if (start !== null && end !== null) {\n      ranges.push([start, end]);\n      start = null;\n      end = null;\n    }\n  }\n\n  return videojs$1.createTimeRanges(ranges);\n};\n/**\n * @file virtual-source-buffer.js\n */\n\n\nvar ONE_SECOND_IN_TS = 90000; // We create a wrapper around the SourceBuffer so that we can manage the\n// state of the `updating` property manually. We have to do this because\n// Firefox changes `updating` to false long before triggering `updateend`\n// events and that was causing strange problems in videojs-contrib-hls\n\nvar makeWrappedSourceBuffer = function makeWrappedSourceBuffer(mediaSource, mimeType) {\n  var sourceBuffer = mediaSource.addSourceBuffer(mimeType);\n  var wrapper = Object.create(null);\n  wrapper.updating = false;\n  wrapper.realBuffer_ = sourceBuffer;\n\n  var _loop = function _loop(key) {\n    if (typeof sourceBuffer[key] === 'function') {\n      wrapper[key] = function () {\n        return sourceBuffer[key].apply(sourceBuffer, arguments);\n      };\n    } else if (typeof wrapper[key] === 'undefined') {\n      Object.defineProperty(wrapper, key, {\n        get: function get$$1() {\n          return sourceBuffer[key];\n        },\n        set: function set$$1(v) {\n          return sourceBuffer[key] = v;\n        }\n      });\n    }\n  };\n\n  for (var key in sourceBuffer) {\n    _loop(key);\n  }\n\n  return wrapper;\n};\n/**\n * VirtualSourceBuffers exist so that we can transmux non native formats\n * into a native format, but keep the same api as a native source buffer.\n * It creates a transmuxer, that works in its own thread (a web worker) and\n * that transmuxer muxes the data into a native format. VirtualSourceBuffer will\n * then send all of that data to the naive sourcebuffer so that it is\n * indestinguishable from a natively supported format.\n *\n * @param {HtmlMediaSource} mediaSource the parent mediaSource\n * @param {Array} codecs array of codecs that we will be dealing with\n * @class VirtualSourceBuffer\n * @extends video.js.EventTarget\n */\n\n\nvar VirtualSourceBuffer = function (_videojs$EventTarget) {\n  inherits(VirtualSourceBuffer, _videojs$EventTarget);\n\n  function VirtualSourceBuffer(mediaSource, codecs) {\n    classCallCheck(this, VirtualSourceBuffer);\n\n    var _this = possibleConstructorReturn(this, (VirtualSourceBuffer.__proto__ || Object.getPrototypeOf(VirtualSourceBuffer)).call(this, videojs$1.EventTarget));\n\n    _this.timestampOffset_ = 0;\n    _this.pendingBuffers_ = [];\n    _this.bufferUpdating_ = false;\n    _this.mediaSource_ = mediaSource;\n    _this.codecs_ = codecs;\n    _this.audioCodec_ = null;\n    _this.videoCodec_ = null;\n    _this.audioDisabled_ = false;\n    _this.appendAudioInitSegment_ = true;\n    _this.gopBuffer_ = [];\n    _this.timeMapping_ = 0;\n    _this.safeAppend_ = videojs$1.browser.IE_VERSION >= 11;\n    var options = {\n      remux: false,\n      alignGopsAtEnd: _this.safeAppend_\n    };\n\n    _this.codecs_.forEach(function (codec) {\n      if (isAudioCodec(codec)) {\n        _this.audioCodec_ = codec;\n      } else if (isVideoCodec(codec)) {\n        _this.videoCodec_ = codec;\n      }\n    }); // append muxed segments to their respective native buffers as\n    // soon as they are available\n\n\n    _this.transmuxer_ = new TransmuxWorker();\n\n    _this.transmuxer_.postMessage({\n      action: 'init',\n      options: options\n    });\n\n    _this.transmuxer_.onmessage = function (event) {\n      if (event.data.action === 'data') {\n        return _this.data_(event);\n      }\n\n      if (event.data.action === 'done') {\n        return _this.done_(event);\n      }\n\n      if (event.data.action === 'gopInfo') {\n        return _this.appendGopInfo_(event);\n      }\n\n      if (event.data.action === 'videoSegmentTimingInfo') {\n        return _this.videoSegmentTimingInfo_(event.data.videoSegmentTimingInfo);\n      }\n    }; // this timestampOffset is a property with the side-effect of resetting\n    // baseMediaDecodeTime in the transmuxer on the setter\n\n\n    Object.defineProperty(_this, 'timestampOffset', {\n      get: function get$$1() {\n        return this.timestampOffset_;\n      },\n      set: function set$$1(val) {\n        if (typeof val === 'number' && val >= 0) {\n          this.timestampOffset_ = val;\n          this.appendAudioInitSegment_ = true; // reset gop buffer on timestampoffset as this signals a change in timeline\n\n          this.gopBuffer_.length = 0;\n          this.timeMapping_ = 0; // We have to tell the transmuxer to set the baseMediaDecodeTime to\n          // the desired timestampOffset for the next segment\n\n          this.transmuxer_.postMessage({\n            action: 'setTimestampOffset',\n            timestampOffset: val\n          });\n        }\n      }\n    }); // setting the append window affects both source buffers\n\n    Object.defineProperty(_this, 'appendWindowStart', {\n      get: function get$$1() {\n        return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart;\n      },\n      set: function set$$1(start) {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.appendWindowStart = start;\n        }\n\n        if (this.audioBuffer_) {\n          this.audioBuffer_.appendWindowStart = start;\n        }\n      }\n    }); // this buffer is \"updating\" if either of its native buffers are\n\n    Object.defineProperty(_this, 'updating', {\n      get: function get$$1() {\n        return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating);\n      }\n    }); // the buffered property is the intersection of the buffered\n    // ranges of the native source buffers\n\n    Object.defineProperty(_this, 'buffered', {\n      get: function get$$1() {\n        return buffered(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_);\n      }\n    });\n    return _this;\n  }\n  /**\n   * When we get a data event from the transmuxer\n   * we call this function and handle the data that\n   * was sent to us\n   *\n   * @private\n   * @param {Event} event the data event from the transmuxer\n   */\n\n\n  createClass(VirtualSourceBuffer, [{\n    key: 'data_',\n    value: function data_(event) {\n      var segment = event.data.segment; // Cast ArrayBuffer to TypedArray\n\n      segment.data = new Uint8Array(segment.data, event.data.byteOffset, event.data.byteLength);\n      segment.initSegment = new Uint8Array(segment.initSegment.data, segment.initSegment.byteOffset, segment.initSegment.byteLength);\n      createTextTracksIfNecessary(this, this.mediaSource_, segment); // Add the segments to the pendingBuffers array\n\n      this.pendingBuffers_.push(segment);\n      return;\n    }\n    /**\n     * When we get a done event from the transmuxer\n     * we call this function and we process all\n     * of the pending data that we have been saving in the\n     * data_ function\n     *\n     * @private\n     * @param {Event} event the done event from the transmuxer\n     */\n\n  }, {\n    key: 'done_',\n    value: function done_(event) {\n      // Don't process and append data if the mediaSource is closed\n      if (this.mediaSource_.readyState === 'closed') {\n        this.pendingBuffers_.length = 0;\n        return;\n      } // All buffers should have been flushed from the muxer\n      // start processing anything we have received\n\n\n      this.processPendingSegments_();\n      return;\n    }\n  }, {\n    key: 'videoSegmentTimingInfo_',\n    value: function videoSegmentTimingInfo_(timingInfo) {\n      var timingInfoInSeconds = {\n        start: {\n          decode: timingInfo.start.dts / ONE_SECOND_IN_TS,\n          presentation: timingInfo.start.pts / ONE_SECOND_IN_TS\n        },\n        end: {\n          decode: timingInfo.end.dts / ONE_SECOND_IN_TS,\n          presentation: timingInfo.end.pts / ONE_SECOND_IN_TS\n        },\n        baseMediaDecodeTime: timingInfo.baseMediaDecodeTime / ONE_SECOND_IN_TS\n      };\n\n      if (timingInfo.prependedContentDuration) {\n        timingInfoInSeconds.prependedContentDuration = timingInfo.prependedContentDuration / ONE_SECOND_IN_TS;\n      }\n\n      this.trigger({\n        type: 'videoSegmentTimingInfo',\n        videoSegmentTimingInfo: timingInfoInSeconds\n      });\n    }\n    /**\n     * Create our internal native audio/video source buffers and add\n     * event handlers to them with the following conditions:\n     * 1. they do not already exist on the mediaSource\n     * 2. this VSB has a codec for them\n     *\n     * @private\n     */\n\n  }, {\n    key: 'createRealSourceBuffers_',\n    value: function createRealSourceBuffers_() {\n      var _this2 = this;\n\n      var types = ['audio', 'video'];\n      types.forEach(function (type) {\n        // Don't create a SourceBuffer of this type if we don't have a\n        // codec for it\n        if (!_this2[type + 'Codec_']) {\n          return;\n        } // Do nothing if a SourceBuffer of this type already exists\n\n\n        if (_this2[type + 'Buffer_']) {\n          return;\n        }\n\n        var buffer = null; // If the mediasource already has a SourceBuffer for the codec\n        // use that\n\n        if (_this2.mediaSource_[type + 'Buffer_']) {\n          buffer = _this2.mediaSource_[type + 'Buffer_']; // In multiple audio track cases, the audio source buffer is disabled\n          // on the main VirtualSourceBuffer by the HTMLMediaSource much earlier\n          // than createRealSourceBuffers_ is called to create the second\n          // VirtualSourceBuffer because that happens as a side-effect of\n          // videojs-contrib-hls starting the audioSegmentLoader. As a result,\n          // the audioBuffer is essentially \"ownerless\" and no one will toggle\n          // the `updating` state back to false once the `updateend` event is received\n          //\n          // Setting `updating` to false manually will work around this\n          // situation and allow work to continue\n\n          buffer.updating = false;\n        } else {\n          var codecProperty = type + 'Codec_';\n          var mimeType = type + '/mp4;codecs=\"' + _this2[codecProperty] + '\"';\n          buffer = makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_, mimeType);\n          _this2.mediaSource_[type + 'Buffer_'] = buffer;\n        }\n\n        _this2[type + 'Buffer_'] = buffer; // Wire up the events to the SourceBuffer\n\n        ['update', 'updatestart', 'updateend'].forEach(function (event) {\n          buffer.addEventListener(event, function () {\n            // if audio is disabled\n            if (type === 'audio' && _this2.audioDisabled_) {\n              return;\n            }\n\n            if (event === 'updateend') {\n              _this2[type + 'Buffer_'].updating = false;\n            }\n\n            var shouldTrigger = types.every(function (t) {\n              // skip checking audio's updating status if audio\n              // is not enabled\n              if (t === 'audio' && _this2.audioDisabled_) {\n                return true;\n              } // if the other type is updating we don't trigger\n\n\n              if (type !== t && _this2[t + 'Buffer_'] && _this2[t + 'Buffer_'].updating) {\n                return false;\n              }\n\n              return true;\n            });\n\n            if (shouldTrigger) {\n              return _this2.trigger(event);\n            }\n          });\n        });\n      });\n    }\n    /**\n     * Emulate the native mediasource function, but our function will\n     * send all of the proposed segments to the transmuxer so that we\n     * can transmux them before we append them to our internal\n     * native source buffers in the correct format.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n     * @param {Uint8Array} segment the segment to append to the buffer\n     */\n\n  }, {\n    key: 'appendBuffer',\n    value: function appendBuffer(segment) {\n      // Start the internal \"updating\" state\n      this.bufferUpdating_ = true;\n\n      if (this.audioBuffer_ && this.audioBuffer_.buffered.length) {\n        var audioBuffered = this.audioBuffer_.buffered;\n        this.transmuxer_.postMessage({\n          action: 'setAudioAppendStart',\n          appendStart: audioBuffered.end(audioBuffered.length - 1)\n        });\n      }\n\n      if (this.videoBuffer_) {\n        this.transmuxer_.postMessage({\n          action: 'alignGopsWith',\n          gopsToAlignWith: gopsSafeToAlignWith(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)\n        });\n      }\n\n      this.transmuxer_.postMessage({\n        action: 'push',\n        // Send the typed-array of data as an ArrayBuffer so that\n        // it can be sent as a \"Transferable\" and avoid the costly\n        // memory copy\n        data: segment.buffer,\n        // To recreate the original typed-array, we need information\n        // about what portion of the ArrayBuffer it was a view into\n        byteOffset: segment.byteOffset,\n        byteLength: segment.byteLength\n      }, [segment.buffer]);\n      this.transmuxer_.postMessage({\n        action: 'flush'\n      });\n    }\n    /**\n     * Appends gop information (timing and byteLength) received by the transmuxer for the\n     * gops appended in the last call to appendBuffer\n     *\n     * @param {Event} event\n     *        The gopInfo event from the transmuxer\n     * @param {Array} event.data.gopInfo\n     *        List of gop info to append\n     */\n\n  }, {\n    key: 'appendGopInfo_',\n    value: function appendGopInfo_(event) {\n      this.gopBuffer_ = updateGopBuffer(this.gopBuffer_, event.data.gopInfo, this.safeAppend_);\n    }\n    /**\n     * Emulate the native mediasource function and remove parts\n     * of the buffer from any of our internal buffers that exist\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n     * @param {Double} start position to start the remove at\n     * @param {Double} end position to end the remove at\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      if (this.videoBuffer_) {\n        this.videoBuffer_.updating = true;\n        this.videoBuffer_.remove(start, end);\n        this.gopBuffer_ = removeGopBuffer(this.gopBuffer_, start, end, this.timeMapping_);\n      }\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.audioBuffer_.updating = true;\n        this.audioBuffer_.remove(start, end);\n      } // Remove Metadata Cues (id3)\n\n\n      removeCuesFromTrack(start, end, this.metadataTrack_); // Remove Any Captions\n\n      if (this.inbandTextTracks_) {\n        for (var track in this.inbandTextTracks_) {\n          removeCuesFromTrack(start, end, this.inbandTextTracks_[track]);\n        }\n      }\n    }\n    /**\n     * Process any segments that the muxer has output\n     * Concatenate segments together based on type and append them into\n     * their respective sourceBuffers\n     *\n     * @private\n     */\n\n  }, {\n    key: 'processPendingSegments_',\n    value: function processPendingSegments_() {\n      var sortedSegments = {\n        video: {\n          segments: [],\n          bytes: 0\n        },\n        audio: {\n          segments: [],\n          bytes: 0\n        },\n        captions: [],\n        metadata: []\n      }; // Sort segments into separate video/audio arrays and\n      // keep track of their total byte lengths\n\n      sortedSegments = this.pendingBuffers_.reduce(function (segmentObj, segment) {\n        var type = segment.type;\n        var data = segment.data;\n        var initSegment = segment.initSegment;\n        segmentObj[type].segments.push(data);\n        segmentObj[type].bytes += data.byteLength;\n        segmentObj[type].initSegment = initSegment; // Gather any captions into a single array\n\n        if (segment.captions) {\n          segmentObj.captions = segmentObj.captions.concat(segment.captions);\n        }\n\n        if (segment.info) {\n          segmentObj[type].info = segment.info;\n        } // Gather any metadata into a single array\n\n\n        if (segment.metadata) {\n          segmentObj.metadata = segmentObj.metadata.concat(segment.metadata);\n        }\n\n        return segmentObj;\n      }, sortedSegments); // Create the real source buffers if they don't exist by now since we\n      // finally are sure what tracks are contained in the source\n\n      if (!this.videoBuffer_ && !this.audioBuffer_) {\n        // Remove any codecs that may have been specified by default but\n        // are no longer applicable now\n        if (sortedSegments.video.bytes === 0) {\n          this.videoCodec_ = null;\n        }\n\n        if (sortedSegments.audio.bytes === 0) {\n          this.audioCodec_ = null;\n        }\n\n        this.createRealSourceBuffers_();\n      }\n\n      if (sortedSegments.audio.info) {\n        this.mediaSource_.trigger({\n          type: 'audioinfo',\n          info: sortedSegments.audio.info\n        });\n      }\n\n      if (sortedSegments.video.info) {\n        this.mediaSource_.trigger({\n          type: 'videoinfo',\n          info: sortedSegments.video.info\n        });\n      }\n\n      if (this.appendAudioInitSegment_) {\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);\n          sortedSegments.audio.bytes += sortedSegments.audio.initSegment.byteLength;\n        }\n\n        this.appendAudioInitSegment_ = false;\n      }\n\n      var triggerUpdateend = false; // Merge multiple video and audio segments into one and append\n\n      if (this.videoBuffer_ && sortedSegments.video.bytes) {\n        sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);\n        sortedSegments.video.bytes += sortedSegments.video.initSegment.byteLength;\n        this.concatAndAppendSegments_(sortedSegments.video, this.videoBuffer_);\n      } else if (this.videoBuffer_ && (this.audioDisabled_ || !this.audioBuffer_)) {\n        // The transmuxer did not return any bytes of video, meaning it was all trimmed\n        // for gop alignment. Since we have a video buffer and audio is disabled, updateend\n        // will never be triggered by this source buffer, which will cause contrib-hls\n        // to be stuck forever waiting for updateend. If audio is not disabled, updateend\n        // will be triggered by the audio buffer, which will be sent upwards since the video\n        // buffer will not be in an updating state.\n        triggerUpdateend = true;\n      } // Add text-track data for all\n\n\n      addTextTrackData(this, sortedSegments.captions, sortedSegments.metadata);\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.concatAndAppendSegments_(sortedSegments.audio, this.audioBuffer_);\n      }\n\n      this.pendingBuffers_.length = 0;\n\n      if (triggerUpdateend) {\n        this.trigger('updateend');\n      } // We are no longer in the internal \"updating\" state\n\n\n      this.bufferUpdating_ = false;\n    }\n    /**\n     * Combine all segments into a single Uint8Array and then append them\n     * to the destination buffer\n     *\n     * @param {Object} segmentObj\n     * @param {SourceBuffer} destinationBuffer native source buffer to append data to\n     * @private\n     */\n\n  }, {\n    key: 'concatAndAppendSegments_',\n    value: function concatAndAppendSegments_(segmentObj, destinationBuffer) {\n      var offset = 0;\n      var tempBuffer = void 0;\n\n      if (segmentObj.bytes) {\n        tempBuffer = new Uint8Array(segmentObj.bytes); // Combine the individual segments into one large typed-array\n\n        segmentObj.segments.forEach(function (segment) {\n          tempBuffer.set(segment, offset);\n          offset += segment.byteLength;\n        });\n\n        try {\n          destinationBuffer.updating = true;\n          destinationBuffer.appendBuffer(tempBuffer);\n        } catch (error) {\n          if (this.mediaSource_.player_) {\n            this.mediaSource_.player_.error({\n              code: -3,\n              type: 'APPEND_BUFFER_ERR',\n              message: error.message,\n              originalError: error\n            });\n          }\n        }\n      }\n    }\n    /**\n     * Emulate the native mediasource function. abort any soureBuffer\n     * actions and throw out any un-appended data.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      if (this.videoBuffer_) {\n        this.videoBuffer_.abort();\n      }\n\n      if (!this.audioDisabled_ && this.audioBuffer_) {\n        this.audioBuffer_.abort();\n      }\n\n      if (this.transmuxer_) {\n        this.transmuxer_.postMessage({\n          action: 'reset'\n        });\n      }\n\n      this.pendingBuffers_.length = 0;\n      this.bufferUpdating_ = false;\n    }\n  }]);\n  return VirtualSourceBuffer;\n}(videojs$1.EventTarget);\n/**\n * @file html-media-source.js\n */\n\n/**\n * Our MediaSource implementation in HTML, mimics native\n * MediaSource where/if possible.\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n * @class HtmlMediaSource\n * @extends videojs.EventTarget\n */\n\n\nvar HtmlMediaSource = function (_videojs$EventTarget) {\n  inherits(HtmlMediaSource, _videojs$EventTarget);\n\n  function HtmlMediaSource() {\n    classCallCheck(this, HtmlMediaSource);\n\n    var _this = possibleConstructorReturn(this, (HtmlMediaSource.__proto__ || Object.getPrototypeOf(HtmlMediaSource)).call(this));\n\n    var property = void 0;\n    _this.nativeMediaSource_ = new window$1.MediaSource(); // delegate to the native MediaSource's methods by default\n\n    for (property in _this.nativeMediaSource_) {\n      if (!(property in HtmlMediaSource.prototype) && typeof _this.nativeMediaSource_[property] === 'function') {\n        _this[property] = _this.nativeMediaSource_[property].bind(_this.nativeMediaSource_);\n      }\n    } // emulate `duration` and `seekable` until seeking can be\n    // handled uniformly for live streams\n    // see https://github.com/w3c/media-source/issues/5\n\n\n    _this.duration_ = NaN;\n    Object.defineProperty(_this, 'duration', {\n      get: function get$$1() {\n        if (this.duration_ === Infinity) {\n          return this.duration_;\n        }\n\n        return this.nativeMediaSource_.duration;\n      },\n      set: function set$$1(duration) {\n        this.duration_ = duration;\n\n        if (duration !== Infinity) {\n          this.nativeMediaSource_.duration = duration;\n          return;\n        }\n      }\n    });\n    Object.defineProperty(_this, 'seekable', {\n      get: function get$$1() {\n        if (this.duration_ === Infinity) {\n          return videojs$1.createTimeRanges([[0, this.nativeMediaSource_.duration]]);\n        }\n\n        return this.nativeMediaSource_.seekable;\n      }\n    });\n    Object.defineProperty(_this, 'readyState', {\n      get: function get$$1() {\n        return this.nativeMediaSource_.readyState;\n      }\n    });\n    Object.defineProperty(_this, 'activeSourceBuffers', {\n      get: function get$$1() {\n        return this.activeSourceBuffers_;\n      }\n    }); // the list of virtual and native SourceBuffers created by this\n    // MediaSource\n\n    _this.sourceBuffers = [];\n    _this.activeSourceBuffers_ = [];\n    /**\n     * update the list of active source buffers based upon various\n     * imformation from HLS and video.js\n     *\n     * @private\n     */\n\n    _this.updateActiveSourceBuffers_ = function () {\n      // Retain the reference but empty the array\n      _this.activeSourceBuffers_.length = 0; // If there is only one source buffer, then it will always be active and audio will\n      // be disabled based on the codec of the source buffer\n\n      if (_this.sourceBuffers.length === 1) {\n        var sourceBuffer = _this.sourceBuffers[0];\n        sourceBuffer.appendAudioInitSegment_ = true;\n        sourceBuffer.audioDisabled_ = !sourceBuffer.audioCodec_;\n\n        _this.activeSourceBuffers_.push(sourceBuffer);\n\n        return;\n      } // There are 2 source buffers, a combined (possibly video only) source buffer and\n      // and an audio only source buffer.\n      // By default, the audio in the combined virtual source buffer is enabled\n      // and the audio-only source buffer (if it exists) is disabled.\n\n\n      var disableCombined = false;\n      var disableAudioOnly = true; // TODO: maybe we can store the sourcebuffers on the track objects?\n      // safari may do something like this\n\n      for (var i = 0; i < _this.player_.audioTracks().length; i++) {\n        var track = _this.player_.audioTracks()[i];\n\n        if (track.enabled && track.kind !== 'main') {\n          // The enabled track is an alternate audio track so disable the audio in\n          // the combined source buffer and enable the audio-only source buffer.\n          disableCombined = true;\n          disableAudioOnly = false;\n          break;\n        }\n      }\n\n      _this.sourceBuffers.forEach(function (sourceBuffer, index) {\n        /* eslinst-disable */\n        // TODO once codecs are required, we can switch to using the codecs to determine\n        //      what stream is the video stream, rather than relying on videoTracks\n\n        /* eslinst-enable */\n        sourceBuffer.appendAudioInitSegment_ = true;\n\n        if (sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n          // combined\n          sourceBuffer.audioDisabled_ = disableCombined;\n        } else if (sourceBuffer.videoCodec_ && !sourceBuffer.audioCodec_) {\n          // If the \"combined\" source buffer is video only, then we do not want\n          // disable the audio-only source buffer (this is mostly for demuxed\n          // audio and video hls)\n          sourceBuffer.audioDisabled_ = true;\n          disableAudioOnly = false;\n        } else if (!sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n          // audio only\n          // In the case of audio only with alternate audio and disableAudioOnly is true\n          // this means we want to disable the audio on the alternate audio sourcebuffer\n          // but not the main \"combined\" source buffer. The \"combined\" source buffer is\n          // always at index 0, so this ensures audio won't be disabled in both source\n          // buffers.\n          sourceBuffer.audioDisabled_ = index ? disableAudioOnly : !disableAudioOnly;\n\n          if (sourceBuffer.audioDisabled_) {\n            return;\n          }\n        }\n\n        _this.activeSourceBuffers_.push(sourceBuffer);\n      });\n    };\n\n    _this.onPlayerMediachange_ = function () {\n      _this.sourceBuffers.forEach(function (sourceBuffer) {\n        sourceBuffer.appendAudioInitSegment_ = true;\n      });\n    };\n\n    _this.onHlsReset_ = function () {\n      _this.sourceBuffers.forEach(function (sourceBuffer) {\n        if (sourceBuffer.transmuxer_) {\n          sourceBuffer.transmuxer_.postMessage({\n            action: 'resetCaptions'\n          });\n        }\n      });\n    };\n\n    _this.onHlsSegmentTimeMapping_ = function (event) {\n      _this.sourceBuffers.forEach(function (buffer) {\n        return buffer.timeMapping_ = event.mapping;\n      });\n    }; // Re-emit MediaSource events on the polyfill\n\n\n    ['sourceopen', 'sourceclose', 'sourceended'].forEach(function (eventName) {\n      this.nativeMediaSource_.addEventListener(eventName, this.trigger.bind(this));\n    }, _this); // capture the associated player when the MediaSource is\n    // successfully attached\n\n    _this.on('sourceopen', function (event) {\n      // Get the player this MediaSource is attached to\n      var video = document.querySelector('[src=\"' + _this.url_ + '\"]');\n\n      if (!video) {\n        return;\n      }\n\n      _this.player_ = videojs$1(video.parentNode);\n\n      if (!_this.player_) {\n        return;\n      } // hls-reset is fired by videojs.Hls on to the tech after the main SegmentLoader\n      // resets its state and flushes the buffer\n\n\n      _this.player_.tech_.on('hls-reset', _this.onHlsReset_); // hls-segment-time-mapping is fired by videojs.Hls on to the tech after the main\n      // SegmentLoader inspects an MTS segment and has an accurate stream to display\n      // time mapping\n\n\n      _this.player_.tech_.on('hls-segment-time-mapping', _this.onHlsSegmentTimeMapping_);\n\n      if (_this.player_.audioTracks && _this.player_.audioTracks()) {\n        _this.player_.audioTracks().on('change', _this.updateActiveSourceBuffers_);\n\n        _this.player_.audioTracks().on('addtrack', _this.updateActiveSourceBuffers_);\n\n        _this.player_.audioTracks().on('removetrack', _this.updateActiveSourceBuffers_);\n      }\n\n      _this.player_.on('mediachange', _this.onPlayerMediachange_);\n    });\n\n    _this.on('sourceended', function (event) {\n      var duration = durationOfVideo(_this.duration);\n\n      for (var i = 0; i < _this.sourceBuffers.length; i++) {\n        var sourcebuffer = _this.sourceBuffers[i];\n        var cues = sourcebuffer.metadataTrack_ && sourcebuffer.metadataTrack_.cues;\n\n        if (cues && cues.length) {\n          cues[cues.length - 1].endTime = duration;\n        }\n      }\n    }); // explicitly terminate any WebWorkers that were created\n    // by SourceHandlers\n\n\n    _this.on('sourceclose', function (event) {\n      this.sourceBuffers.forEach(function (sourceBuffer) {\n        if (sourceBuffer.transmuxer_) {\n          sourceBuffer.transmuxer_.terminate();\n        }\n      });\n      this.sourceBuffers.length = 0;\n\n      if (!this.player_) {\n        return;\n      }\n\n      if (this.player_.audioTracks && this.player_.audioTracks()) {\n        this.player_.audioTracks().off('change', this.updateActiveSourceBuffers_);\n        this.player_.audioTracks().off('addtrack', this.updateActiveSourceBuffers_);\n        this.player_.audioTracks().off('removetrack', this.updateActiveSourceBuffers_);\n      } // We can only change this if the player hasn't been disposed of yet\n      // because `off` eventually tries to use the el_ property. If it has\n      // been disposed of, then don't worry about it because there are no\n      // event handlers left to unbind anyway\n\n\n      if (this.player_.el_) {\n        this.player_.off('mediachange', this.onPlayerMediachange_);\n      }\n\n      if (this.player_.tech_ && this.player_.tech_.el_) {\n        this.player_.tech_.off('hls-reset', this.onHlsReset_);\n        this.player_.tech_.off('hls-segment-time-mapping', this.onHlsSegmentTimeMapping_);\n      }\n    });\n\n    return _this;\n  }\n  /**\n   * Add a range that that can now be seeked to.\n   *\n   * @param {Double} start where to start the addition\n   * @param {Double} end where to end the addition\n   * @private\n   */\n\n\n  createClass(HtmlMediaSource, [{\n    key: 'addSeekableRange_',\n    value: function addSeekableRange_(start, end) {\n      var error = void 0;\n\n      if (this.duration !== Infinity) {\n        error = new Error('MediaSource.addSeekableRange() can only be invoked ' + 'when the duration is Infinity');\n        error.name = 'InvalidStateError';\n        error.code = 11;\n        throw error;\n      }\n\n      if (end > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) {\n        this.nativeMediaSource_.duration = end;\n      }\n    }\n    /**\n     * Add a source buffer to the media source.\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n     * @param {String} type the content-type of the content\n     * @return {Object} the created source buffer\n     */\n\n  }, {\n    key: 'addSourceBuffer',\n    value: function addSourceBuffer(type) {\n      var buffer = void 0;\n      var parsedType = parseContentType(type); // Create a VirtualSourceBuffer to transmux MPEG-2 transport\n      // stream segments into fragmented MP4s\n\n      if (/^(video|audio)\\/mp2t$/i.test(parsedType.type)) {\n        var codecs = [];\n\n        if (parsedType.parameters && parsedType.parameters.codecs) {\n          codecs = parsedType.parameters.codecs.split(',');\n          codecs = translateLegacyCodecs(codecs);\n          codecs = codecs.filter(function (codec) {\n            return isAudioCodec(codec) || isVideoCodec(codec);\n          });\n        }\n\n        if (codecs.length === 0) {\n          codecs = ['avc1.4d400d', 'mp4a.40.2'];\n        }\n\n        buffer = new VirtualSourceBuffer(this, codecs);\n\n        if (this.sourceBuffers.length !== 0) {\n          // If another VirtualSourceBuffer already exists, then we are creating a\n          // SourceBuffer for an alternate audio track and therefore we know that\n          // the source has both an audio and video track.\n          // That means we should trigger the manual creation of the real\n          // SourceBuffers instead of waiting for the transmuxer to return data\n          this.sourceBuffers[0].createRealSourceBuffers_();\n          buffer.createRealSourceBuffers_(); // Automatically disable the audio on the first source buffer if\n          // a second source buffer is ever created\n\n          this.sourceBuffers[0].audioDisabled_ = true;\n        }\n      } else {\n        // delegate to the native implementation\n        buffer = this.nativeMediaSource_.addSourceBuffer(type);\n      }\n\n      this.sourceBuffers.push(buffer);\n      return buffer;\n    }\n  }]);\n  return HtmlMediaSource;\n}(videojs$1.EventTarget);\n/**\n * @file videojs-contrib-media-sources.js\n */\n\n\nvar urlCount = 0; // ------------\n// Media Source\n// ------------\n// store references to the media sources so they can be connected\n// to a video element (a swf object)\n// TODO: can we store this somewhere local to this module?\n\nvideojs$1.mediaSources = {};\n/**\n * Provide a method for a swf object to notify JS that a\n * media source is now open.\n *\n * @param {String} msObjectURL string referencing the MSE Object URL\n * @param {String} swfId the swf id\n */\n\nvar open = function open(msObjectURL, swfId) {\n  var mediaSource = videojs$1.mediaSources[msObjectURL];\n\n  if (mediaSource) {\n    mediaSource.trigger({\n      type: 'sourceopen',\n      swfId: swfId\n    });\n  } else {\n    throw new Error('Media Source not found (Video.js)');\n  }\n};\n/**\n * Check to see if the native MediaSource object exists and supports\n * an MP4 container with both H.264 video and AAC-LC audio.\n *\n * @return {Boolean} if  native media sources are supported\n */\n\n\nvar supportsNativeMediaSources = function supportsNativeMediaSources() {\n  return !!window$1.MediaSource && !!window$1.MediaSource.isTypeSupported && window$1.MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"');\n};\n/**\n * An emulation of the MediaSource API so that we can support\n * native and non-native functionality. returns an instance of\n * HtmlMediaSource.\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource\n */\n\n\nvar MediaSource = function MediaSource() {\n  this.MediaSource = {\n    open: open,\n    supportsNativeMediaSources: supportsNativeMediaSources\n  };\n\n  if (supportsNativeMediaSources()) {\n    return new HtmlMediaSource();\n  }\n\n  throw new Error('Cannot use create a virtual MediaSource for this video');\n};\n\nMediaSource.open = open;\nMediaSource.supportsNativeMediaSources = supportsNativeMediaSources;\n/**\n * A wrapper around the native URL for our MSE object\n * implementation, this object is exposed under videojs.URL\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n */\n\nvar URL$1 = {\n  /**\n   * A wrapper around the native createObjectURL for our objects.\n   * This function maps a native or emulated mediaSource to a blob\n   * url so that it can be loaded into video.js\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n   * @param {MediaSource} object the object to create a blob url to\n   */\n  createObjectURL: function createObjectURL(object) {\n    var objectUrlPrefix = 'blob:vjs-media-source/';\n    var url = void 0; // use the native MediaSource to generate an object URL\n\n    if (object instanceof HtmlMediaSource) {\n      url = window$1.URL.createObjectURL(object.nativeMediaSource_);\n      object.url_ = url;\n      return url;\n    } // if the object isn't an emulated MediaSource, delegate to the\n    // native implementation\n\n\n    if (!(object instanceof HtmlMediaSource)) {\n      url = window$1.URL.createObjectURL(object);\n      object.url_ = url;\n      return url;\n    } // build a URL that can be used to map back to the emulated\n    // MediaSource\n\n\n    url = objectUrlPrefix + urlCount;\n    urlCount++; // setup the mapping back to object\n\n    videojs$1.mediaSources[url] = object;\n    return url;\n  }\n};\nvideojs$1.MediaSource = MediaSource;\nvideojs$1.URL = URL$1;\nvar EventTarget$1$1 = videojs$1.EventTarget,\n    mergeOptions$2 = videojs$1.mergeOptions;\n/**\n * Returns a new master manifest that is the result of merging an updated master manifest\n * into the original version.\n *\n * @param {Object} oldMaster\n *        The old parsed mpd object\n * @param {Object} newMaster\n *        The updated parsed mpd object\n * @return {Object}\n *         A new object representing the original master manifest with the updated media\n *         playlists merged in\n */\n\nvar updateMaster$1 = function updateMaster$$1(oldMaster, newMaster) {\n  var noChanges = void 0;\n  var update = mergeOptions$2(oldMaster, {\n    // These are top level properties that can be updated\n    duration: newMaster.duration,\n    minimumUpdatePeriod: newMaster.minimumUpdatePeriod\n  }); // First update the playlists in playlist list\n\n  for (var i = 0; i < newMaster.playlists.length; i++) {\n    var playlistUpdate = updateMaster(update, newMaster.playlists[i]);\n\n    if (playlistUpdate) {\n      update = playlistUpdate;\n    } else {\n      noChanges = true;\n    }\n  } // Then update media group playlists\n\n\n  forEachMediaGroup(newMaster, function (properties, type, group, label) {\n    if (properties.playlists && properties.playlists.length) {\n      var uri = properties.playlists[0].uri;\n\n      var _playlistUpdate = updateMaster(update, properties.playlists[0]);\n\n      if (_playlistUpdate) {\n        update = _playlistUpdate; // update the playlist reference within media groups\n\n        update.mediaGroups[type][group][label].playlists[0] = update.playlists[uri];\n        noChanges = false;\n      }\n    }\n  });\n\n  if (noChanges) {\n    return null;\n  }\n\n  return update;\n};\n\nvar generateSidxKey = function generateSidxKey(sidxInfo) {\n  // should be non-inclusive\n  var sidxByteRangeEnd = sidxInfo.byterange.offset + sidxInfo.byterange.length - 1;\n  return sidxInfo.uri + '-' + sidxInfo.byterange.offset + '-' + sidxByteRangeEnd;\n}; // SIDX should be equivalent if the URI and byteranges of the SIDX match.\n// If the SIDXs have maps, the two maps should match,\n// both `a` and `b` missing SIDXs is considered matching.\n// If `a` or `b` but not both have a map, they aren't matching.\n\n\nvar equivalentSidx = function equivalentSidx(a, b) {\n  var neitherMap = Boolean(!a.map && !b.map);\n  var equivalentMap = neitherMap || Boolean(a.map && b.map && a.map.byterange.offset === b.map.byterange.offset && a.map.byterange.length === b.map.byterange.length);\n  return equivalentMap && a.uri === b.uri && a.byterange.offset === b.byterange.offset && a.byterange.length === b.byterange.length;\n}; // exported for testing\n\n\nvar compareSidxEntry = function compareSidxEntry(playlists, oldSidxMapping) {\n  var newSidxMapping = {};\n\n  for (var uri in playlists) {\n    var playlist = playlists[uri];\n    var currentSidxInfo = playlist.sidx;\n\n    if (currentSidxInfo) {\n      var key = generateSidxKey(currentSidxInfo);\n\n      if (!oldSidxMapping[key]) {\n        break;\n      }\n\n      var savedSidxInfo = oldSidxMapping[key].sidxInfo;\n\n      if (equivalentSidx(savedSidxInfo, currentSidxInfo)) {\n        newSidxMapping[key] = oldSidxMapping[key];\n      }\n    }\n  }\n\n  return newSidxMapping;\n};\n/**\n *  A function that filters out changed items as they need to be requested separately.\n *\n *  The method is exported for testing\n *\n *  @param {Object} masterXml the mpd XML\n *  @param {string} srcUrl the mpd url\n *  @param {Date} clientOffset a time difference between server and client (passed through and not used)\n *  @param {Object} oldSidxMapping the SIDX to compare against\n */\n\n\nvar filterChangedSidxMappings = function filterChangedSidxMappings(masterXml, srcUrl, clientOffset, oldSidxMapping) {\n  // Don't pass current sidx mapping\n  var master = parse(masterXml, {\n    manifestUri: srcUrl,\n    clientOffset: clientOffset\n  });\n  var videoSidx = compareSidxEntry(master.playlists, oldSidxMapping);\n  var mediaGroupSidx = videoSidx;\n  forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n    if (properties.playlists && properties.playlists.length) {\n      var playlists = properties.playlists;\n      mediaGroupSidx = mergeOptions$2(mediaGroupSidx, compareSidxEntry(playlists, oldSidxMapping));\n    }\n  });\n  return mediaGroupSidx;\n}; // exported for testing\n\n\nvar requestSidx_ = function requestSidx_(sidxRange, playlist, xhr, options, finishProcessingFn) {\n  var sidxInfo = {\n    // resolve the segment URL relative to the playlist\n    uri: resolveManifestRedirect(options.handleManifestRedirects, sidxRange.resolvedUri),\n    // resolvedUri: sidxRange.resolvedUri,\n    byterange: sidxRange.byterange,\n    // the segment's playlist\n    playlist: playlist\n  };\n  var sidxRequestOptions = videojs$1.mergeOptions(sidxInfo, {\n    responseType: 'arraybuffer',\n    headers: segmentXhrHeaders(sidxInfo)\n  });\n  return xhr(sidxRequestOptions, finishProcessingFn);\n};\n\nvar DashPlaylistLoader = function (_EventTarget) {\n  inherits(DashPlaylistLoader, _EventTarget); // DashPlaylistLoader must accept either a src url or a playlist because subsequent\n  // playlist loader setups from media groups will expect to be able to pass a playlist\n  // (since there aren't external URLs to media playlists with DASH)\n\n  function DashPlaylistLoader(srcUrlOrPlaylist, hls) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var masterPlaylistLoader = arguments[3];\n    classCallCheck(this, DashPlaylistLoader);\n\n    var _this = possibleConstructorReturn(this, (DashPlaylistLoader.__proto__ || Object.getPrototypeOf(DashPlaylistLoader)).call(this));\n\n    var _options$withCredenti = options.withCredentials,\n        withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n        _options$handleManife = options.handleManifestRedirects,\n        handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n    _this.hls_ = hls;\n    _this.withCredentials = withCredentials;\n    _this.handleManifestRedirects = handleManifestRedirects;\n\n    if (!srcUrlOrPlaylist) {\n      throw new Error('A non-empty playlist URL or playlist is required');\n    } // event naming?\n\n\n    _this.on('minimumUpdatePeriod', function () {\n      _this.refreshXml_();\n    }); // live playlist staleness timeout\n\n\n    _this.on('mediaupdatetimeout', function () {\n      _this.refreshMedia_(_this.media().uri);\n    });\n\n    _this.state = 'HAVE_NOTHING';\n    _this.loadedPlaylists_ = {}; // initialize the loader state\n    // The masterPlaylistLoader will be created with a string\n\n    if (typeof srcUrlOrPlaylist === 'string') {\n      _this.srcUrl = srcUrlOrPlaylist; // TODO: reset sidxMapping between period changes\n      // once multi-period is refactored\n\n      _this.sidxMapping_ = {};\n      return possibleConstructorReturn(_this);\n    }\n\n    _this.setupChildLoader(masterPlaylistLoader, srcUrlOrPlaylist);\n\n    return _this;\n  }\n\n  createClass(DashPlaylistLoader, [{\n    key: 'setupChildLoader',\n    value: function setupChildLoader(masterPlaylistLoader, playlist) {\n      this.masterPlaylistLoader_ = masterPlaylistLoader;\n      this.childPlaylist_ = playlist;\n    }\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.stopRequest();\n      this.loadedPlaylists_ = {};\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n      window$1.clearTimeout(this.mediaRequest_);\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n    }\n  }, {\n    key: 'hasPendingRequest',\n    value: function hasPendingRequest() {\n      return this.request || this.mediaRequest_;\n    }\n  }, {\n    key: 'stopRequest',\n    value: function stopRequest() {\n      if (this.request) {\n        var oldRequest = this.request;\n        this.request = null;\n        oldRequest.onreadystatechange = null;\n        oldRequest.abort();\n      }\n    }\n  }, {\n    key: 'sidxRequestFinished_',\n    value: function sidxRequestFinished_(playlist, master, startingState, doneFn) {\n      var _this2 = this;\n\n      return function (err, request) {\n        // disposed\n        if (!_this2.request) {\n          return;\n        } // pending request is cleared\n\n\n        _this2.request = null;\n\n        if (err) {\n          _this2.error = {\n            status: request.status,\n            message: 'DASH playlist request error at URL: ' + playlist.uri,\n            response: request.response,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (startingState) {\n            _this2.state = startingState;\n          }\n\n          _this2.trigger('error');\n\n          return doneFn(master, null);\n        }\n\n        var bytes = new Uint8Array(request.response);\n        var sidx = mp4Inspector.parseSidx(bytes.subarray(8));\n        return doneFn(master, sidx);\n      };\n    }\n  }, {\n    key: 'media',\n    value: function media(playlist) {\n      var _this3 = this; // getter\n\n\n      if (!playlist) {\n        return this.media_;\n      } // setter\n\n\n      if (this.state === 'HAVE_NOTHING') {\n        throw new Error('Cannot switch media playlist from ' + this.state);\n      }\n\n      var startingState = this.state; // find the playlist object if the target playlist has been specified by URI\n\n      if (typeof playlist === 'string') {\n        if (!this.master.playlists[playlist]) {\n          throw new Error('Unknown playlist URI: ' + playlist);\n        }\n\n        playlist = this.master.playlists[playlist];\n      }\n\n      var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to previously loaded playlists immediately\n\n      if (mediaChange && this.loadedPlaylists_[playlist.uri] && this.loadedPlaylists_[playlist.uri].endList) {\n        this.state = 'HAVE_METADATA';\n        this.media_ = playlist; // trigger media change if the active media has been updated\n\n        if (mediaChange) {\n          this.trigger('mediachanging');\n          this.trigger('mediachange');\n        }\n\n        return;\n      } // switching to the active playlist is a no-op\n\n\n      if (!mediaChange) {\n        return;\n      } // switching from an already loaded playlist\n\n\n      if (this.media_) {\n        this.trigger('mediachanging');\n      }\n\n      if (!playlist.sidx) {\n        // Continue asynchronously if there is no sidx\n        // wait one tick to allow haveMaster to run first on a child loader\n        this.mediaRequest_ = window$1.setTimeout(this.haveMetadata.bind(this, {\n          startingState: startingState,\n          playlist: playlist\n        }), 0); // exit early and don't do sidx work\n\n        return;\n      } // we have sidx mappings\n\n\n      var oldMaster = void 0;\n      var sidxMapping = void 0; // sidxMapping is used when parsing the masterXml, so store\n      // it on the masterPlaylistLoader\n\n      if (this.masterPlaylistLoader_) {\n        oldMaster = this.masterPlaylistLoader_.master;\n        sidxMapping = this.masterPlaylistLoader_.sidxMapping_;\n      } else {\n        oldMaster = this.master;\n        sidxMapping = this.sidxMapping_;\n      }\n\n      var sidxKey = generateSidxKey(playlist.sidx);\n      sidxMapping[sidxKey] = {\n        sidxInfo: playlist.sidx\n      };\n      this.request = requestSidx_(playlist.sidx, playlist, this.hls_.xhr, {\n        handleManifestRedirects: this.handleManifestRedirects\n      }, this.sidxRequestFinished_(playlist, oldMaster, startingState, function (newMaster, sidx) {\n        if (!newMaster || !sidx) {\n          throw new Error('failed to request sidx');\n        } // update loader's sidxMapping with parsed sidx box\n\n\n        sidxMapping[sidxKey].sidx = sidx; // everything is ready just continue to haveMetadata\n\n        _this3.haveMetadata({\n          startingState: startingState,\n          playlist: newMaster.playlists[playlist.uri]\n        });\n      }));\n    }\n  }, {\n    key: 'haveMetadata',\n    value: function haveMetadata(_ref) {\n      var startingState = _ref.startingState,\n          playlist = _ref.playlist;\n      this.state = 'HAVE_METADATA';\n      this.loadedPlaylists_[playlist.uri] = playlist;\n      this.mediaRequest_ = null; // This will trigger loadedplaylist\n\n      this.refreshMedia_(playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n      // to resolve setup of media groups\n\n      if (startingState === 'HAVE_MASTER') {\n        this.trigger('loadedmetadata');\n      } else {\n        // trigger media change if the active media has been updated\n        this.trigger('mediachange');\n      }\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.stopRequest();\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n\n      if (this.state === 'HAVE_NOTHING') {\n        // If we pause the loader before any data has been retrieved, its as if we never\n        // started, so reset to an unstarted state.\n        this.started = false;\n      }\n    }\n  }, {\n    key: 'load',\n    value: function load(isFinalRendition) {\n      var _this4 = this;\n\n      window$1.clearTimeout(this.mediaUpdateTimeout);\n      window$1.clearTimeout(this.minimumUpdatePeriodTimeout_);\n      var media = this.media();\n\n      if (isFinalRendition) {\n        var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          return _this4.load();\n        }, delay);\n        return;\n      } // because the playlists are internal to the manifest, load should either load the\n      // main manifest, or do nothing but trigger an event\n\n\n      if (!this.started) {\n        this.start();\n        return;\n      }\n\n      this.trigger('loadedplaylist');\n    }\n    /**\n     * Parses the master xml string and updates playlist uri references\n     *\n     * @return {Object}\n     *         The parsed mpd manifest object\n     */\n\n  }, {\n    key: 'parseMasterXml',\n    value: function parseMasterXml() {\n      var master = parse(this.masterXml_, {\n        manifestUri: this.srcUrl,\n        clientOffset: this.clientOffset_,\n        sidxMapping: this.sidxMapping_\n      });\n      master.uri = this.srcUrl; // Set up phony URIs for the playlists since we won't have external URIs for DASH\n      // but reference playlists by their URI throughout the project\n      // TODO: Should we create the dummy uris in mpd-parser as well (leaning towards yes).\n\n      for (var i = 0; i < master.playlists.length; i++) {\n        var phonyUri = 'placeholder-uri-' + i;\n        master.playlists[i].uri = phonyUri; // set up by URI references\n\n        master.playlists[phonyUri] = master.playlists[i];\n      } // set up phony URIs for the media group playlists since we won't have external\n      // URIs for DASH but reference playlists by their URI throughout the project\n\n\n      forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n        if (properties.playlists && properties.playlists.length) {\n          var _phonyUri = 'placeholder-uri-' + mediaType + '-' + groupKey + '-' + labelKey;\n\n          properties.playlists[0].uri = _phonyUri; // setup URI references\n\n          master.playlists[_phonyUri] = properties.playlists[0];\n        }\n      });\n      setupMediaPlaylists(master);\n      resolveMediaGroupUris(master);\n      return master;\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      var _this5 = this;\n\n      this.started = true; // We don't need to request the master manifest again\n      // Call this asynchronously to match the xhr request behavior below\n\n      if (this.masterPlaylistLoader_) {\n        this.mediaRequest_ = window$1.setTimeout(this.haveMaster_.bind(this), 0);\n        return;\n      } // request the specified URL\n\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this5.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this5.request = null;\n\n        if (error) {\n          _this5.error = {\n            status: req.status,\n            message: 'DASH playlist request error at URL: ' + _this5.srcUrl,\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this5.state === 'HAVE_NOTHING') {\n            _this5.started = false;\n          }\n\n          return _this5.trigger('error');\n        }\n\n        _this5.masterXml_ = req.responseText;\n\n        if (req.responseHeaders && req.responseHeaders.date) {\n          _this5.masterLoaded_ = Date.parse(req.responseHeaders.date);\n        } else {\n          _this5.masterLoaded_ = Date.now();\n        }\n\n        _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n\n        _this5.syncClientServerClock_(_this5.onClientServerClockSync_.bind(_this5));\n      });\n    }\n    /**\n     * Parses the master xml for UTCTiming node to sync the client clock to the server\n     * clock. If the UTCTiming node requires a HEAD or GET request, that request is made.\n     *\n     * @param {Function} done\n     *        Function to call when clock sync has completed\n     */\n\n  }, {\n    key: 'syncClientServerClock_',\n    value: function syncClientServerClock_(done) {\n      var _this6 = this;\n\n      var utcTiming = parseUTCTiming(this.masterXml_); // No UTCTiming element found in the mpd. Use Date header from mpd request as the\n      // server clock\n\n      if (utcTiming === null) {\n        this.clientOffset_ = this.masterLoaded_ - Date.now();\n        return done();\n      }\n\n      if (utcTiming.method === 'DIRECT') {\n        this.clientOffset_ = utcTiming.value - Date.now();\n        return done();\n      }\n\n      this.request = this.hls_.xhr({\n        uri: resolveUrl(this.srcUrl, utcTiming.value),\n        method: utcTiming.method,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this6.request) {\n          return;\n        }\n\n        if (error) {\n          // sync request failed, fall back to using date header from mpd\n          // TODO: log warning\n          _this6.clientOffset_ = _this6.masterLoaded_ - Date.now();\n          return done();\n        }\n\n        var serverTime = void 0;\n\n        if (utcTiming.method === 'HEAD') {\n          if (!req.responseHeaders || !req.responseHeaders.date) {\n            // expected date header not preset, fall back to using date header from mpd\n            // TODO: log warning\n            serverTime = _this6.masterLoaded_;\n          } else {\n            serverTime = Date.parse(req.responseHeaders.date);\n          }\n        } else {\n          serverTime = Date.parse(req.responseText);\n        }\n\n        _this6.clientOffset_ = serverTime - Date.now();\n        done();\n      });\n    }\n  }, {\n    key: 'haveMaster_',\n    value: function haveMaster_() {\n      this.state = 'HAVE_MASTER'; // clear media request\n\n      this.mediaRequest_ = null;\n\n      if (!this.masterPlaylistLoader_) {\n        this.master = this.parseMasterXml(); // We have the master playlist at this point, so\n        // trigger this to allow MasterPlaylistController\n        // to make an initial playlist selection\n\n        this.trigger('loadedplaylist');\n      } else if (!this.media_) {\n        // no media playlist was specifically selected so select\n        // the one the child playlist loader was created with\n        this.media(this.childPlaylist_);\n      }\n    }\n    /**\n     * Handler for after client/server clock synchronization has happened. Sets up\n     * xml refresh timer if specificed by the manifest.\n     */\n\n  }, {\n    key: 'onClientServerClockSync_',\n    value: function onClientServerClockSync_() {\n      var _this7 = this;\n\n      this.haveMaster_();\n\n      if (!this.hasPendingRequest() && !this.media_) {\n        this.media(this.master.playlists[0]);\n      } // TODO: minimumUpdatePeriod can have a value of 0. Currently the manifest will not\n      // be refreshed when this is the case. The inter-op guide says that when the\n      // minimumUpdatePeriod is 0, the manifest should outline all currently available\n      // segments, but future segments may require an update. I think a good solution\n      // would be to update the manifest at the same rate that the media playlists\n      // are \"refreshed\", i.e. every targetDuration.\n\n\n      if (this.master && this.master.minimumUpdatePeriod) {\n        this.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n          _this7.trigger('minimumUpdatePeriod');\n        }, this.master.minimumUpdatePeriod);\n      }\n    }\n    /**\n     * Sends request to refresh the master xml and updates the parsed master manifest\n     * TODO: Does the client offset need to be recalculated when the xml is refreshed?\n     */\n\n  }, {\n    key: 'refreshXml_',\n    value: function refreshXml_() {\n      var _this8 = this; // The srcUrl here *may* need to pass through handleManifestsRedirects when\n      // sidx is implemented\n\n\n      this.request = this.hls_.xhr({\n        uri: this.srcUrl,\n        withCredentials: this.withCredentials\n      }, function (error, req) {\n        // disposed\n        if (!_this8.request) {\n          return;\n        } // clear the loader's request reference\n\n\n        _this8.request = null;\n\n        if (error) {\n          _this8.error = {\n            status: req.status,\n            message: 'DASH playlist request error at URL: ' + _this8.srcUrl,\n            responseText: req.responseText,\n            // MEDIA_ERR_NETWORK\n            code: 2\n          };\n\n          if (_this8.state === 'HAVE_NOTHING') {\n            _this8.started = false;\n          }\n\n          return _this8.trigger('error');\n        }\n\n        _this8.masterXml_ = req.responseText; // This will filter out updated sidx info from the mapping\n\n        _this8.sidxMapping_ = filterChangedSidxMappings(_this8.masterXml_, _this8.srcUrl, _this8.clientOffset_, _this8.sidxMapping_);\n\n        var master = _this8.parseMasterXml();\n\n        var updatedMaster = updateMaster$1(_this8.master, master);\n\n        if (updatedMaster) {\n          var sidxKey = generateSidxKey(_this8.media().sidx); // the sidx was updated, so the previous mapping was removed\n\n          if (!_this8.sidxMapping_[sidxKey]) {\n            var playlist = _this8.media();\n\n            _this8.request = requestSidx_(playlist.sidx, playlist, _this8.hls_.xhr, {\n              handleManifestRedirects: _this8.handleManifestRedirects\n            }, _this8.sidxRequestFinished_(playlist, master, _this8.state, function (newMaster, sidx) {\n              if (!newMaster || !sidx) {\n                throw new Error('failed to request sidx on minimumUpdatePeriod');\n              } // update loader's sidxMapping with parsed sidx box\n\n\n              _this8.sidxMapping_[sidxKey].sidx = sidx;\n              _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n                _this8.trigger('minimumUpdatePeriod');\n              }, _this8.master.minimumUpdatePeriod); // TODO: do we need to reload the current playlist?\n\n              _this8.refreshMedia_(_this8.media().uri);\n\n              return;\n            }));\n          } else {\n            _this8.master = updatedMaster;\n          }\n        }\n\n        _this8.minimumUpdatePeriodTimeout_ = window$1.setTimeout(function () {\n          _this8.trigger('minimumUpdatePeriod');\n        }, _this8.master.minimumUpdatePeriod);\n      });\n    }\n    /**\n     * Refreshes the media playlist by re-parsing the master xml and updating playlist\n     * references. If this is an alternate loader, the updated parsed manifest is retrieved\n     * from the master loader.\n     */\n\n  }, {\n    key: 'refreshMedia_',\n    value: function refreshMedia_(mediaUri) {\n      var _this9 = this;\n\n      if (!mediaUri) {\n        throw new Error('refreshMedia_ must take a media uri');\n      }\n\n      var oldMaster = void 0;\n      var newMaster = void 0;\n\n      if (this.masterPlaylistLoader_) {\n        oldMaster = this.masterPlaylistLoader_.master;\n        newMaster = this.masterPlaylistLoader_.parseMasterXml();\n      } else {\n        oldMaster = this.master;\n        newMaster = this.parseMasterXml();\n      }\n\n      var updatedMaster = updateMaster$1(oldMaster, newMaster);\n\n      if (updatedMaster) {\n        if (this.masterPlaylistLoader_) {\n          this.masterPlaylistLoader_.master = updatedMaster;\n        } else {\n          this.master = updatedMaster;\n        }\n\n        this.media_ = updatedMaster.playlists[mediaUri];\n      } else {\n        this.media_ = newMaster.playlists[mediaUri];\n        this.trigger('playlistunchanged');\n      }\n\n      if (!this.media().endList) {\n        this.mediaUpdateTimeout = window$1.setTimeout(function () {\n          _this9.trigger('mediaupdatetimeout');\n        }, refreshDelay(this.media(), !!updatedMaster));\n      }\n\n      this.trigger('loadedplaylist');\n    }\n  }]);\n  return DashPlaylistLoader;\n}(EventTarget$1$1);\n\nvar logger = function logger(source) {\n  if (videojs$1.log.debug) {\n    return videojs$1.log.debug.bind(videojs$1, 'VHS:', source + ' >');\n  }\n\n  return function () {};\n};\n\nfunction noop() {}\n/**\n * @file source-updater.js\n */\n\n/**\n * A queue of callbacks to be serialized and applied when a\n * MediaSource and its associated SourceBuffers are not in the\n * updating state. It is used by the segment loader to update the\n * underlying SourceBuffers when new data is loaded, for instance.\n *\n * @class SourceUpdater\n * @param {MediaSource} mediaSource the MediaSource to create the\n * SourceBuffer from\n * @param {String} mimeType the desired MIME type of the underlying\n * SourceBuffer\n * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer is\n * added to the media source\n */\n\n\nvar SourceUpdater = function () {\n  function SourceUpdater(mediaSource, mimeType, type, sourceBufferEmitter) {\n    classCallCheck(this, SourceUpdater);\n    this.callbacks_ = [];\n    this.pendingCallback_ = null;\n    this.timestampOffset_ = 0;\n    this.mediaSource = mediaSource;\n    this.processedAppend_ = false;\n    this.type_ = type;\n    this.mimeType_ = mimeType;\n    this.logger_ = logger('SourceUpdater[' + type + '][' + mimeType + ']');\n\n    if (mediaSource.readyState === 'closed') {\n      mediaSource.addEventListener('sourceopen', this.createSourceBuffer_.bind(this, mimeType, sourceBufferEmitter));\n    } else {\n      this.createSourceBuffer_(mimeType, sourceBufferEmitter);\n    }\n  }\n\n  createClass(SourceUpdater, [{\n    key: 'createSourceBuffer_',\n    value: function createSourceBuffer_(mimeType, sourceBufferEmitter) {\n      var _this = this;\n\n      this.sourceBuffer_ = this.mediaSource.addSourceBuffer(mimeType);\n      this.logger_('created SourceBuffer');\n\n      if (sourceBufferEmitter) {\n        sourceBufferEmitter.trigger('sourcebufferadded');\n\n        if (this.mediaSource.sourceBuffers.length < 2) {\n          // There's another source buffer we must wait for before we can start updating\n          // our own (or else we can get into a bad state, i.e., appending video/audio data\n          // before the other video/audio source buffer is available and leading to a video\n          // or audio only buffer).\n          sourceBufferEmitter.on('sourcebufferadded', function () {\n            _this.start_();\n          });\n          return;\n        }\n      }\n\n      this.start_();\n    }\n  }, {\n    key: 'start_',\n    value: function start_() {\n      var _this2 = this;\n\n      this.started_ = true; // run completion handlers and process callbacks as updateend\n      // events fire\n\n      this.onUpdateendCallback_ = function () {\n        var pendingCallback = _this2.pendingCallback_;\n        _this2.pendingCallback_ = null;\n        _this2.sourceBuffer_.removing = false;\n\n        _this2.logger_('buffered [' + printableRange(_this2.buffered()) + ']');\n\n        if (pendingCallback) {\n          pendingCallback();\n        }\n\n        _this2.runCallback_();\n      };\n\n      this.sourceBuffer_.addEventListener('updateend', this.onUpdateendCallback_);\n      this.runCallback_();\n    }\n    /**\n     * Aborts the current segment and resets the segment parser.\n     *\n     * @param {Function} done function to call when done\n     * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort(done) {\n      var _this3 = this;\n\n      if (this.processedAppend_) {\n        this.queueCallback_(function () {\n          _this3.sourceBuffer_.abort();\n        }, done);\n      }\n    }\n    /**\n     * Queue an update to append an ArrayBuffer.\n     *\n     * @param {ArrayBuffer} bytes\n     * @param {Function} done the function to call when done\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data\n     */\n\n  }, {\n    key: 'appendBuffer',\n    value: function appendBuffer(config, done) {\n      var _this4 = this;\n\n      this.processedAppend_ = true;\n      this.queueCallback_(function () {\n        if (config.videoSegmentTimingInfoCallback) {\n          _this4.sourceBuffer_.addEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n        }\n\n        _this4.sourceBuffer_.appendBuffer(config.bytes);\n      }, function () {\n        if (config.videoSegmentTimingInfoCallback) {\n          _this4.sourceBuffer_.removeEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n        }\n\n        done();\n      });\n    }\n    /**\n     * Indicates what TimeRanges are buffered in the managed SourceBuffer.\n     *\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered\n     */\n\n  }, {\n    key: 'buffered',\n    value: function buffered() {\n      if (!this.sourceBuffer_) {\n        return videojs$1.createTimeRanges();\n      }\n\n      return this.sourceBuffer_.buffered;\n    }\n    /**\n     * Queue an update to remove a time range from the buffer.\n     *\n     * @param {Number} start where to start the removal\n     * @param {Number} end where to end the removal\n     * @param {Function} [done=noop] optional callback to be executed when the remove\n     * operation is complete\n     * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      var _this5 = this;\n\n      var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop;\n\n      if (this.processedAppend_) {\n        this.queueCallback_(function () {\n          _this5.logger_('remove [' + start + ' => ' + end + ']');\n\n          _this5.sourceBuffer_.removing = true;\n\n          _this5.sourceBuffer_.remove(start, end);\n        }, done);\n      }\n    }\n    /**\n     * Whether the underlying sourceBuffer is updating or not\n     *\n     * @return {Boolean} the updating status of the SourceBuffer\n     */\n\n  }, {\n    key: 'updating',\n    value: function updating() {\n      // we are updating if the sourcebuffer is updating or\n      return !this.sourceBuffer_ || this.sourceBuffer_.updating || // if we have a pending callback that is not our internal noop\n      !!this.pendingCallback_ && this.pendingCallback_ !== noop;\n    }\n    /**\n     * Set/get the timestampoffset on the SourceBuffer\n     *\n     * @return {Number} the timestamp offset\n     */\n\n  }, {\n    key: 'timestampOffset',\n    value: function timestampOffset(offset) {\n      var _this6 = this;\n\n      if (typeof offset !== 'undefined') {\n        this.queueCallback_(function () {\n          _this6.sourceBuffer_.timestampOffset = offset;\n\n          _this6.runCallback_();\n        });\n        this.timestampOffset_ = offset;\n      }\n\n      return this.timestampOffset_;\n    }\n    /**\n     * Queue a callback to run\n     */\n\n  }, {\n    key: 'queueCallback_',\n    value: function queueCallback_(callback, done) {\n      this.callbacks_.push([callback.bind(this), done]);\n      this.runCallback_();\n    }\n    /**\n     * Run a queued callback\n     */\n\n  }, {\n    key: 'runCallback_',\n    value: function runCallback_() {\n      var callbacks = void 0;\n\n      if (!this.updating() && this.callbacks_.length && this.started_) {\n        callbacks = this.callbacks_.shift();\n        this.pendingCallback_ = callbacks[1];\n        callbacks[0]();\n      }\n    }\n    /**\n     * dispose of the source updater and the underlying sourceBuffer\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this7 = this;\n\n      var disposeFn = function disposeFn() {\n        if (_this7.sourceBuffer_ && _this7.mediaSource.readyState === 'open') {\n          _this7.sourceBuffer_.abort();\n        }\n\n        _this7.sourceBuffer_.removeEventListener('updateend', disposeFn);\n      };\n\n      this.sourceBuffer_.removeEventListener('updateend', this.onUpdateendCallback_);\n\n      if (this.sourceBuffer_.removing) {\n        this.sourceBuffer_.addEventListener('updateend', disposeFn);\n      } else {\n        disposeFn();\n      }\n    }\n  }]);\n  return SourceUpdater;\n}();\n\nvar Config = {\n  GOAL_BUFFER_LENGTH: 30,\n  MAX_GOAL_BUFFER_LENGTH: 60,\n  GOAL_BUFFER_LENGTH_RATE: 1,\n  // 0.5 MB/s\n  INITIAL_BANDWIDTH: 4194304,\n  // A fudge factor to apply to advertised playlist bitrates to account for\n  // temporary flucations in client bandwidth\n  BANDWIDTH_VARIANCE: 1.2,\n  // How much of the buffer must be filled before we consider upswitching\n  BUFFER_LOW_WATER_LINE: 0,\n  MAX_BUFFER_LOW_WATER_LINE: 30,\n  BUFFER_LOW_WATER_LINE_RATE: 1\n};\nvar REQUEST_ERRORS = {\n  FAILURE: 2,\n  TIMEOUT: -101,\n  ABORTED: -102\n};\n/**\n * Abort all requests\n *\n * @param {Object} activeXhrs - an object that tracks all XHR requests\n */\n\nvar abortAll = function abortAll(activeXhrs) {\n  activeXhrs.forEach(function (xhr) {\n    xhr.abort();\n  });\n};\n/**\n * Gather important bandwidth stats once a request has completed\n *\n * @param {Object} request - the XHR request from which to gather stats\n */\n\n\nvar getRequestStats = function getRequestStats(request) {\n  return {\n    bandwidth: request.bandwidth,\n    bytesReceived: request.bytesReceived || 0,\n    roundTripTime: request.roundTripTime || 0\n  };\n};\n/**\n * If possible gather bandwidth stats as a request is in\n * progress\n *\n * @param {Event} progressEvent - an event object from an XHR's progress event\n */\n\n\nvar getProgressStats = function getProgressStats(progressEvent) {\n  var request = progressEvent.target;\n  var roundTripTime = Date.now() - request.requestTime;\n  var stats = {\n    bandwidth: Infinity,\n    bytesReceived: 0,\n    roundTripTime: roundTripTime || 0\n  };\n  stats.bytesReceived = progressEvent.loaded; // This can result in Infinity if stats.roundTripTime is 0 but that is ok\n  // because we should only use bandwidth stats on progress to determine when\n  // abort a request early due to insufficient bandwidth\n\n  stats.bandwidth = Math.floor(stats.bytesReceived / stats.roundTripTime * 8 * 1000);\n  return stats;\n};\n/**\n * Handle all error conditions in one place and return an object\n * with all the information\n *\n * @param {Error|null} error - if non-null signals an error occured with the XHR\n * @param {Object} request -  the XHR request that possibly generated the error\n */\n\n\nvar handleErrors = function handleErrors(error, request) {\n  if (request.timedout) {\n    return {\n      status: request.status,\n      message: 'HLS request timed-out at URL: ' + request.uri,\n      code: REQUEST_ERRORS.TIMEOUT,\n      xhr: request\n    };\n  }\n\n  if (request.aborted) {\n    return {\n      status: request.status,\n      message: 'HLS request aborted at URL: ' + request.uri,\n      code: REQUEST_ERRORS.ABORTED,\n      xhr: request\n    };\n  }\n\n  if (error) {\n    return {\n      status: request.status,\n      message: 'HLS request errored at URL: ' + request.uri,\n      code: REQUEST_ERRORS.FAILURE,\n      xhr: request\n    };\n  }\n\n  return null;\n};\n/**\n * Handle responses for key data and convert the key data to the correct format\n * for the decryption step later\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleKeyResponse = function handleKeyResponse(segment, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    }\n\n    if (response.byteLength !== 16) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Invalid HLS key at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    var view = new DataView(response);\n    segment.key.bytes = new Uint32Array([view.getUint32(0), view.getUint32(4), view.getUint32(8), view.getUint32(12)]);\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Handle init-segment responses\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleInitSegmentResponse = function handleInitSegmentResponse(segment, captionParser, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    } // stop processing if received empty content\n\n\n    if (response.byteLength === 0) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Empty HLS segment content at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    segment.map.bytes = new Uint8Array(request.response); // Initialize CaptionParser if it hasn't been yet\n\n    if (captionParser && !captionParser.isInitialized()) {\n      captionParser.init();\n    }\n\n    segment.map.timescales = mp4probe.timescale(segment.map.bytes);\n    segment.map.videoTrackIds = mp4probe.videoTrackIds(segment.map.bytes);\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Response handler for segment-requests being sure to set the correct\n * property depending on whether the segment is encryped or not\n * Also records and keeps track of stats that are used for ABR purposes\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} finishProcessingFn - a callback to execute to continue processing\n *                                        this request\n */\n\n\nvar handleSegmentResponse = function handleSegmentResponse(segment, captionParser, finishProcessingFn) {\n  return function (error, request) {\n    var response = request.response;\n    var errorObj = handleErrors(error, request);\n    var parsed = void 0;\n\n    if (errorObj) {\n      return finishProcessingFn(errorObj, segment);\n    } // stop processing if received empty content\n\n\n    if (response.byteLength === 0) {\n      return finishProcessingFn({\n        status: request.status,\n        message: 'Empty HLS segment content at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      }, segment);\n    }\n\n    segment.stats = getRequestStats(request);\n\n    if (segment.key) {\n      segment.encryptedBytes = new Uint8Array(request.response);\n    } else {\n      segment.bytes = new Uint8Array(request.response);\n    } // This is likely an FMP4 and has the init segment.\n    // Run through the CaptionParser in case there are captions.\n\n\n    if (captionParser && segment.map && segment.map.bytes) {\n      // Initialize CaptionParser if it hasn't been yet\n      if (!captionParser.isInitialized()) {\n        captionParser.init();\n      }\n\n      parsed = captionParser.parse(segment.bytes, segment.map.videoTrackIds, segment.map.timescales);\n\n      if (parsed && parsed.captions) {\n        segment.captionStreams = parsed.captionStreams;\n        segment.fmp4Captions = parsed.captions;\n      }\n    }\n\n    return finishProcessingFn(null, segment);\n  };\n};\n/**\n * Decrypt the segment via the decryption web worker\n *\n * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} doneFn - a callback that is executed after decryption has completed\n */\n\n\nvar decryptSegment = function decryptSegment(decrypter, segment, doneFn) {\n  var decryptionHandler = function decryptionHandler(event) {\n    if (event.data.source === segment.requestId) {\n      decrypter.removeEventListener('message', decryptionHandler);\n      var decrypted = event.data.decrypted;\n      segment.bytes = new Uint8Array(decrypted.bytes, decrypted.byteOffset, decrypted.byteLength);\n      return doneFn(null, segment);\n    }\n  };\n\n  decrypter.addEventListener('message', decryptionHandler);\n  var keyBytes = void 0;\n\n  if (segment.key.bytes.slice) {\n    keyBytes = segment.key.bytes.slice();\n  } else {\n    keyBytes = new Uint32Array(Array.prototype.slice.call(segment.key.bytes));\n  } // this is an encrypted segment\n  // incrementally decrypt the segment\n\n\n  decrypter.postMessage(createTransferableMessage({\n    source: segment.requestId,\n    encrypted: segment.encryptedBytes,\n    key: keyBytes,\n    iv: segment.key.iv\n  }), [segment.encryptedBytes.buffer, keyBytes.buffer]);\n};\n/**\n * This function waits for all XHRs to finish (with either success or failure)\n * before continueing processing via it's callback. The function gathers errors\n * from each request into a single errors array so that the error status for\n * each request can be examined later.\n *\n * @param {Object} activeXhrs - an object that tracks all XHR requests\n * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n * @param {Function} doneFn - a callback that is executed after all resources have been\n *                            downloaded and any decryption completed\n */\n\n\nvar waitForCompletion = function waitForCompletion(activeXhrs, decrypter, doneFn) {\n  var count = 0;\n  var didError = false;\n  return function (error, segment) {\n    if (didError) {\n      return;\n    }\n\n    if (error) {\n      didError = true; // If there are errors, we have to abort any outstanding requests\n\n      abortAll(activeXhrs); // Even though the requests above are aborted, and in theory we could wait until we\n      // handle the aborted events from those requests, there are some cases where we may\n      // never get an aborted event. For instance, if the network connection is lost and\n      // there were two requests, the first may have triggered an error immediately, while\n      // the second request remains unsent. In that case, the aborted algorithm will not\n      // trigger an abort: see https://xhr.spec.whatwg.org/#the-abort()-method\n      //\n      // We also can't rely on the ready state of the XHR, since the request that\n      // triggered the connection error may also show as a ready state of 0 (unsent).\n      // Therefore, we have to finish this group of requests immediately after the first\n      // seen error.\n\n      return doneFn(error, segment);\n    }\n\n    count += 1;\n\n    if (count === activeXhrs.length) {\n      // Keep track of when *all* of the requests have completed\n      segment.endOfAllRequests = Date.now();\n\n      if (segment.encryptedBytes) {\n        return decryptSegment(decrypter, segment, doneFn);\n      } // Otherwise, everything is ready just continue\n\n\n      return doneFn(null, segment);\n    }\n  };\n};\n/**\n * Simple progress event callback handler that gathers some stats before\n * executing a provided callback with the `segment` object\n *\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} progressFn - a callback that is executed each time a progress event\n *                                is received\n * @param {Event} event - the progress event object from XMLHttpRequest\n */\n\n\nvar handleProgress = function handleProgress(segment, progressFn) {\n  return function (event) {\n    segment.stats = videojs$1.mergeOptions(segment.stats, getProgressStats(event)); // record the time that we receive the first byte of data\n\n    if (!segment.stats.firstBytesReceivedAt && segment.stats.bytesReceived) {\n      segment.stats.firstBytesReceivedAt = Date.now();\n    }\n\n    return progressFn(event, segment);\n  };\n};\n/**\n * Load all resources and does any processing necessary for a media-segment\n *\n * Features:\n *   decrypts the media-segment if it has a key uri and an iv\n *   aborts *all* requests if *any* one request fails\n *\n * The segment object, at minimum, has the following format:\n * {\n *   resolvedUri: String,\n *   [byterange]: {\n *     offset: Number,\n *     length: Number\n *   },\n *   [key]: {\n *     resolvedUri: String\n *     [byterange]: {\n *       offset: Number,\n *       length: Number\n *     },\n *     iv: {\n *       bytes: Uint32Array\n *     }\n *   },\n *   [map]: {\n *     resolvedUri: String,\n *     [byterange]: {\n *       offset: Number,\n *       length: Number\n *     },\n *     [bytes]: Uint8Array\n *   }\n * }\n * ...where [name] denotes optional properties\n *\n * @param {Function} xhr - an instance of the xhr wrapper in xhr.js\n * @param {Object} xhrOptions - the base options to provide to all xhr requests\n * @param {WebWorker} decryptionWorker - a WebWorker interface to AES-128\n *                                       decryption routines\n * @param {Object} segment - a simplified copy of the segmentInfo object\n *                           from SegmentLoader\n * @param {Function} progressFn - a callback that receives progress events from the main\n *                                segment's xhr request\n * @param {Function} doneFn - a callback that is executed only once all requests have\n *                            succeeded or failed\n * @returns {Function} a function that, when invoked, immediately aborts all\n *                     outstanding requests\n */\n\n\nvar mediaSegmentRequest = function mediaSegmentRequest(xhr, xhrOptions, decryptionWorker, captionParser, segment, progressFn, doneFn) {\n  var activeXhrs = [];\n  var finishProcessingFn = waitForCompletion(activeXhrs, decryptionWorker, doneFn); // optionally, request the decryption key\n\n  if (segment.key && !segment.key.bytes) {\n    var keyRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.key.resolvedUri,\n      responseType: 'arraybuffer'\n    });\n    var keyRequestCallback = handleKeyResponse(segment, finishProcessingFn);\n    var keyXhr = xhr(keyRequestOptions, keyRequestCallback);\n    activeXhrs.push(keyXhr);\n  } // optionally, request the associated media init segment\n\n\n  if (segment.map && !segment.map.bytes) {\n    var initSegmentOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.map.resolvedUri,\n      responseType: 'arraybuffer',\n      headers: segmentXhrHeaders(segment.map)\n    });\n    var initSegmentRequestCallback = handleInitSegmentResponse(segment, captionParser, finishProcessingFn);\n    var initSegmentXhr = xhr(initSegmentOptions, initSegmentRequestCallback);\n    activeXhrs.push(initSegmentXhr);\n  }\n\n  var segmentRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n    uri: segment.resolvedUri,\n    responseType: 'arraybuffer',\n    headers: segmentXhrHeaders(segment)\n  });\n  var segmentRequestCallback = handleSegmentResponse(segment, captionParser, finishProcessingFn);\n  var segmentXhr = xhr(segmentRequestOptions, segmentRequestCallback);\n  segmentXhr.addEventListener('progress', handleProgress(segment, progressFn));\n  activeXhrs.push(segmentXhr);\n  return function () {\n    return abortAll(activeXhrs);\n  };\n}; // Utilities\n\n/**\n * Returns the CSS value for the specified property on an element\n * using `getComputedStyle`. Firefox has a long-standing issue where\n * getComputedStyle() may return null when running in an iframe with\n * `display: none`.\n *\n * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n * @param {HTMLElement} el the htmlelement to work on\n * @param {string} the proprety to get the style for\n */\n\n\nvar safeGetComputedStyle = function safeGetComputedStyle(el, property) {\n  var result = void 0;\n\n  if (!el) {\n    return '';\n  }\n\n  result = window$1.getComputedStyle(el);\n\n  if (!result) {\n    return '';\n  }\n\n  return result[property];\n};\n/**\n * Resuable stable sort function\n *\n * @param {Playlists} array\n * @param {Function} sortFn Different comparators\n * @function stableSort\n */\n\n\nvar stableSort = function stableSort(array, sortFn) {\n  var newArray = array.slice();\n  array.sort(function (left, right) {\n    var cmp = sortFn(left, right);\n\n    if (cmp === 0) {\n      return newArray.indexOf(left) - newArray.indexOf(right);\n    }\n\n    return cmp;\n  });\n};\n/**\n * A comparator function to sort two playlist object by bandwidth.\n *\n * @param {Object} left a media playlist object\n * @param {Object} right a media playlist object\n * @return {Number} Greater than zero if the bandwidth attribute of\n * left is greater than the corresponding attribute of right. Less\n * than zero if the bandwidth of right is greater than left and\n * exactly zero if the two are equal.\n */\n\n\nvar comparePlaylistBandwidth = function comparePlaylistBandwidth(left, right) {\n  var leftBandwidth = void 0;\n  var rightBandwidth = void 0;\n\n  if (left.attributes.BANDWIDTH) {\n    leftBandwidth = left.attributes.BANDWIDTH;\n  }\n\n  leftBandwidth = leftBandwidth || window$1.Number.MAX_VALUE;\n\n  if (right.attributes.BANDWIDTH) {\n    rightBandwidth = right.attributes.BANDWIDTH;\n  }\n\n  rightBandwidth = rightBandwidth || window$1.Number.MAX_VALUE;\n  return leftBandwidth - rightBandwidth;\n};\n/**\n * A comparator function to sort two playlist object by resolution (width).\n * @param {Object} left a media playlist object\n * @param {Object} right a media playlist object\n * @return {Number} Greater than zero if the resolution.width attribute of\n * left is greater than the corresponding attribute of right. Less\n * than zero if the resolution.width of right is greater than left and\n * exactly zero if the two are equal.\n */\n\n\nvar comparePlaylistResolution = function comparePlaylistResolution(left, right) {\n  var leftWidth = void 0;\n  var rightWidth = void 0;\n\n  if (left.attributes.RESOLUTION && left.attributes.RESOLUTION.width) {\n    leftWidth = left.attributes.RESOLUTION.width;\n  }\n\n  leftWidth = leftWidth || window$1.Number.MAX_VALUE;\n\n  if (right.attributes.RESOLUTION && right.attributes.RESOLUTION.width) {\n    rightWidth = right.attributes.RESOLUTION.width;\n  }\n\n  rightWidth = rightWidth || window$1.Number.MAX_VALUE; // NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions\n  // have the same media dimensions/ resolution\n\n  if (leftWidth === rightWidth && left.attributes.BANDWIDTH && right.attributes.BANDWIDTH) {\n    return left.attributes.BANDWIDTH - right.attributes.BANDWIDTH;\n  }\n\n  return leftWidth - rightWidth;\n};\n/**\n * Chooses the appropriate media playlist based on bandwidth and player size\n *\n * @param {Object} master\n *        Object representation of the master manifest\n * @param {Number} playerBandwidth\n *        Current calculated bandwidth of the player\n * @param {Number} playerWidth\n *        Current width of the player element\n * @param {Number} playerHeight\n *        Current height of the player element\n * @param {Boolean} limitRenditionByPlayerDimensions\n *        True if the player width and height should be used during the selection, false otherwise\n * @return {Playlist} the highest bitrate playlist less than the\n * currently detected bandwidth, accounting for some amount of\n * bandwidth variance\n */\n\n\nvar simpleSelector = function simpleSelector(master, playerBandwidth, playerWidth, playerHeight, limitRenditionByPlayerDimensions) {\n  // convert the playlists to an intermediary representation to make comparisons easier\n  var sortedPlaylistReps = master.playlists.map(function (playlist) {\n    var width = void 0;\n    var height = void 0;\n    var bandwidth = void 0;\n    width = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.width;\n    height = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.height;\n    bandwidth = playlist.attributes.BANDWIDTH;\n    bandwidth = bandwidth || window$1.Number.MAX_VALUE;\n    return {\n      bandwidth: bandwidth,\n      width: width,\n      height: height,\n      playlist: playlist\n    };\n  });\n  stableSort(sortedPlaylistReps, function (left, right) {\n    return left.bandwidth - right.bandwidth;\n  }); // filter out any playlists that have been excluded due to\n  // incompatible configurations\n\n  sortedPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n    return !Playlist.isIncompatible(rep.playlist);\n  }); // filter out any playlists that have been disabled manually through the representations\n  // api or blacklisted temporarily due to playback errors.\n\n  var enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n    return Playlist.isEnabled(rep.playlist);\n  });\n\n  if (!enabledPlaylistReps.length) {\n    // if there are no enabled playlists, then they have all been blacklisted or disabled\n    // by the user through the representations api. In this case, ignore blacklisting and\n    // fallback to what the user wants by using playlists the user has not disabled.\n    enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return !Playlist.isDisabled(rep.playlist);\n    });\n  } // filter out any variant that has greater effective bitrate\n  // than the current estimated bandwidth\n\n\n  var bandwidthPlaylistReps = enabledPlaylistReps.filter(function (rep) {\n    return rep.bandwidth * Config.BANDWIDTH_VARIANCE < playerBandwidth;\n  });\n  var highestRemainingBandwidthRep = bandwidthPlaylistReps[bandwidthPlaylistReps.length - 1]; // get all of the renditions with the same (highest) bandwidth\n  // and then taking the very first element\n\n  var bandwidthBestRep = bandwidthPlaylistReps.filter(function (rep) {\n    return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n  })[0]; // if we're not going to limit renditions by player size, make an early decision.\n\n  if (limitRenditionByPlayerDimensions === false) {\n    var _chosenRep = bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n\n    return _chosenRep ? _chosenRep.playlist : null;\n  } // filter out playlists without resolution information\n\n\n  var haveResolution = bandwidthPlaylistReps.filter(function (rep) {\n    return rep.width && rep.height;\n  }); // sort variants by resolution\n\n  stableSort(haveResolution, function (left, right) {\n    return left.width - right.width;\n  }); // if we have the exact resolution as the player use it\n\n  var resolutionBestRepList = haveResolution.filter(function (rep) {\n    return rep.width === playerWidth && rep.height === playerHeight;\n  });\n  highestRemainingBandwidthRep = resolutionBestRepList[resolutionBestRepList.length - 1]; // ensure that we pick the highest bandwidth variant that have exact resolution\n\n  var resolutionBestRep = resolutionBestRepList.filter(function (rep) {\n    return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n  })[0];\n  var resolutionPlusOneList = void 0;\n  var resolutionPlusOneSmallest = void 0;\n  var resolutionPlusOneRep = void 0; // find the smallest variant that is larger than the player\n  // if there is no match of exact resolution\n\n  if (!resolutionBestRep) {\n    resolutionPlusOneList = haveResolution.filter(function (rep) {\n      return rep.width > playerWidth || rep.height > playerHeight;\n    }); // find all the variants have the same smallest resolution\n\n    resolutionPlusOneSmallest = resolutionPlusOneList.filter(function (rep) {\n      return rep.width === resolutionPlusOneList[0].width && rep.height === resolutionPlusOneList[0].height;\n    }); // ensure that we also pick the highest bandwidth variant that\n    // is just-larger-than the video player\n\n    highestRemainingBandwidthRep = resolutionPlusOneSmallest[resolutionPlusOneSmallest.length - 1];\n    resolutionPlusOneRep = resolutionPlusOneSmallest.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0];\n  } // fallback chain of variants\n\n\n  var chosenRep = resolutionPlusOneRep || resolutionBestRep || bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n  return chosenRep ? chosenRep.playlist : null;\n}; // Playlist Selectors\n\n/**\n * Chooses the appropriate media playlist based on the most recent\n * bandwidth estimate and the player size.\n *\n * Expects to be called within the context of an instance of HlsHandler\n *\n * @return {Playlist} the highest bitrate playlist less than the\n * currently detected bandwidth, accounting for some amount of\n * bandwidth variance\n */\n\n\nvar lastBandwidthSelector = function lastBandwidthSelector() {\n  return simpleSelector(this.playlists.master, this.systemBandwidth, parseInt(safeGetComputedStyle(this.tech_.el(), 'width'), 10), parseInt(safeGetComputedStyle(this.tech_.el(), 'height'), 10), this.limitRenditionByPlayerDimensions);\n};\n/**\n * Chooses the appropriate media playlist based on the potential to rebuffer\n *\n * @param {Object} settings\n *        Object of information required to use this selector\n * @param {Object} settings.master\n *        Object representation of the master manifest\n * @param {Number} settings.currentTime\n *        The current time of the player\n * @param {Number} settings.bandwidth\n *        Current measured bandwidth\n * @param {Number} settings.duration\n *        Duration of the media\n * @param {Number} settings.segmentDuration\n *        Segment duration to be used in round trip time calculations\n * @param {Number} settings.timeUntilRebuffer\n *        Time left in seconds until the player has to rebuffer\n * @param {Number} settings.currentTimeline\n *        The current timeline segments are being loaded from\n * @param {SyncController} settings.syncController\n *        SyncController for determining if we have a sync point for a given playlist\n * @return {Object|null}\n *         {Object} return.playlist\n *         The highest bandwidth playlist with the least amount of rebuffering\n *         {Number} return.rebufferingImpact\n *         The amount of time in seconds switching to this playlist will rebuffer. A\n *         negative value means that switching will cause zero rebuffering.\n */\n\n\nvar minRebufferMaxBandwidthSelector = function minRebufferMaxBandwidthSelector(settings) {\n  var master = settings.master,\n      currentTime = settings.currentTime,\n      bandwidth = settings.bandwidth,\n      duration$$1 = settings.duration,\n      segmentDuration = settings.segmentDuration,\n      timeUntilRebuffer = settings.timeUntilRebuffer,\n      currentTimeline = settings.currentTimeline,\n      syncController = settings.syncController; // filter out any playlists that have been excluded due to\n  // incompatible configurations\n\n  var compatiblePlaylists = master.playlists.filter(function (playlist) {\n    return !Playlist.isIncompatible(playlist);\n  }); // filter out any playlists that have been disabled manually through the representations\n  // api or blacklisted temporarily due to playback errors.\n\n  var enabledPlaylists = compatiblePlaylists.filter(Playlist.isEnabled);\n\n  if (!enabledPlaylists.length) {\n    // if there are no enabled playlists, then they have all been blacklisted or disabled\n    // by the user through the representations api. In this case, ignore blacklisting and\n    // fallback to what the user wants by using playlists the user has not disabled.\n    enabledPlaylists = compatiblePlaylists.filter(function (playlist) {\n      return !Playlist.isDisabled(playlist);\n    });\n  }\n\n  var bandwidthPlaylists = enabledPlaylists.filter(Playlist.hasAttribute.bind(null, 'BANDWIDTH'));\n  var rebufferingEstimates = bandwidthPlaylists.map(function (playlist) {\n    var syncPoint = syncController.getSyncPoint(playlist, duration$$1, currentTimeline, currentTime); // If there is no sync point for this playlist, switching to it will require a\n    // sync request first. This will double the request time\n\n    var numRequests = syncPoint ? 1 : 2;\n    var requestTimeEstimate = Playlist.estimateSegmentRequestTime(segmentDuration, bandwidth, playlist);\n    var rebufferingImpact = requestTimeEstimate * numRequests - timeUntilRebuffer;\n    return {\n      playlist: playlist,\n      rebufferingImpact: rebufferingImpact\n    };\n  });\n  var noRebufferingPlaylists = rebufferingEstimates.filter(function (estimate) {\n    return estimate.rebufferingImpact <= 0;\n  }); // Sort by bandwidth DESC\n\n  stableSort(noRebufferingPlaylists, function (a, b) {\n    return comparePlaylistBandwidth(b.playlist, a.playlist);\n  });\n\n  if (noRebufferingPlaylists.length) {\n    return noRebufferingPlaylists[0];\n  }\n\n  stableSort(rebufferingEstimates, function (a, b) {\n    return a.rebufferingImpact - b.rebufferingImpact;\n  });\n  return rebufferingEstimates[0] || null;\n};\n/**\n * Chooses the appropriate media playlist, which in this case is the lowest bitrate\n * one with video.  If no renditions with video exist, return the lowest audio rendition.\n *\n * Expects to be called within the context of an instance of HlsHandler\n *\n * @return {Object|null}\n *         {Object} return.playlist\n *         The lowest bitrate playlist that contains a video codec.  If no such rendition\n *         exists pick the lowest audio rendition.\n */\n\n\nvar lowestBitrateCompatibleVariantSelector = function lowestBitrateCompatibleVariantSelector() {\n  // filter out any playlists that have been excluded due to\n  // incompatible configurations or playback errors\n  var playlists = this.playlists.master.playlists.filter(Playlist.isEnabled); // Sort ascending by bitrate\n\n  stableSort(playlists, function (a, b) {\n    return comparePlaylistBandwidth(a, b);\n  }); // Parse and assume that playlists with no video codec have no video\n  // (this is not necessarily true, although it is generally true).\n  //\n  // If an entire manifest has no valid videos everything will get filtered\n  // out.\n\n  var playlistsWithVideo = playlists.filter(function (playlist) {\n    return parseCodecs(playlist.attributes.CODECS).videoCodec;\n  });\n  return playlistsWithVideo[0] || null;\n};\n/**\n * Create captions text tracks on video.js if they do not exist\n *\n * @param {Object} inbandTextTracks a reference to current inbandTextTracks\n * @param {Object} tech the video.js tech\n * @param {Object} captionStreams the caption streams to create\n * @private\n */\n\n\nvar createCaptionsTrackIfNotExists = function createCaptionsTrackIfNotExists(inbandTextTracks, tech, captionStreams) {\n  for (var trackId in captionStreams) {\n    if (!inbandTextTracks[trackId]) {\n      tech.trigger({\n        type: 'usage',\n        name: 'hls-608'\n      });\n      var track = tech.textTracks().getTrackById(trackId);\n\n      if (track) {\n        // Resuse an existing track with a CC# id because this was\n        // very likely created by videojs-contrib-hls from information\n        // in the m3u8 for us to use\n        inbandTextTracks[trackId] = track;\n      } else {\n        // Otherwise, create a track with the default `CC#` label and\n        // without a language\n        inbandTextTracks[trackId] = tech.addRemoteTextTrack({\n          kind: 'captions',\n          id: trackId,\n          label: trackId\n        }, false).track;\n      }\n    }\n  }\n};\n\nvar addCaptionData = function addCaptionData(_ref) {\n  var inbandTextTracks = _ref.inbandTextTracks,\n      captionArray = _ref.captionArray,\n      timestampOffset = _ref.timestampOffset;\n\n  if (!captionArray) {\n    return;\n  }\n\n  var Cue = window.WebKitDataCue || window.VTTCue;\n  captionArray.forEach(function (caption) {\n    var track = caption.stream;\n    var startTime = caption.startTime;\n    var endTime = caption.endTime;\n\n    if (!inbandTextTracks[track]) {\n      return;\n    }\n\n    startTime += timestampOffset;\n    endTime += timestampOffset;\n    inbandTextTracks[track].addCue(new Cue(startTime, endTime, caption.text));\n  });\n};\n/**\n * @file segment-loader.js\n */\n// in ms\n\n\nvar CHECK_BUFFER_DELAY = 500;\n/**\n * Determines if we should call endOfStream on the media source based\n * on the state of the buffer or if appened segment was the final\n * segment in the playlist.\n *\n * @param {Object} playlist a media playlist object\n * @param {Object} mediaSource the MediaSource object\n * @param {Number} segmentIndex the index of segment we last appended\n * @returns {Boolean} do we need to call endOfStream on the MediaSource\n */\n\nvar detectEndOfStream = function detectEndOfStream(playlist, mediaSource, segmentIndex) {\n  if (!playlist || !mediaSource) {\n    return false;\n  }\n\n  var segments = playlist.segments; // determine a few boolean values to help make the branch below easier\n  // to read\n\n  var appendedLastSegment = segmentIndex === segments.length; // if we've buffered to the end of the video, we need to call endOfStream\n  // so that MediaSources can trigger the `ended` event when it runs out of\n  // buffered data instead of waiting for me\n\n  return playlist.endList && mediaSource.readyState === 'open' && appendedLastSegment;\n};\n\nvar finite = function finite(num) {\n  return typeof num === 'number' && isFinite(num);\n};\n\nvar illegalMediaSwitch = function illegalMediaSwitch(loaderType, startingMedia, newSegmentMedia) {\n  // Although these checks should most likely cover non 'main' types, for now it narrows\n  // the scope of our checks.\n  if (loaderType !== 'main' || !startingMedia || !newSegmentMedia) {\n    return null;\n  }\n\n  if (!newSegmentMedia.containsAudio && !newSegmentMedia.containsVideo) {\n    return 'Neither audio nor video found in segment.';\n  }\n\n  if (startingMedia.containsVideo && !newSegmentMedia.containsVideo) {\n    return 'Only audio found in segment when we expected video.' + ' We can\\'t switch to audio only from a stream that had video.' + ' To get rid of this message, please add codec information to the manifest.';\n  }\n\n  if (!startingMedia.containsVideo && newSegmentMedia.containsVideo) {\n    return 'Video found in segment when we expected only audio.' + ' We can\\'t switch to a stream with video from an audio only stream.' + ' To get rid of this message, please add codec information to the manifest.';\n  }\n\n  return null;\n};\n/**\n * Calculates a time value that is safe to remove from the back buffer without interupting\n * playback.\n *\n * @param {TimeRange} seekable\n *        The current seekable range\n * @param {Number} currentTime\n *        The current time of the player\n * @param {Number} targetDuration\n *        The target duration of the current playlist\n * @return {Number}\n *         Time that is safe to remove from the back buffer without interupting playback\n */\n\n\nvar safeBackBufferTrimTime = function safeBackBufferTrimTime(seekable$$1, currentTime, targetDuration) {\n  var removeToTime = void 0;\n\n  if (seekable$$1.length && seekable$$1.start(0) > 0 && seekable$$1.start(0) < currentTime) {\n    // If we have a seekable range use that as the limit for what can be removed safely\n    removeToTime = seekable$$1.start(0);\n  } else {\n    // otherwise remove anything older than 30 seconds before the current play head\n    removeToTime = currentTime - 30;\n  } // Don't allow removing from the buffer within target duration of current time\n  // to avoid the possibility of removing the GOP currently being played which could\n  // cause playback stalls.\n\n\n  return Math.min(removeToTime, currentTime - targetDuration);\n};\n\nvar segmentInfoString = function segmentInfoString(segmentInfo) {\n  var _segmentInfo$segment = segmentInfo.segment,\n      start = _segmentInfo$segment.start,\n      end = _segmentInfo$segment.end,\n      _segmentInfo$playlist = segmentInfo.playlist,\n      seq = _segmentInfo$playlist.mediaSequence,\n      id = _segmentInfo$playlist.id,\n      _segmentInfo$playlist2 = _segmentInfo$playlist.segments,\n      segments = _segmentInfo$playlist2 === undefined ? [] : _segmentInfo$playlist2,\n      index = segmentInfo.mediaIndex,\n      timeline = segmentInfo.timeline;\n  return ['appending [' + index + '] of [' + seq + ', ' + (seq + segments.length) + '] from playlist [' + id + ']', '[' + start + ' => ' + end + '] in timeline [' + timeline + ']'].join(' ');\n};\n/**\n * An object that manages segment loading and appending.\n *\n * @class SegmentLoader\n * @param {Object} options required and optional options\n * @extends videojs.EventTarget\n */\n\n\nvar SegmentLoader = function (_videojs$EventTarget) {\n  inherits(SegmentLoader, _videojs$EventTarget);\n\n  function SegmentLoader(settings) {\n    classCallCheck(this, SegmentLoader); // check pre-conditions\n\n    var _this = possibleConstructorReturn(this, (SegmentLoader.__proto__ || Object.getPrototypeOf(SegmentLoader)).call(this));\n\n    if (!settings) {\n      throw new TypeError('Initialization settings are required');\n    }\n\n    if (typeof settings.currentTime !== 'function') {\n      throw new TypeError('No currentTime getter specified');\n    }\n\n    if (!settings.mediaSource) {\n      throw new TypeError('No MediaSource specified');\n    } // public properties\n\n\n    _this.bandwidth = settings.bandwidth;\n    _this.throughput = {\n      rate: 0,\n      count: 0\n    };\n    _this.roundTrip = NaN;\n\n    _this.resetStats_();\n\n    _this.mediaIndex = null; // private settings\n\n    _this.hasPlayed_ = settings.hasPlayed;\n    _this.currentTime_ = settings.currentTime;\n    _this.seekable_ = settings.seekable;\n    _this.seeking_ = settings.seeking;\n    _this.duration_ = settings.duration;\n    _this.mediaSource_ = settings.mediaSource;\n    _this.hls_ = settings.hls;\n    _this.loaderType_ = settings.loaderType;\n    _this.startingMedia_ = void 0;\n    _this.segmentMetadataTrack_ = settings.segmentMetadataTrack;\n    _this.goalBufferLength_ = settings.goalBufferLength;\n    _this.sourceType_ = settings.sourceType;\n    _this.inbandTextTracks_ = settings.inbandTextTracks;\n    _this.state_ = 'INIT'; // private instance variables\n\n    _this.checkBufferTimeout_ = null;\n    _this.error_ = void 0;\n    _this.currentTimeline_ = -1;\n    _this.pendingSegment_ = null;\n    _this.mimeType_ = null;\n    _this.sourceUpdater_ = null;\n    _this.xhrOptions_ = null; // Fragmented mp4 playback\n\n    _this.activeInitSegmentId_ = null;\n    _this.initSegments_ = {}; // HLSe playback\n\n    _this.cacheEncryptionKeys_ = settings.cacheEncryptionKeys;\n    _this.keyCache_ = {}; // Fmp4 CaptionParser\n\n    if (_this.loaderType_ === 'main') {\n      _this.captionParser_ = new CaptionParser();\n    } else {\n      _this.captionParser_ = null;\n    }\n\n    _this.decrypter_ = settings.decrypter; // Manages the tracking and generation of sync-points, mappings\n    // between a time in the display time and a segment index within\n    // a playlist\n\n    _this.syncController_ = settings.syncController;\n    _this.syncPoint_ = {\n      segmentIndex: 0,\n      time: 0\n    };\n\n    _this.syncController_.on('syncinfoupdate', function () {\n      return _this.trigger('syncinfoupdate');\n    });\n\n    _this.mediaSource_.addEventListener('sourceopen', function () {\n      return _this.ended_ = false;\n    }); // ...for determining the fetch location\n\n\n    _this.fetchAtBuffer_ = false;\n    _this.logger_ = logger('SegmentLoader[' + _this.loaderType_ + ']');\n    Object.defineProperty(_this, 'state', {\n      get: function get$$1() {\n        return this.state_;\n      },\n      set: function set$$1(newState) {\n        if (newState !== this.state_) {\n          this.logger_(this.state_ + ' -> ' + newState);\n          this.state_ = newState;\n        }\n      }\n    });\n    return _this;\n  }\n  /**\n   * reset all of our media stats\n   *\n   * @private\n   */\n\n\n  createClass(SegmentLoader, [{\n    key: 'resetStats_',\n    value: function resetStats_() {\n      this.mediaBytesTransferred = 0;\n      this.mediaRequests = 0;\n      this.mediaRequestsAborted = 0;\n      this.mediaRequestsTimedout = 0;\n      this.mediaRequestsErrored = 0;\n      this.mediaTransferDuration = 0;\n      this.mediaSecondsLoaded = 0;\n    }\n    /**\n     * dispose of the SegmentLoader and reset to the default state\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      this.state = 'DISPOSED';\n      this.pause();\n      this.abort_();\n\n      if (this.sourceUpdater_) {\n        this.sourceUpdater_.dispose();\n      }\n\n      this.resetStats_();\n\n      if (this.captionParser_) {\n        this.captionParser_.reset();\n      }\n    }\n    /**\n     * abort anything that is currently doing on with the SegmentLoader\n     * and reset to a default state\n     */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      if (this.state !== 'WAITING') {\n        if (this.pendingSegment_) {\n          this.pendingSegment_ = null;\n        }\n\n        return;\n      }\n\n      this.abort_(); // We aborted the requests we were waiting on, so reset the loader's state to READY\n      // since we are no longer \"waiting\" on any requests. XHR callback is not always run\n      // when the request is aborted. This will prevent the loader from being stuck in the\n      // WAITING state indefinitely.\n\n      this.state = 'READY'; // don't wait for buffer check timeouts to begin fetching the\n      // next segment\n\n      if (!this.paused()) {\n        this.monitorBuffer_();\n      }\n    }\n    /**\n     * abort all pending xhr requests and null any pending segements\n     *\n     * @private\n     */\n\n  }, {\n    key: 'abort_',\n    value: function abort_() {\n      if (this.pendingSegment_) {\n        this.pendingSegment_.abortRequests();\n      } // clear out the segment being processed\n\n\n      this.pendingSegment_ = null;\n    }\n    /**\n     * set an error on the segment loader and null out any pending segements\n     *\n     * @param {Error} error the error to set on the SegmentLoader\n     * @return {Error} the error that was set or that is currently set\n     */\n\n  }, {\n    key: 'error',\n    value: function error(_error) {\n      if (typeof _error !== 'undefined') {\n        this.error_ = _error;\n      }\n\n      this.pendingSegment_ = null;\n      return this.error_;\n    }\n  }, {\n    key: 'endOfStream',\n    value: function endOfStream() {\n      this.ended_ = true;\n      this.pause();\n      this.trigger('ended');\n    }\n    /**\n     * Indicates which time ranges are buffered\n     *\n     * @return {TimeRange}\n     *         TimeRange object representing the current buffered ranges\n     */\n\n  }, {\n    key: 'buffered_',\n    value: function buffered_() {\n      if (!this.sourceUpdater_) {\n        return videojs$1.createTimeRanges();\n      }\n\n      return this.sourceUpdater_.buffered();\n    }\n    /**\n     * Gets and sets init segment for the provided map\n     *\n     * @param {Object} map\n     *        The map object representing the init segment to get or set\n     * @param {Boolean=} set\n     *        If true, the init segment for the provided map should be saved\n     * @return {Object}\n     *         map object for desired init segment\n     */\n\n  }, {\n    key: 'initSegment',\n    value: function initSegment(map) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!map) {\n        return null;\n      }\n\n      var id = initSegmentId(map);\n      var storedMap = this.initSegments_[id];\n\n      if (set$$1 && !storedMap && map.bytes) {\n        this.initSegments_[id] = storedMap = {\n          resolvedUri: map.resolvedUri,\n          byterange: map.byterange,\n          bytes: map.bytes,\n          timescales: map.timescales,\n          videoTrackIds: map.videoTrackIds\n        };\n      }\n\n      return storedMap || map;\n    }\n    /**\n     * Gets and sets key for the provided key\n     *\n     * @param {Object} key\n     *        The key object representing the key to get or set\n     * @param {Boolean=} set\n     *        If true, the key for the provided key should be saved\n     * @return {Object}\n     *         Key object for desired key\n     */\n\n  }, {\n    key: 'segmentKey',\n    value: function segmentKey(key) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!key) {\n        return null;\n      }\n\n      var id = segmentKeyId(key);\n      var storedKey = this.keyCache_[id]; // TODO: We should use the HTTP Expires header to invalidate our cache per\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-6.2.3\n\n      if (this.cacheEncryptionKeys_ && set$$1 && !storedKey && key.bytes) {\n        this.keyCache_[id] = storedKey = {\n          resolvedUri: key.resolvedUri,\n          bytes: key.bytes\n        };\n      }\n\n      var result = {\n        resolvedUri: (storedKey || key).resolvedUri\n      };\n\n      if (storedKey) {\n        result.bytes = storedKey.bytes;\n      }\n\n      return result;\n    }\n    /**\n     * Returns true if all configuration required for loading is present, otherwise false.\n     *\n     * @return {Boolean} True if the all configuration is ready for loading\n     * @private\n     */\n\n  }, {\n    key: 'couldBeginLoading_',\n    value: function couldBeginLoading_() {\n      return this.playlist_ && ( // the source updater is created when init_ is called, so either having a\n      // source updater or being in the INIT state with a mimeType is enough\n      // to say we have all the needed configuration to start loading.\n      this.sourceUpdater_ || this.mimeType_ && this.state === 'INIT') && !this.paused();\n    }\n    /**\n     * load a playlist and start to fill the buffer\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      // un-pause\n      this.monitorBuffer_(); // if we don't have a playlist yet, keep waiting for one to be\n      // specified\n\n      if (!this.playlist_) {\n        return;\n      } // not sure if this is the best place for this\n\n\n      this.syncController_.setDateTimeMapping(this.playlist_); // if all the configuration is ready, initialize and begin loading\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        return this.init_();\n      } // if we're in the middle of processing a segment already, don't\n      // kick off an additional segment request\n\n\n      if (!this.couldBeginLoading_() || this.state !== 'READY' && this.state !== 'INIT') {\n        return;\n      }\n\n      this.state = 'READY';\n    }\n    /**\n     * Once all the starting parameters have been specified, begin\n     * operation. This method should only be invoked from the INIT\n     * state.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'init_',\n    value: function init_() {\n      this.state = 'READY';\n      this.sourceUpdater_ = new SourceUpdater(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_);\n      this.resetEverything();\n      return this.monitorBuffer_();\n    }\n    /**\n     * set a playlist on the segment loader\n     *\n     * @param {PlaylistLoader} media the playlist to set on the segment loader\n     */\n\n  }, {\n    key: 'playlist',\n    value: function playlist(newPlaylist) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!newPlaylist) {\n        return;\n      }\n\n      var oldPlaylist = this.playlist_;\n      var segmentInfo = this.pendingSegment_;\n      this.playlist_ = newPlaylist;\n      this.xhrOptions_ = options; // when we haven't started playing yet, the start of a live playlist\n      // is always our zero-time so force a sync update each time the playlist\n      // is refreshed from the server\n\n      if (!this.hasPlayed_()) {\n        newPlaylist.syncInfo = {\n          mediaSequence: newPlaylist.mediaSequence,\n          time: 0\n        };\n      }\n\n      var oldId = null;\n\n      if (oldPlaylist) {\n        if (oldPlaylist.id) {\n          oldId = oldPlaylist.id;\n        } else if (oldPlaylist.uri) {\n          oldId = oldPlaylist.uri;\n        }\n      }\n\n      this.logger_('playlist update [' + oldId + ' => ' + (newPlaylist.id || newPlaylist.uri) + ']'); // in VOD, this is always a rendition switch (or we updated our syncInfo above)\n      // in LIVE, we always want to update with new playlists (including refreshes)\n\n      this.trigger('syncinfoupdate'); // if we were unpaused but waiting for a playlist, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        return this.init_();\n      }\n\n      if (!oldPlaylist || oldPlaylist.uri !== newPlaylist.uri) {\n        if (this.mediaIndex !== null) {\n          // we must \"resync\" the segment loader when we switch renditions and\n          // the segment loader is already synced to the previous rendition\n          this.resyncLoader();\n        } // the rest of this function depends on `oldPlaylist` being defined\n\n\n        return;\n      } // we reloaded the same playlist so we are in a live scenario\n      // and we will likely need to adjust the mediaIndex\n\n\n      var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence;\n      this.logger_('live window shift [' + mediaSequenceDiff + ']'); // update the mediaIndex on the SegmentLoader\n      // this is important because we can abort a request and this value must be\n      // equal to the last appended mediaIndex\n\n      if (this.mediaIndex !== null) {\n        this.mediaIndex -= mediaSequenceDiff;\n      } // update the mediaIndex on the SegmentInfo object\n      // this is important because we will update this.mediaIndex with this value\n      // in `handleUpdateEnd_` after the segment has been successfully appended\n\n\n      if (segmentInfo) {\n        segmentInfo.mediaIndex -= mediaSequenceDiff; // we need to update the referenced segment so that timing information is\n        // saved for the new playlist's segment, however, if the segment fell off the\n        // playlist, we can leave the old reference and just lose the timing info\n\n        if (segmentInfo.mediaIndex >= 0) {\n          segmentInfo.segment = newPlaylist.segments[segmentInfo.mediaIndex];\n        }\n      }\n\n      this.syncController_.saveExpiredSegmentInfo(oldPlaylist, newPlaylist);\n    }\n    /**\n     * Prevent the loader from fetching additional segments. If there\n     * is a segment request outstanding, it will finish processing\n     * before the loader halts. A segment loader can be unpaused by\n     * calling load().\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n        this.checkBufferTimeout_ = null;\n      }\n    }\n    /**\n     * Returns whether the segment loader is fetching additional\n     * segments when given the opportunity. This property can be\n     * modified through calls to pause() and load().\n     */\n\n  }, {\n    key: 'paused',\n    value: function paused() {\n      return this.checkBufferTimeout_ === null;\n    }\n    /**\n     * create/set the following mimetype on the SourceBuffer through a\n     * SourceUpdater\n     *\n     * @param {String} mimeType the mime type string to use\n     * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer\n     * is added to the media source\n     */\n\n  }, {\n    key: 'mimeType',\n    value: function mimeType(_mimeType, sourceBufferEmitter) {\n      if (this.mimeType_) {\n        return;\n      }\n\n      this.mimeType_ = _mimeType;\n      this.sourceBufferEmitter_ = sourceBufferEmitter; // if we were unpaused but waiting for a sourceUpdater, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        this.init_();\n      }\n    }\n    /**\n     * Delete all the buffered data and reset the SegmentLoader\n     * @param {Function} [done] an optional callback to be executed when the remove\n     * operation is complete\n     */\n\n  }, {\n    key: 'resetEverything',\n    value: function resetEverything(done) {\n      this.ended_ = false;\n      this.resetLoader();\n      this.remove(0, this.duration_(), done); // clears fmp4 captions\n\n      if (this.captionParser_) {\n        this.captionParser_.clearAllCaptions();\n      }\n\n      this.trigger('reseteverything');\n    }\n    /**\n     * Force the SegmentLoader to resync and start loading around the currentTime instead\n     * of starting at the end of the buffer\n     *\n     * Useful for fast quality changes\n     */\n\n  }, {\n    key: 'resetLoader',\n    value: function resetLoader() {\n      this.fetchAtBuffer_ = false;\n      this.resyncLoader();\n    }\n    /**\n     * Force the SegmentLoader to restart synchronization and make a conservative guess\n     * before returning to the simple walk-forward method\n     */\n\n  }, {\n    key: 'resyncLoader',\n    value: function resyncLoader() {\n      this.mediaIndex = null;\n      this.syncPoint_ = null;\n      this.abort();\n    }\n    /**\n     * Remove any data in the source buffer between start and end times\n     * @param {Number} start - the start time of the region to remove from the buffer\n     * @param {Number} end - the end time of the region to remove from the buffer\n     * @param {Function} [done] - an optional callback to be executed when the remove\n     * operation is complete\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end, done) {\n      if (this.sourceUpdater_) {\n        this.sourceUpdater_.remove(start, end, done);\n      }\n\n      removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n\n      if (this.inbandTextTracks_) {\n        for (var id in this.inbandTextTracks_) {\n          removeCuesFromTrack(start, end, this.inbandTextTracks_[id]);\n        }\n      }\n    }\n    /**\n     * (re-)schedule monitorBufferTick_ to run as soon as possible\n     *\n     * @private\n     */\n\n  }, {\n    key: 'monitorBuffer_',\n    value: function monitorBuffer_() {\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n      }\n\n      this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), 1);\n    }\n    /**\n     * As long as the SegmentLoader is in the READY state, periodically\n     * invoke fillBuffer_().\n     *\n     * @private\n     */\n\n  }, {\n    key: 'monitorBufferTick_',\n    value: function monitorBufferTick_() {\n      if (this.state === 'READY') {\n        this.fillBuffer_();\n      }\n\n      if (this.checkBufferTimeout_) {\n        window$1.clearTimeout(this.checkBufferTimeout_);\n      }\n\n      this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), CHECK_BUFFER_DELAY);\n    }\n    /**\n     * fill the buffer with segements unless the sourceBuffers are\n     * currently updating\n     *\n     * Note: this function should only ever be called by monitorBuffer_\n     * and never directly\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fillBuffer_',\n    value: function fillBuffer_() {\n      if (this.sourceUpdater_.updating()) {\n        return;\n      }\n\n      if (!this.syncPoint_) {\n        this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n      } // see if we need to begin loading immediately\n\n\n      var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n\n      if (!segmentInfo) {\n        return;\n      }\n\n      if (this.isEndOfStream_(segmentInfo.mediaIndex)) {\n        this.endOfStream();\n        return;\n      }\n\n      if (segmentInfo.mediaIndex === this.playlist_.segments.length - 1 && this.mediaSource_.readyState === 'ended' && !this.seeking_()) {\n        return;\n      } // We will need to change timestampOffset of the sourceBuffer if:\n      // - The segment.timeline !== this.currentTimeline\n      //   (we are crossing a discontinuity somehow)\n      // - The \"timestampOffset\" for the start of this segment is less than\n      //   the currently set timestampOffset\n      // Also, clear captions if we are crossing a discontinuity boundary\n      // Previously, we changed the timestampOffset if the start of this segment\n      // is less than the currently set timestampOffset but this isn't wanted\n      // as it can produce bad behavior, especially around long running\n      // live streams\n\n\n      if (segmentInfo.timeline !== this.currentTimeline_) {\n        this.syncController_.reset();\n        segmentInfo.timestampOffset = segmentInfo.startOfSegment;\n\n        if (this.captionParser_) {\n          this.captionParser_.clearAllCaptions();\n        }\n      }\n\n      this.loadSegment_(segmentInfo);\n    }\n    /**\n     * Determines if this segment loader is at the end of it's stream.\n     *\n     * @param {Number} mediaIndex the index of segment we last appended\n     * @param {Object} [playlist=this.playlist_] a media playlist object\n     * @returns {Boolean} true if at end of stream, false otherwise.\n     */\n\n  }, {\n    key: 'isEndOfStream_',\n    value: function isEndOfStream_(mediaIndex) {\n      var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.playlist_;\n      return detectEndOfStream(playlist, this.mediaSource_, mediaIndex) && !this.sourceUpdater_.updating();\n    }\n    /**\n     * Determines what segment request should be made, given current playback\n     * state.\n     *\n     * @param {TimeRanges} buffered - the state of the buffer\n     * @param {Object} playlist - the playlist object to fetch segments from\n     * @param {Number} mediaIndex - the previous mediaIndex fetched or null\n     * @param {Boolean} hasPlayed - a flag indicating whether we have played or not\n     * @param {Number} currentTime - the playback position in seconds\n     * @param {Object} syncPoint - a segment info object that describes the\n     * @returns {Object} a segment request object that describes the segment to load\n     */\n\n  }, {\n    key: 'checkBuffer_',\n    value: function checkBuffer_(buffered, playlist, mediaIndex, hasPlayed, currentTime, syncPoint) {\n      var lastBufferedEnd = 0;\n      var startOfSegment = void 0;\n\n      if (buffered.length) {\n        lastBufferedEnd = buffered.end(buffered.length - 1);\n      }\n\n      var bufferedTime = Math.max(0, lastBufferedEnd - currentTime);\n\n      if (!playlist.segments.length) {\n        return null;\n      } // if there is plenty of content buffered, and the video has\n      // been played before relax for awhile\n\n\n      if (bufferedTime >= this.goalBufferLength_()) {\n        return null;\n      } // if the video has not yet played once, and we already have\n      // one segment downloaded do nothing\n\n\n      if (!hasPlayed && bufferedTime >= 1) {\n        return null;\n      } // When the syncPoint is null, there is no way of determining a good\n      // conservative segment index to fetch from\n      // The best thing to do here is to get the kind of sync-point data by\n      // making a request\n\n\n      if (syncPoint === null) {\n        mediaIndex = this.getSyncSegmentCandidate_(playlist);\n        return this.generateSegmentInfo_(playlist, mediaIndex, null, true);\n      } // Under normal playback conditions fetching is a simple walk forward\n\n\n      if (mediaIndex !== null) {\n        var segment = playlist.segments[mediaIndex];\n\n        if (segment && segment.end) {\n          startOfSegment = segment.end;\n        } else {\n          startOfSegment = lastBufferedEnd;\n        }\n\n        return this.generateSegmentInfo_(playlist, mediaIndex + 1, startOfSegment, false);\n      } // There is a sync-point but the lack of a mediaIndex indicates that\n      // we need to make a good conservative guess about which segment to\n      // fetch\n\n\n      if (this.fetchAtBuffer_) {\n        // Find the segment containing the end of the buffer\n        var mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, lastBufferedEnd, syncPoint.segmentIndex, syncPoint.time);\n        mediaIndex = mediaSourceInfo.mediaIndex;\n        startOfSegment = mediaSourceInfo.startTime;\n      } else {\n        // Find the segment containing currentTime\n        var _mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, currentTime, syncPoint.segmentIndex, syncPoint.time);\n\n        mediaIndex = _mediaSourceInfo.mediaIndex;\n        startOfSegment = _mediaSourceInfo.startTime;\n      }\n\n      return this.generateSegmentInfo_(playlist, mediaIndex, startOfSegment, false);\n    }\n    /**\n     * The segment loader has no recourse except to fetch a segment in the\n     * current playlist and use the internal timestamps in that segment to\n     * generate a syncPoint. This function returns a good candidate index\n     * for that process.\n     *\n     * @param {Object} playlist - the playlist object to look for a\n     * @returns {Number} An index of a segment from the playlist to load\n     */\n\n  }, {\n    key: 'getSyncSegmentCandidate_',\n    value: function getSyncSegmentCandidate_(playlist) {\n      var _this2 = this;\n\n      if (this.currentTimeline_ === -1) {\n        return 0;\n      }\n\n      var segmentIndexArray = playlist.segments.map(function (s, i) {\n        return {\n          timeline: s.timeline,\n          segmentIndex: i\n        };\n      }).filter(function (s) {\n        return s.timeline === _this2.currentTimeline_;\n      });\n\n      if (segmentIndexArray.length) {\n        return segmentIndexArray[Math.min(segmentIndexArray.length - 1, 1)].segmentIndex;\n      }\n\n      return Math.max(playlist.segments.length - 1, 0);\n    }\n  }, {\n    key: 'generateSegmentInfo_',\n    value: function generateSegmentInfo_(playlist, mediaIndex, startOfSegment, isSyncRequest) {\n      if (mediaIndex < 0 || mediaIndex >= playlist.segments.length) {\n        return null;\n      }\n\n      var segment = playlist.segments[mediaIndex];\n      return {\n        requestId: 'segment-loader-' + Math.random(),\n        // resolve the segment URL relative to the playlist\n        uri: segment.resolvedUri,\n        // the segment's mediaIndex at the time it was requested\n        mediaIndex: mediaIndex,\n        // whether or not to update the SegmentLoader's state with this\n        // segment's mediaIndex\n        isSyncRequest: isSyncRequest,\n        startOfSegment: startOfSegment,\n        // the segment's playlist\n        playlist: playlist,\n        // unencrypted bytes of the segment\n        bytes: null,\n        // when a key is defined for this segment, the encrypted bytes\n        encryptedBytes: null,\n        // The target timestampOffset for this segment when we append it\n        // to the source buffer\n        timestampOffset: null,\n        // The timeline that the segment is in\n        timeline: segment.timeline,\n        // The expected duration of the segment in seconds\n        duration: segment.duration,\n        // retain the segment in case the playlist updates while doing an async process\n        segment: segment\n      };\n    }\n    /**\n     * Determines if the network has enough bandwidth to complete the current segment\n     * request in a timely manner. If not, the request will be aborted early and bandwidth\n     * updated to trigger a playlist switch.\n     *\n     * @param {Object} stats\n     *        Object containing stats about the request timing and size\n     * @return {Boolean} True if the request was aborted, false otherwise\n     * @private\n     */\n\n  }, {\n    key: 'abortRequestEarly_',\n    value: function abortRequestEarly_(stats) {\n      if (this.hls_.tech_.paused() || // Don't abort if the current playlist is on the lowestEnabledRendition\n      // TODO: Replace using timeout with a boolean indicating whether this playlist is\n      //       the lowestEnabledRendition.\n      !this.xhrOptions_.timeout || // Don't abort if we have no bandwidth information to estimate segment sizes\n      !this.playlist_.attributes.BANDWIDTH) {\n        return false;\n      } // Wait at least 1 second since the first byte of data has been received before\n      // using the calculated bandwidth from the progress event to allow the bitrate\n      // to stabilize\n\n\n      if (Date.now() - (stats.firstBytesReceivedAt || Date.now()) < 1000) {\n        return false;\n      }\n\n      var currentTime = this.currentTime_();\n      var measuredBandwidth = stats.bandwidth;\n      var segmentDuration = this.pendingSegment_.duration;\n      var requestTimeRemaining = Playlist.estimateSegmentRequestTime(segmentDuration, measuredBandwidth, this.playlist_, stats.bytesReceived); // Subtract 1 from the timeUntilRebuffer so we still consider an early abort\n      // if we are only left with less than 1 second when the request completes.\n      // A negative timeUntilRebuffering indicates we are already rebuffering\n\n      var timeUntilRebuffer$$1 = timeUntilRebuffer(this.buffered_(), currentTime, this.hls_.tech_.playbackRate()) - 1; // Only consider aborting early if the estimated time to finish the download\n      // is larger than the estimated time until the player runs out of forward buffer\n\n      if (requestTimeRemaining <= timeUntilRebuffer$$1) {\n        return false;\n      }\n\n      var switchCandidate = minRebufferMaxBandwidthSelector({\n        master: this.hls_.playlists.master,\n        currentTime: currentTime,\n        bandwidth: measuredBandwidth,\n        duration: this.duration_(),\n        segmentDuration: segmentDuration,\n        timeUntilRebuffer: timeUntilRebuffer$$1,\n        currentTimeline: this.currentTimeline_,\n        syncController: this.syncController_\n      });\n\n      if (!switchCandidate) {\n        return;\n      }\n\n      var rebufferingImpact = requestTimeRemaining - timeUntilRebuffer$$1;\n      var timeSavedBySwitching = rebufferingImpact - switchCandidate.rebufferingImpact;\n      var minimumTimeSaving = 0.5; // If we are already rebuffering, increase the amount of variance we add to the\n      // potential round trip time of the new request so that we are not too aggressive\n      // with switching to a playlist that might save us a fraction of a second.\n\n      if (timeUntilRebuffer$$1 <= TIME_FUDGE_FACTOR) {\n        minimumTimeSaving = 1;\n      }\n\n      if (!switchCandidate.playlist || switchCandidate.playlist.uri === this.playlist_.uri || timeSavedBySwitching < minimumTimeSaving) {\n        return false;\n      } // set the bandwidth to that of the desired playlist being sure to scale by\n      // BANDWIDTH_VARIANCE and add one so the playlist selector does not exclude it\n      // don't trigger a bandwidthupdate as the bandwidth is artifial\n\n\n      this.bandwidth = switchCandidate.playlist.attributes.BANDWIDTH * Config.BANDWIDTH_VARIANCE + 1;\n      this.abort();\n      this.trigger('earlyabort');\n      return true;\n    }\n    /**\n     * XHR `progress` event handler\n     *\n     * @param {Event}\n     *        The XHR `progress` event\n     * @param {Object} simpleSegment\n     *        A simplified segment object copy\n     * @private\n     */\n\n  }, {\n    key: 'handleProgress_',\n    value: function handleProgress_(event, simpleSegment) {\n      if (!this.pendingSegment_ || simpleSegment.requestId !== this.pendingSegment_.requestId || this.abortRequestEarly_(simpleSegment.stats)) {\n        return;\n      }\n\n      this.trigger('progress');\n    }\n    /**\n     * load a specific segment from a request into the buffer\n     *\n     * @private\n     */\n\n  }, {\n    key: 'loadSegment_',\n    value: function loadSegment_(segmentInfo) {\n      this.state = 'WAITING';\n      this.pendingSegment_ = segmentInfo;\n      this.trimBackBuffer_(segmentInfo);\n      segmentInfo.abortRequests = mediaSegmentRequest(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(segmentInfo), // progress callback\n      this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this));\n    }\n    /**\n     * trim the back buffer so that we don't have too much data\n     * in the source buffer\n     *\n     * @private\n     *\n     * @param {Object} segmentInfo - the current segment\n     */\n\n  }, {\n    key: 'trimBackBuffer_',\n    value: function trimBackBuffer_(segmentInfo) {\n      var removeToTime = safeBackBufferTrimTime(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10); // Chrome has a hard limit of 150MB of\n      // buffer and a very conservative \"garbage collector\"\n      // We manually clear out the old buffer to ensure\n      // we don't trigger the QuotaExceeded error\n      // on the source buffer during subsequent appends\n\n      if (removeToTime > 0) {\n        this.remove(0, removeToTime);\n      }\n    }\n    /**\n     * created a simplified copy of the segment object with just the\n     * information necessary to perform the XHR and decryption\n     *\n     * @private\n     *\n     * @param {Object} segmentInfo - the current segment\n     * @returns {Object} a simplified segment object copy\n     */\n\n  }, {\n    key: 'createSimplifiedSegmentObj_',\n    value: function createSimplifiedSegmentObj_(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var simpleSegment = {\n        resolvedUri: segment.resolvedUri,\n        byterange: segment.byterange,\n        requestId: segmentInfo.requestId\n      };\n\n      if (segment.key) {\n        // if the media sequence is greater than 2^32, the IV will be incorrect\n        // assuming 10s segments, that would be about 1300 years\n        var iv = segment.key.iv || new Uint32Array([0, 0, 0, segmentInfo.mediaIndex + segmentInfo.playlist.mediaSequence]);\n        simpleSegment.key = this.segmentKey(segment.key);\n        simpleSegment.key.iv = iv;\n      }\n\n      if (segment.map) {\n        simpleSegment.map = this.initSegment(segment.map);\n      }\n\n      return simpleSegment;\n    }\n    /**\n     * Handle the callback from the segmentRequest function and set the\n     * associated SegmentLoader state and errors if necessary\n     *\n     * @private\n     */\n\n  }, {\n    key: 'segmentRequestFinished_',\n    value: function segmentRequestFinished_(error, simpleSegment) {\n      // every request counts as a media request even if it has been aborted\n      // or canceled due to a timeout\n      this.mediaRequests += 1;\n\n      if (simpleSegment.stats) {\n        this.mediaBytesTransferred += simpleSegment.stats.bytesReceived;\n        this.mediaTransferDuration += simpleSegment.stats.roundTripTime;\n      } // The request was aborted and the SegmentLoader has already been reset\n\n\n      if (!this.pendingSegment_) {\n        this.mediaRequestsAborted += 1;\n        return;\n      } // the request was aborted and the SegmentLoader has already started\n      // another request. this can happen when the timeout for an aborted\n      // request triggers due to a limitation in the XHR library\n      // do not count this as any sort of request or we risk double-counting\n\n\n      if (simpleSegment.requestId !== this.pendingSegment_.requestId) {\n        return;\n      } // an error occurred from the active pendingSegment_ so reset everything\n\n\n      if (error) {\n        this.pendingSegment_ = null;\n        this.state = 'READY'; // the requests were aborted just record the aborted stat and exit\n        // this is not a true error condition and nothing corrective needs\n        // to be done\n\n        if (error.code === REQUEST_ERRORS.ABORTED) {\n          this.mediaRequestsAborted += 1;\n          return;\n        }\n\n        this.pause(); // the error is really just that at least one of the requests timed-out\n        // set the bandwidth to a very low value and trigger an ABR switch to\n        // take emergency action\n\n        if (error.code === REQUEST_ERRORS.TIMEOUT) {\n          this.mediaRequestsTimedout += 1;\n          this.bandwidth = 1;\n          this.roundTrip = NaN;\n          this.trigger('bandwidthupdate');\n          return;\n        } // if control-flow has arrived here, then the error is real\n        // emit an error event to blacklist the current playlist\n\n\n        this.mediaRequestsErrored += 1;\n        this.error(error);\n        this.trigger('error');\n        return;\n      } // the response was a success so set any bandwidth stats the request\n      // generated for ABR purposes\n\n\n      this.bandwidth = simpleSegment.stats.bandwidth;\n      this.roundTrip = simpleSegment.stats.roundTripTime; // if this request included an initialization segment, save that data\n      // to the initSegment cache\n\n      if (simpleSegment.map) {\n        simpleSegment.map = this.initSegment(simpleSegment.map, true);\n      } // if this request included a segment key, save that data in the cache\n\n\n      if (simpleSegment.key) {\n        this.segmentKey(simpleSegment.key, true);\n      }\n\n      this.processSegmentResponse_(simpleSegment);\n    }\n    /**\n     * Move any important data from the simplified segment object\n     * back to the real segment object for future phases\n     *\n     * @private\n     */\n\n  }, {\n    key: 'processSegmentResponse_',\n    value: function processSegmentResponse_(simpleSegment) {\n      var segmentInfo = this.pendingSegment_;\n      segmentInfo.bytes = simpleSegment.bytes;\n\n      if (simpleSegment.map) {\n        segmentInfo.segment.map.bytes = simpleSegment.map.bytes;\n      }\n\n      segmentInfo.endOfAllRequests = simpleSegment.endOfAllRequests; // This has fmp4 captions, add them to text tracks\n\n      if (simpleSegment.fmp4Captions) {\n        createCaptionsTrackIfNotExists(this.inbandTextTracks_, this.hls_.tech_, simpleSegment.captionStreams);\n        addCaptionData({\n          inbandTextTracks: this.inbandTextTracks_,\n          captionArray: simpleSegment.fmp4Captions,\n          // fmp4s will not have a timestamp offset\n          timestampOffset: 0\n        }); // Reset stored captions since we added parsed\n        // captions to a text track at this point\n\n        if (this.captionParser_) {\n          this.captionParser_.clearParsedCaptions();\n        }\n      }\n\n      this.handleSegment_();\n    }\n    /**\n     * append a decrypted segement to the SourceBuffer through a SourceUpdater\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSegment_',\n    value: function handleSegment_() {\n      var _this3 = this;\n\n      if (!this.pendingSegment_) {\n        this.state = 'READY';\n        return;\n      }\n\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment;\n      var timingInfo = this.syncController_.probeSegmentInfo(segmentInfo); // When we have our first timing info, determine what media types this loader is\n      // dealing with. Although we're maintaining extra state, it helps to preserve the\n      // separation of segment loader from the actual source buffers.\n\n      if (typeof this.startingMedia_ === 'undefined' && timingInfo && ( // Guard against cases where we're not getting timing info at all until we are\n      // certain that all streams will provide it.\n      timingInfo.containsAudio || timingInfo.containsVideo)) {\n        this.startingMedia_ = {\n          containsAudio: timingInfo.containsAudio,\n          containsVideo: timingInfo.containsVideo\n        };\n      }\n\n      var illegalMediaSwitchError = illegalMediaSwitch(this.loaderType_, this.startingMedia_, timingInfo);\n\n      if (illegalMediaSwitchError) {\n        this.error({\n          message: illegalMediaSwitchError,\n          blacklistDuration: Infinity\n        });\n        this.trigger('error');\n        return;\n      }\n\n      if (segmentInfo.isSyncRequest) {\n        this.trigger('syncinfoupdate');\n        this.pendingSegment_ = null;\n        this.state = 'READY';\n        return;\n      }\n\n      if (segmentInfo.timestampOffset !== null && segmentInfo.timestampOffset !== this.sourceUpdater_.timestampOffset()) {\n        this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset); // fired when a timestamp offset is set in HLS (can also identify discontinuities)\n\n        this.trigger('timestampoffset');\n      }\n\n      var timelineMapping = this.syncController_.mappingForTimeline(segmentInfo.timeline);\n\n      if (timelineMapping !== null) {\n        this.trigger({\n          type: 'segmenttimemapping',\n          mapping: timelineMapping\n        });\n      }\n\n      this.state = 'APPENDING'; // if the media initialization segment is changing, append it\n      // before the content segment\n\n      if (segment.map) {\n        var initId = initSegmentId(segment.map);\n\n        if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== initId) {\n          var initSegment = this.initSegment(segment.map);\n          this.sourceUpdater_.appendBuffer({\n            bytes: initSegment.bytes\n          }, function () {\n            _this3.activeInitSegmentId_ = initId;\n          });\n        }\n      }\n\n      segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n\n      if (typeof segment.start === 'number' && typeof segment.end === 'number') {\n        this.mediaSecondsLoaded += segment.end - segment.start;\n      } else {\n        this.mediaSecondsLoaded += segment.duration;\n      }\n\n      this.logger_(segmentInfoString(segmentInfo));\n      this.sourceUpdater_.appendBuffer({\n        bytes: segmentInfo.bytes,\n        videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, segmentInfo.requestId)\n      }, this.handleUpdateEnd_.bind(this));\n    }\n  }, {\n    key: 'handleVideoSegmentTimingInfo_',\n    value: function handleVideoSegmentTimingInfo_(requestId, event) {\n      if (!this.pendingSegment_ || requestId !== this.pendingSegment_.requestId) {\n        return;\n      }\n\n      var segment = this.pendingSegment_.segment;\n\n      if (!segment.videoTimingInfo) {\n        segment.videoTimingInfo = {};\n      }\n\n      segment.videoTimingInfo.transmuxerPrependedSeconds = event.videoSegmentTimingInfo.prependedContentDuration || 0;\n      segment.videoTimingInfo.transmuxedPresentationStart = event.videoSegmentTimingInfo.start.presentation;\n      segment.videoTimingInfo.transmuxedPresentationEnd = event.videoSegmentTimingInfo.end.presentation; // mainly used as a reference for debugging\n\n      segment.videoTimingInfo.baseMediaDecodeTime = event.videoSegmentTimingInfo.baseMediaDecodeTime;\n    }\n    /**\n     * callback to run when appendBuffer is finished. detects if we are\n     * in a good state to do things with the data we got, or if we need\n     * to wait for more\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleUpdateEnd_',\n    value: function handleUpdateEnd_() {\n      if (!this.pendingSegment_) {\n        this.state = 'READY';\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n\n        return;\n      }\n\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment;\n      var isWalkingForward = this.mediaIndex !== null;\n      this.pendingSegment_ = null;\n      this.recordThroughput_(segmentInfo);\n      this.addSegmentMetadataCue_(segmentInfo);\n      this.state = 'READY';\n      this.mediaIndex = segmentInfo.mediaIndex;\n      this.fetchAtBuffer_ = true;\n      this.currentTimeline_ = segmentInfo.timeline; // We must update the syncinfo to recalculate the seekable range before\n      // the following conditional otherwise it may consider this a bad \"guess\"\n      // and attempt to resync when the post-update seekable window and live\n      // point would mean that this was the perfect segment to fetch\n\n      this.trigger('syncinfoupdate'); // If we previously appended a segment that ends more than 3 targetDurations before\n      // the currentTime_ that means that our conservative guess was too conservative.\n      // In that case, reset the loader state so that we try to use any information gained\n      // from the previous request to create a new, more accurate, sync-point.\n\n      if (segment.end && this.currentTime_() - segment.end > segmentInfo.playlist.targetDuration * 3) {\n        this.resetEverything();\n        return;\n      } // Don't do a rendition switch unless we have enough time to get a sync segment\n      // and conservatively guess\n\n\n      if (isWalkingForward) {\n        this.trigger('bandwidthupdate');\n      }\n\n      this.trigger('progress'); // any time an update finishes and the last segment is in the\n      // buffer, end the stream. this ensures the \"ended\" event will\n      // fire if playback reaches that point.\n\n      if (this.isEndOfStream_(segmentInfo.mediaIndex + 1, segmentInfo.playlist)) {\n        this.endOfStream();\n      }\n\n      if (!this.paused()) {\n        this.monitorBuffer_();\n      }\n    }\n    /**\n     * Records the current throughput of the decrypt, transmux, and append\n     * portion of the semgment pipeline. `throughput.rate` is a the cumulative\n     * moving average of the throughput. `throughput.count` is the number of\n     * data points in the average.\n     *\n     * @private\n     * @param {Object} segmentInfo the object returned by loadSegment\n     */\n\n  }, {\n    key: 'recordThroughput_',\n    value: function recordThroughput_(segmentInfo) {\n      var rate = this.throughput.rate; // Add one to the time to ensure that we don't accidentally attempt to divide\n      // by zero in the case where the throughput is ridiculously high\n\n      var segmentProcessingTime = Date.now() - segmentInfo.endOfAllRequests + 1; // Multiply by 8000 to convert from bytes/millisecond to bits/second\n\n      var segmentProcessingThroughput = Math.floor(segmentInfo.byteLength / segmentProcessingTime * 8 * 1000); // This is just a cumulative moving average calculation:\n      //   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)\n\n      this.throughput.rate += (segmentProcessingThroughput - rate) / ++this.throughput.count;\n    }\n    /**\n     * Adds a cue to the segment-metadata track with some metadata information about the\n     * segment\n     *\n     * @private\n     * @param {Object} segmentInfo\n     *        the object returned by loadSegment\n     * @method addSegmentMetadataCue_\n     */\n\n  }, {\n    key: 'addSegmentMetadataCue_',\n    value: function addSegmentMetadataCue_(segmentInfo) {\n      if (!this.segmentMetadataTrack_) {\n        return;\n      }\n\n      var segment = segmentInfo.segment;\n      var start = segment.start;\n      var end = segment.end; // Do not try adding the cue if the start and end times are invalid.\n\n      if (!finite(start) || !finite(end)) {\n        return;\n      }\n\n      removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n      var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n      var value = {\n        custom: segment.custom,\n        dateTimeObject: segment.dateTimeObject,\n        dateTimeString: segment.dateTimeString,\n        bandwidth: segmentInfo.playlist.attributes.BANDWIDTH,\n        resolution: segmentInfo.playlist.attributes.RESOLUTION,\n        codecs: segmentInfo.playlist.attributes.CODECS,\n        byteLength: segmentInfo.byteLength,\n        uri: segmentInfo.uri,\n        timeline: segmentInfo.timeline,\n        playlist: segmentInfo.playlist.uri,\n        start: start,\n        end: end\n      };\n      var data = JSON.stringify(value);\n      var cue = new Cue(start, end, data); // Attach the metadata to the value property of the cue to keep consistency between\n      // the differences of WebKitDataCue in safari and VTTCue in other browsers\n\n      cue.value = value;\n      this.segmentMetadataTrack_.addCue(cue);\n    }\n  }]);\n  return SegmentLoader;\n}(videojs$1.EventTarget);\n\nvar uint8ToUtf8 = function uint8ToUtf8(uintArray) {\n  return decodeURIComponent(escape(String.fromCharCode.apply(null, uintArray)));\n};\n/**\n * @file vtt-segment-loader.js\n */\n\n\nvar VTT_LINE_TERMINATORS = new Uint8Array('\\n\\n'.split('').map(function (_char2) {\n  return _char2.charCodeAt(0);\n}));\n/**\n * An object that manages segment loading and appending.\n *\n * @class VTTSegmentLoader\n * @param {Object} options required and optional options\n * @extends videojs.EventTarget\n */\n\nvar VTTSegmentLoader = function (_SegmentLoader) {\n  inherits(VTTSegmentLoader, _SegmentLoader);\n\n  function VTTSegmentLoader(settings) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, VTTSegmentLoader); // SegmentLoader requires a MediaSource be specified or it will throw an error;\n    // however, VTTSegmentLoader has no need of a media source, so delete the reference\n\n    var _this = possibleConstructorReturn(this, (VTTSegmentLoader.__proto__ || Object.getPrototypeOf(VTTSegmentLoader)).call(this, settings, options));\n\n    _this.mediaSource_ = null;\n    _this.subtitlesTrack_ = null;\n    return _this;\n  }\n  /**\n   * Indicates which time ranges are buffered\n   *\n   * @return {TimeRange}\n   *         TimeRange object representing the current buffered ranges\n   */\n\n\n  createClass(VTTSegmentLoader, [{\n    key: 'buffered_',\n    value: function buffered_() {\n      if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) {\n        return videojs$1.createTimeRanges();\n      }\n\n      var cues = this.subtitlesTrack_.cues;\n      var start = cues[0].startTime;\n      var end = cues[cues.length - 1].startTime;\n      return videojs$1.createTimeRanges([[start, end]]);\n    }\n    /**\n     * Gets and sets init segment for the provided map\n     *\n     * @param {Object} map\n     *        The map object representing the init segment to get or set\n     * @param {Boolean=} set\n     *        If true, the init segment for the provided map should be saved\n     * @return {Object}\n     *         map object for desired init segment\n     */\n\n  }, {\n    key: 'initSegment',\n    value: function initSegment(map) {\n      var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!map) {\n        return null;\n      }\n\n      var id = initSegmentId(map);\n      var storedMap = this.initSegments_[id];\n\n      if (set$$1 && !storedMap && map.bytes) {\n        // append WebVTT line terminators to the media initialization segment if it exists\n        // to follow the WebVTT spec (https://w3c.github.io/webvtt/#file-structure) that\n        // requires two or more WebVTT line terminators between the WebVTT header and the\n        // rest of the file\n        var combinedByteLength = VTT_LINE_TERMINATORS.byteLength + map.bytes.byteLength;\n        var combinedSegment = new Uint8Array(combinedByteLength);\n        combinedSegment.set(map.bytes);\n        combinedSegment.set(VTT_LINE_TERMINATORS, map.bytes.byteLength);\n        this.initSegments_[id] = storedMap = {\n          resolvedUri: map.resolvedUri,\n          byterange: map.byterange,\n          bytes: combinedSegment\n        };\n      }\n\n      return storedMap || map;\n    }\n    /**\n     * Returns true if all configuration required for loading is present, otherwise false.\n     *\n     * @return {Boolean} True if the all configuration is ready for loading\n     * @private\n     */\n\n  }, {\n    key: 'couldBeginLoading_',\n    value: function couldBeginLoading_() {\n      return this.playlist_ && this.subtitlesTrack_ && !this.paused();\n    }\n    /**\n     * Once all the starting parameters have been specified, begin\n     * operation. This method should only be invoked from the INIT\n     * state.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'init_',\n    value: function init_() {\n      this.state = 'READY';\n      this.resetEverything();\n      return this.monitorBuffer_();\n    }\n    /**\n     * Set a subtitle track on the segment loader to add subtitles to\n     *\n     * @param {TextTrack=} track\n     *        The text track to add loaded subtitles to\n     * @return {TextTrack}\n     *        Returns the subtitles track\n     */\n\n  }, {\n    key: 'track',\n    value: function track(_track) {\n      if (typeof _track === 'undefined') {\n        return this.subtitlesTrack_;\n      }\n\n      this.subtitlesTrack_ = _track; // if we were unpaused but waiting for a sourceUpdater, start\n      // buffering now\n\n      if (this.state === 'INIT' && this.couldBeginLoading_()) {\n        this.init_();\n      }\n\n      return this.subtitlesTrack_;\n    }\n    /**\n     * Remove any data in the source buffer between start and end times\n     * @param {Number} start - the start time of the region to remove from the buffer\n     * @param {Number} end - the end time of the region to remove from the buffer\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(start, end) {\n      removeCuesFromTrack(start, end, this.subtitlesTrack_);\n    }\n    /**\n     * fill the buffer with segements unless the sourceBuffers are\n     * currently updating\n     *\n     * Note: this function should only ever be called by monitorBuffer_\n     * and never directly\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fillBuffer_',\n    value: function fillBuffer_() {\n      var _this2 = this;\n\n      if (!this.syncPoint_) {\n        this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n      } // see if we need to begin loading immediately\n\n\n      var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n      segmentInfo = this.skipEmptySegments_(segmentInfo);\n\n      if (!segmentInfo) {\n        return;\n      }\n\n      if (this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline) === null) {\n        // We don't have the timestamp offset that we need to sync subtitles.\n        // Rerun on a timestamp offset or user interaction.\n        var checkTimestampOffset = function checkTimestampOffset() {\n          _this2.state = 'READY';\n\n          if (!_this2.paused()) {\n            // if not paused, queue a buffer check as soon as possible\n            _this2.monitorBuffer_();\n          }\n        };\n\n        this.syncController_.one('timestampoffset', checkTimestampOffset);\n        this.state = 'WAITING_ON_TIMELINE';\n        return;\n      }\n\n      this.loadSegment_(segmentInfo);\n    }\n    /**\n     * Prevents the segment loader from requesting segments we know contain no subtitles\n     * by walking forward until we find the next segment that we don't know whether it is\n     * empty or not.\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @return {Object}\n     *         a segment info object that describes the current segment\n     */\n\n  }, {\n    key: 'skipEmptySegments_',\n    value: function skipEmptySegments_(segmentInfo) {\n      while (segmentInfo && segmentInfo.segment.empty) {\n        segmentInfo = this.generateSegmentInfo_(segmentInfo.playlist, segmentInfo.mediaIndex + 1, segmentInfo.startOfSegment + segmentInfo.duration, segmentInfo.isSyncRequest);\n      }\n\n      return segmentInfo;\n    }\n    /**\n     * append a decrypted segement to the SourceBuffer through a SourceUpdater\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSegment_',\n    value: function handleSegment_() {\n      var _this3 = this;\n\n      if (!this.pendingSegment_ || !this.subtitlesTrack_) {\n        this.state = 'READY';\n        return;\n      }\n\n      this.state = 'APPENDING';\n      var segmentInfo = this.pendingSegment_;\n      var segment = segmentInfo.segment; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n\n      if (typeof window$1.WebVTT !== 'function' && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {\n        var loadHandler = void 0;\n\n        var errorHandler = function errorHandler() {\n          _this3.subtitlesTrack_.tech_.off('vttjsloaded', loadHandler);\n\n          _this3.error({\n            message: 'Error loading vtt.js'\n          });\n\n          _this3.state = 'READY';\n\n          _this3.pause();\n\n          _this3.trigger('error');\n        };\n\n        loadHandler = function loadHandler() {\n          _this3.subtitlesTrack_.tech_.off('vttjserror', errorHandler);\n\n          _this3.handleSegment_();\n        };\n\n        this.state = 'WAITING_ON_VTTJS';\n        this.subtitlesTrack_.tech_.one('vttjsloaded', loadHandler);\n        this.subtitlesTrack_.tech_.one('vttjserror', errorHandler);\n        return;\n      }\n\n      segment.requested = true;\n\n      try {\n        this.parseVTTCues_(segmentInfo);\n      } catch (e) {\n        this.error({\n          message: e.message\n        });\n        this.state = 'READY';\n        this.pause();\n        return this.trigger('error');\n      }\n\n      this.updateTimeMapping_(segmentInfo, this.syncController_.timelines[segmentInfo.timeline], this.playlist_);\n\n      if (segmentInfo.isSyncRequest) {\n        this.trigger('syncinfoupdate');\n        this.pendingSegment_ = null;\n        this.state = 'READY';\n        return;\n      }\n\n      segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n      this.mediaSecondsLoaded += segment.duration;\n\n      if (segmentInfo.cues.length) {\n        // remove any overlapping cues to prevent doubling\n        this.remove(segmentInfo.cues[0].endTime, segmentInfo.cues[segmentInfo.cues.length - 1].endTime);\n      }\n\n      segmentInfo.cues.forEach(function (cue) {\n        _this3.subtitlesTrack_.addCue(cue);\n      });\n      this.handleUpdateEnd_();\n    }\n    /**\n     * Uses the WebVTT parser to parse the segment response\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @private\n     */\n\n  }, {\n    key: 'parseVTTCues_',\n    value: function parseVTTCues_(segmentInfo) {\n      var decoder = void 0;\n      var decodeBytesToString = false;\n\n      if (typeof window$1.TextDecoder === 'function') {\n        decoder = new window$1.TextDecoder('utf8');\n      } else {\n        decoder = window$1.WebVTT.StringDecoder();\n        decodeBytesToString = true;\n      }\n\n      var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, decoder);\n      segmentInfo.cues = [];\n      segmentInfo.timestampmap = {\n        MPEGTS: 0,\n        LOCAL: 0\n      };\n      parser.oncue = segmentInfo.cues.push.bind(segmentInfo.cues);\n\n      parser.ontimestampmap = function (map) {\n        return segmentInfo.timestampmap = map;\n      };\n\n      parser.onparsingerror = function (error) {\n        videojs$1.log.warn('Error encountered when parsing cues: ' + error.message);\n      };\n\n      if (segmentInfo.segment.map) {\n        var mapData = segmentInfo.segment.map.bytes;\n\n        if (decodeBytesToString) {\n          mapData = uint8ToUtf8(mapData);\n        }\n\n        parser.parse(mapData);\n      }\n\n      var segmentData = segmentInfo.bytes;\n\n      if (decodeBytesToString) {\n        segmentData = uint8ToUtf8(segmentData);\n      }\n\n      parser.parse(segmentData);\n      parser.flush();\n    }\n    /**\n     * Updates the start and end times of any cues parsed by the WebVTT parser using\n     * the information parsed from the X-TIMESTAMP-MAP header and a TS to media time mapping\n     * from the SyncController\n     *\n     * @param {Object} segmentInfo\n     *        a segment info object that describes the current segment\n     * @param {Object} mappingObj\n     *        object containing a mapping from TS to media time\n     * @param {Object} playlist\n     *        the playlist object containing the segment\n     * @private\n     */\n\n  }, {\n    key: 'updateTimeMapping_',\n    value: function updateTimeMapping_(segmentInfo, mappingObj, playlist) {\n      var segment = segmentInfo.segment;\n\n      if (!mappingObj) {\n        // If the sync controller does not have a mapping of TS to Media Time for the\n        // timeline, then we don't have enough information to update the cue\n        // start/end times\n        return;\n      }\n\n      if (!segmentInfo.cues.length) {\n        // If there are no cues, we also do not have enough information to figure out\n        // segment timing. Mark that the segment contains no cues so we don't re-request\n        // an empty segment.\n        segment.empty = true;\n        return;\n      }\n\n      var timestampmap = segmentInfo.timestampmap;\n      var diff = timestampmap.MPEGTS / 90000 - timestampmap.LOCAL + mappingObj.mapping;\n      segmentInfo.cues.forEach(function (cue) {\n        // First convert cue time to TS time using the timestamp-map provided within the vtt\n        cue.startTime += diff;\n        cue.endTime += diff;\n      });\n\n      if (!playlist.syncInfo) {\n        var firstStart = segmentInfo.cues[0].startTime;\n        var lastStart = segmentInfo.cues[segmentInfo.cues.length - 1].startTime;\n        playlist.syncInfo = {\n          mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n          time: Math.min(firstStart, lastStart - segment.duration)\n        };\n      }\n    }\n  }]);\n  return VTTSegmentLoader;\n}(SegmentLoader);\n/**\n * @file ad-cue-tags.js\n */\n\n/**\n * Searches for an ad cue that overlaps with the given mediaTime\n */\n\n\nvar findAdCue = function findAdCue(track, mediaTime) {\n  var cues = track.cues;\n\n  for (var i = 0; i < cues.length; i++) {\n    var cue = cues[i];\n\n    if (mediaTime >= cue.adStartTime && mediaTime <= cue.adEndTime) {\n      return cue;\n    }\n  }\n\n  return null;\n};\n\nvar updateAdCues = function updateAdCues(media, track) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n  if (!media.segments) {\n    return;\n  }\n\n  var mediaTime = offset;\n  var cue = void 0;\n\n  for (var i = 0; i < media.segments.length; i++) {\n    var segment = media.segments[i];\n\n    if (!cue) {\n      // Since the cues will span for at least the segment duration, adding a fudge\n      // factor of half segment duration will prevent duplicate cues from being\n      // created when timing info is not exact (e.g. cue start time initialized\n      // at 10.006677, but next call mediaTime is 10.003332 )\n      cue = findAdCue(track, mediaTime + segment.duration / 2);\n    }\n\n    if (cue) {\n      if ('cueIn' in segment) {\n        // Found a CUE-IN so end the cue\n        cue.endTime = mediaTime;\n        cue.adEndTime = mediaTime;\n        mediaTime += segment.duration;\n        cue = null;\n        continue;\n      }\n\n      if (mediaTime < cue.endTime) {\n        // Already processed this mediaTime for this cue\n        mediaTime += segment.duration;\n        continue;\n      } // otherwise extend cue until a CUE-IN is found\n\n\n      cue.endTime += segment.duration;\n    } else {\n      if ('cueOut' in segment) {\n        cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, segment.cueOut);\n        cue.adStartTime = mediaTime; // Assumes tag format to be\n        // #EXT-X-CUE-OUT:30\n\n        cue.adEndTime = mediaTime + parseFloat(segment.cueOut);\n        track.addCue(cue);\n      }\n\n      if ('cueOutCont' in segment) {\n        // Entered into the middle of an ad cue\n        var adOffset = void 0;\n        var adTotal = void 0; // Assumes tag formate to be\n        // #EXT-X-CUE-OUT-CONT:10/30\n\n        var _segment$cueOutCont$s = segment.cueOutCont.split('/').map(parseFloat);\n\n        var _segment$cueOutCont$s2 = slicedToArray(_segment$cueOutCont$s, 2);\n\n        adOffset = _segment$cueOutCont$s2[0];\n        adTotal = _segment$cueOutCont$s2[1];\n        cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, '');\n        cue.adStartTime = mediaTime - adOffset;\n        cue.adEndTime = cue.adStartTime + adTotal;\n        track.addCue(cue);\n      }\n    }\n\n    mediaTime += segment.duration;\n  }\n};\n/**\n * @file sync-controller.js\n */\n\n\nvar tsprobe = tsInspector.inspect;\nvar syncPointStrategies = [// Stategy \"VOD\": Handle the VOD-case where the sync-point is *always*\n//                the equivalence display-time 0 === segment-index 0\n{\n  name: 'VOD',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (duration$$1 !== Infinity) {\n      var syncPoint = {\n        time: 0,\n        segmentIndex: 0\n      };\n      return syncPoint;\n    }\n\n    return null;\n  }\n}, // Stategy \"ProgramDateTime\": We have a program-date-time tag in this playlist\n{\n  name: 'ProgramDateTime',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (!syncController.datetimeToDisplayTime) {\n      return null;\n    }\n\n    var segments = playlist.segments || [];\n    var syncPoint = null;\n    var lastDistance = null;\n    currentTime = currentTime || 0;\n\n    for (var i = 0; i < segments.length; i++) {\n      var segment = segments[i];\n\n      if (segment.dateTimeObject) {\n        var segmentTime = segment.dateTimeObject.getTime() / 1000;\n        var segmentStart = segmentTime + syncController.datetimeToDisplayTime;\n        var distance = Math.abs(currentTime - segmentStart); // Once the distance begins to increase, or if distance is 0, we have passed\n        // currentTime and can stop looking for better candidates\n\n        if (lastDistance !== null && (distance === 0 || lastDistance < distance)) {\n          break;\n        }\n\n        lastDistance = distance;\n        syncPoint = {\n          time: segmentStart,\n          segmentIndex: i\n        };\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Segment\": We have a known time mapping for a timeline and a\n//                    segment in the current timeline with timing data\n{\n  name: 'Segment',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    var segments = playlist.segments || [];\n    var syncPoint = null;\n    var lastDistance = null;\n    currentTime = currentTime || 0;\n\n    for (var i = 0; i < segments.length; i++) {\n      var segment = segments[i];\n\n      if (segment.timeline === currentTimeline && typeof segment.start !== 'undefined') {\n        var distance = Math.abs(currentTime - segment.start); // Once the distance begins to increase, we have passed\n        // currentTime and can stop looking for better candidates\n\n        if (lastDistance !== null && lastDistance < distance) {\n          break;\n        }\n\n        if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n          lastDistance = distance;\n          syncPoint = {\n            time: segment.start,\n            segmentIndex: i\n          };\n        }\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Discontinuity\": We have a discontinuity with a known\n//                          display-time\n{\n  name: 'Discontinuity',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    var syncPoint = null;\n    currentTime = currentTime || 0;\n\n    if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n      var lastDistance = null;\n\n      for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n        var segmentIndex = playlist.discontinuityStarts[i];\n        var discontinuity = playlist.discontinuitySequence + i + 1;\n        var discontinuitySync = syncController.discontinuities[discontinuity];\n\n        if (discontinuitySync) {\n          var distance = Math.abs(currentTime - discontinuitySync.time); // Once the distance begins to increase, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && lastDistance < distance) {\n            break;\n          }\n\n          if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n            lastDistance = distance;\n            syncPoint = {\n              time: discontinuitySync.time,\n              segmentIndex: segmentIndex\n            };\n          }\n        }\n      }\n    }\n\n    return syncPoint;\n  }\n}, // Stategy \"Playlist\": We have a playlist with a known mapping of\n//                     segment index to display time\n{\n  name: 'Playlist',\n  run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n    if (playlist.syncInfo) {\n      var syncPoint = {\n        time: playlist.syncInfo.time,\n        segmentIndex: playlist.syncInfo.mediaSequence - playlist.mediaSequence\n      };\n      return syncPoint;\n    }\n\n    return null;\n  }\n}];\n\nvar SyncController = function (_videojs$EventTarget) {\n  inherits(SyncController, _videojs$EventTarget);\n\n  function SyncController() {\n    classCallCheck(this, SyncController); // Segment Loader state variables...\n    // ...for synching across variants\n\n    var _this = possibleConstructorReturn(this, (SyncController.__proto__ || Object.getPrototypeOf(SyncController)).call(this));\n\n    _this.inspectCache_ = undefined; // ...for synching across variants\n\n    _this.timelines = [];\n    _this.discontinuities = [];\n    _this.datetimeToDisplayTime = null;\n    _this.logger_ = logger('SyncController');\n    return _this;\n  }\n  /**\n   * Find a sync-point for the playlist specified\n   *\n   * A sync-point is defined as a known mapping from display-time to\n   * a segment-index in the current playlist.\n   *\n   * @param {Playlist} playlist\n   *        The playlist that needs a sync-point\n   * @param {Number} duration\n   *        Duration of the MediaSource (Infinite if playing a live source)\n   * @param {Number} currentTimeline\n   *        The last timeline from which a segment was loaded\n   * @returns {Object}\n   *          A sync-point object\n   */\n\n\n  createClass(SyncController, [{\n    key: 'getSyncPoint',\n    value: function getSyncPoint(playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoints = this.runStrategies_(playlist, duration$$1, currentTimeline, currentTime);\n\n      if (!syncPoints.length) {\n        // Signal that we need to attempt to get a sync-point manually\n        // by fetching a segment in the playlist and constructing\n        // a sync-point from that information\n        return null;\n      } // Now find the sync-point that is closest to the currentTime because\n      // that should result in the most accurate guess about which segment\n      // to fetch\n\n\n      return this.selectSyncPoint_(syncPoints, {\n        key: 'time',\n        value: currentTime\n      });\n    }\n    /**\n     * Calculate the amount of time that has expired off the playlist during playback\n     *\n     * @param {Playlist} playlist\n     *        Playlist object to calculate expired from\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinity if playling a live source)\n     * @returns {Number|null}\n     *          The amount of time that has expired off the playlist during playback. Null\n     *          if no sync-points for the playlist can be found.\n     */\n\n  }, {\n    key: 'getExpiredTime',\n    value: function getExpiredTime(playlist, duration$$1) {\n      if (!playlist || !playlist.segments) {\n        return null;\n      }\n\n      var syncPoints = this.runStrategies_(playlist, duration$$1, playlist.discontinuitySequence, 0); // Without sync-points, there is not enough information to determine the expired time\n\n      if (!syncPoints.length) {\n        return null;\n      }\n\n      var syncPoint = this.selectSyncPoint_(syncPoints, {\n        key: 'segmentIndex',\n        value: 0\n      }); // If the sync-point is beyond the start of the playlist, we want to subtract the\n      // duration from index 0 to syncPoint.segmentIndex instead of adding.\n\n      if (syncPoint.segmentIndex > 0) {\n        syncPoint.time *= -1;\n      }\n\n      return Math.abs(syncPoint.time + sumDurations(playlist, syncPoint.segmentIndex, 0));\n    }\n    /**\n     * Runs each sync-point strategy and returns a list of sync-points returned by the\n     * strategies\n     *\n     * @private\n     * @param {Playlist} playlist\n     *        The playlist that needs a sync-point\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinity if playing a live source)\n     * @param {Number} currentTimeline\n     *        The last timeline from which a segment was loaded\n     * @returns {Array}\n     *          A list of sync-point objects\n     */\n\n  }, {\n    key: 'runStrategies_',\n    value: function runStrategies_(playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoints = []; // Try to find a sync-point in by utilizing various strategies...\n\n      for (var i = 0; i < syncPointStrategies.length; i++) {\n        var strategy = syncPointStrategies[i];\n        var syncPoint = strategy.run(this, playlist, duration$$1, currentTimeline, currentTime);\n\n        if (syncPoint) {\n          syncPoint.strategy = strategy.name;\n          syncPoints.push({\n            strategy: strategy.name,\n            syncPoint: syncPoint\n          });\n        }\n      }\n\n      return syncPoints;\n    }\n    /**\n     * Selects the sync-point nearest the specified target\n     *\n     * @private\n     * @param {Array} syncPoints\n     *        List of sync-points to select from\n     * @param {Object} target\n     *        Object specifying the property and value we are targeting\n     * @param {String} target.key\n     *        Specifies the property to target. Must be either 'time' or 'segmentIndex'\n     * @param {Number} target.value\n     *        The value to target for the specified key.\n     * @returns {Object}\n     *          The sync-point nearest the target\n     */\n\n  }, {\n    key: 'selectSyncPoint_',\n    value: function selectSyncPoint_(syncPoints, target) {\n      var bestSyncPoint = syncPoints[0].syncPoint;\n      var bestDistance = Math.abs(syncPoints[0].syncPoint[target.key] - target.value);\n      var bestStrategy = syncPoints[0].strategy;\n\n      for (var i = 1; i < syncPoints.length; i++) {\n        var newDistance = Math.abs(syncPoints[i].syncPoint[target.key] - target.value);\n\n        if (newDistance < bestDistance) {\n          bestDistance = newDistance;\n          bestSyncPoint = syncPoints[i].syncPoint;\n          bestStrategy = syncPoints[i].strategy;\n        }\n      }\n\n      this.logger_('syncPoint for [' + target.key + ': ' + target.value + '] chosen with strategy' + (' [' + bestStrategy + ']: [time:' + bestSyncPoint.time + ',') + (' segmentIndex:' + bestSyncPoint.segmentIndex + ']'));\n      return bestSyncPoint;\n    }\n    /**\n     * Save any meta-data present on the segments when segments leave\n     * the live window to the playlist to allow for synchronization at the\n     * playlist level later.\n     *\n     * @param {Playlist} oldPlaylist - The previous active playlist\n     * @param {Playlist} newPlaylist - The updated and most current playlist\n     */\n\n  }, {\n    key: 'saveExpiredSegmentInfo',\n    value: function saveExpiredSegmentInfo(oldPlaylist, newPlaylist) {\n      var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence; // When a segment expires from the playlist and it has a start time\n      // save that information as a possible sync-point reference in future\n\n      for (var i = mediaSequenceDiff - 1; i >= 0; i--) {\n        var lastRemovedSegment = oldPlaylist.segments[i];\n\n        if (lastRemovedSegment && typeof lastRemovedSegment.start !== 'undefined') {\n          newPlaylist.syncInfo = {\n            mediaSequence: oldPlaylist.mediaSequence + i,\n            time: lastRemovedSegment.start\n          };\n          this.logger_('playlist refresh sync: [time:' + newPlaylist.syncInfo.time + ',' + (' mediaSequence: ' + newPlaylist.syncInfo.mediaSequence + ']'));\n          this.trigger('syncinfoupdate');\n          break;\n        }\n      }\n    }\n    /**\n     * Save the mapping from playlist's ProgramDateTime to display. This should\n     * only ever happen once at the start of playback.\n     *\n     * @param {Playlist} playlist - The currently active playlist\n     */\n\n  }, {\n    key: 'setDateTimeMapping',\n    value: function setDateTimeMapping(playlist) {\n      if (!this.datetimeToDisplayTime && playlist.segments && playlist.segments.length && playlist.segments[0].dateTimeObject) {\n        var playlistTimestamp = playlist.segments[0].dateTimeObject.getTime() / 1000;\n        this.datetimeToDisplayTime = -playlistTimestamp;\n      }\n    }\n    /**\n     * Reset the state of the inspection cache when we do a rendition\n     * switch\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.inspectCache_ = undefined;\n    }\n    /**\n     * Probe or inspect a fmp4 or an mpeg2-ts segment to determine the start\n     * and end of the segment in it's internal \"media time\". Used to generate\n     * mappings from that internal \"media time\" to the display time that is\n     * shown on the player.\n     *\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     */\n\n  }, {\n    key: 'probeSegmentInfo',\n    value: function probeSegmentInfo(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var playlist = segmentInfo.playlist;\n      var timingInfo = void 0;\n\n      if (segment.map) {\n        timingInfo = this.probeMp4Segment_(segmentInfo);\n      } else {\n        timingInfo = this.probeTsSegment_(segmentInfo);\n      }\n\n      if (timingInfo) {\n        if (this.calculateSegmentTimeMapping_(segmentInfo, timingInfo)) {\n          this.saveDiscontinuitySyncInfo_(segmentInfo); // If the playlist does not have sync information yet, record that information\n          // now with segment timing information\n\n          if (!playlist.syncInfo) {\n            playlist.syncInfo = {\n              mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n              time: segment.start\n            };\n          }\n        }\n      }\n\n      return timingInfo;\n    }\n    /**\n     * Probe an fmp4 or an mpeg2-ts segment to determine the start of the segment\n     * in it's internal \"media time\".\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     * @return {object} The start and end time of the current segment in \"media time\"\n     */\n\n  }, {\n    key: 'probeMp4Segment_',\n    value: function probeMp4Segment_(segmentInfo) {\n      var segment = segmentInfo.segment;\n      var timescales = mp4probe.timescale(segment.map.bytes);\n      var startTime = mp4probe.startTime(timescales, segmentInfo.bytes);\n\n      if (segmentInfo.timestampOffset !== null) {\n        segmentInfo.timestampOffset -= startTime;\n      }\n\n      return {\n        start: startTime,\n        end: startTime + segment.duration\n      };\n    }\n    /**\n     * Probe an mpeg2-ts segment to determine the start and end of the segment\n     * in it's internal \"media time\".\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     * @return {object} The start and end time of the current segment in \"media time\"\n     */\n\n  }, {\n    key: 'probeTsSegment_',\n    value: function probeTsSegment_(segmentInfo) {\n      var timeInfo = tsprobe(segmentInfo.bytes, this.inspectCache_);\n      var segmentStartTime = void 0;\n      var segmentEndTime = void 0;\n\n      if (!timeInfo) {\n        return null;\n      }\n\n      if (timeInfo.video && timeInfo.video.length === 2) {\n        this.inspectCache_ = timeInfo.video[1].dts;\n        segmentStartTime = timeInfo.video[0].dtsTime;\n        segmentEndTime = timeInfo.video[1].dtsTime;\n      } else if (timeInfo.audio && timeInfo.audio.length === 2) {\n        this.inspectCache_ = timeInfo.audio[1].dts;\n        segmentStartTime = timeInfo.audio[0].dtsTime;\n        segmentEndTime = timeInfo.audio[1].dtsTime;\n      }\n\n      var probedInfo = {\n        start: segmentStartTime,\n        end: segmentEndTime,\n        containsVideo: timeInfo.video && timeInfo.video.length === 2,\n        containsAudio: timeInfo.audio && timeInfo.audio.length === 2\n      };\n      return probedInfo;\n    }\n  }, {\n    key: 'timestampOffsetForTimeline',\n    value: function timestampOffsetForTimeline(timeline) {\n      if (typeof this.timelines[timeline] === 'undefined') {\n        return null;\n      }\n\n      return this.timelines[timeline].time;\n    }\n  }, {\n    key: 'mappingForTimeline',\n    value: function mappingForTimeline(timeline) {\n      if (typeof this.timelines[timeline] === 'undefined') {\n        return null;\n      }\n\n      return this.timelines[timeline].mapping;\n    }\n    /**\n     * Use the \"media time\" for a segment to generate a mapping to \"display time\" and\n     * save that display time to the segment.\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo\n     *        The current active request information\n     * @param {object} timingInfo\n     *        The start and end time of the current segment in \"media time\"\n     * @returns {Boolean}\n     *          Returns false if segment time mapping could not be calculated\n     */\n\n  }, {\n    key: 'calculateSegmentTimeMapping_',\n    value: function calculateSegmentTimeMapping_(segmentInfo, timingInfo) {\n      var segment = segmentInfo.segment;\n      var mappingObj = this.timelines[segmentInfo.timeline];\n\n      if (segmentInfo.timestampOffset !== null) {\n        mappingObj = {\n          time: segmentInfo.startOfSegment,\n          mapping: segmentInfo.startOfSegment - timingInfo.start\n        };\n        this.timelines[segmentInfo.timeline] = mappingObj;\n        this.trigger('timestampoffset');\n        this.logger_('time mapping for timeline ' + segmentInfo.timeline + ': ' + ('[time: ' + mappingObj.time + '] [mapping: ' + mappingObj.mapping + ']'));\n        segment.start = segmentInfo.startOfSegment;\n        segment.end = timingInfo.end + mappingObj.mapping;\n      } else if (mappingObj) {\n        segment.start = timingInfo.start + mappingObj.mapping;\n        segment.end = timingInfo.end + mappingObj.mapping;\n      } else {\n        return false;\n      }\n\n      return true;\n    }\n    /**\n     * Each time we have discontinuity in the playlist, attempt to calculate the location\n     * in display of the start of the discontinuity and save that. We also save an accuracy\n     * value so that we save values with the most accuracy (closest to 0.)\n     *\n     * @private\n     * @param {SegmentInfo} segmentInfo - The current active request information\n     */\n\n  }, {\n    key: 'saveDiscontinuitySyncInfo_',\n    value: function saveDiscontinuitySyncInfo_(segmentInfo) {\n      var playlist = segmentInfo.playlist;\n      var segment = segmentInfo.segment; // If the current segment is a discontinuity then we know exactly where\n      // the start of the range and it's accuracy is 0 (greater accuracy values\n      // mean more approximation)\n\n      if (segment.discontinuity) {\n        this.discontinuities[segment.timeline] = {\n          time: segment.start,\n          accuracy: 0\n        };\n      } else if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n        // Search for future discontinuities that we can provide better timing\n        // information for and save that information for sync purposes\n        for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n          var segmentIndex = playlist.discontinuityStarts[i];\n          var discontinuity = playlist.discontinuitySequence + i + 1;\n          var mediaIndexDiff = segmentIndex - segmentInfo.mediaIndex;\n          var accuracy = Math.abs(mediaIndexDiff);\n\n          if (!this.discontinuities[discontinuity] || this.discontinuities[discontinuity].accuracy > accuracy) {\n            var time = void 0;\n\n            if (mediaIndexDiff < 0) {\n              time = segment.start - sumDurations(playlist, segmentInfo.mediaIndex, segmentIndex);\n            } else {\n              time = segment.end + sumDurations(playlist, segmentInfo.mediaIndex + 1, segmentIndex);\n            }\n\n            this.discontinuities[discontinuity] = {\n              time: time,\n              accuracy: accuracy\n            };\n          }\n        }\n      }\n    }\n  }]);\n  return SyncController;\n}(videojs$1.EventTarget);\n\nvar Decrypter$1 = new shimWorker(\"./decrypter-worker.worker.js\", function (window, document$$1) {\n  var self = this;\n\n  var decrypterWorker = function () {\n    /*\n     * pkcs7.pad\n     * https://github.com/brightcove/pkcs7\n     *\n     * Copyright (c) 2014 Brightcove\n     * Licensed under the apache2 license.\n     */\n\n    /**\n     * Returns the subarray of a Uint8Array without PKCS#7 padding.\n     * @param padded {Uint8Array} unencrypted bytes that have been padded\n     * @return {Uint8Array} the unpadded bytes\n     * @see http://tools.ietf.org/html/rfc5652\n     */\n    function unpad(padded) {\n      return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n    }\n\n    var classCallCheck = function classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    };\n\n    var createClass = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n\n    var inherits = function inherits(subClass, superClass) {\n      if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n      }\n\n      subClass.prototype = Object.create(superClass && superClass.prototype, {\n        constructor: {\n          value: subClass,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    };\n\n    var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n      if (!self) {\n        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      }\n\n      return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    };\n    /**\n     * @file aes.js\n     *\n     * This file contains an adaptation of the AES decryption algorithm\n     * from the Standford Javascript Cryptography Library. That work is\n     * covered by the following copyright and permissions notice:\n     *\n     * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n     * All rights reserved.\n     *\n     * Redistribution and use in source and binary forms, with or without\n     * modification, are permitted provided that the following conditions are\n     * met:\n     *\n     * 1. Redistributions of source code must retain the above copyright\n     *    notice, this list of conditions and the following disclaimer.\n     *\n     * 2. Redistributions in binary form must reproduce the above\n     *    copyright notice, this list of conditions and the following\n     *    disclaimer in the documentation and/or other materials provided\n     *    with the distribution.\n     *\n     * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n     * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n     * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n     * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n     * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n     * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n     * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n     * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n     * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n     * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n     * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n     *\n     * The views and conclusions contained in the software and documentation\n     * are those of the authors and should not be interpreted as representing\n     * official policies, either expressed or implied, of the authors.\n     */\n\n    /**\n     * Expand the S-box tables.\n     *\n     * @private\n     */\n\n\n    var precompute = function precompute() {\n      var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n      var encTable = tables[0];\n      var decTable = tables[1];\n      var sbox = encTable[4];\n      var sboxInv = decTable[4];\n      var i = void 0;\n      var x = void 0;\n      var xInv = void 0;\n      var d = [];\n      var th = [];\n      var x2 = void 0;\n      var x4 = void 0;\n      var x8 = void 0;\n      var s = void 0;\n      var tEnc = void 0;\n      var tDec = void 0; // Compute double and third tables\n\n      for (i = 0; i < 256; i++) {\n        th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n      }\n\n      for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n        // Compute sbox\n        s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n        s = s >> 8 ^ s & 255 ^ 99;\n        sbox[x] = s;\n        sboxInv[s] = x; // Compute MixColumns\n\n        x8 = d[x4 = d[x2 = d[x]]];\n        tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n        tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n        for (i = 0; i < 4; i++) {\n          encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n          decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n        }\n      } // Compactify. Considerable speedup on Firefox.\n\n\n      for (i = 0; i < 5; i++) {\n        encTable[i] = encTable[i].slice(0);\n        decTable[i] = decTable[i].slice(0);\n      }\n\n      return tables;\n    };\n\n    var aesTables = null;\n    /**\n     * Schedule out an AES key for both encryption and decryption. This\n     * is a low-level class. Use a cipher mode to do bulk encryption.\n     *\n     * @class AES\n     * @param key {Array} The key as an array of 4, 6 or 8 words.\n     */\n\n    var AES = function () {\n      function AES(key) {\n        classCallCheck(this, AES);\n        /**\n         * The expanded S-box and inverse S-box tables. These will be computed\n         * on the client so that we don't have to send them down the wire.\n         *\n         * There are two tables, _tables[0] is for encryption and\n         * _tables[1] is for decryption.\n         *\n         * The first 4 sub-tables are the expanded S-box with MixColumns. The\n         * last (_tables[01][4]) is the S-box itself.\n         *\n         * @private\n         */\n        // if we have yet to precompute the S-box tables\n        // do so now\n\n        if (!aesTables) {\n          aesTables = precompute();\n        } // then make a copy of that object for use\n\n\n        this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n        var i = void 0;\n        var j = void 0;\n        var tmp = void 0;\n        var encKey = void 0;\n        var decKey = void 0;\n        var sbox = this._tables[0][4];\n        var decTable = this._tables[1];\n        var keyLen = key.length;\n        var rcon = 1;\n\n        if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n          throw new Error('Invalid aes key size');\n        }\n\n        encKey = key.slice(0);\n        decKey = [];\n        this._key = [encKey, decKey]; // schedule encryption keys\n\n        for (i = keyLen; i < 4 * keyLen + 28; i++) {\n          tmp = encKey[i - 1]; // apply sbox\n\n          if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n            tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n            if (i % keyLen === 0) {\n              tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n              rcon = rcon << 1 ^ (rcon >> 7) * 283;\n            }\n          }\n\n          encKey[i] = encKey[i - keyLen] ^ tmp;\n        } // schedule decryption keys\n\n\n        for (j = 0; i; j++, i--) {\n          tmp = encKey[j & 3 ? i : i - 4];\n\n          if (i <= 4 || j < 4) {\n            decKey[j] = tmp;\n          } else {\n            decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n          }\n        }\n      }\n      /**\n       * Decrypt 16 bytes, specified as four 32-bit words.\n       *\n       * @param {Number} encrypted0 the first word to decrypt\n       * @param {Number} encrypted1 the second word to decrypt\n       * @param {Number} encrypted2 the third word to decrypt\n       * @param {Number} encrypted3 the fourth word to decrypt\n       * @param {Int32Array} out the array to write the decrypted words\n       * into\n       * @param {Number} offset the offset into the output array to start\n       * writing results\n       * @return {Array} The plaintext.\n       */\n\n\n      AES.prototype.decrypt = function decrypt$$1(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n        var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n        var a = encrypted0 ^ key[0];\n        var b = encrypted3 ^ key[1];\n        var c = encrypted2 ^ key[2];\n        var d = encrypted1 ^ key[3];\n        var a2 = void 0;\n        var b2 = void 0;\n        var c2 = void 0; // key.length === 2 ?\n\n        var nInnerRounds = key.length / 4 - 2;\n        var i = void 0;\n        var kIndex = 4;\n        var table = this._tables[1]; // load up the tables\n\n        var table0 = table[0];\n        var table1 = table[1];\n        var table2 = table[2];\n        var table3 = table[3];\n        var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n        for (i = 0; i < nInnerRounds; i++) {\n          a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n          b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n          c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n          d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n          kIndex += 4;\n          a = a2;\n          b = b2;\n          c = c2;\n        } // Last round.\n\n\n        for (i = 0; i < 4; i++) {\n          out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n          a2 = a;\n          a = b;\n          b = c;\n          c = d;\n          d = a2;\n        }\n      };\n\n      return AES;\n    }();\n    /**\n     * @file stream.js\n     */\n\n    /**\n     * A lightweight readable stream implemention that handles event dispatching.\n     *\n     * @class Stream\n     */\n\n\n    var Stream = function () {\n      function Stream() {\n        classCallCheck(this, Stream);\n        this.listeners = {};\n      }\n      /**\n       * Add a listener for a specified event type.\n       *\n       * @param {String} type the event name\n       * @param {Function} listener the callback to be invoked when an event of\n       * the specified type occurs\n       */\n\n\n      Stream.prototype.on = function on(type, listener) {\n        if (!this.listeners[type]) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push(listener);\n      };\n      /**\n       * Remove a listener for a specified event type.\n       *\n       * @param {String} type the event name\n       * @param {Function} listener  a function previously registered for this\n       * type of event through `on`\n       * @return {Boolean} if we could turn it off or not\n       */\n\n\n      Stream.prototype.off = function off(type, listener) {\n        if (!this.listeners[type]) {\n          return false;\n        }\n\n        var index = this.listeners[type].indexOf(listener);\n        this.listeners[type].splice(index, 1);\n        return index > -1;\n      };\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       *\n       * @param {String} type the event name\n       */\n\n\n      Stream.prototype.trigger = function trigger(type) {\n        var callbacks = this.listeners[type];\n\n        if (!callbacks) {\n          return;\n        } // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n\n\n        if (arguments.length === 2) {\n          var length = callbacks.length;\n\n          for (var i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          var args = Array.prototype.slice.call(arguments, 1);\n          var _length = callbacks.length;\n\n          for (var _i = 0; _i < _length; ++_i) {\n            callbacks[_i].apply(this, args);\n          }\n        }\n      };\n      /**\n       * Destroys the stream and cleans up.\n       */\n\n\n      Stream.prototype.dispose = function dispose() {\n        this.listeners = {};\n      };\n      /**\n       * Forwards all `data` events on this stream to the destination stream. The\n       * destination stream should provide a method `push` to receive the data\n       * events as they arrive.\n       *\n       * @param {Stream} destination the stream that will receive all `data` events\n       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n       */\n\n\n      Stream.prototype.pipe = function pipe(destination) {\n        this.on('data', function (data) {\n          destination.push(data);\n        });\n      };\n\n      return Stream;\n    }();\n    /**\n     * @file async-stream.js\n     */\n\n    /**\n     * A wrapper around the Stream class to use setTiemout\n     * and run stream \"jobs\" Asynchronously\n     *\n     * @class AsyncStream\n     * @extends Stream\n     */\n\n\n    var AsyncStream$$1 = function (_Stream) {\n      inherits(AsyncStream$$1, _Stream);\n\n      function AsyncStream$$1() {\n        classCallCheck(this, AsyncStream$$1);\n\n        var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n        _this.jobs = [];\n        _this.delay = 1;\n        _this.timeout_ = null;\n        return _this;\n      }\n      /**\n       * process an async job\n       *\n       * @private\n       */\n\n\n      AsyncStream$$1.prototype.processJob_ = function processJob_() {\n        this.jobs.shift()();\n\n        if (this.jobs.length) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        } else {\n          this.timeout_ = null;\n        }\n      };\n      /**\n       * push a job into the stream\n       *\n       * @param {Function} job the job to push into the stream\n       */\n\n\n      AsyncStream$$1.prototype.push = function push(job) {\n        this.jobs.push(job);\n\n        if (!this.timeout_) {\n          this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n        }\n      };\n\n      return AsyncStream$$1;\n    }(Stream);\n    /**\n     * @file decrypter.js\n     *\n     * An asynchronous implementation of AES-128 CBC decryption with\n     * PKCS#7 padding.\n     */\n\n    /**\n     * Convert network-order (big-endian) bytes into their little-endian\n     * representation.\n     */\n\n\n    var ntoh = function ntoh(word) {\n      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n    };\n    /**\n     * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n     *\n     * @param {Uint8Array} encrypted the encrypted bytes\n     * @param {Uint32Array} key the bytes of the decryption key\n     * @param {Uint32Array} initVector the initialization vector (IV) to\n     * use for the first round of CBC.\n     * @return {Uint8Array} the decrypted bytes\n     *\n     * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n     * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n     * @see https://tools.ietf.org/html/rfc2315\n     */\n\n\n    var decrypt$$1 = function decrypt$$1(encrypted, key, initVector) {\n      // word-level access to the encrypted bytes\n      var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n      var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n      var decrypted = new Uint8Array(encrypted.byteLength);\n      var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n      // decrypted data\n\n      var init0 = void 0;\n      var init1 = void 0;\n      var init2 = void 0;\n      var init3 = void 0;\n      var encrypted0 = void 0;\n      var encrypted1 = void 0;\n      var encrypted2 = void 0;\n      var encrypted3 = void 0; // iteration variable\n\n      var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n      // passed-in reference and easier access\n\n      init0 = initVector[0];\n      init1 = initVector[1];\n      init2 = initVector[2];\n      init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n      // to each decrypted block\n\n      for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n        // convert big-endian (network order) words into little-endian\n        // (javascript order)\n        encrypted0 = ntoh(encrypted32[wordIx]);\n        encrypted1 = ntoh(encrypted32[wordIx + 1]);\n        encrypted2 = ntoh(encrypted32[wordIx + 2]);\n        encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n        decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n        // plaintext\n\n        decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n        decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n        decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n        decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n        init0 = encrypted0;\n        init1 = encrypted1;\n        init2 = encrypted2;\n        init3 = encrypted3;\n      }\n\n      return decrypted;\n    };\n    /**\n     * The `Decrypter` class that manages decryption of AES\n     * data through `AsyncStream` objects and the `decrypt`\n     * function\n     *\n     * @param {Uint8Array} encrypted the encrypted bytes\n     * @param {Uint32Array} key the bytes of the decryption key\n     * @param {Uint32Array} initVector the initialization vector (IV) to\n     * @param {Function} done the function to run when done\n     * @class Decrypter\n     */\n\n\n    var Decrypter$$1 = function () {\n      function Decrypter$$1(encrypted, key, initVector, done) {\n        classCallCheck(this, Decrypter$$1);\n        var step = Decrypter$$1.STEP;\n        var encrypted32 = new Int32Array(encrypted.buffer);\n        var decrypted = new Uint8Array(encrypted.byteLength);\n        var i = 0;\n        this.asyncStream_ = new AsyncStream$$1(); // split up the encryption job and do the individual chunks asynchronously\n\n        this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n        for (i = step; i < encrypted32.length; i += step) {\n          initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n          this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n        } // invoke the done() callback when everything is finished\n\n\n        this.asyncStream_.push(function () {\n          // remove pkcs#7 padding from the decrypted bytes\n          done(null, unpad(decrypted));\n        });\n      }\n      /**\n       * a getter for step the maximum number of bytes to process at one time\n       *\n       * @return {Number} the value of step 32000\n       */\n\n      /**\n       * @private\n       */\n\n\n      Decrypter$$1.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n        return function () {\n          var bytes = decrypt$$1(encrypted, key, initVector);\n          decrypted.set(bytes, encrypted.byteOffset);\n        };\n      };\n\n      createClass(Decrypter$$1, null, [{\n        key: 'STEP',\n        get: function get$$1() {\n          // 4 * 8000;\n          return 32000;\n        }\n      }]);\n      return Decrypter$$1;\n    }();\n    /**\n     * @file bin-utils.js\n     */\n\n    /**\n     * Creates an object for sending to a web worker modifying properties that are TypedArrays\n     * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n     *\n     * @param {Object} message\n     *        Object of properties and values to send to the web worker\n     * @return {Object}\n     *         Modified message with TypedArray values expanded\n     * @function createTransferableMessage\n     */\n\n\n    var createTransferableMessage = function createTransferableMessage(message) {\n      var transferable = {};\n      Object.keys(message).forEach(function (key) {\n        var value = message[key];\n\n        if (ArrayBuffer.isView(value)) {\n          transferable[key] = {\n            bytes: value.buffer,\n            byteOffset: value.byteOffset,\n            byteLength: value.byteLength\n          };\n        } else {\n          transferable[key] = value;\n        }\n      });\n      return transferable;\n    };\n    /**\n     * Our web worker interface so that things can talk to aes-decrypter\n     * that will be running in a web worker. the scope is passed to this by\n     * webworkify.\n     *\n     * @param {Object} self\n     *        the scope for the web worker\n     */\n\n\n    var DecrypterWorker = function DecrypterWorker(self) {\n      self.onmessage = function (event) {\n        var data = event.data;\n        var encrypted = new Uint8Array(data.encrypted.bytes, data.encrypted.byteOffset, data.encrypted.byteLength);\n        var key = new Uint32Array(data.key.bytes, data.key.byteOffset, data.key.byteLength / 4);\n        var iv = new Uint32Array(data.iv.bytes, data.iv.byteOffset, data.iv.byteLength / 4);\n        /* eslint-disable no-new, handle-callback-err */\n\n        new Decrypter$$1(encrypted, key, iv, function (err, bytes) {\n          self.postMessage(createTransferableMessage({\n            source: data.source,\n            decrypted: bytes\n          }), [bytes.buffer]);\n        });\n        /* eslint-enable */\n      };\n    };\n\n    var decrypterWorker = new DecrypterWorker(self);\n    return decrypterWorker;\n  }();\n});\n/**\n * Convert the properties of an HLS track into an audioTrackKind.\n *\n * @private\n */\n\nvar audioTrackKind_ = function audioTrackKind_(properties) {\n  var kind = properties[\"default\"] ? 'main' : 'alternative';\n\n  if (properties.characteristics && properties.characteristics.indexOf('public.accessibility.describes-video') >= 0) {\n    kind = 'main-desc';\n  }\n\n  return kind;\n};\n/**\n * Pause provided segment loader and playlist loader if active\n *\n * @param {SegmentLoader} segmentLoader\n *        SegmentLoader to pause\n * @param {Object} mediaType\n *        Active media type\n * @function stopLoaders\n */\n\n\nvar stopLoaders = function stopLoaders(segmentLoader, mediaType) {\n  segmentLoader.abort();\n  segmentLoader.pause();\n\n  if (mediaType && mediaType.activePlaylistLoader) {\n    mediaType.activePlaylistLoader.pause();\n    mediaType.activePlaylistLoader = null;\n  }\n};\n/**\n * Start loading provided segment loader and playlist loader\n *\n * @param {PlaylistLoader} playlistLoader\n *        PlaylistLoader to start loading\n * @param {Object} mediaType\n *        Active media type\n * @function startLoaders\n */\n\n\nvar startLoaders = function startLoaders(playlistLoader, mediaType) {\n  // Segment loader will be started after `loadedmetadata` or `loadedplaylist` from the\n  // playlist loader\n  mediaType.activePlaylistLoader = playlistLoader;\n  playlistLoader.load();\n};\n/**\n * Returns a function to be called when the media group changes. It performs a\n * non-destructive (preserve the buffer) resync of the SegmentLoader. This is because a\n * change of group is merely a rendition switch of the same content at another encoding,\n * rather than a change of content, such as switching audio from English to Spanish.\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Handler for a non-destructive resync of SegmentLoader when the active media\n *         group changes.\n * @function onGroupChanged\n */\n\n\nvar onGroupChanged = function onGroupChanged(type, settings) {\n  return function () {\n    var _settings$segmentLoad = settings.segmentLoaders,\n        segmentLoader = _settings$segmentLoad[type],\n        mainSegmentLoader = _settings$segmentLoad.main,\n        mediaType = settings.mediaTypes[type];\n    var activeTrack = mediaType.activeTrack();\n    var activeGroup = mediaType.activeGroup(activeTrack);\n    var previousActiveLoader = mediaType.activePlaylistLoader;\n    stopLoaders(segmentLoader, mediaType);\n\n    if (!activeGroup) {\n      // there is no group active\n      return;\n    }\n\n    if (!activeGroup.playlistLoader) {\n      if (previousActiveLoader) {\n        // The previous group had a playlist loader but the new active group does not\n        // this means we are switching from demuxed to muxed audio. In this case we want to\n        // do a destructive reset of the main segment loader and not restart the audio\n        // loaders.\n        mainSegmentLoader.resetEverything();\n      }\n\n      return;\n    } // Non-destructive resync\n\n\n    segmentLoader.resyncLoader();\n    startLoaders(activeGroup.playlistLoader, mediaType);\n  };\n};\n/**\n * Returns a function to be called when the media track changes. It performs a\n * destructive reset of the SegmentLoader to ensure we start loading as close to\n * currentTime as possible.\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Handler for a destructive reset of SegmentLoader when the active media\n *         track changes.\n * @function onTrackChanged\n */\n\n\nvar onTrackChanged = function onTrackChanged(type, settings) {\n  return function () {\n    var _settings$segmentLoad2 = settings.segmentLoaders,\n        segmentLoader = _settings$segmentLoad2[type],\n        mainSegmentLoader = _settings$segmentLoad2.main,\n        mediaType = settings.mediaTypes[type];\n    var activeTrack = mediaType.activeTrack();\n    var activeGroup = mediaType.activeGroup(activeTrack);\n    var previousActiveLoader = mediaType.activePlaylistLoader;\n    stopLoaders(segmentLoader, mediaType);\n\n    if (!activeGroup) {\n      // there is no group active so we do not want to restart loaders\n      return;\n    }\n\n    if (!activeGroup.playlistLoader) {\n      // when switching from demuxed audio/video to muxed audio/video (noted by no playlist\n      // loader for the audio group), we want to do a destructive reset of the main segment\n      // loader and not restart the audio loaders\n      mainSegmentLoader.resetEverything();\n      return;\n    }\n\n    if (previousActiveLoader === activeGroup.playlistLoader) {\n      // Nothing has actually changed. This can happen because track change events can fire\n      // multiple times for a \"single\" change. One for enabling the new active track, and\n      // one for disabling the track that was active\n      startLoaders(activeGroup.playlistLoader, mediaType);\n      return;\n    }\n\n    if (segmentLoader.track) {\n      // For WebVTT, set the new text track in the segmentloader\n      segmentLoader.track(activeTrack);\n    } // destructive reset\n\n\n    segmentLoader.resetEverything();\n    startLoaders(activeGroup.playlistLoader, mediaType);\n  };\n};\n\nvar onError = {\n  /**\n   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n   * an error.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Error handler. Logs warning (or error if the playlist is blacklisted) to\n   *         console and switches back to default audio track.\n   * @function onError.AUDIO\n   */\n  AUDIO: function AUDIO(type, settings) {\n    return function () {\n      var segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type],\n          blacklistCurrentPlaylist = settings.blacklistCurrentPlaylist;\n      stopLoaders(segmentLoader, mediaType); // switch back to default audio track\n\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup();\n      var id = (activeGroup.filter(function (group) {\n        return group[\"default\"];\n      })[0] || activeGroup[0]).id;\n      var defaultTrack = mediaType.tracks[id];\n\n      if (activeTrack === defaultTrack) {\n        // Default track encountered an error. All we can do now is blacklist the current\n        // rendition and hope another will switch audio groups\n        blacklistCurrentPlaylist({\n          message: 'Problem encountered loading the default audio track.'\n        });\n        return;\n      }\n\n      videojs$1.log.warn('Problem encountered loading the alternate audio track.' + 'Switching back to default.');\n\n      for (var trackId in mediaType.tracks) {\n        mediaType.tracks[trackId].enabled = mediaType.tracks[trackId] === defaultTrack;\n      }\n\n      mediaType.onTrackChanged();\n    };\n  },\n\n  /**\n   * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n   * an error.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Error handler. Logs warning to console and disables the active subtitle track\n   * @function onError.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, settings) {\n    return function () {\n      var segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type];\n      videojs$1.log.warn('Problem encountered loading the subtitle track.' + 'Disabling subtitle track.');\n      stopLoaders(segmentLoader, mediaType);\n      var track = mediaType.activeTrack();\n\n      if (track) {\n        track.mode = 'disabled';\n      }\n\n      mediaType.onTrackChanged();\n    };\n  }\n};\nvar setupListeners = {\n  /**\n   * Setup event listeners for audio playlist loader\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {PlaylistLoader|null} playlistLoader\n   *        PlaylistLoader to register listeners on\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function setupListeners.AUDIO\n   */\n  AUDIO: function AUDIO(type, playlistLoader, settings) {\n    if (!playlistLoader) {\n      // no playlist loader means audio will be muxed with the video\n      return;\n    }\n\n    var tech = settings.tech,\n        requestOptions = settings.requestOptions,\n        segmentLoader = settings.segmentLoaders[type];\n    playlistLoader.on('loadedmetadata', function () {\n      var media = playlistLoader.media();\n      segmentLoader.playlist(media, requestOptions); // if the video is already playing, or if this isn't a live video and preload\n      // permits, start downloading segments\n\n      if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('loadedplaylist', function () {\n      segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n      if (!tech.paused()) {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup event listeners for subtitle playlist loader\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {PlaylistLoader|null} playlistLoader\n   *        PlaylistLoader to register listeners on\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function setupListeners.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, playlistLoader, settings) {\n    var tech = settings.tech,\n        requestOptions = settings.requestOptions,\n        segmentLoader = settings.segmentLoaders[type],\n        mediaType = settings.mediaTypes[type];\n    playlistLoader.on('loadedmetadata', function () {\n      var media = playlistLoader.media();\n      segmentLoader.playlist(media, requestOptions);\n      segmentLoader.track(mediaType.activeTrack()); // if the video is already playing, or if this isn't a live video and preload\n      // permits, start downloading segments\n\n      if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('loadedplaylist', function () {\n      segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n      if (!tech.paused()) {\n        segmentLoader.load();\n      }\n    });\n    playlistLoader.on('error', onError[type](type, settings));\n  }\n};\nvar initialize = {\n  /**\n   * Setup PlaylistLoaders and AudioTracks for the audio groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize.AUDIO\n   */\n  'AUDIO': function AUDIO(type, settings) {\n    var hls = settings.hls,\n        sourceType = settings.sourceType,\n        segmentLoader = settings.segmentLoaders[type],\n        requestOptions = settings.requestOptions,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$ = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$.groups,\n        tracks = _settings$mediaTypes$.tracks,\n        masterPlaylistLoader = settings.masterPlaylistLoader; // force a default if we have none\n\n    if (!mediaGroups[type] || Object.keys(mediaGroups[type]).length === 0) {\n      mediaGroups[type] = {\n        main: {\n          \"default\": {\n            \"default\": true\n          }\n        }\n      };\n    }\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      } // List of playlists that have an AUDIO attribute value matching the current\n      // group ID\n\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        var properties = mediaGroups[type][groupId][variantLabel];\n        var playlistLoader = void 0;\n\n        if (properties.resolvedUri) {\n          playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n        } else if (properties.playlists && sourceType === 'dash') {\n          playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n        } else {\n          // no resolvedUri means the audio is muxed with the video when using this\n          // audio track\n          playlistLoader = null;\n        }\n\n        properties = videojs$1.mergeOptions({\n          id: variantLabel,\n          playlistLoader: playlistLoader\n        }, properties);\n        setupListeners[type](type, properties.playlistLoader, settings);\n        groups[groupId].push(properties);\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = new videojs$1.AudioTrack({\n            id: variantLabel,\n            kind: audioTrackKind_(properties),\n            enabled: false,\n            language: properties.language,\n            \"default\": properties[\"default\"],\n            label: variantLabel\n          });\n          tracks[variantLabel] = track;\n        }\n      }\n    } // setup single error event handler for the segment loader\n\n\n    segmentLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup PlaylistLoaders and TextTracks for the subtitle groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize.SUBTITLES\n   */\n  'SUBTITLES': function SUBTITLES(type, settings) {\n    var tech = settings.tech,\n        hls = settings.hls,\n        sourceType = settings.sourceType,\n        segmentLoader = settings.segmentLoaders[type],\n        requestOptions = settings.requestOptions,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$2 = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$2.groups,\n        tracks = _settings$mediaTypes$2.tracks,\n        masterPlaylistLoader = settings.masterPlaylistLoader;\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      }\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        if (mediaGroups[type][groupId][variantLabel].forced) {\n          // Subtitle playlists with the forced attribute are not selectable in Safari.\n          // According to Apple's HLS Authoring Specification:\n          //   If content has forced subtitles and regular subtitles in a given language,\n          //   the regular subtitles track in that language MUST contain both the forced\n          //   subtitles and the regular subtitles for that language.\n          // Because of this requirement and that Safari does not add forced subtitles,\n          // forced subtitles are skipped here to maintain consistent experience across\n          // all platforms\n          continue;\n        }\n\n        var properties = mediaGroups[type][groupId][variantLabel];\n        var playlistLoader = void 0;\n\n        if (sourceType === 'hls') {\n          playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n        } else if (sourceType === 'dash') {\n          playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n        }\n\n        properties = videojs$1.mergeOptions({\n          id: variantLabel,\n          playlistLoader: playlistLoader\n        }, properties);\n        setupListeners[type](type, properties.playlistLoader, settings);\n        groups[groupId].push(properties);\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = tech.addRemoteTextTrack({\n            id: variantLabel,\n            kind: 'subtitles',\n            \"default\": properties[\"default\"] && properties.autoselect,\n            language: properties.language,\n            label: variantLabel\n          }, false).track;\n          tracks[variantLabel] = track;\n        }\n      }\n    } // setup single error event handler for the segment loader\n\n\n    segmentLoader.on('error', onError[type](type, settings));\n  },\n\n  /**\n   * Setup TextTracks for the closed-caption groups\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @function initialize['CLOSED-CAPTIONS']\n   */\n  'CLOSED-CAPTIONS': function CLOSEDCAPTIONS(type, settings) {\n    var tech = settings.tech,\n        mediaGroups = settings.master.mediaGroups,\n        _settings$mediaTypes$3 = settings.mediaTypes[type],\n        groups = _settings$mediaTypes$3.groups,\n        tracks = _settings$mediaTypes$3.tracks;\n\n    for (var groupId in mediaGroups[type]) {\n      if (!groups[groupId]) {\n        groups[groupId] = [];\n      }\n\n      for (var variantLabel in mediaGroups[type][groupId]) {\n        var properties = mediaGroups[type][groupId][variantLabel]; // We only support CEA608 captions for now, so ignore anything that\n        // doesn't use a CCx INSTREAM-ID\n\n        if (!properties.instreamId.match(/CC\\d/)) {\n          continue;\n        } // No PlaylistLoader is required for Closed-Captions because the captions are\n        // embedded within the video stream\n\n\n        groups[groupId].push(videojs$1.mergeOptions({\n          id: variantLabel\n        }, properties));\n\n        if (typeof tracks[variantLabel] === 'undefined') {\n          var track = tech.addRemoteTextTrack({\n            id: properties.instreamId,\n            kind: 'captions',\n            \"default\": properties[\"default\"] && properties.autoselect,\n            language: properties.language,\n            label: variantLabel\n          }, false).track;\n          tracks[variantLabel] = track;\n        }\n      }\n    }\n  }\n};\n/**\n * Returns a function used to get the active group of the provided type\n *\n * @param {String} type\n *        MediaGroup type\n * @param {Object} settings\n *        Object containing required information for media groups\n * @return {Function}\n *         Function that returns the active media group for the provided type. Takes an\n *         optional parameter {TextTrack} track. If no track is provided, a list of all\n *         variants in the group, otherwise the variant corresponding to the provided\n *         track is returned.\n * @function activeGroup\n */\n\nvar activeGroup = function activeGroup(type, settings) {\n  return function (track) {\n    var masterPlaylistLoader = settings.masterPlaylistLoader,\n        groups = settings.mediaTypes[type].groups;\n    var media = masterPlaylistLoader.media();\n\n    if (!media) {\n      return null;\n    }\n\n    var variants = null;\n\n    if (media.attributes[type]) {\n      variants = groups[media.attributes[type]];\n    }\n\n    variants = variants || groups.main;\n\n    if (typeof track === 'undefined') {\n      return variants;\n    }\n\n    if (track === null) {\n      // An active track was specified so a corresponding group is expected. track === null\n      // means no track is currently active so there is no corresponding group\n      return null;\n    }\n\n    return variants.filter(function (props) {\n      return props.id === track.id;\n    })[0] || null;\n  };\n};\n\nvar activeTrack = {\n  /**\n   * Returns a function used to get the active track of type provided\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media track for the provided type. Returns\n   *         null if no track is active\n   * @function activeTrack.AUDIO\n   */\n  AUDIO: function AUDIO(type, settings) {\n    return function () {\n      var tracks = settings.mediaTypes[type].tracks;\n\n      for (var id in tracks) {\n        if (tracks[id].enabled) {\n          return tracks[id];\n        }\n      }\n\n      return null;\n    };\n  },\n\n  /**\n   * Returns a function used to get the active track of type provided\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media track for the provided type. Returns\n   *         null if no track is active\n   * @function activeTrack.SUBTITLES\n   */\n  SUBTITLES: function SUBTITLES(type, settings) {\n    return function () {\n      var tracks = settings.mediaTypes[type].tracks;\n\n      for (var id in tracks) {\n        if (tracks[id].mode === 'showing') {\n          return tracks[id];\n        }\n      }\n\n      return null;\n    };\n  }\n};\n/**\n * Setup PlaylistLoaders and Tracks for media groups (Audio, Subtitles,\n * Closed-Captions) specified in the master manifest.\n *\n * @param {Object} settings\n *        Object containing required information for setting up the media groups\n * @param {SegmentLoader} settings.segmentLoaders.AUDIO\n *        Audio segment loader\n * @param {SegmentLoader} settings.segmentLoaders.SUBTITLES\n *        Subtitle segment loader\n * @param {SegmentLoader} settings.segmentLoaders.main\n *        Main segment loader\n * @param {Tech} settings.tech\n *        The tech of the player\n * @param {Object} settings.requestOptions\n *        XHR request options used by the segment loaders\n * @param {PlaylistLoader} settings.masterPlaylistLoader\n *        PlaylistLoader for the master source\n * @param {HlsHandler} settings.hls\n *        HLS SourceHandler\n * @param {Object} settings.master\n *        The parsed master manifest\n * @param {Object} settings.mediaTypes\n *        Object to store the loaders, tracks, and utility methods for each media type\n * @param {Function} settings.blacklistCurrentPlaylist\n *        Blacklists the current rendition and forces a rendition switch.\n * @function setupMediaGroups\n */\n\nvar setupMediaGroups = function setupMediaGroups(settings) {\n  ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n    initialize[type](type, settings);\n  });\n  var mediaTypes = settings.mediaTypes,\n      masterPlaylistLoader = settings.masterPlaylistLoader,\n      tech = settings.tech,\n      hls = settings.hls; // setup active group and track getters and change event handlers\n\n  ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n    mediaTypes[type].activeGroup = activeGroup(type, settings);\n    mediaTypes[type].activeTrack = activeTrack[type](type, settings);\n    mediaTypes[type].onGroupChanged = onGroupChanged(type, settings);\n    mediaTypes[type].onTrackChanged = onTrackChanged(type, settings);\n  }); // DO NOT enable the default subtitle or caption track.\n  // DO enable the default audio track\n\n  var audioGroup = mediaTypes.AUDIO.activeGroup();\n  var groupId = (audioGroup.filter(function (group) {\n    return group[\"default\"];\n  })[0] || audioGroup[0]).id;\n  mediaTypes.AUDIO.tracks[groupId].enabled = true;\n  mediaTypes.AUDIO.onTrackChanged();\n  masterPlaylistLoader.on('mediachange', function () {\n    ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n      return mediaTypes[type].onGroupChanged();\n    });\n  }); // custom audio track change event handler for usage event\n\n  var onAudioTrackChanged = function onAudioTrackChanged() {\n    mediaTypes.AUDIO.onTrackChanged();\n    tech.trigger({\n      type: 'usage',\n      name: 'hls-audio-change'\n    });\n  };\n\n  tech.audioTracks().addEventListener('change', onAudioTrackChanged);\n  tech.remoteTextTracks().addEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n  hls.on('dispose', function () {\n    tech.audioTracks().removeEventListener('change', onAudioTrackChanged);\n    tech.remoteTextTracks().removeEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n  }); // clear existing audio tracks and add the ones we just created\n\n  tech.clearTracks('audio');\n\n  for (var id in mediaTypes.AUDIO.tracks) {\n    tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id]);\n  }\n};\n/**\n * Creates skeleton object used to store the loaders, tracks, and utility methods for each\n * media type\n *\n * @return {Object}\n *         Object to store the loaders, tracks, and utility methods for each media type\n * @function createMediaTypes\n */\n\n\nvar createMediaTypes = function createMediaTypes() {\n  var mediaTypes = {};\n  ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n    mediaTypes[type] = {\n      groups: {},\n      tracks: {},\n      activePlaylistLoader: null,\n      activeGroup: noop,\n      activeTrack: noop,\n      onGroupChanged: noop,\n      onTrackChanged: noop\n    };\n  });\n  return mediaTypes;\n};\n/**\n * @file master-playlist-controller.js\n */\n\n\nvar ABORT_EARLY_BLACKLIST_SECONDS = 60 * 2;\nvar Hls = void 0; // SegmentLoader stats that need to have each loader's\n// values summed to calculate the final value\n\nvar loaderStats = ['mediaRequests', 'mediaRequestsAborted', 'mediaRequestsTimedout', 'mediaRequestsErrored', 'mediaTransferDuration', 'mediaBytesTransferred'];\n\nvar sumLoaderStat = function sumLoaderStat(stat) {\n  return this.audioSegmentLoader_[stat] + this.mainSegmentLoader_[stat];\n};\n/**\n * the master playlist controller controller all interactons\n * between playlists and segmentloaders. At this time this mainly\n * involves a master playlist and a series of audio playlists\n * if they are available\n *\n * @class MasterPlaylistController\n * @extends videojs.EventTarget\n */\n\n\nvar MasterPlaylistController = function (_videojs$EventTarget) {\n  inherits(MasterPlaylistController, _videojs$EventTarget);\n\n  function MasterPlaylistController(options) {\n    classCallCheck(this, MasterPlaylistController);\n\n    var _this = possibleConstructorReturn(this, (MasterPlaylistController.__proto__ || Object.getPrototypeOf(MasterPlaylistController)).call(this));\n\n    var url = options.url,\n        handleManifestRedirects = options.handleManifestRedirects,\n        withCredentials = options.withCredentials,\n        tech = options.tech,\n        bandwidth = options.bandwidth,\n        externHls = options.externHls,\n        useCueTags = options.useCueTags,\n        blacklistDuration = options.blacklistDuration,\n        enableLowInitialPlaylist = options.enableLowInitialPlaylist,\n        sourceType = options.sourceType,\n        seekTo = options.seekTo,\n        cacheEncryptionKeys = options.cacheEncryptionKeys;\n\n    if (!url) {\n      throw new Error('A non-empty playlist URL is required');\n    }\n\n    Hls = externHls;\n    _this.withCredentials = withCredentials;\n    _this.tech_ = tech;\n    _this.hls_ = tech.hls;\n    _this.seekTo_ = seekTo;\n    _this.sourceType_ = sourceType;\n    _this.useCueTags_ = useCueTags;\n    _this.blacklistDuration = blacklistDuration;\n    _this.enableLowInitialPlaylist = enableLowInitialPlaylist;\n\n    if (_this.useCueTags_) {\n      _this.cueTagsTrack_ = _this.tech_.addTextTrack('metadata', 'ad-cues');\n      _this.cueTagsTrack_.inBandMetadataTrackDispatchType = '';\n    }\n\n    _this.requestOptions_ = {\n      withCredentials: withCredentials,\n      handleManifestRedirects: handleManifestRedirects,\n      timeout: null\n    };\n    _this.mediaTypes_ = createMediaTypes();\n    _this.mediaSource = new videojs$1.MediaSource(); // load the media source into the player\n\n    _this.mediaSource.addEventListener('sourceopen', _this.handleSourceOpen_.bind(_this));\n\n    _this.seekable_ = videojs$1.createTimeRanges();\n\n    _this.hasPlayed_ = function () {\n      return false;\n    };\n\n    _this.syncController_ = new SyncController(options);\n    _this.segmentMetadataTrack_ = tech.addRemoteTextTrack({\n      kind: 'metadata',\n      label: 'segment-metadata'\n    }, false).track;\n    _this.decrypter_ = new Decrypter$1();\n    _this.inbandTextTracks_ = {};\n    var segmentLoaderSettings = {\n      hls: _this.hls_,\n      mediaSource: _this.mediaSource,\n      currentTime: _this.tech_.currentTime.bind(_this.tech_),\n      seekable: function seekable$$1() {\n        return _this.seekable();\n      },\n      seeking: function seeking() {\n        return _this.tech_.seeking();\n      },\n      duration: function duration$$1() {\n        return _this.mediaSource.duration;\n      },\n      hasPlayed: function hasPlayed() {\n        return _this.hasPlayed_();\n      },\n      goalBufferLength: function goalBufferLength() {\n        return _this.goalBufferLength();\n      },\n      bandwidth: bandwidth,\n      syncController: _this.syncController_,\n      decrypter: _this.decrypter_,\n      sourceType: _this.sourceType_,\n      inbandTextTracks: _this.inbandTextTracks_,\n      cacheEncryptionKeys: cacheEncryptionKeys\n    };\n    _this.masterPlaylistLoader_ = _this.sourceType_ === 'dash' ? new DashPlaylistLoader(url, _this.hls_, _this.requestOptions_) : new PlaylistLoader(url, _this.hls_, _this.requestOptions_);\n\n    _this.setupMasterPlaylistLoaderListeners_(); // setup segment loaders\n    // combined audio/video or just video when alternate audio track is selected\n\n\n    _this.mainSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      segmentMetadataTrack: _this.segmentMetadataTrack_,\n      loaderType: 'main'\n    }), options); // alternate audio track\n\n    _this.audioSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      loaderType: 'audio'\n    }), options);\n    _this.subtitleSegmentLoader_ = new VTTSegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n      loaderType: 'vtt'\n    }), options);\n\n    _this.setupSegmentLoaderListeners_(); // Create SegmentLoader stat-getters\n\n\n    loaderStats.forEach(function (stat) {\n      _this[stat + '_'] = sumLoaderStat.bind(_this, stat);\n    });\n    _this.logger_ = logger('MPC');\n\n    _this.masterPlaylistLoader_.load();\n\n    return _this;\n  }\n  /**\n   * Register event handlers on the master playlist loader. A helper\n   * function for construction time.\n   *\n   * @private\n   */\n\n\n  createClass(MasterPlaylistController, [{\n    key: 'setupMasterPlaylistLoaderListeners_',\n    value: function setupMasterPlaylistLoaderListeners_() {\n      var _this2 = this;\n\n      this.masterPlaylistLoader_.on('loadedmetadata', function () {\n        var media = _this2.masterPlaylistLoader_.media();\n\n        var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n        // timeout the request.\n\n        if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n          _this2.requestOptions_.timeout = 0;\n        } else {\n          _this2.requestOptions_.timeout = requestTimeout;\n        } // if this isn't a live video and preload permits, start\n        // downloading segments\n\n\n        if (media.endList && _this2.tech_.preload() !== 'none') {\n          _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n          _this2.mainSegmentLoader_.load();\n        }\n\n        setupMediaGroups({\n          sourceType: _this2.sourceType_,\n          segmentLoaders: {\n            AUDIO: _this2.audioSegmentLoader_,\n            SUBTITLES: _this2.subtitleSegmentLoader_,\n            main: _this2.mainSegmentLoader_\n          },\n          tech: _this2.tech_,\n          requestOptions: _this2.requestOptions_,\n          masterPlaylistLoader: _this2.masterPlaylistLoader_,\n          hls: _this2.hls_,\n          master: _this2.master(),\n          mediaTypes: _this2.mediaTypes_,\n          blacklistCurrentPlaylist: _this2.blacklistCurrentPlaylist.bind(_this2)\n        });\n\n        _this2.triggerPresenceUsage_(_this2.master(), media);\n\n        try {\n          _this2.setupSourceBuffers_();\n        } catch (e) {\n          videojs$1.log.warn('Failed to create SourceBuffers', e);\n          return _this2.mediaSource.endOfStream('decode');\n        }\n\n        _this2.setupFirstPlay();\n\n        if (!_this2.mediaTypes_.AUDIO.activePlaylistLoader || _this2.mediaTypes_.AUDIO.activePlaylistLoader.media()) {\n          _this2.trigger('selectedinitialmedia');\n        } else {\n          // We must wait for the active audio playlist loader to\n          // finish setting up before triggering this event so the\n          // representations API and EME setup is correct\n          _this2.mediaTypes_.AUDIO.activePlaylistLoader.one('loadedmetadata', function () {\n            _this2.trigger('selectedinitialmedia');\n          });\n        }\n      });\n      this.masterPlaylistLoader_.on('loadedplaylist', function () {\n        var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n        if (!updatedPlaylist) {\n          // blacklist any variants that are not supported by the browser before selecting\n          // an initial media as the playlist selectors do not consider browser support\n          _this2.excludeUnsupportedVariants_();\n\n          var selectedMedia = void 0;\n\n          if (_this2.enableLowInitialPlaylist) {\n            selectedMedia = _this2.selectInitialPlaylist();\n          }\n\n          if (!selectedMedia) {\n            selectedMedia = _this2.selectPlaylist();\n          }\n\n          _this2.initialMedia_ = selectedMedia;\n\n          _this2.masterPlaylistLoader_.media(_this2.initialMedia_);\n\n          return;\n        }\n\n        if (_this2.useCueTags_) {\n          _this2.updateAdCues_(updatedPlaylist);\n        } // TODO: Create a new event on the PlaylistLoader that signals\n        // that the segments have changed in some way and use that to\n        // update the SegmentLoader instead of doing it twice here and\n        // on `mediachange`\n\n\n        _this2.mainSegmentLoader_.playlist(updatedPlaylist, _this2.requestOptions_);\n\n        _this2.updateDuration(); // If the player isn't paused, ensure that the segment loader is running,\n        // as it is possible that it was temporarily stopped while waiting for\n        // a playlist (e.g., in case the playlist errored and we re-requested it).\n\n\n        if (!_this2.tech_.paused()) {\n          _this2.mainSegmentLoader_.load();\n\n          if (_this2.audioSegmentLoader_) {\n            _this2.audioSegmentLoader_.load();\n          }\n        }\n\n        if (!updatedPlaylist.endList) {\n          var addSeekableRange = function addSeekableRange() {\n            var seekable$$1 = _this2.seekable();\n\n            if (seekable$$1.length !== 0) {\n              _this2.mediaSource.addSeekableRange_(seekable$$1.start(0), seekable$$1.end(0));\n            }\n          };\n\n          if (_this2.duration() !== Infinity) {\n            var onDurationchange = function onDurationchange() {\n              if (_this2.duration() === Infinity) {\n                addSeekableRange();\n              } else {\n                _this2.tech_.one('durationchange', onDurationchange);\n              }\n            };\n\n            _this2.tech_.one('durationchange', onDurationchange);\n          } else {\n            addSeekableRange();\n          }\n        }\n      });\n      this.masterPlaylistLoader_.on('error', function () {\n        _this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);\n      });\n      this.masterPlaylistLoader_.on('mediachanging', function () {\n        _this2.mainSegmentLoader_.abort();\n\n        _this2.mainSegmentLoader_.pause();\n      });\n      this.masterPlaylistLoader_.on('mediachange', function () {\n        var media = _this2.masterPlaylistLoader_.media();\n\n        var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n        // timeout the request.\n\n        if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n          _this2.requestOptions_.timeout = 0;\n        } else {\n          _this2.requestOptions_.timeout = requestTimeout;\n        } // TODO: Create a new event on the PlaylistLoader that signals\n        // that the segments have changed in some way and use that to\n        // update the SegmentLoader instead of doing it twice here and\n        // on `loadedplaylist`\n\n\n        _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n        _this2.mainSegmentLoader_.load();\n\n        _this2.tech_.trigger({\n          type: 'mediachange',\n          bubbles: true\n        });\n      });\n      this.masterPlaylistLoader_.on('playlistunchanged', function () {\n        var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n        var playlistOutdated = _this2.stuckAtPlaylistEnd_(updatedPlaylist);\n\n        if (playlistOutdated) {\n          // Playlist has stopped updating and we're stuck at its end. Try to\n          // blacklist it and switch to another playlist in the hope that that\n          // one is updating (and give the player a chance to re-adjust to the\n          // safe live point).\n          _this2.blacklistCurrentPlaylist({\n            message: 'Playlist no longer updating.'\n          }); // useful for monitoring QoS\n\n\n          _this2.tech_.trigger('playliststuck');\n        }\n      });\n      this.masterPlaylistLoader_.on('renditiondisabled', function () {\n        _this2.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-disabled'\n        });\n      });\n      this.masterPlaylistLoader_.on('renditionenabled', function () {\n        _this2.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-enabled'\n        });\n      });\n    }\n    /**\n     * A helper function for triggerring presence usage events once per source\n     *\n     * @private\n     */\n\n  }, {\n    key: 'triggerPresenceUsage_',\n    value: function triggerPresenceUsage_(master, media) {\n      var mediaGroups = master.mediaGroups || {};\n      var defaultDemuxed = true;\n      var audioGroupKeys = Object.keys(mediaGroups.AUDIO);\n\n      for (var mediaGroup in mediaGroups.AUDIO) {\n        for (var label in mediaGroups.AUDIO[mediaGroup]) {\n          var properties = mediaGroups.AUDIO[mediaGroup][label];\n\n          if (!properties.uri) {\n            defaultDemuxed = false;\n          }\n        }\n      }\n\n      if (defaultDemuxed) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-demuxed'\n        });\n      }\n\n      if (Object.keys(mediaGroups.SUBTITLES).length) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-webvtt'\n        });\n      }\n\n      if (Hls.Playlist.isAes(media)) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-aes'\n        });\n      }\n\n      if (Hls.Playlist.isFmp4(media)) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-fmp4'\n        });\n      }\n\n      if (audioGroupKeys.length && Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length > 1) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-alternate-audio'\n        });\n      }\n\n      if (this.useCueTags_) {\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-playlist-cue-tags'\n        });\n      }\n    }\n    /**\n     * Register event handlers on the segment loaders. A helper function\n     * for construction time.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'setupSegmentLoaderListeners_',\n    value: function setupSegmentLoaderListeners_() {\n      var _this3 = this;\n\n      this.mainSegmentLoader_.on('bandwidthupdate', function () {\n        var nextPlaylist = _this3.selectPlaylist();\n\n        var currentPlaylist = _this3.masterPlaylistLoader_.media();\n\n        var buffered = _this3.tech_.buffered();\n\n        var forwardBuffer = buffered.length ? buffered.end(buffered.length - 1) - _this3.tech_.currentTime() : 0;\n\n        var bufferLowWaterLine = _this3.bufferLowWaterLine(); // If the playlist is live, then we want to not take low water line into account.\n        // This is because in LIVE, the player plays 3 segments from the end of the\n        // playlist, and if `BUFFER_LOW_WATER_LINE` is greater than the duration availble\n        // in those segments, a viewer will never experience a rendition upswitch.\n\n\n        if (!currentPlaylist.endList || // For the same reason as LIVE, we ignore the low water line when the VOD\n        // duration is below the max potential low water line\n        _this3.duration() < Config.MAX_BUFFER_LOW_WATER_LINE || // we want to switch down to lower resolutions quickly to continue playback, but\n        nextPlaylist.attributes.BANDWIDTH < currentPlaylist.attributes.BANDWIDTH || // ensure we have some buffer before we switch up to prevent us running out of\n        // buffer while loading a higher rendition.\n        forwardBuffer >= bufferLowWaterLine) {\n          _this3.masterPlaylistLoader_.media(nextPlaylist);\n        }\n\n        _this3.tech_.trigger('bandwidthupdate');\n      });\n      this.mainSegmentLoader_.on('progress', function () {\n        _this3.trigger('progress');\n      });\n      this.mainSegmentLoader_.on('error', function () {\n        _this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());\n      });\n      this.mainSegmentLoader_.on('syncinfoupdate', function () {\n        _this3.onSyncInfoUpdate_();\n      });\n      this.mainSegmentLoader_.on('timestampoffset', function () {\n        _this3.tech_.trigger({\n          type: 'usage',\n          name: 'hls-timestamp-offset'\n        });\n      });\n      this.audioSegmentLoader_.on('syncinfoupdate', function () {\n        _this3.onSyncInfoUpdate_();\n      });\n      this.mainSegmentLoader_.on('ended', function () {\n        _this3.onEndOfStream();\n      });\n      this.mainSegmentLoader_.on('earlyabort', function () {\n        _this3.blacklistCurrentPlaylist({\n          message: 'Aborted early because there isn\\'t enough bandwidth to complete the ' + 'request without rebuffering.'\n        }, ABORT_EARLY_BLACKLIST_SECONDS);\n      });\n      this.mainSegmentLoader_.on('reseteverything', function () {\n        // If playing an MTS stream, a videojs.MediaSource is listening for\n        // hls-reset to reset caption parsing state in the transmuxer\n        _this3.tech_.trigger('hls-reset');\n      });\n      this.mainSegmentLoader_.on('segmenttimemapping', function (event) {\n        // If playing an MTS stream in html, a videojs.MediaSource is listening for\n        // hls-segment-time-mapping update its internal mapping of stream to display time\n        _this3.tech_.trigger({\n          type: 'hls-segment-time-mapping',\n          mapping: event.mapping\n        });\n      });\n      this.audioSegmentLoader_.on('ended', function () {\n        _this3.onEndOfStream();\n      });\n    }\n  }, {\n    key: 'mediaSecondsLoaded_',\n    value: function mediaSecondsLoaded_() {\n      return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded);\n    }\n    /**\n     * Call load on our SegmentLoaders\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      this.mainSegmentLoader_.load();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.load();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.load();\n      }\n    }\n    /**\n     * Re-tune playback quality level for the current player\n     * conditions without performing destructive actions, like\n     * removing already buffered content\n     *\n     * @private\n     */\n\n  }, {\n    key: 'smoothQualityChange_',\n    value: function smoothQualityChange_() {\n      var media = this.selectPlaylist();\n\n      if (media !== this.masterPlaylistLoader_.media()) {\n        this.masterPlaylistLoader_.media(media);\n        this.mainSegmentLoader_.resetLoader(); // don't need to reset audio as it is reset when media changes\n      }\n    }\n    /**\n     * Re-tune playback quality level for the current player\n     * conditions. This method will perform destructive actions like removing\n     * already buffered content in order to readjust the currently active\n     * playlist quickly. This is good for manual quality changes\n     *\n     * @private\n     */\n\n  }, {\n    key: 'fastQualityChange_',\n    value: function fastQualityChange_() {\n      var _this4 = this;\n\n      var media = this.selectPlaylist();\n\n      if (media === this.masterPlaylistLoader_.media()) {\n        return;\n      }\n\n      this.masterPlaylistLoader_.media(media); // Delete all buffered data to allow an immediate quality switch, then seek to give\n      // the browser a kick to remove any cached frames from the previous rendtion (.04 seconds\n      // ahead is roughly the minimum that will accomplish this across a variety of content\n      // in IE and Edge, but seeking in place is sufficient on all other browsers)\n      // Edge/IE bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14600375/\n      // Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=651904\n\n      this.mainSegmentLoader_.resetEverything(function () {\n        // Since this is not a typical seek, we avoid the seekTo method which can cause segments\n        // from the previously enabled rendition to load before the new playlist has finished loading\n        if (videojs$1.browser.IE_VERSION || videojs$1.browser.IS_EDGE) {\n          _this4.tech_.setCurrentTime(_this4.tech_.currentTime() + 0.04);\n        } else {\n          _this4.tech_.setCurrentTime(_this4.tech_.currentTime());\n        }\n      }); // don't need to reset audio as it is reset when media changes\n    }\n    /**\n     * Begin playback.\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      if (this.setupFirstPlay()) {\n        return;\n      }\n\n      if (this.tech_.ended()) {\n        this.seekTo_(0);\n      }\n\n      if (this.hasPlayed_()) {\n        this.load();\n      }\n\n      var seekable$$1 = this.tech_.seekable(); // if the viewer has paused and we fell out of the live window,\n      // seek forward to the live point\n\n      if (this.tech_.duration() === Infinity) {\n        if (this.tech_.currentTime() < seekable$$1.start(0)) {\n          return this.seekTo_(seekable$$1.end(seekable$$1.length - 1));\n        }\n      }\n    }\n    /**\n     * Seek to the latest media position if this is a live video and the\n     * player and video are loaded and initialized.\n     */\n\n  }, {\n    key: 'setupFirstPlay',\n    value: function setupFirstPlay() {\n      var _this5 = this;\n\n      var media = this.masterPlaylistLoader_.media(); // Check that everything is ready to begin buffering for the first call to play\n      //  If 1) there is no active media\n      //     2) the player is paused\n      //     3) the first play has already been setup\n      // then exit early\n\n      if (!media || this.tech_.paused() || this.hasPlayed_()) {\n        return false;\n      } // when the video is a live stream\n\n\n      if (!media.endList) {\n        var seekable$$1 = this.seekable();\n\n        if (!seekable$$1.length) {\n          // without a seekable range, the player cannot seek to begin buffering at the live\n          // point\n          return false;\n        }\n\n        if (videojs$1.browser.IE_VERSION && this.tech_.readyState() === 0) {\n          // IE11 throws an InvalidStateError if you try to set currentTime while the\n          // readyState is 0, so it must be delayed until the tech fires loadedmetadata.\n          this.tech_.one('loadedmetadata', function () {\n            _this5.trigger('firstplay');\n\n            _this5.seekTo_(seekable$$1.end(0));\n\n            _this5.hasPlayed_ = function () {\n              return true;\n            };\n          });\n          return false;\n        } // trigger firstplay to inform the source handler to ignore the next seek event\n\n\n        this.trigger('firstplay'); // seek to the live point\n\n        this.seekTo_(seekable$$1.end(0));\n      }\n\n      this.hasPlayed_ = function () {\n        return true;\n      }; // we can begin loading now that everything is ready\n\n\n      this.load();\n      return true;\n    }\n    /**\n     * handle the sourceopen event on the MediaSource\n     *\n     * @private\n     */\n\n  }, {\n    key: 'handleSourceOpen_',\n    value: function handleSourceOpen_() {\n      // Only attempt to create the source buffer if none already exist.\n      // handleSourceOpen is also called when we are \"re-opening\" a source buffer\n      // after `endOfStream` has been called (in response to a seek for instance)\n      try {\n        this.setupSourceBuffers_();\n      } catch (e) {\n        videojs$1.log.warn('Failed to create Source Buffers', e);\n        return this.mediaSource.endOfStream('decode');\n      } // if autoplay is enabled, begin playback. This is duplicative of\n      // code in video.js but is required because play() must be invoked\n      // *after* the media source has opened.\n\n\n      if (this.tech_.autoplay()) {\n        var playPromise = this.tech_.play(); // Catch/silence error when a pause interrupts a play request\n        // on browsers which return a promise\n\n        if (typeof playPromise !== 'undefined' && typeof playPromise.then === 'function') {\n          playPromise.then(null, function (e) {});\n        }\n      }\n\n      this.trigger('sourceopen');\n    }\n    /**\n     * Calls endOfStream on the media source when all active stream types have called\n     * endOfStream\n     *\n     * @param {string} streamType\n     *        Stream type of the segment loader that called endOfStream\n     * @private\n     */\n\n  }, {\n    key: 'onEndOfStream',\n    value: function onEndOfStream() {\n      var isEndOfStream = this.mainSegmentLoader_.ended_;\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        // if the audio playlist loader exists, then alternate audio is active\n        if (!this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo) {\n          // if we do not know if the main segment loader contains video yet or if we\n          // definitively know the main segment loader contains video, then we need to wait\n          // for both main and audio segment loaders to call endOfStream\n          isEndOfStream = isEndOfStream && this.audioSegmentLoader_.ended_;\n        } else {\n          // otherwise just rely on the audio loader\n          isEndOfStream = this.audioSegmentLoader_.ended_;\n        }\n      }\n\n      if (!isEndOfStream) {\n        return;\n      }\n\n      this.logger_('calling mediaSource.endOfStream()'); // on chrome calling endOfStream can sometimes cause an exception,\n      // even when the media source is in a valid state.\n\n      try {\n        this.mediaSource.endOfStream();\n      } catch (e) {\n        videojs$1.log.warn('Failed to call media source endOfStream', e);\n      }\n    }\n    /**\n     * Check if a playlist has stopped being updated\n     * @param {Object} playlist the media playlist object\n     * @return {boolean} whether the playlist has stopped being updated or not\n     */\n\n  }, {\n    key: 'stuckAtPlaylistEnd_',\n    value: function stuckAtPlaylistEnd_(playlist) {\n      var seekable$$1 = this.seekable();\n\n      if (!seekable$$1.length) {\n        // playlist doesn't have enough information to determine whether we are stuck\n        return false;\n      }\n\n      var expired = this.syncController_.getExpiredTime(playlist, this.mediaSource.duration);\n\n      if (expired === null) {\n        return false;\n      } // does not use the safe live end to calculate playlist end, since we\n      // don't want to say we are stuck while there is still content\n\n\n      var absolutePlaylistEnd = Hls.Playlist.playlistEnd(playlist, expired);\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n\n      if (!buffered.length) {\n        // return true if the playhead reached the absolute end of the playlist\n        return absolutePlaylistEnd - currentTime <= SAFE_TIME_DELTA;\n      }\n\n      var bufferedEnd = buffered.end(buffered.length - 1); // return true if there is too little buffer left and buffer has reached absolute\n      // end of playlist\n\n      return bufferedEnd - currentTime <= SAFE_TIME_DELTA && absolutePlaylistEnd - bufferedEnd <= SAFE_TIME_DELTA;\n    }\n    /**\n     * Blacklists a playlist when an error occurs for a set amount of time\n     * making it unavailable for selection by the rendition selection algorithm\n     * and then forces a new playlist (rendition) selection.\n     *\n     * @param {Object=} error an optional error that may include the playlist\n     * to blacklist\n     * @param {Number=} blacklistDuration an optional number of seconds to blacklist the\n     * playlist\n     */\n\n  }, {\n    key: 'blacklistCurrentPlaylist',\n    value: function blacklistCurrentPlaylist() {\n      var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var blacklistDuration = arguments[1];\n      var currentPlaylist = void 0;\n      var nextPlaylist = void 0; // If the `error` was generated by the playlist loader, it will contain\n      // the playlist we were trying to load (but failed) and that should be\n      // blacklisted instead of the currently selected playlist which is likely\n      // out-of-date in this scenario\n\n      currentPlaylist = error.playlist || this.masterPlaylistLoader_.media();\n      blacklistDuration = blacklistDuration || error.blacklistDuration || this.blacklistDuration; // If there is no current playlist, then an error occurred while we were\n      // trying to load the master OR while we were disposing of the tech\n\n      if (!currentPlaylist) {\n        this.error = error;\n\n        try {\n          return this.mediaSource.endOfStream('network');\n        } catch (e) {\n          return this.trigger('error');\n        }\n      }\n\n      var isFinalRendition = this.masterPlaylistLoader_.master.playlists.filter(isEnabled).length === 1;\n      var playlists = this.masterPlaylistLoader_.master.playlists;\n\n      if (playlists.length === 1) {\n        // Never blacklisting this playlist because it's the only playlist\n        videojs$1.log.warn('Problem encountered with the current ' + 'HLS playlist. Trying again since it is the only playlist.');\n        this.tech_.trigger('retryplaylist');\n        return this.masterPlaylistLoader_.load(isFinalRendition);\n      }\n\n      if (isFinalRendition) {\n        // Since we're on the final non-blacklisted playlist, and we're about to blacklist\n        // it, instead of erring the player or retrying this playlist, clear out the current\n        // blacklist. This allows other playlists to be attempted in case any have been\n        // fixed.\n        videojs$1.log.warn('Removing all playlists from the blacklist because the last ' + 'rendition is about to be blacklisted.');\n        playlists.forEach(function (playlist) {\n          if (playlist.excludeUntil !== Infinity) {\n            delete playlist.excludeUntil;\n          }\n        }); // Technically we are retrying a playlist, in that we are simply retrying a previous\n        // playlist. This is needed for users relying on the retryplaylist event to catch a\n        // case where the player might be stuck and looping through \"dead\" playlists.\n\n        this.tech_.trigger('retryplaylist');\n      } // Blacklist this playlist\n\n\n      currentPlaylist.excludeUntil = Date.now() + blacklistDuration * 1000;\n      this.tech_.trigger('blacklistplaylist');\n      this.tech_.trigger({\n        type: 'usage',\n        name: 'hls-rendition-blacklisted'\n      }); // Select a new playlist\n\n      nextPlaylist = this.selectPlaylist();\n      videojs$1.log.warn('Problem encountered with the current HLS playlist.' + (error.message ? ' ' + error.message : '') + ' Switching to another playlist.');\n      return this.masterPlaylistLoader_.media(nextPlaylist, isFinalRendition);\n    }\n    /**\n     * Pause all segment loaders\n     */\n\n  }, {\n    key: 'pauseLoading',\n    value: function pauseLoading() {\n      this.mainSegmentLoader_.pause();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.pause();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.pause();\n      }\n    }\n    /**\n     * set the current time on all segment loaders\n     *\n     * @param {TimeRange} currentTime the current time to set\n     * @return {TimeRange} the current time\n     */\n\n  }, {\n    key: 'setCurrentTime',\n    value: function setCurrentTime(currentTime) {\n      var buffered = findRange(this.tech_.buffered(), currentTime);\n\n      if (!(this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media())) {\n        // return immediately if the metadata is not ready yet\n        return 0;\n      } // it's clearly an edge-case but don't thrown an error if asked to\n      // seek within an empty playlist\n\n\n      if (!this.masterPlaylistLoader_.media().segments) {\n        return 0;\n      } // In flash playback, the segment loaders should be reset on every seek, even\n      // in buffer seeks. If the seek location is already buffered, continue buffering as\n      // usual\n      // TODO: redo this comment\n\n\n      if (buffered && buffered.length) {\n        return currentTime;\n      } // cancel outstanding requests so we begin buffering at the new\n      // location\n\n\n      this.mainSegmentLoader_.resetEverything();\n      this.mainSegmentLoader_.abort();\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        this.audioSegmentLoader_.resetEverything();\n        this.audioSegmentLoader_.abort();\n      }\n\n      if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n        this.subtitleSegmentLoader_.resetEverything();\n        this.subtitleSegmentLoader_.abort();\n      } // start segment loader loading in case they are paused\n\n\n      this.load();\n    }\n    /**\n     * get the current duration\n     *\n     * @return {TimeRange} the duration\n     */\n\n  }, {\n    key: 'duration',\n    value: function duration$$1() {\n      if (!this.masterPlaylistLoader_) {\n        return 0;\n      }\n\n      if (this.mediaSource) {\n        return this.mediaSource.duration;\n      }\n\n      return Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n    }\n    /**\n     * check the seekable range\n     *\n     * @return {TimeRange} the seekable range\n     */\n\n  }, {\n    key: 'seekable',\n    value: function seekable$$1() {\n      return this.seekable_;\n    }\n  }, {\n    key: 'onSyncInfoUpdate_',\n    value: function onSyncInfoUpdate_() {\n      var mainSeekable = void 0;\n      var audioSeekable = void 0;\n\n      if (!this.masterPlaylistLoader_) {\n        return;\n      }\n\n      var media = this.masterPlaylistLoader_.media();\n\n      if (!media) {\n        return;\n      }\n\n      var expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n      if (expired === null) {\n        // not enough information to update seekable\n        return;\n      }\n\n      mainSeekable = Hls.Playlist.seekable(media, expired);\n\n      if (mainSeekable.length === 0) {\n        return;\n      }\n\n      if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n        media = this.mediaTypes_.AUDIO.activePlaylistLoader.media();\n        expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n        if (expired === null) {\n          return;\n        }\n\n        audioSeekable = Hls.Playlist.seekable(media, expired);\n\n        if (audioSeekable.length === 0) {\n          return;\n        }\n      }\n\n      var oldEnd = void 0;\n      var oldStart = void 0;\n\n      if (this.seekable_ && this.seekable_.length) {\n        oldEnd = this.seekable_.end(0);\n        oldStart = this.seekable_.start(0);\n      }\n\n      if (!audioSeekable) {\n        // seekable has been calculated based on buffering video data so it\n        // can be returned directly\n        this.seekable_ = mainSeekable;\n      } else if (audioSeekable.start(0) > mainSeekable.end(0) || mainSeekable.start(0) > audioSeekable.end(0)) {\n        // seekables are pretty far off, rely on main\n        this.seekable_ = mainSeekable;\n      } else {\n        this.seekable_ = videojs$1.createTimeRanges([[audioSeekable.start(0) > mainSeekable.start(0) ? audioSeekable.start(0) : mainSeekable.start(0), audioSeekable.end(0) < mainSeekable.end(0) ? audioSeekable.end(0) : mainSeekable.end(0)]]);\n      } // seekable is the same as last time\n\n\n      if (this.seekable_ && this.seekable_.length) {\n        if (this.seekable_.end(0) === oldEnd && this.seekable_.start(0) === oldStart) {\n          return;\n        }\n      }\n\n      this.logger_('seekable updated [' + printableRange(this.seekable_) + ']');\n      this.tech_.trigger('seekablechanged');\n    }\n    /**\n     * Update the player duration\n     */\n\n  }, {\n    key: 'updateDuration',\n    value: function updateDuration() {\n      var _this6 = this;\n\n      var oldDuration = this.mediaSource.duration;\n      var newDuration = Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n      var buffered = this.tech_.buffered();\n\n      var setDuration = function setDuration() {\n        // on firefox setting the duration may sometimes cause an exception\n        // even if the media source is open and source buffers are not\n        // updating, something about the media source being in an invalid state.\n        _this6.logger_('Setting duration from ' + _this6.mediaSource.duration + ' => ' + newDuration);\n\n        try {\n          _this6.mediaSource.duration = newDuration;\n        } catch (e) {\n          videojs$1.log.warn('Failed to set media source duration', e);\n        }\n\n        _this6.tech_.trigger('durationchange');\n\n        _this6.mediaSource.removeEventListener('sourceopen', setDuration);\n      };\n\n      if (buffered.length > 0) {\n        newDuration = Math.max(newDuration, buffered.end(buffered.length - 1));\n      } // if the duration has changed, invalidate the cached value\n\n\n      if (oldDuration !== newDuration) {\n        // update the duration\n        if (this.mediaSource.readyState !== 'open') {\n          this.mediaSource.addEventListener('sourceopen', setDuration);\n        } else {\n          setDuration();\n        }\n      }\n    }\n    /**\n     * dispose of the MasterPlaylistController and everything\n     * that it controls\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this7 = this;\n\n      this.decrypter_.terminate();\n      this.masterPlaylistLoader_.dispose();\n      this.mainSegmentLoader_.dispose();\n      ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n        var groups = _this7.mediaTypes_[type].groups;\n\n        for (var id in groups) {\n          groups[id].forEach(function (group) {\n            if (group.playlistLoader) {\n              group.playlistLoader.dispose();\n            }\n          });\n        }\n      });\n      this.audioSegmentLoader_.dispose();\n      this.subtitleSegmentLoader_.dispose();\n    }\n    /**\n     * return the master playlist object if we have one\n     *\n     * @return {Object} the master playlist object that we parsed\n     */\n\n  }, {\n    key: 'master',\n    value: function master() {\n      return this.masterPlaylistLoader_.master;\n    }\n    /**\n     * return the currently selected playlist\n     *\n     * @return {Object} the currently selected playlist object that we parsed\n     */\n\n  }, {\n    key: 'media',\n    value: function media() {\n      // playlist loader will not return media if it has not been fully loaded\n      return this.masterPlaylistLoader_.media() || this.initialMedia_;\n    }\n    /**\n     * setup our internal source buffers on our segment Loaders\n     *\n     * @private\n     */\n\n  }, {\n    key: 'setupSourceBuffers_',\n    value: function setupSourceBuffers_() {\n      var media = this.masterPlaylistLoader_.media();\n      var mimeTypes = void 0; // wait until a media playlist is available and the Media Source is\n      // attached\n\n      if (!media || this.mediaSource.readyState !== 'open') {\n        return;\n      }\n\n      mimeTypes = mimeTypesForPlaylist(this.masterPlaylistLoader_.master, media);\n\n      if (mimeTypes.length < 1) {\n        this.error = 'No compatible SourceBuffer configuration for the variant stream:' + media.resolvedUri;\n        return this.mediaSource.endOfStream('decode');\n      }\n\n      this.configureLoaderMimeTypes_(mimeTypes); // exclude any incompatible variant streams from future playlist\n      // selection\n\n      this.excludeIncompatibleVariants_(media);\n    }\n  }, {\n    key: 'configureLoaderMimeTypes_',\n    value: function configureLoaderMimeTypes_(mimeTypes) {\n      // If the content is demuxed, we can't start appending segments to a source buffer\n      // until both source buffers are set up, or else the browser may not let us add the\n      // second source buffer (it will assume we are playing either audio only or video\n      // only).\n      var sourceBufferEmitter = // If there is more than one mime type\n      mimeTypes.length > 1 && // and the first mime type does not have muxed video and audio\n      mimeTypes[0].indexOf(',') === -1 && // and the two mime types are different (they can be the same in the case of audio\n      // only with alternate audio)\n      mimeTypes[0] !== mimeTypes[1] ? // then we want to wait on the second source buffer\n      new videojs$1.EventTarget() : // otherwise there is no need to wait as the content is either audio only,\n      // video only, or muxed content.\n      null;\n      this.mainSegmentLoader_.mimeType(mimeTypes[0], sourceBufferEmitter);\n\n      if (mimeTypes[1]) {\n        this.audioSegmentLoader_.mimeType(mimeTypes[1], sourceBufferEmitter);\n      }\n    }\n    /**\n     * Blacklists playlists with codecs that are unsupported by the browser.\n     */\n\n  }, {\n    key: 'excludeUnsupportedVariants_',\n    value: function excludeUnsupportedVariants_() {\n      this.master().playlists.forEach(function (variant) {\n        if (variant.attributes.CODECS && window$1.MediaSource && window$1.MediaSource.isTypeSupported && !window$1.MediaSource.isTypeSupported('video/mp4; codecs=\"' + mapLegacyAvcCodecs(variant.attributes.CODECS) + '\"')) {\n          variant.excludeUntil = Infinity;\n        }\n      });\n    }\n    /**\n     * Blacklist playlists that are known to be codec or\n     * stream-incompatible with the SourceBuffer configuration. For\n     * instance, Media Source Extensions would cause the video element to\n     * stall waiting for video data if you switched from a variant with\n     * video and audio to an audio-only one.\n     *\n     * @param {Object} media a media playlist compatible with the current\n     * set of SourceBuffers. Variants in the current master playlist that\n     * do not appear to have compatible codec or stream configurations\n     * will be excluded from the default playlist selection algorithm\n     * indefinitely.\n     * @private\n     */\n\n  }, {\n    key: 'excludeIncompatibleVariants_',\n    value: function excludeIncompatibleVariants_(media) {\n      var codecCount = 2;\n      var videoCodec = null;\n      var codecs = void 0;\n\n      if (media.attributes.CODECS) {\n        codecs = parseCodecs(media.attributes.CODECS);\n        videoCodec = codecs.videoCodec;\n        codecCount = codecs.codecCount;\n      }\n\n      this.master().playlists.forEach(function (variant) {\n        var variantCodecs = {\n          codecCount: 2,\n          videoCodec: null\n        };\n\n        if (variant.attributes.CODECS) {\n          variantCodecs = parseCodecs(variant.attributes.CODECS);\n        } // if the streams differ in the presence or absence of audio or\n        // video, they are incompatible\n\n\n        if (variantCodecs.codecCount !== codecCount) {\n          variant.excludeUntil = Infinity;\n        } // if h.264 is specified on the current playlist, some flavor of\n        // it must be specified on all compatible variants\n\n\n        if (variantCodecs.videoCodec !== videoCodec) {\n          variant.excludeUntil = Infinity;\n        }\n      });\n    }\n  }, {\n    key: 'updateAdCues_',\n    value: function updateAdCues_(media) {\n      var offset = 0;\n      var seekable$$1 = this.seekable();\n\n      if (seekable$$1.length) {\n        offset = seekable$$1.start(0);\n      }\n\n      updateAdCues(media, this.cueTagsTrack_, offset);\n    }\n    /**\n     * Calculates the desired forward buffer length based on current time\n     *\n     * @return {Number} Desired forward buffer length in seconds\n     */\n\n  }, {\n    key: 'goalBufferLength',\n    value: function goalBufferLength() {\n      var currentTime = this.tech_.currentTime();\n      var initial = Config.GOAL_BUFFER_LENGTH;\n      var rate = Config.GOAL_BUFFER_LENGTH_RATE;\n      var max = Math.max(initial, Config.MAX_GOAL_BUFFER_LENGTH);\n      return Math.min(initial + currentTime * rate, max);\n    }\n    /**\n     * Calculates the desired buffer low water line based on current time\n     *\n     * @return {Number} Desired buffer low water line in seconds\n     */\n\n  }, {\n    key: 'bufferLowWaterLine',\n    value: function bufferLowWaterLine() {\n      var currentTime = this.tech_.currentTime();\n      var initial = Config.BUFFER_LOW_WATER_LINE;\n      var rate = Config.BUFFER_LOW_WATER_LINE_RATE;\n      var max = Math.max(initial, Config.MAX_BUFFER_LOW_WATER_LINE);\n      return Math.min(initial + currentTime * rate, max);\n    }\n  }]);\n  return MasterPlaylistController;\n}(videojs$1.EventTarget);\n/**\n * Returns a function that acts as the Enable/disable playlist function.\n *\n * @param {PlaylistLoader} loader - The master playlist loader\n * @param {String} playlistUri - uri of the playlist\n * @param {Function} changePlaylistFn - A function to be called after a\n * playlist's enabled-state has been changed. Will NOT be called if a\n * playlist's enabled-state is unchanged\n * @param {Boolean=} enable - Value to set the playlist enabled-state to\n * or if undefined returns the current enabled-state for the playlist\n * @return {Function} Function for setting/getting enabled\n */\n\n\nvar enableFunction = function enableFunction(loader, playlistUri, changePlaylistFn) {\n  return function (enable) {\n    var playlist = loader.master.playlists[playlistUri];\n    var incompatible = isIncompatible(playlist);\n    var currentlyEnabled = isEnabled(playlist);\n\n    if (typeof enable === 'undefined') {\n      return currentlyEnabled;\n    }\n\n    if (enable) {\n      delete playlist.disabled;\n    } else {\n      playlist.disabled = true;\n    }\n\n    if (enable !== currentlyEnabled && !incompatible) {\n      // Ensure the outside world knows about our changes\n      changePlaylistFn();\n\n      if (enable) {\n        loader.trigger('renditionenabled');\n      } else {\n        loader.trigger('renditiondisabled');\n      }\n    }\n\n    return enable;\n  };\n};\n/**\n * The representation object encapsulates the publicly visible information\n * in a media playlist along with a setter/getter-type function (enabled)\n * for changing the enabled-state of a particular playlist entry\n *\n * @class Representation\n */\n\n\nvar Representation = function Representation(hlsHandler, playlist, id) {\n  classCallCheck(this, Representation);\n  var mpc = hlsHandler.masterPlaylistController_,\n      smoothQualityChange = hlsHandler.options_.smoothQualityChange; // Get a reference to a bound version of the quality change function\n\n  var changeType = smoothQualityChange ? 'smooth' : 'fast';\n  var qualityChangeFunction = mpc[changeType + 'QualityChange_'].bind(mpc); // some playlist attributes are optional\n\n  if (playlist.attributes.RESOLUTION) {\n    var resolution = playlist.attributes.RESOLUTION;\n    this.width = resolution.width;\n    this.height = resolution.height;\n  }\n\n  this.bandwidth = playlist.attributes.BANDWIDTH; // The id is simply the ordinality of the media playlist\n  // within the master playlist\n\n  this.id = id; // Partially-apply the enableFunction to create a playlist-\n  // specific variant\n\n  this.enabled = enableFunction(hlsHandler.playlists, playlist.uri, qualityChangeFunction);\n};\n/**\n * A mixin function that adds the `representations` api to an instance\n * of the HlsHandler class\n * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the\n * representation API into\n */\n\n\nvar renditionSelectionMixin = function renditionSelectionMixin(hlsHandler) {\n  var playlists = hlsHandler.playlists; // Add a single API-specific function to the HlsHandler instance\n\n  hlsHandler.representations = function () {\n    return playlists.master.playlists.filter(function (media) {\n      return !isIncompatible(media);\n    }).map(function (e, i) {\n      return new Representation(hlsHandler, e, e.uri);\n    });\n  };\n};\n/**\n * @file playback-watcher.js\n *\n * Playback starts, and now my watch begins. It shall not end until my death. I shall\n * take no wait, hold no uncleared timeouts, father no bad seeks. I shall wear no crowns\n * and win no glory. I shall live and die at my post. I am the corrector of the underflow.\n * I am the watcher of gaps. I am the shield that guards the realms of seekable. I pledge\n * my life and honor to the Playback Watch, for this Player and all the Players to come.\n */\n// Set of events that reset the playback-watcher time check logic and clear the timeout\n\n\nvar timerCancelEvents = ['seeking', 'seeked', 'pause', 'playing', 'error'];\n/**\n * @class PlaybackWatcher\n */\n\nvar PlaybackWatcher = function () {\n  /**\n   * Represents an PlaybackWatcher object.\n   * @constructor\n   * @param {object} options an object that includes the tech and settings\n   */\n  function PlaybackWatcher(options) {\n    var _this = this;\n\n    classCallCheck(this, PlaybackWatcher);\n    this.tech_ = options.tech;\n    this.seekable = options.seekable;\n    this.seekTo = options.seekTo;\n    this.allowSeeksWithinUnsafeLiveWindow = options.allowSeeksWithinUnsafeLiveWindow;\n    this.media = options.media;\n    this.consecutiveUpdates = 0;\n    this.lastRecordedTime = null;\n    this.timer_ = null;\n    this.checkCurrentTimeTimeout_ = null;\n    this.logger_ = logger('PlaybackWatcher');\n    this.logger_('initialize');\n\n    var canPlayHandler = function canPlayHandler() {\n      return _this.monitorCurrentTime_();\n    };\n\n    var waitingHandler = function waitingHandler() {\n      return _this.techWaiting_();\n    };\n\n    var cancelTimerHandler = function cancelTimerHandler() {\n      return _this.cancelTimer_();\n    };\n\n    var fixesBadSeeksHandler = function fixesBadSeeksHandler() {\n      return _this.fixesBadSeeks_();\n    };\n\n    this.tech_.on('seekablechanged', fixesBadSeeksHandler);\n    this.tech_.on('waiting', waitingHandler);\n    this.tech_.on(timerCancelEvents, cancelTimerHandler);\n    this.tech_.on('canplay', canPlayHandler); // Define the dispose function to clean up our events\n\n    this.dispose = function () {\n      _this.logger_('dispose');\n\n      _this.tech_.off('seekablechanged', fixesBadSeeksHandler);\n\n      _this.tech_.off('waiting', waitingHandler);\n\n      _this.tech_.off(timerCancelEvents, cancelTimerHandler);\n\n      _this.tech_.off('canplay', canPlayHandler);\n\n      if (_this.checkCurrentTimeTimeout_) {\n        window$1.clearTimeout(_this.checkCurrentTimeTimeout_);\n      }\n\n      _this.cancelTimer_();\n    };\n  }\n  /**\n   * Periodically check current time to see if playback stopped\n   *\n   * @private\n   */\n\n\n  createClass(PlaybackWatcher, [{\n    key: 'monitorCurrentTime_',\n    value: function monitorCurrentTime_() {\n      this.checkCurrentTime_();\n\n      if (this.checkCurrentTimeTimeout_) {\n        window$1.clearTimeout(this.checkCurrentTimeTimeout_);\n      } // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n\n\n      this.checkCurrentTimeTimeout_ = window$1.setTimeout(this.monitorCurrentTime_.bind(this), 250);\n    }\n    /**\n     * The purpose of this function is to emulate the \"waiting\" event on\n     * browsers that do not emit it when they are waiting for more\n     * data to continue playback\n     *\n     * @private\n     */\n\n  }, {\n    key: 'checkCurrentTime_',\n    value: function checkCurrentTime_() {\n      if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n        this.consecutiveUpdates = 0;\n        this.lastRecordedTime = this.tech_.currentTime();\n        return;\n      }\n\n      if (this.tech_.paused() || this.tech_.seeking()) {\n        return;\n      }\n\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n\n      if (this.lastRecordedTime === currentTime && (!buffered.length || currentTime + SAFE_TIME_DELTA >= buffered.end(buffered.length - 1))) {\n        // If current time is at the end of the final buffered region, then any playback\n        // stall is most likely caused by buffering in a low bandwidth environment. The tech\n        // should fire a `waiting` event in this scenario, but due to browser and tech\n        // inconsistencies. Calling `techWaiting_` here allows us to simulate\n        // responding to a native `waiting` event when the tech fails to emit one.\n        return this.techWaiting_();\n      }\n\n      if (this.consecutiveUpdates >= 5 && currentTime === this.lastRecordedTime) {\n        this.consecutiveUpdates++;\n        this.waiting_();\n      } else if (currentTime === this.lastRecordedTime) {\n        this.consecutiveUpdates++;\n      } else {\n        this.consecutiveUpdates = 0;\n        this.lastRecordedTime = currentTime;\n      }\n    }\n    /**\n     * Cancels any pending timers and resets the 'timeupdate' mechanism\n     * designed to detect that we are stalled\n     *\n     * @private\n     */\n\n  }, {\n    key: 'cancelTimer_',\n    value: function cancelTimer_() {\n      this.consecutiveUpdates = 0;\n\n      if (this.timer_) {\n        this.logger_('cancelTimer_');\n        clearTimeout(this.timer_);\n      }\n\n      this.timer_ = null;\n    }\n    /**\n     * Fixes situations where there's a bad seek\n     *\n     * @return {Boolean} whether an action was taken to fix the seek\n     * @private\n     */\n\n  }, {\n    key: 'fixesBadSeeks_',\n    value: function fixesBadSeeks_() {\n      var seeking = this.tech_.seeking();\n\n      if (!seeking) {\n        return false;\n      }\n\n      var seekable = this.seekable();\n      var currentTime = this.tech_.currentTime();\n      var isAfterSeekableRange = this.afterSeekableWindow_(seekable, currentTime, this.media(), this.allowSeeksWithinUnsafeLiveWindow);\n      var seekTo = void 0;\n\n      if (isAfterSeekableRange) {\n        var seekableEnd = seekable.end(seekable.length - 1); // sync to live point (if VOD, our seekable was updated and we're simply adjusting)\n\n        seekTo = seekableEnd;\n      }\n\n      if (this.beforeSeekableWindow_(seekable, currentTime)) {\n        var seekableStart = seekable.start(0); // sync to the beginning of the live window\n        // provide a buffer of .1 seconds to handle rounding/imprecise numbers\n\n        seekTo = seekableStart + SAFE_TIME_DELTA;\n      }\n\n      if (typeof seekTo !== 'undefined') {\n        this.logger_('Trying to seek outside of seekable at time ' + currentTime + ' with ' + ('seekable range ' + printableRange(seekable) + '. Seeking to ') + (seekTo + '.'));\n        this.seekTo(seekTo);\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Handler for situations when we determine the player is waiting.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'waiting_',\n    value: function waiting_() {\n      if (this.techWaiting_()) {\n        return;\n      } // All tech waiting checks failed. Use last resort correction\n\n\n      var currentTime = this.tech_.currentTime();\n      var buffered = this.tech_.buffered();\n      var currentRange = findRange(buffered, currentTime); // Sometimes the player can stall for unknown reasons within a contiguous buffered\n      // region with no indication that anything is amiss (seen in Firefox). Seeking to\n      // currentTime is usually enough to kickstart the player. This checks that the player\n      // is currently within a buffered region before attempting a corrective seek.\n      // Chrome does not appear to continue `timeupdate` events after a `waiting` event\n      // until there is ~ 3 seconds of forward buffer available. PlaybackWatcher should also\n      // make sure there is ~3 seconds of forward buffer before taking any corrective action\n      // to avoid triggering an `unknownwaiting` event when the network is slow.\n\n      if (currentRange.length && currentTime + 3 <= currentRange.end(0)) {\n        this.cancelTimer_();\n        this.seekTo(currentTime);\n        this.logger_('Stopped at ' + currentTime + ' while inside a buffered region ' + ('[' + currentRange.start(0) + ' -> ' + currentRange.end(0) + ']. Attempting to resume ') + 'playback by seeking to the current time.'); // unknown waiting corrections may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-unknown-waiting'\n        });\n        return;\n      }\n    }\n    /**\n     * Handler for situations when the tech fires a `waiting` event\n     *\n     * @return {Boolean}\n     *         True if an action (or none) was needed to correct the waiting. False if no\n     *         checks passed\n     * @private\n     */\n\n  }, {\n    key: 'techWaiting_',\n    value: function techWaiting_() {\n      var seekable = this.seekable();\n      var currentTime = this.tech_.currentTime();\n\n      if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n        // Tech is seeking or bad seek fixed, no action needed\n        return true;\n      }\n\n      if (this.tech_.seeking() || this.timer_ !== null) {\n        // Tech is seeking or already waiting on another action, no action needed\n        return true;\n      }\n\n      if (this.beforeSeekableWindow_(seekable, currentTime)) {\n        var livePoint = seekable.end(seekable.length - 1);\n        this.logger_('Fell out of live window at time ' + currentTime + '. Seeking to ' + ('live point (seekable end) ' + livePoint));\n        this.cancelTimer_();\n        this.seekTo(livePoint); // live window resyncs may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-live-resync'\n        });\n        return true;\n      }\n\n      var buffered = this.tech_.buffered();\n      var nextRange = findNextRange(buffered, currentTime);\n\n      if (this.videoUnderflow_(nextRange, buffered, currentTime)) {\n        // Even though the video underflowed and was stuck in a gap, the audio overplayed\n        // the gap, leading currentTime into a buffered range. Seeking to currentTime\n        // allows the video to catch up to the audio position without losing any audio\n        // (only suffering ~3 seconds of frozen video and a pause in audio playback).\n        this.cancelTimer_();\n        this.seekTo(currentTime); // video underflow may be useful for monitoring QoS\n\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-video-underflow'\n        });\n        return true;\n      } // check for gap\n\n\n      if (nextRange.length > 0) {\n        var difference = nextRange.start(0) - currentTime;\n        this.logger_('Stopped at ' + currentTime + ', setting timer for ' + difference + ', seeking ' + ('to ' + nextRange.start(0)));\n        this.timer_ = setTimeout(this.skipTheGap_.bind(this), difference * 1000, currentTime);\n        return true;\n      } // All checks failed. Returning false to indicate failure to correct waiting\n\n\n      return false;\n    }\n  }, {\n    key: 'afterSeekableWindow_',\n    value: function afterSeekableWindow_(seekable, currentTime, playlist) {\n      var allowSeeksWithinUnsafeLiveWindow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (!seekable.length) {\n        // we can't make a solid case if there's no seekable, default to false\n        return false;\n      }\n\n      var allowedEnd = seekable.end(seekable.length - 1) + SAFE_TIME_DELTA;\n      var isLive = !playlist.endList;\n\n      if (isLive && allowSeeksWithinUnsafeLiveWindow) {\n        allowedEnd = seekable.end(seekable.length - 1) + playlist.targetDuration * 3;\n      }\n\n      if (currentTime > allowedEnd) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'beforeSeekableWindow_',\n    value: function beforeSeekableWindow_(seekable, currentTime) {\n      if (seekable.length && // can't fall before 0 and 0 seekable start identifies VOD stream\n      seekable.start(0) > 0 && currentTime < seekable.start(0) - SAFE_TIME_DELTA) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: 'videoUnderflow_',\n    value: function videoUnderflow_(nextRange, buffered, currentTime) {\n      if (nextRange.length === 0) {\n        // Even if there is no available next range, there is still a possibility we are\n        // stuck in a gap due to video underflow.\n        var gap = this.gapFromVideoUnderflow_(buffered, currentTime);\n\n        if (gap) {\n          this.logger_('Encountered a gap in video from ' + gap.start + ' to ' + gap.end + '. ' + ('Seeking to current time ' + currentTime));\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Timer callback. If playback still has not proceeded, then we seek\n     * to the start of the next buffered region.\n     *\n     * @private\n     */\n\n  }, {\n    key: 'skipTheGap_',\n    value: function skipTheGap_(scheduledCurrentTime) {\n      var buffered = this.tech_.buffered();\n      var currentTime = this.tech_.currentTime();\n      var nextRange = findNextRange(buffered, currentTime);\n      this.cancelTimer_();\n\n      if (nextRange.length === 0 || currentTime !== scheduledCurrentTime) {\n        return;\n      }\n\n      this.logger_('skipTheGap_:', 'currentTime:', currentTime, 'scheduled currentTime:', scheduledCurrentTime, 'nextRange start:', nextRange.start(0)); // only seek if we still have not played\n\n      this.seekTo(nextRange.start(0) + TIME_FUDGE_FACTOR);\n      this.tech_.trigger({\n        type: 'usage',\n        name: 'hls-gap-skip'\n      });\n    }\n  }, {\n    key: 'gapFromVideoUnderflow_',\n    value: function gapFromVideoUnderflow_(buffered, currentTime) {\n      // At least in Chrome, if there is a gap in the video buffer, the audio will continue\n      // playing for ~3 seconds after the video gap starts. This is done to account for\n      // video buffer underflow/underrun (note that this is not done when there is audio\n      // buffer underflow/underrun -- in that case the video will stop as soon as it\n      // encounters the gap, as audio stalls are more noticeable/jarring to a user than\n      // video stalls). The player's time will reflect the playthrough of audio, so the\n      // time will appear as if we are in a buffered region, even if we are stuck in a\n      // \"gap.\"\n      //\n      // Example:\n      // video buffer:   0 => 10.1, 10.2 => 20\n      // audio buffer:   0 => 20\n      // overall buffer: 0 => 10.1, 10.2 => 20\n      // current time: 13\n      //\n      // Chrome's video froze at 10 seconds, where the video buffer encountered the gap,\n      // however, the audio continued playing until it reached ~3 seconds past the gap\n      // (13 seconds), at which point it stops as well. Since current time is past the\n      // gap, findNextRange will return no ranges.\n      //\n      // To check for this issue, we see if there is a gap that starts somewhere within\n      // a 3 second range (3 seconds +/- 1 second) back from our current time.\n      var gaps = findGaps(buffered);\n\n      for (var i = 0; i < gaps.length; i++) {\n        var start = gaps.start(i);\n        var end = gaps.end(i); // gap is starts no more than 4 seconds back\n\n        if (currentTime - start < 4 && currentTime - start > 2) {\n          return {\n            start: start,\n            end: end\n          };\n        }\n      }\n\n      return null;\n    }\n  }]);\n  return PlaybackWatcher;\n}();\n\nvar defaultOptions = {\n  errorInterval: 30,\n  getSource: function getSource(next) {\n    var tech = this.tech({\n      IWillNotUseThisInPlugins: true\n    });\n    var sourceObj = tech.currentSource_;\n    return next(sourceObj);\n  }\n};\n/**\n * Main entry point for the plugin\n *\n * @param {Player} player a reference to a videojs Player instance\n * @param {Object} [options] an object with plugin options\n * @private\n */\n\nvar initPlugin = function initPlugin(player, options) {\n  var lastCalled = 0;\n  var seekTo = 0;\n  var localOptions = videojs$1.mergeOptions(defaultOptions, options);\n  player.ready(function () {\n    player.trigger({\n      type: 'usage',\n      name: 'hls-error-reload-initialized'\n    });\n  });\n  /**\n   * Player modifications to perform that must wait until `loadedmetadata`\n   * has been triggered\n   *\n   * @private\n   */\n\n  var loadedMetadataHandler = function loadedMetadataHandler() {\n    if (seekTo) {\n      player.currentTime(seekTo);\n    }\n  };\n  /**\n   * Set the source on the player element, play, and seek if necessary\n   *\n   * @param {Object} sourceObj An object specifying the source url and mime-type to play\n   * @private\n   */\n\n\n  var setSource = function setSource(sourceObj) {\n    if (sourceObj === null || sourceObj === undefined) {\n      return;\n    }\n\n    seekTo = player.duration() !== Infinity && player.currentTime() || 0;\n    player.one('loadedmetadata', loadedMetadataHandler);\n    player.src(sourceObj);\n    player.trigger({\n      type: 'usage',\n      name: 'hls-error-reload'\n    });\n    player.play();\n  };\n  /**\n   * Attempt to get a source from either the built-in getSource function\n   * or a custom function provided via the options\n   *\n   * @private\n   */\n\n\n  var errorHandler = function errorHandler() {\n    // Do not attempt to reload the source if a source-reload occurred before\n    // 'errorInterval' time has elapsed since the last source-reload\n    if (Date.now() - lastCalled < localOptions.errorInterval * 1000) {\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload-canceled'\n      });\n      return;\n    }\n\n    if (!localOptions.getSource || typeof localOptions.getSource !== 'function') {\n      videojs$1.log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');\n      return;\n    }\n\n    lastCalled = Date.now();\n    return localOptions.getSource.call(player, setSource);\n  };\n  /**\n   * Unbind any event handlers that were bound by the plugin\n   *\n   * @private\n   */\n\n\n  var cleanupEvents = function cleanupEvents() {\n    player.off('loadedmetadata', loadedMetadataHandler);\n    player.off('error', errorHandler);\n    player.off('dispose', cleanupEvents);\n  };\n  /**\n   * Cleanup before re-initializing the plugin\n   *\n   * @param {Object} [newOptions] an object with plugin options\n   * @private\n   */\n\n\n  var reinitPlugin = function reinitPlugin(newOptions) {\n    cleanupEvents();\n    initPlugin(player, newOptions);\n  };\n\n  player.on('error', errorHandler);\n  player.on('dispose', cleanupEvents); // Overwrite the plugin function so that we can correctly cleanup before\n  // initializing the plugin\n\n  player.reloadSourceOnError = reinitPlugin;\n};\n/**\n * Reload the source when an error is detected as long as there\n * wasn't an error previously within the last 30 seconds\n *\n * @param {Object} [options] an object with plugin options\n */\n\n\nvar reloadSourceOnError = function reloadSourceOnError(options) {\n  initPlugin(this, options);\n};\n\nvar version$1 = \"1.10.3\"; // since VHS handles HLS and DASH (and in the future, more types), use * to capture all\n\nvideojs$1.use('*', function (player) {\n  return {\n    setSource: function setSource(srcObj, next) {\n      // pass null as the first argument to indicate that the source is not rejected\n      next(null, srcObj);\n    },\n    // VHS needs to know when seeks happen. For external seeks (generated at the player\n    // level), this middleware will capture the action. For internal seeks (generated at\n    // the tech level), we use a wrapped function so that we can handle it on our own\n    // (specified elsewhere).\n    setCurrentTime: function setCurrentTime(time) {\n      if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n        player.vhs.setCurrentTime(time);\n      }\n\n      return time;\n    },\n    // Sync VHS after play requests.\n    // This specifically handles replay where the order of actions is\n    // play, video element will seek to 0 (skipping the setCurrentTime middleware)\n    // then triggers a play event.\n    play: function play() {\n      if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n        player.vhs.setCurrentTime(player.tech_.currentTime());\n      }\n    }\n  };\n});\n/**\n * @file videojs-http-streaming.js\n *\n * The main file for the HLS project.\n * License: https://github.com/videojs/videojs-http-streaming/blob/master/LICENSE\n */\n\nvar Hls$1 = {\n  PlaylistLoader: PlaylistLoader,\n  Playlist: Playlist,\n  Decrypter: Decrypter,\n  AsyncStream: AsyncStream,\n  decrypt: decrypt,\n  utils: utils,\n  STANDARD_PLAYLIST_SELECTOR: lastBandwidthSelector,\n  INITIAL_PLAYLIST_SELECTOR: lowestBitrateCompatibleVariantSelector,\n  comparePlaylistBandwidth: comparePlaylistBandwidth,\n  comparePlaylistResolution: comparePlaylistResolution,\n  xhr: xhrFactory()\n}; // Define getter/setters for config properites\n\n['GOAL_BUFFER_LENGTH', 'MAX_GOAL_BUFFER_LENGTH', 'GOAL_BUFFER_LENGTH_RATE', 'BUFFER_LOW_WATER_LINE', 'MAX_BUFFER_LOW_WATER_LINE', 'BUFFER_LOW_WATER_LINE_RATE', 'BANDWIDTH_VARIANCE'].forEach(function (prop) {\n  Object.defineProperty(Hls$1, prop, {\n    get: function get$$1() {\n      videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n      return Config[prop];\n    },\n    set: function set$$1(value) {\n      videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n\n      if (typeof value !== 'number' || value < 0) {\n        videojs$1.log.warn('value of Hls.' + prop + ' must be greater than or equal to 0');\n        return;\n      }\n\n      Config[prop] = value;\n    }\n  });\n});\nvar LOCAL_STORAGE_KEY$1 = 'videojs-vhs';\n\nvar simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n  var mpegurlRE = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\n\n  if (mpegurlRE.test(type)) {\n    return 'hls';\n  }\n\n  var dashRE = /^application\\/dash\\+xml/i;\n\n  if (dashRE.test(type)) {\n    return 'dash';\n  }\n\n  return null;\n};\n/**\n * Updates the selectedIndex of the QualityLevelList when a mediachange happens in hls.\n *\n * @param {QualityLevelList} qualityLevels The QualityLevelList to update.\n * @param {PlaylistLoader} playlistLoader PlaylistLoader containing the new media info.\n * @function handleHlsMediaChange\n */\n\n\nvar handleHlsMediaChange = function handleHlsMediaChange(qualityLevels, playlistLoader) {\n  var newPlaylist = playlistLoader.media();\n  var selectedIndex = -1;\n\n  for (var i = 0; i < qualityLevels.length; i++) {\n    if (qualityLevels[i].id === newPlaylist.uri) {\n      selectedIndex = i;\n      break;\n    }\n  }\n\n  qualityLevels.selectedIndex_ = selectedIndex;\n  qualityLevels.trigger({\n    selectedIndex: selectedIndex,\n    type: 'change'\n  });\n};\n/**\n * Adds quality levels to list once playlist metadata is available\n *\n * @param {QualityLevelList} qualityLevels The QualityLevelList to attach events to.\n * @param {Object} hls Hls object to listen to for media events.\n * @function handleHlsLoadedMetadata\n */\n\n\nvar handleHlsLoadedMetadata = function handleHlsLoadedMetadata(qualityLevels, hls) {\n  hls.representations().forEach(function (rep) {\n    qualityLevels.addQualityLevel(rep);\n  });\n  handleHlsMediaChange(qualityLevels, hls.playlists);\n}; // HLS is a source handler, not a tech. Make sure attempts to use it\n// as one do not cause exceptions.\n\n\nHls$1.canPlaySource = function () {\n  return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n};\n\nvar emeKeySystems = function emeKeySystems(keySystemOptions, videoPlaylist, audioPlaylist) {\n  if (!keySystemOptions) {\n    return keySystemOptions;\n  } // upsert the content types based on the selected playlist\n\n\n  var keySystemContentTypes = {};\n\n  for (var keySystem in keySystemOptions) {\n    keySystemContentTypes[keySystem] = {\n      audioContentType: 'audio/mp4; codecs=\"' + audioPlaylist.attributes.CODECS + '\"',\n      videoContentType: 'video/mp4; codecs=\"' + videoPlaylist.attributes.CODECS + '\"'\n    };\n\n    if (videoPlaylist.contentProtection && videoPlaylist.contentProtection[keySystem] && videoPlaylist.contentProtection[keySystem].pssh) {\n      keySystemContentTypes[keySystem].pssh = videoPlaylist.contentProtection[keySystem].pssh;\n    } // videojs-contrib-eme accepts the option of specifying: 'com.some.cdm': 'url'\n    // so we need to prevent overwriting the URL entirely\n\n\n    if (typeof keySystemOptions[keySystem] === 'string') {\n      keySystemContentTypes[keySystem].url = keySystemOptions[keySystem];\n    }\n  }\n\n  return videojs$1.mergeOptions(keySystemOptions, keySystemContentTypes);\n};\n\nvar setupEmeOptions = function setupEmeOptions(hlsHandler) {\n  if (hlsHandler.options_.sourceType !== 'dash') {\n    return;\n  }\n\n  var player = videojs$1.players[hlsHandler.tech_.options_.playerId];\n\n  if (player.eme) {\n    var sourceOptions = emeKeySystems(hlsHandler.source_.keySystems, hlsHandler.playlists.media(), hlsHandler.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());\n\n    if (sourceOptions) {\n      player.currentSource().keySystems = sourceOptions; // works around https://bugs.chromium.org/p/chromium/issues/detail?id=895449\n\n      if (player.eme.initializeMediaKeys) {\n        player.eme.initializeMediaKeys();\n      }\n    }\n  }\n};\n\nvar getVhsLocalStorage = function getVhsLocalStorage() {\n  if (!window.localStorage) {\n    return null;\n  }\n\n  var storedObject = window.localStorage.getItem(LOCAL_STORAGE_KEY$1);\n\n  if (!storedObject) {\n    return null;\n  }\n\n  try {\n    return JSON.parse(storedObject);\n  } catch (e) {\n    // someone may have tampered with the value\n    return null;\n  }\n};\n\nvar updateVhsLocalStorage = function updateVhsLocalStorage(options) {\n  if (!window.localStorage) {\n    return false;\n  }\n\n  var objectToStore = getVhsLocalStorage();\n  objectToStore = objectToStore ? videojs$1.mergeOptions(objectToStore, options) : options;\n\n  try {\n    window.localStorage.setItem(LOCAL_STORAGE_KEY$1, JSON.stringify(objectToStore));\n  } catch (e) {\n    // Throws if storage is full (e.g., always on iOS 5+ Safari private mode, where\n    // storage is set to 0).\n    // https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem#Exceptions\n    // No need to perform any operation.\n    return false;\n  }\n\n  return objectToStore;\n};\n/**\n * Whether the browser has built-in HLS support.\n */\n\n\nHls$1.supportsNativeHls = function () {\n  var video = document.createElement('video'); // native HLS is definitely not supported if HTML5 video isn't\n\n  if (!videojs$1.getTech('Html5').isSupported()) {\n    return false;\n  } // HLS manifests can go by many mime-types\n\n\n  var canPlay = [// Apple santioned\n  'application/vnd.apple.mpegurl', // Apple sanctioned for backwards compatibility\n  'audio/mpegurl', // Very common\n  'audio/x-mpegurl', // Very common\n  'application/x-mpegurl', // Included for completeness\n  'video/x-mpegurl', 'video/mpegurl', 'application/mpegurl'];\n  return canPlay.some(function (canItPlay) {\n    return /maybe|probably/i.test(video.canPlayType(canItPlay));\n  });\n}();\n\nHls$1.supportsNativeDash = function () {\n  if (!videojs$1.getTech('Html5').isSupported()) {\n    return false;\n  }\n\n  return /maybe|probably/i.test(document.createElement('video').canPlayType('application/dash+xml'));\n}();\n\nHls$1.supportsTypeNatively = function (type) {\n  if (type === 'hls') {\n    return Hls$1.supportsNativeHls;\n  }\n\n  if (type === 'dash') {\n    return Hls$1.supportsNativeDash;\n  }\n\n  return false;\n};\n/**\n * HLS is a source handler, not a tech. Make sure attempts to use it\n * as one do not cause exceptions.\n */\n\n\nHls$1.isSupported = function () {\n  return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n};\n\nvar Component$1 = videojs$1.getComponent('Component');\n/**\n * The Hls Handler object, where we orchestrate all of the parts\n * of HLS to interact with video.js\n *\n * @class HlsHandler\n * @extends videojs.Component\n * @param {Object} source the soruce object\n * @param {Tech} tech the parent tech object\n * @param {Object} options optional and required options\n */\n\nvar HlsHandler = function (_Component) {\n  inherits(HlsHandler, _Component);\n\n  function HlsHandler(source, tech, options) {\n    classCallCheck(this, HlsHandler); // tech.player() is deprecated but setup a reference to HLS for\n    // backwards-compatibility\n\n    var _this = possibleConstructorReturn(this, (HlsHandler.__proto__ || Object.getPrototypeOf(HlsHandler)).call(this, tech, options.hls));\n\n    if (tech.options_ && tech.options_.playerId) {\n      var _player = videojs$1(tech.options_.playerId);\n\n      if (!_player.hasOwnProperty('hls')) {\n        Object.defineProperty(_player, 'hls', {\n          get: function get$$1() {\n            videojs$1.log.warn('player.hls is deprecated. Use player.tech().hls instead.');\n            tech.trigger({\n              type: 'usage',\n              name: 'hls-player-access'\n            });\n            return _this;\n          },\n          configurable: true\n        });\n      } // Set up a reference to the HlsHandler from player.vhs. This allows users to start\n      // migrating from player.tech_.hls... to player.vhs... for API access. Although this\n      // isn't the most appropriate form of reference for video.js (since all APIs should\n      // be provided through core video.js), it is a common pattern for plugins, and vhs\n      // will act accordingly.\n\n\n      _player.vhs = _this; // deprecated, for backwards compatibility\n\n      _player.dash = _this;\n      _this.player_ = _player;\n    }\n\n    _this.tech_ = tech;\n    _this.source_ = source;\n    _this.stats = {};\n\n    _this.setOptions_();\n\n    if (_this.options_.overrideNative && tech.overrideNativeAudioTracks && tech.overrideNativeVideoTracks) {\n      tech.overrideNativeAudioTracks(true);\n      tech.overrideNativeVideoTracks(true);\n    } else if (_this.options_.overrideNative && (tech.featuresNativeVideoTracks || tech.featuresNativeAudioTracks)) {\n      // overriding native HLS only works if audio tracks have been emulated\n      // error early if we're misconfigured\n      throw new Error('Overriding native HLS requires emulated tracks. ' + 'See https://git.io/vMpjB');\n    } // listen for fullscreenchange events for this player so that we\n    // can adjust our quality selection quickly\n\n\n    _this.on(document, ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'], function (event) {\n      var fullscreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n\n      if (fullscreenElement && fullscreenElement.contains(_this.tech_.el())) {\n        _this.masterPlaylistController_.smoothQualityChange_();\n      }\n    }); // Handle seeking when looping - middleware doesn't handle this seek event from the tech\n\n\n    _this.on(_this.tech_, 'seeking', function () {\n      if (this.tech_.currentTime() === 0 && this.tech_.player_.loop()) {\n        this.setCurrentTime(0);\n      }\n    });\n\n    _this.on(_this.tech_, 'error', function () {\n      if (this.masterPlaylistController_) {\n        this.masterPlaylistController_.pauseLoading();\n      }\n    });\n\n    _this.on(_this.tech_, 'play', _this.play);\n\n    return _this;\n  }\n\n  createClass(HlsHandler, [{\n    key: 'setOptions_',\n    value: function setOptions_() {\n      var _this2 = this; // defaults\n\n\n      this.options_.withCredentials = this.options_.withCredentials || false;\n      this.options_.handleManifestRedirects = this.options_.handleManifestRedirects || false;\n      this.options_.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions === false ? false : true;\n      this.options_.smoothQualityChange = this.options_.smoothQualityChange || false;\n      this.options_.useBandwidthFromLocalStorage = typeof this.source_.useBandwidthFromLocalStorage !== 'undefined' ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || false;\n      this.options_.customTagParsers = this.options_.customTagParsers || [];\n      this.options_.customTagMappers = this.options_.customTagMappers || [];\n      this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || false;\n\n      if (typeof this.options_.blacklistDuration !== 'number') {\n        this.options_.blacklistDuration = 5 * 60;\n      }\n\n      if (typeof this.options_.bandwidth !== 'number') {\n        if (this.options_.useBandwidthFromLocalStorage) {\n          var storedObject = getVhsLocalStorage();\n\n          if (storedObject && storedObject.bandwidth) {\n            this.options_.bandwidth = storedObject.bandwidth;\n            this.tech_.trigger({\n              type: 'usage',\n              name: 'hls-bandwidth-from-local-storage'\n            });\n          }\n\n          if (storedObject && storedObject.throughput) {\n            this.options_.throughput = storedObject.throughput;\n            this.tech_.trigger({\n              type: 'usage',\n              name: 'hls-throughput-from-local-storage'\n            });\n          }\n        }\n      } // if bandwidth was not set by options or pulled from local storage, start playlist\n      // selection at a reasonable bandwidth\n\n\n      if (typeof this.options_.bandwidth !== 'number') {\n        this.options_.bandwidth = Config.INITIAL_BANDWIDTH;\n      } // If the bandwidth number is unchanged from the initial setting\n      // then this takes precedence over the enableLowInitialPlaylist option\n\n\n      this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Config.INITIAL_BANDWIDTH; // grab options passed to player.src\n\n      ['withCredentials', 'limitRenditionByPlayerDimensions', 'bandwidth', 'smoothQualityChange', 'customTagParsers', 'customTagMappers', 'handleManifestRedirects', 'cacheEncryptionKeys'].forEach(function (option) {\n        if (typeof _this2.source_[option] !== 'undefined') {\n          _this2.options_[option] = _this2.source_[option];\n        }\n      });\n      this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions;\n    }\n    /**\n     * called when player.src gets called, handle a new source\n     *\n     * @param {Object} src the source object to handle\n     */\n\n  }, {\n    key: 'src',\n    value: function src(_src, type) {\n      var _this3 = this; // do nothing if the src is falsey\n\n\n      if (!_src) {\n        return;\n      }\n\n      this.setOptions_(); // add master playlist controller options\n\n      this.options_.url = this.source_.src;\n      this.options_.tech = this.tech_;\n      this.options_.externHls = Hls$1;\n      this.options_.sourceType = simpleTypeFromSourceType(type); // Whenever we seek internally, we should update both the tech and call our own\n      // setCurrentTime function. This is needed because \"seeking\" events aren't always\n      // reliable. External seeks (via the player object) are handled via middleware.\n\n      this.options_.seekTo = function (time) {\n        _this3.tech_.setCurrentTime(time);\n\n        _this3.setCurrentTime(time);\n      };\n\n      this.masterPlaylistController_ = new MasterPlaylistController(this.options_);\n      this.playbackWatcher_ = new PlaybackWatcher(videojs$1.mergeOptions(this.options_, {\n        seekable: function seekable$$1() {\n          return _this3.seekable();\n        },\n        media: function media() {\n          return _this3.masterPlaylistController_.media();\n        }\n      }));\n      this.masterPlaylistController_.on('error', function () {\n        var player = videojs$1.players[_this3.tech_.options_.playerId];\n        player.error(_this3.masterPlaylistController_.error);\n      }); // `this` in selectPlaylist should be the HlsHandler for backwards\n      // compatibility with < v2\n\n      this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Hls$1.STANDARD_PLAYLIST_SELECTOR.bind(this);\n      this.masterPlaylistController_.selectInitialPlaylist = Hls$1.INITIAL_PLAYLIST_SELECTOR.bind(this); // re-expose some internal objects for backwards compatibility with < v2\n\n      this.playlists = this.masterPlaylistController_.masterPlaylistLoader_;\n      this.mediaSource = this.masterPlaylistController_.mediaSource; // Proxy assignment of some properties to the master playlist\n      // controller. Using a custom property for backwards compatibility\n      // with < v2\n\n      Object.defineProperties(this, {\n        selectPlaylist: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.selectPlaylist;\n          },\n          set: function set$$1(selectPlaylist) {\n            this.masterPlaylistController_.selectPlaylist = selectPlaylist.bind(this);\n          }\n        },\n        throughput: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;\n          },\n          set: function set$$1(throughput) {\n            this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = throughput; // By setting `count` to 1 the throughput value becomes the starting value\n            // for the cumulative average\n\n            this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1;\n          }\n        },\n        bandwidth: {\n          get: function get$$1() {\n            return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;\n          },\n          set: function set$$1(bandwidth) {\n            this.masterPlaylistController_.mainSegmentLoader_.bandwidth = bandwidth; // setting the bandwidth manually resets the throughput counter\n            // `count` is set to zero that current value of `rate` isn't included\n            // in the cumulative average\n\n            this.masterPlaylistController_.mainSegmentLoader_.throughput = {\n              rate: 0,\n              count: 0\n            };\n          }\n        },\n\n        /**\n         * `systemBandwidth` is a combination of two serial processes bit-rates. The first\n         * is the network bitrate provided by `bandwidth` and the second is the bitrate of\n         * the entire process after that - decryption, transmuxing, and appending - provided\n         * by `throughput`.\n         *\n         * Since the two process are serial, the overall system bandwidth is given by:\n         *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)\n         */\n        systemBandwidth: {\n          get: function get$$1() {\n            var invBandwidth = 1 / (this.bandwidth || 1);\n            var invThroughput = void 0;\n\n            if (this.throughput > 0) {\n              invThroughput = 1 / this.throughput;\n            } else {\n              invThroughput = 0;\n            }\n\n            var systemBitrate = Math.floor(1 / (invBandwidth + invThroughput));\n            return systemBitrate;\n          },\n          set: function set$$1() {\n            videojs$1.log.error('The \"systemBandwidth\" property is read-only');\n          }\n        }\n      });\n\n      if (this.options_.bandwidth) {\n        this.bandwidth = this.options_.bandwidth;\n      }\n\n      if (this.options_.throughput) {\n        this.throughput = this.options_.throughput;\n      }\n\n      Object.defineProperties(this.stats, {\n        bandwidth: {\n          get: function get$$1() {\n            return _this3.bandwidth || 0;\n          },\n          enumerable: true\n        },\n        mediaRequests: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequests_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsAborted: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsAborted_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsTimedout: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsTimedout_() || 0;\n          },\n          enumerable: true\n        },\n        mediaRequestsErrored: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaRequestsErrored_() || 0;\n          },\n          enumerable: true\n        },\n        mediaTransferDuration: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaTransferDuration_() || 0;\n          },\n          enumerable: true\n        },\n        mediaBytesTransferred: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaBytesTransferred_() || 0;\n          },\n          enumerable: true\n        },\n        mediaSecondsLoaded: {\n          get: function get$$1() {\n            return _this3.masterPlaylistController_.mediaSecondsLoaded_() || 0;\n          },\n          enumerable: true\n        },\n        buffered: {\n          get: function get$$1() {\n            return timeRangesToArray(_this3.tech_.buffered());\n          },\n          enumerable: true\n        },\n        currentTime: {\n          get: function get$$1() {\n            return _this3.tech_.currentTime();\n          },\n          enumerable: true\n        },\n        currentSource: {\n          get: function get$$1() {\n            return _this3.tech_.currentSource_;\n          },\n          enumerable: true\n        },\n        currentTech: {\n          get: function get$$1() {\n            return _this3.tech_.name_;\n          },\n          enumerable: true\n        },\n        duration: {\n          get: function get$$1() {\n            return _this3.tech_.duration();\n          },\n          enumerable: true\n        },\n        master: {\n          get: function get$$1() {\n            return _this3.playlists.master;\n          },\n          enumerable: true\n        },\n        playerDimensions: {\n          get: function get$$1() {\n            return _this3.tech_.currentDimensions();\n          },\n          enumerable: true\n        },\n        seekable: {\n          get: function get$$1() {\n            return timeRangesToArray(_this3.tech_.seekable());\n          },\n          enumerable: true\n        },\n        timestamp: {\n          get: function get$$1() {\n            return Date.now();\n          },\n          enumerable: true\n        },\n        videoPlaybackQuality: {\n          get: function get$$1() {\n            return _this3.tech_.getVideoPlaybackQuality();\n          },\n          enumerable: true\n        }\n      });\n      this.tech_.one('canplay', this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));\n      this.tech_.on('bandwidthupdate', function () {\n        if (_this3.options_.useBandwidthFromLocalStorage) {\n          updateVhsLocalStorage({\n            bandwidth: _this3.bandwidth,\n            throughput: Math.round(_this3.throughput)\n          });\n        }\n      });\n      this.masterPlaylistController_.on('selectedinitialmedia', function () {\n        // Add the manual rendition mix-in to HlsHandler\n        renditionSelectionMixin(_this3);\n        setupEmeOptions(_this3);\n      }); // the bandwidth of the primary segment loader is our best\n      // estimate of overall bandwidth\n\n      this.on(this.masterPlaylistController_, 'progress', function () {\n        this.tech_.trigger('progress');\n      });\n      this.tech_.ready(function () {\n        return _this3.setupQualityLevels_();\n      }); // do nothing if the tech has been disposed already\n      // this can occur if someone sets the src in player.ready(), for instance\n\n      if (!this.tech_.el()) {\n        return;\n      }\n\n      this.tech_.src(videojs$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource));\n    }\n    /**\n     * Initializes the quality levels and sets listeners to update them.\n     *\n     * @method setupQualityLevels_\n     * @private\n     */\n\n  }, {\n    key: 'setupQualityLevels_',\n    value: function setupQualityLevels_() {\n      var _this4 = this;\n\n      var player = videojs$1.players[this.tech_.options_.playerId];\n\n      if (player && player.qualityLevels) {\n        this.qualityLevels_ = player.qualityLevels();\n        this.masterPlaylistController_.on('selectedinitialmedia', function () {\n          handleHlsLoadedMetadata(_this4.qualityLevels_, _this4);\n        });\n        this.playlists.on('mediachange', function () {\n          handleHlsMediaChange(_this4.qualityLevels_, _this4.playlists);\n        });\n      }\n    }\n    /**\n     * Begin playing the video.\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      this.masterPlaylistController_.play();\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'setCurrentTime',\n    value: function setCurrentTime(currentTime) {\n      this.masterPlaylistController_.setCurrentTime(currentTime);\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'duration',\n    value: function duration$$1() {\n      return this.masterPlaylistController_.duration();\n    }\n    /**\n     * a wrapper around the function in MasterPlaylistController\n     */\n\n  }, {\n    key: 'seekable',\n    value: function seekable$$1() {\n      return this.masterPlaylistController_.seekable();\n    }\n    /**\n     * Abort all outstanding work and cleanup.\n     */\n\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      if (this.playbackWatcher_) {\n        this.playbackWatcher_.dispose();\n      }\n\n      if (this.masterPlaylistController_) {\n        this.masterPlaylistController_.dispose();\n      }\n\n      if (this.qualityLevels_) {\n        this.qualityLevels_.dispose();\n      }\n\n      if (this.player_) {\n        delete this.player_.vhs;\n        delete this.player_.dash;\n        delete this.player_.hls;\n      }\n\n      if (this.tech_ && this.tech_.hls) {\n        delete this.tech_.hls;\n      }\n\n      get$1(HlsHandler.prototype.__proto__ || Object.getPrototypeOf(HlsHandler.prototype), 'dispose', this).call(this);\n    }\n  }, {\n    key: 'convertToProgramTime',\n    value: function convertToProgramTime(time, callback) {\n      return getProgramTime({\n        playlist: this.masterPlaylistController_.media(),\n        time: time,\n        callback: callback\n      });\n    } // the player must be playing before calling this\n\n  }, {\n    key: 'seekToProgramTime',\n    value: function seekToProgramTime$$1(programTime, callback) {\n      var pauseAfterSeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var retryCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n      return seekToProgramTime({\n        programTime: programTime,\n        playlist: this.masterPlaylistController_.media(),\n        retryCount: retryCount,\n        pauseAfterSeek: pauseAfterSeek,\n        seekTo: this.options_.seekTo,\n        tech: this.options_.tech,\n        callback: callback\n      });\n    }\n  }]);\n  return HlsHandler;\n}(Component$1);\n/**\n * The Source Handler object, which informs video.js what additional\n * MIME types are supported and sets up playback. It is registered\n * automatically to the appropriate tech based on the capabilities of\n * the browser it is running in. It is not necessary to use or modify\n * this object in normal usage.\n */\n\n\nvar HlsSourceHandler = {\n  name: 'videojs-http-streaming',\n  VERSION: version$1,\n  canHandleSource: function canHandleSource(srcObj) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n    return HlsSourceHandler.canPlayType(srcObj.type, localOptions);\n  },\n  handleSource: function handleSource(source, tech) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n    tech.hls = new HlsHandler(source, tech, localOptions);\n    tech.hls.xhr = xhrFactory();\n    tech.hls.src(source.src, source.type);\n    return tech.hls;\n  },\n  canPlayType: function canPlayType(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _videojs$mergeOptions = videojs$1.mergeOptions(videojs$1.options, options),\n        overrideNative = _videojs$mergeOptions.hls.overrideNative;\n\n    var supportedType = simpleTypeFromSourceType(type);\n    var canUseMsePlayback = supportedType && (!Hls$1.supportsTypeNatively(supportedType) || overrideNative);\n    return canUseMsePlayback ? 'maybe' : '';\n  }\n};\n\nif (typeof videojs$1.MediaSource === 'undefined' || typeof videojs$1.URL === 'undefined') {\n  videojs$1.MediaSource = MediaSource;\n  videojs$1.URL = URL$1;\n} // register source handlers with the appropriate techs\n\n\nif (MediaSource.supportsNativeMediaSources()) {\n  videojs$1.getTech('Html5').registerSourceHandler(HlsSourceHandler, 0);\n}\n\nvideojs$1.HlsHandler = HlsHandler;\nvideojs$1.HlsSourceHandler = HlsSourceHandler;\nvideojs$1.Hls = Hls$1;\n\nif (!videojs$1.use) {\n  videojs$1.registerComponent('Hls', Hls$1);\n}\n\nvideojs$1.options.hls = videojs$1.options.hls || {};\n\nif (videojs$1.registerPlugin) {\n  videojs$1.registerPlugin('reloadSourceOnError', reloadSourceOnError);\n} else {\n  videojs$1.plugin('reloadSourceOnError', reloadSourceOnError);\n}\n\nexport default videojs$1;","var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport propTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport videojs from 'video.js';\nimport '../pannellum/css/video-js.css';\nimport '../pannellum/css/pannellum.css';\nimport '../pannellum/css/style-textInfo.css';\nimport '../pannellum/js/libpannellum.js';\nimport '../pannellum/js/RequestAnimationFrame';\nimport '../pannellum/js/pannellum.js';\nimport '../pannellum/js/videojs-pannellum-plugin';\nvar PannellumVideo = (_temp = _class = function (_Component) {\n  _inherits(PannellumVideo, _Component);\n\n  function PannellumVideo(props) {\n    _classCallCheck(this, PannellumVideo);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.renderVideo = function (state) {\n      var children = _this.props.children; // make the array of sub components, even if its one, it become array of one \n\n      var hotspots = [].concat(children);\n      var hotspotArray = [];\n\n      if (Array.isArray(hotspots)) {\n        hotspots.map(function (hotspot) {\n          switch (hotspot.props.type) {\n            case \"info\":\n              return hotspotArray.push({\n                \"id\": Math.random().toString(36).substr(2, 9),\n                \"type\": hotspot.props.type,\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\n                \"text\": hotspot.props.text ? hotspot.props.text : \"\",\n                \"URL\": hotspot.props.URL ? hotspot.props.URL : \"\"\n              });\n\n            case \"custom\":\n              return hotspotArray.push({\n                \"id\": Math.random().toString(36).substr(2, 9),\n                \"pitch\": hotspot.props.pitch ? hotspot.props.pitch : 10,\n                \"yaw\": hotspot.props.yaw ? hotspot.props.yaw : 10,\n                \"cssClass\": hotspot.props.cssClass ? hotspot.props.cssClass : 'tooltipcss',\n                \"createTooltipFunc\": hotspot.props.tooltip ? hotspot.props.tooltip : _this.hotspotTooltip,\n                \"createTooltipArgs\": hotspot.props.tooltipArg ? hotspot.props.tooltipArg : {},\n                \"clickHandlerFunc\": hotspot.props.handleClick ? hotspot.props.handleClick : _this.handleClickHotspot,\n                \"clickHandlerArgs\": hotspot.props.handleClickArg ? hotspot.props.handleClickArg : {\n                  name: \"test\"\n                }\n              });\n\n            default:\n              return [];\n          }\n        });\n      }\n\n      if (state === \"update\") {\n        _this.video = videojs(_this.videoNode);\n        var cuurentHS = [].concat(_this.video.pnlmViewer.getConfig().hotSpots);\n\n        _this.video.pnlmViewer.setYaw(_this.props.yaw);\n\n        _this.video.pnlmViewer.setPitch(_this.props.pitch);\n\n        _this.video.pnlmViewer.setHfov(_this.props.hfov);\n\n        _this.video.pnlmViewer.setHfovBounds([_this.props.minHfov, _this.props.maxHfov]); //remove all hotspots\n\n\n        cuurentHS.map(function (hs) {\n          return _this.video.pnlmViewer.removeHotSpot(hs.id);\n        }); // Adding new hotspots\n\n        hotspotArray.map(function (hs) {\n          return _this.video.pnlmViewer.addHotSpot(hs);\n        }); // setting new video\n\n        _this.video.src({\n          type: 'video/mp4',\n          src: _this.props.video\n        });\n\n        return _this.video.play();\n      } else {\n        _this.video = videojs(_this.videoNode, {\n          loop: _this.props.loop,\n          autoplay: _this.props.autoplay,\n          controls: _this.props.controls,\n          muted: _this.props.muted,\n          plugins: {\n            pannellum: {\n              yaw: _this.props.yaw,\n              pitch: _this.props.pitch,\n              hfov: _this.props.hfov,\n              minHfov: _this.props.minHfov,\n              maxHfov: _this.props.maxHfov,\n              minPitch: _this.props.minPitch,\n              maxPitch: _this.props.maxPitch,\n              minYaw: _this.props.minYaw,\n              maxYaw: _this.props.maxYaw,\n              hotSpotDebug: _this.props.hotspotDebug,\n              autoRotate: _this.props.autoRotate,\n              mouseZoom: _this.props.mouseZoom,\n              hotSpots: hotspotArray\n            }\n          }\n        });\n\n        _this.video.src({\n          type: 'video/mp4',\n          src: _this.props.video\n        });\n\n        _this.video.play();\n      }\n    };\n\n    _this.componentDidMount = function () {\n      _this.renderVideo(\"mount\");\n    };\n\n    _this.handleClickHotspot = function (e, args) {\n      console.log(\"hotspot clicked\", args.name);\n    };\n\n    _this.hotspotTooltip = function (hotSpotDiv, args) {\n      hotSpotDiv.setAttribute(\"id\", \"textInfo\");\n      var hDiv = document.createElement('div');\n      hDiv.classList.add('hotspot');\n      var outDiv = document.createElement('div');\n      outDiv.classList.add('out');\n      var inDiv = document.createElement('div');\n      inDiv.classList.add('in');\n      var imageDiv = document.createElement('div');\n      imageDiv.classList.add('image');\n      hotSpotDiv.appendChild(hDiv);\n      hDiv.appendChild(inDiv);\n      hDiv.appendChild(outDiv);\n    };\n\n    _this.getViewer = function () {\n      return _this.video.pnlmViewer;\n    };\n\n    _this.state = {\n      id: Math.random().toString(36).substr(2, 9)\n    };\n    return _this;\n  }\n\n  PannellumVideo.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    // videojs(this.videoNode).dispose();\n    // this.videoNode.setAttribute(\"src\", this.props.video );\n    this.renderVideo(\"update\");\n  };\n\n  PannellumVideo.prototype.componentWillUnmount = function componentWillUnmount() {\n    videojs(this.videoNode).dispose();\n  };\n\n  PannellumVideo.prototype.render = function render() {\n    var _this2 = this;\n\n    var _props = this.props,\n        width = _props.width,\n        height = _props.height,\n        video = _props.video;\n    var divStyle = {\n      width: width,\n      height: height\n    };\n    return React.createElement('div', {\n      'data-vjs-player': true\n    }, React.createElement('video', {\n      id: this.props.id ? this.props.id : this.state.id,\n      className: 'video-js vjs-default-skin vjs-big-play-centered',\n      ref: function ref(node) {\n        return _this2.videoNode = node;\n      },\n      preload: 'none',\n      crossOrigin: 'anonymous',\n      style: divStyle\n    }));\n  };\n\n  return PannellumVideo;\n}(Component), _class.defaultProps = {\n  children: [],\n  width: '100%',\n  height: '400px',\n  video: '',\n  yaw: 0,\n  pitch: 0,\n  hfov: 100,\n  minHfov: 50,\n  maxHfov: 150,\n  minPitch: -90,\n  maxPitch: 90,\n  minYaw: -180,\n  maxYaw: 180,\n  hotspotDebug: false,\n  autoRotate: 0,\n  mouseZoom: true,\n  loop: false,\n  autoplay: true,\n  controls: false,\n  muted: true\n}, _temp);\nPannellumVideo.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: propTypes.oneOfType([propTypes.arrayOf(propTypes.node), propTypes.node]),\n  id: propTypes.string,\n  width: propTypes.string,\n  height: propTypes.string,\n  video: propTypes.string,\n  yaw: propTypes.number,\n  pitch: propTypes.number,\n  hfov: propTypes.number,\n  minHfov: propTypes.number,\n  maxHfov: propTypes.number,\n  minPitch: propTypes.number,\n  maxPitch: propTypes.number,\n  minYaw: propTypes.number,\n  maxYaw: propTypes.number,\n  hotspotDebug: propTypes.bool,\n  autoRotate: propTypes.number,\n  mouseZoom: propTypes.bool,\n  loop: propTypes.bool,\n  autoplay: propTypes.bool,\n  controls: propTypes.bool,\n  muted: propTypes.bool,\n  tooltip: propTypes.func,\n  tooltipArg: propTypes.object,\n  handleClick: propTypes.func,\n  handleClickArg: propTypes.object,\n  cssClass: propTypes.string\n} : {};\nexport default PannellumVideo;","/*\n * Video.js plugin for Pannellum\n * Copyright (c) 2015-2018 Matthew Petroff\n * MIT License\n */\nimport videojs from 'video.js';\n\n(function (document, videojs, pannellum) {\n  'use strict';\n\n  videojs.registerPlugin('pannellum', function (config) {\n    // Create Pannellum instance\n    var player = this;\n    var container = player.el();\n    var vid = container.getElementsByTagName('video')[0],\n        pnlmContainer = document.createElement('div');\n    config = config || {};\n    config.type = 'equirectangular';\n    config.dynamic = true;\n    config.showZoomCtrl = false;\n    config.showFullscreenCtrl = false;\n    config.autoLoad = true;\n    config.panorama = vid;\n    pnlmContainer.style.visibility = 'hidden';\n    player.pnlmViewer = pannellum.viewer(pnlmContainer, config);\n    container.insertBefore(pnlmContainer, container.firstChild);\n    vid.style.display = 'none'; // Handle update settings\n\n    player.on('play', function () {\n      if (vid.readyState > 1) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('canplay', function () {\n      if (!player.paused()) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('pause', function () {\n      player.pnlmViewer.setUpdate(false);\n    });\n    player.on('loadeddata', function () {\n      pnlmContainer.style.visibility = 'visible';\n    });\n    player.on('seeking', function () {\n      if (player.paused()) player.pnlmViewer.setUpdate(true);\n    });\n    player.on('seeked', function () {\n      if (player.paused()) player.pnlmViewer.setUpdate(false);\n    });\n  });\n})(document, videojs, pannellum);","import Pannellum from \"./elements/Pannellum\";\nimport PannellumVideo from \"./elements/PannellumVideo\";\nexport { Pannellum, PannellumVideo };","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n'use strict';\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  SHOW: 'SHOW',\n  CLOSE: 'CLOSE',\n  REFRESH: 'REFRESH'\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.element = exports.modifier = void 0;\n\nvar element = function element(el, base) {\n  return \"\".concat(base, \"__\").concat(el);\n};\n\nexports.element = element;\n\nvar modifier = function modifier(modifiers, base) {\n  if (!modifiers) {\n    return null;\n  }\n\n  var finalClass = [];\n  var classNames = modifiers.split(' ');\n  classNames.forEach(function (singleClass) {\n    finalClass.push(\"\".concat(base, \"--\").concat(singleClass));\n  });\n  return finalClass.join(' ');\n};\n\nexports.modifier = modifier;","/*\n * libpannellum - A WebGL and CSS 3D transform based Panorama Renderer\n * Copyright (c) 2012-2018 Matthew Petroff\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nwindow.libpannellum = function (window, document, undefined) {\n  /**\n  * Creates a new panorama renderer.\n  * @constructor\n  * @param {HTMLElement} container - The container element for the renderer.\n  */\n  function Renderer(container) {\n    var canvas = document.createElement('canvas');\n    canvas.style.width = canvas.style.height = '100%';\n    container.appendChild(canvas);\n    var program, gl, vs, fs;\n    var fallbackImgSize;\n    var world;\n    var vtmps;\n    var pose;\n    var image, imageType, dynamic;\n    var texCoordBuffer, cubeVertBuf, cubeVertTexCoordBuf, cubeVertIndBuf;\n    var globalParams;\n    /**\n     * Initialize renderer.\n     * @memberof Renderer\n     * @instance\n     * @param {Image|Array|Object} image - Input image; format varies based on\n     *      `imageType`. For `equirectangular`, this is an image; for\n     *      `cubemap`, this is an array of images for the cube faces in the\n     *      order [+z, +x, -z, -x, +y, -y]; for `multires`, this is a\n     *      configuration object.\n     * @param {string} imageType - The type of the image: `equirectangular`,\n     *      `cubemap`, or `multires`.\n     * @param {boolean} dynamic - Whether or not the image is dynamic (e.g. video).\n     * @param {number} haov - Initial horizontal angle of view.\n     * @param {number} vaov - Initial vertical angle of view.\n     * @param {number} voffset - Initial vertical offset angle.\n     * @param {function} callback - Load callback function.\n     * @param {Object} [params] - Other configuration parameters (`horizonPitch`, `horizonRoll`, `backgroundColor`).\n     */\n\n    this.init = function (_image, _imageType, _dynamic, haov, vaov, voffset, callback, params) {\n      // Default argument for image type\n      if (_imageType === undefined) {\n        _imageType = 'equirectangular';\n      }\n\n      if (_imageType != 'equirectangular' && _imageType != 'cubemap' && _imageType != 'multires') {\n        console.log('Error: invalid image type specified!');\n        throw {\n          type: 'config error'\n        };\n      }\n\n      imageType = _imageType;\n      image = _image;\n      dynamic = _dynamic;\n      globalParams = params || {}; // Clear old data\n\n      if (program) {\n        if (vs) {\n          gl.detachShader(program, vs);\n          gl.deleteShader(vs);\n        }\n\n        if (fs) {\n          gl.detachShader(program, fs);\n          gl.deleteShader(fs);\n        }\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\n        if (program.texture) {\n          gl.deleteTexture(program.texture);\n        }\n\n        if (program.nodeCache) {\n          for (var i = 0; i < program.nodeCache.length; i++) {\n            gl.deleteTexture(program.nodeCache[i].texture);\n          }\n        }\n\n        gl.deleteProgram(program);\n        program = undefined;\n      }\n\n      pose = undefined;\n      var s;\n      var faceMissing = false;\n      var cubeImgWidth;\n\n      if (imageType == 'cubemap') {\n        for (s = 0; s < 6; s++) {\n          if (image[s].width > 0) {\n            if (cubeImgWidth === undefined) {\n              cubeImgWidth = image[s].width;\n            }\n\n            if (cubeImgWidth != image[s].width) {\n              console.log('Cube faces have inconsistent widths: ' + cubeImgWidth + ' vs. ' + image[s].width);\n            }\n          } else {\n            faceMissing = true;\n          }\n        }\n      }\n\n      function fillMissingFaces(imgSize) {\n        if (faceMissing) {\n          // Fill any missing fallback/cubemap faces with background\n          var nbytes = imgSize * imgSize * 4; // RGB, plus non-functional alpha\n\n          var imageArray = new Uint8ClampedArray(nbytes);\n          var rgb = params.backgroundColor ? params.backgroundColor : [0, 0, 0];\n          rgb[0] *= 255;\n          rgb[1] *= 255;\n          rgb[2] *= 255; // Maybe filling could be done faster, see e.g. https://stackoverflow.com/questions/1295584/most-efficient-way-to-create-a-zero-filled-javascript-array\n\n          for (var i = 0; i < nbytes; i++) {\n            imageArray[i++] = rgb[0];\n            imageArray[i++] = rgb[1];\n            imageArray[i++] = rgb[2];\n          }\n\n          var backgroundSquare = new ImageData(imageArray, imgSize, imgSize);\n\n          for (s = 0; s < 6; s++) {\n            if (image[s].width == 0) {\n              image[s] = backgroundSquare;\n            }\n          }\n        }\n      } // This awful browser specific test exists because iOS 8/9 and IE 11\n      // don't display non-power-of-two cubemap textures but also don't\n      // throw an error (tested on an iPhone 5c / iOS 8.1.3 / iOS 9.2 /\n      // iOS 10.3.1).\n      // Therefore, the WebGL context is never created for these browsers for\n      // NPOT cubemaps, and the CSS 3D transform fallback renderer is used\n      // instead.\n\n\n      if (!(imageType == 'cubemap' && (cubeImgWidth & cubeImgWidth - 1) !== 0 && (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/) || navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/) || navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/) || navigator.userAgent.match(/Trident.*rv[ :]*11\\./)))) {\n        // Enable WebGL on canvas\n        if (!gl) {\n          gl = canvas.getContext('experimental-webgl', {\n            alpha: false,\n            depth: false\n          });\n        }\n\n        if (gl && gl.getError() == 1286) {\n          handleWebGLError1286();\n        }\n      } // If there is no WebGL, fall back to CSS 3D transform renderer.\n      // This will discard the image loaded so far and load the fallback image.\n      // While browser specific tests are usually frowned upon, the\n      // fallback viewer only really works with WebKit/Blink and IE 10/11\n      // (it doesn't work properly in Firefox).\n\n\n      if (!gl && (imageType == 'multires' && image.hasOwnProperty('fallbackPath') || imageType == 'cubemap') && ('WebkitAppearance' in document.documentElement.style || navigator.userAgent.match(/Trident.*rv[ :]*11\\./) || navigator.appVersion.indexOf('MSIE 10') !== -1)) {\n        // Remove old world if it exists\n        if (world) {\n          container.removeChild(world);\n        } // Initialize renderer\n\n\n        world = document.createElement('div');\n        world.className = 'pnlm-world'; // Add images\n\n        var path;\n\n        if (image.basePath) {\n          path = image.basePath + image.fallbackPath;\n        } else {\n          path = image.fallbackPath;\n        }\n\n        var sides = ['f', 'r', 'b', 'l', 'u', 'd'];\n        var loaded = 0;\n\n        var onLoad = function onLoad() {\n          // Draw image on canvas\n          var faceCanvas = document.createElement('canvas');\n          faceCanvas.className = 'pnlm-face pnlm-' + sides[this.side] + 'face';\n          world.appendChild(faceCanvas);\n          var faceContext = faceCanvas.getContext('2d');\n          faceCanvas.style.width = this.width + 4 + 'px';\n          faceCanvas.style.height = this.height + 4 + 'px';\n          faceCanvas.width = this.width + 4;\n          faceCanvas.height = this.height + 4;\n          faceContext.drawImage(this, 2, 2);\n          var imgData = faceContext.getImageData(0, 0, faceCanvas.width, faceCanvas.height);\n          var data = imgData.data; // Duplicate edge pixels\n\n          var i;\n          var j;\n\n          for (i = 2; i < faceCanvas.width - 2; i++) {\n            for (j = 0; j < 4; j++) {\n              data[(i + faceCanvas.width) * 4 + j] = data[(i + faceCanvas.width * 2) * 4 + j];\n              data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 3)) * 4 + j];\n            }\n          }\n\n          for (i = 2; i < faceCanvas.height - 2; i++) {\n            for (j = 0; j < 4; j++) {\n              data[(i * faceCanvas.width + 1) * 4 + j] = data[(i * faceCanvas.width + 2) * 4 + j];\n              data[((i + 1) * faceCanvas.width - 2) * 4 + j] = data[((i + 1) * faceCanvas.width - 3) * 4 + j];\n            }\n          }\n\n          for (j = 0; j < 4; j++) {\n            data[(faceCanvas.width + 1) * 4 + j] = data[(faceCanvas.width * 2 + 2) * 4 + j];\n            data[(faceCanvas.width * 2 - 2) * 4 + j] = data[(faceCanvas.width * 3 - 3) * 4 + j];\n            data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 3) + 2) * 4 + j];\n            data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) - 3) * 4 + j];\n          }\n\n          for (i = 1; i < faceCanvas.width - 1; i++) {\n            for (j = 0; j < 4; j++) {\n              data[i * 4 + j] = data[(i + faceCanvas.width) * 4 + j];\n              data[(i + faceCanvas.width * (faceCanvas.height - 1)) * 4 + j] = data[(i + faceCanvas.width * (faceCanvas.height - 2)) * 4 + j];\n            }\n          }\n\n          for (i = 1; i < faceCanvas.height - 1; i++) {\n            for (j = 0; j < 4; j++) {\n              data[i * faceCanvas.width * 4 + j] = data[(i * faceCanvas.width + 1) * 4 + j];\n              data[((i + 1) * faceCanvas.width - 1) * 4 + j] = data[((i + 1) * faceCanvas.width - 2) * 4 + j];\n            }\n          }\n\n          for (j = 0; j < 4; j++) {\n            data[j] = data[(faceCanvas.width + 1) * 4 + j];\n            data[(faceCanvas.width - 1) * 4 + j] = data[(faceCanvas.width * 2 - 2) * 4 + j];\n            data[faceCanvas.width * (faceCanvas.height - 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 2) + 1) * 4 + j];\n            data[(faceCanvas.width * faceCanvas.height - 1) * 4 + j] = data[(faceCanvas.width * (faceCanvas.height - 1) - 2) * 4 + j];\n          } // Draw image width duplicated edge pixels on canvas\n\n\n          faceContext.putImageData(imgData, 0, 0);\n          incLoaded.call(this);\n        };\n\n        var incLoaded = function incLoaded() {\n          if (this.width > 0) {\n            if (fallbackImgSize === undefined) {\n              fallbackImgSize = this.width;\n            }\n\n            if (fallbackImgSize != this.width) {\n              console.log('Fallback faces have inconsistent widths: ' + fallbackImgSize + ' vs. ' + this.width);\n            }\n          } else {\n            faceMissing = true;\n          }\n\n          loaded++;\n\n          if (loaded == 6) {\n            fallbackImgSize = this.width;\n            container.appendChild(world);\n            callback();\n          }\n        };\n\n        faceMissing = false;\n\n        for (s = 0; s < 6; s++) {\n          var faceImg = new Image();\n          faceImg.crossOrigin = globalParams.crossOrigin ? globalParams.crossOrigin : 'anonymous';\n          faceImg.side = s;\n          faceImg.onload = onLoad;\n          faceImg.onerror = incLoaded; // ignore missing face to support partial fallback image\n\n          if (imageType == 'multires') {\n            faceImg.src = encodeURI(path.replace('%s', sides[s]) + '.' + image.extension);\n          } else {\n            faceImg.src = encodeURI(image[s].src);\n          }\n        }\n\n        fillMissingFaces(fallbackImgSize);\n        return;\n      } else if (!gl) {\n        console.log('Error: no WebGL support detected!');\n        throw {\n          type: 'no webgl'\n        };\n      }\n\n      if (imageType == 'cubemap') {\n        fillMissingFaces(cubeImgWidth);\n      }\n\n      if (image.basePath) {\n        image.fullpath = image.basePath + image.path;\n      } else {\n        image.fullpath = image.path;\n      }\n\n      image.invTileResolution = 1 / image.tileResolution;\n      var vertices = createCube();\n      vtmps = [];\n\n      for (s = 0; s < 6; s++) {\n        vtmps[s] = vertices.slice(s * 12, s * 12 + 12);\n        vertices = createCube();\n      } // Make sure image isn't too big\n\n\n      var width = 0,\n          maxWidth = 0;\n\n      if (imageType == 'equirectangular') {\n        width = Math.max(image.width, image.height);\n        maxWidth = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      } else if (imageType == 'cubemap') {\n        width = cubeImgWidth;\n        maxWidth = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n      }\n\n      if (width > maxWidth) {\n        console.log('Error: The image is too big; it\\'s ' + width + 'px wide, ' + 'but this device\\'s maximum supported size is ' + maxWidth + 'px.');\n        throw {\n          type: 'webgl size error',\n          width: width,\n          maxWidth: maxWidth\n        };\n      } // Store horizon pitch and roll if applicable\n\n\n      if (params !== undefined && (params.horizonPitch !== undefined || params.horizonRoll !== undefined)) {\n        pose = [params.horizonPitch == undefined ? 0 : params.horizonPitch, params.horizonRoll == undefined ? 0 : params.horizonRoll];\n      } // Set 2d texture binding\n\n\n      var glBindType = gl.TEXTURE_2D; // Create viewport for entire canvas\n\n      gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight); // Create vertex shader\n\n      vs = gl.createShader(gl.VERTEX_SHADER);\n      var vertexSrc = v;\n\n      if (imageType == 'multires') {\n        vertexSrc = vMulti;\n      }\n\n      gl.shaderSource(vs, vertexSrc);\n      gl.compileShader(vs); // Create fragment shader\n\n      fs = gl.createShader(gl.FRAGMENT_SHADER);\n      var fragmentSrc = fragEquirectangular;\n\n      if (imageType == 'cubemap') {\n        glBindType = gl.TEXTURE_CUBE_MAP;\n        fragmentSrc = fragCube;\n      } else if (imageType == 'multires') {\n        fragmentSrc = fragMulti;\n      }\n\n      gl.shaderSource(fs, fragmentSrc);\n      gl.compileShader(fs); // Link WebGL program\n\n      program = gl.createProgram();\n      gl.attachShader(program, vs);\n      gl.attachShader(program, fs);\n      gl.linkProgram(program); // Log errors\n\n      if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {\n        console.log(gl.getShaderInfoLog(vs));\n      }\n\n      if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {\n        console.log(gl.getShaderInfoLog(fs));\n      }\n\n      if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.log(gl.getProgramInfoLog(program));\n      } // Use WebGL program\n\n\n      gl.useProgram(program);\n      program.drawInProgress = false; // Set background clear color (does not apply to cubemap/fallback image)\n\n      var color = params.backgroundColor ? params.backgroundColor : [0, 0, 0];\n      gl.clearColor(color[0], color[1], color[2], 1.0);\n      gl.clear(gl.COLOR_BUFFER_BIT); // Look up texture coordinates location\n\n      program.texCoordLocation = gl.getAttribLocation(program, 'a_texCoord');\n      gl.enableVertexAttribArray(program.texCoordLocation);\n\n      if (imageType != 'multires') {\n        // Provide texture coordinates for rectangle\n        if (!texCoordBuffer) {\n          texCoordBuffer = gl.createBuffer();\n        }\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, 1, 1, 1, 1, -1, -1, 1, 1, -1, -1, -1]), gl.STATIC_DRAW);\n        gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0); // Pass aspect ratio\n\n        program.aspectRatio = gl.getUniformLocation(program, 'u_aspectRatio');\n        gl.uniform1f(program.aspectRatio, gl.drawingBufferWidth / gl.drawingBufferHeight); // Locate psi, theta, focal length, horizontal extent, vertical extent, and vertical offset\n\n        program.psi = gl.getUniformLocation(program, 'u_psi');\n        program.theta = gl.getUniformLocation(program, 'u_theta');\n        program.f = gl.getUniformLocation(program, 'u_f');\n        program.h = gl.getUniformLocation(program, 'u_h');\n        program.v = gl.getUniformLocation(program, 'u_v');\n        program.vo = gl.getUniformLocation(program, 'u_vo');\n        program.rot = gl.getUniformLocation(program, 'u_rot'); // Pass horizontal extent, vertical extent, and vertical offset\n\n        gl.uniform1f(program.h, haov / (Math.PI * 2.0));\n        gl.uniform1f(program.v, vaov / Math.PI);\n        gl.uniform1f(program.vo, voffset / Math.PI * 2); // Set background color\n\n        if (imageType == 'equirectangular') {\n          program.backgroundColor = gl.getUniformLocation(program, 'u_backgroundColor');\n          gl.uniform4fv(program.backgroundColor, color.concat([1]));\n        } // Create texture\n\n\n        program.texture = gl.createTexture();\n        gl.bindTexture(glBindType, program.texture); // Upload images to texture depending on type\n\n        if (imageType == 'cubemap') {\n          // Load all six sides of the cube map\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[1]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_X, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[3]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[4]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Y, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[5]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[0]);\n          gl.texImage2D(gl.TEXTURE_CUBE_MAP_NEGATIVE_Z, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image[2]);\n        } else {\n          // Upload image to the texture\n          gl.texImage2D(glBindType, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n        } // Set parameters for rendering any size\n\n\n        gl.texParameteri(glBindType, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(glBindType, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(glBindType, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(glBindType, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      } else {\n        // Look up vertex coordinates location\n        program.vertPosLocation = gl.getAttribLocation(program, 'a_vertCoord');\n        gl.enableVertexAttribArray(program.vertPosLocation); // Create buffers\n\n        if (!cubeVertBuf) {\n          cubeVertBuf = gl.createBuffer();\n        }\n\n        if (!cubeVertTexCoordBuf) {\n          cubeVertTexCoordBuf = gl.createBuffer();\n        }\n\n        if (!cubeVertIndBuf) {\n          cubeVertIndBuf = gl.createBuffer();\n        } // Bind texture coordinate buffer and pass coordinates to WebGL\n\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), gl.STATIC_DRAW); // Bind square index buffer and pass indicies to WebGL\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, cubeVertIndBuf);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 0, 2, 3]), gl.STATIC_DRAW); // Find uniforms\n\n        program.perspUniform = gl.getUniformLocation(program, 'u_perspMatrix');\n        program.cubeUniform = gl.getUniformLocation(program, 'u_cubeMatrix'); //program.colorUniform = gl.getUniformLocation(program, 'u_color');\n\n        program.level = -1;\n        program.currentNodes = [];\n        program.nodeCache = [];\n        program.nodeCacheTimestamp = 0;\n      } // Check if there was an error\n\n\n      var err = gl.getError();\n\n      if (err !== 0) {\n        console.log('Error: Something went wrong with WebGL!', err);\n        throw {\n          type: 'webgl error'\n        };\n      }\n\n      callback();\n    };\n    /**\n     * Destroy renderer.\n     * @memberof Renderer\n     * @instance\n     */\n\n\n    this.destroy = function () {\n      if (container !== undefined) {\n        if (canvas !== undefined && container.contains(canvas)) {\n          container.removeChild(canvas);\n        }\n\n        if (world !== undefined && container.contains(world)) {\n          container.removeChild(world);\n        }\n      }\n\n      if (gl) {\n        // The spec says this is only supposed to simulate losing the WebGL\n        // context, but in practice it tends to actually free the memory.\n        var extension = gl.getExtension('WEBGL_lose_context');\n\n        if (extension) {\n          extension.loseContext();\n        }\n      }\n    };\n    /**\n     * Resize renderer (call after resizing container).\n     * @memberof Renderer\n     * @instance\n     */\n\n\n    this.resize = function () {\n      var pixelRatio = window.devicePixelRatio || 1;\n      canvas.width = canvas.clientWidth * pixelRatio;\n      canvas.height = canvas.clientHeight * pixelRatio;\n\n      if (gl) {\n        if (gl.getError() == 1286) {\n          handleWebGLError1286();\n        }\n\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n\n        if (imageType != 'multires') {\n          gl.uniform1f(program.aspectRatio, canvas.clientWidth / canvas.clientHeight);\n        }\n      }\n    }; // Initialize canvas size\n\n\n    this.resize();\n    /**\n     * Set renderer horizon pitch and roll.\n     * @memberof Renderer\n     * @instance\n     */\n\n    this.setPose = function (horizonPitch, horizonRoll) {\n      pose = [horizonPitch, horizonRoll];\n    };\n    /**\n     * Render new view of panorama.\n     * @memberof Renderer\n     * @instance\n     * @param {number} pitch - Pitch to render at (in radians).\n     * @param {number} yaw - Yaw to render at (in radians).\n     * @param {number} hfov - Horizontal field of view to render with (in radians).\n     * @param {Object} [params] - Extra configuration parameters. \n     * @param {number} [params.roll] - Camera roll (in radians).\n     * @param {boolean} [params.returnImage] - Return rendered image?\n     */\n\n\n    this.render = function (pitch, yaw, hfov, params) {\n      var focal,\n          i,\n          s,\n          roll = 0;\n\n      if (params === undefined) {\n        params = {};\n      }\n\n      if (params.roll) {\n        roll = params.roll;\n      } // Apply pitch and roll transformation if applicable\n\n\n      if (pose !== undefined) {\n        var horizonPitch = pose[0],\n            horizonRoll = pose[1]; // Calculate new pitch and yaw\n\n        var orig_pitch = pitch,\n            orig_yaw = yaw,\n            x = Math.cos(horizonRoll) * Math.sin(pitch) * Math.sin(horizonPitch) + Math.cos(pitch) * (Math.cos(horizonPitch) * Math.cos(yaw) + Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.sin(yaw)),\n            y = -Math.sin(pitch) * Math.sin(horizonRoll) + Math.cos(pitch) * Math.cos(horizonRoll) * Math.sin(yaw),\n            z = Math.cos(horizonRoll) * Math.cos(horizonPitch) * Math.sin(pitch) + Math.cos(pitch) * (-Math.cos(yaw) * Math.sin(horizonPitch) + Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.sin(yaw));\n        pitch = Math.asin(Math.max(Math.min(z, 1), -1));\n        yaw = Math.atan2(y, x); // Calculate roll\n\n        var v = [Math.cos(orig_pitch) * (Math.sin(horizonRoll) * Math.sin(horizonPitch) * Math.cos(orig_yaw) - Math.cos(horizonPitch) * Math.sin(orig_yaw)), Math.cos(orig_pitch) * Math.cos(horizonRoll) * Math.cos(orig_yaw), Math.cos(orig_pitch) * (Math.cos(horizonPitch) * Math.sin(horizonRoll) * Math.cos(orig_yaw) + Math.sin(orig_yaw) * Math.sin(horizonPitch))],\n            w = [-Math.cos(pitch) * Math.sin(yaw), Math.cos(pitch) * Math.cos(yaw)];\n        var roll_adj = Math.acos(Math.max(Math.min((v[0] * w[0] + v[1] * w[1]) / (Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]) * Math.sqrt(w[0] * w[0] + w[1] * w[1])), 1), -1));\n\n        if (v[2] < 0) {\n          roll_adj = 2 * Math.PI - roll_adj;\n        }\n\n        roll += roll_adj;\n      } // If no WebGL\n\n\n      if (!gl && (imageType == 'multires' || imageType == 'cubemap')) {\n        // Determine face transforms\n        s = fallbackImgSize / 2;\n        var transforms = {\n          f: 'translate3d(-' + (s + 2) + 'px, -' + (s + 2) + 'px, -' + s + 'px)',\n          b: 'translate3d(' + (s + 2) + 'px, -' + (s + 2) + 'px, ' + s + 'px) rotateX(180deg) rotateZ(180deg)',\n          u: 'translate3d(-' + (s + 2) + 'px, -' + s + 'px, ' + (s + 2) + 'px) rotateX(270deg)',\n          d: 'translate3d(-' + (s + 2) + 'px, ' + s + 'px, -' + (s + 2) + 'px) rotateX(90deg)',\n          l: 'translate3d(-' + s + 'px, -' + (s + 2) + 'px, ' + (s + 2) + 'px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)',\n          r: 'translate3d(' + s + 'px, -' + (s + 2) + 'px, -' + (s + 2) + 'px) rotateY(270deg)'\n        };\n        focal = 1 / Math.tan(hfov / 2);\n        var zoom = focal * canvas.clientWidth / 2 + 'px';\n        var transform = 'perspective(' + zoom + ') translateZ(' + zoom + ') rotateX(' + pitch + 'rad) rotateY(' + yaw + 'rad) '; // Apply face transforms\n\n        var faces = Object.keys(transforms);\n\n        for (i = 0; i < 6; i++) {\n          var face = world.querySelector('.pnlm-' + faces[i] + 'face');\n\n          if (!face) {\n            continue;\n          } // ignore missing face to support partial cubemap/fallback image\n\n\n          face.style.webkitTransform = transform + transforms[faces[i]];\n          face.style.transform = transform + transforms[faces[i]];\n        }\n\n        return;\n      }\n\n      if (imageType != 'multires') {\n        // Calculate focal length from vertical field of view\n        var vfov = 2 * Math.atan(Math.tan(hfov * 0.5) / (gl.drawingBufferWidth / gl.drawingBufferHeight));\n        focal = 1 / Math.tan(vfov * 0.5); // Pass psi, theta, roll, and focal length\n\n        gl.uniform1f(program.psi, yaw);\n        gl.uniform1f(program.theta, pitch);\n        gl.uniform1f(program.rot, roll);\n        gl.uniform1f(program.f, focal);\n\n        if (dynamic === true) {\n          // Update texture if dynamic\n          if (imageType == 'equirectangular') {\n            gl.bindTexture(gl.TEXTURE_2D, program.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n          }\n        } // Draw using current buffer\n\n\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n      } else {\n        // Create perspective matrix\n        var perspMatrix = makePersp(hfov, gl.drawingBufferWidth / gl.drawingBufferHeight, 0.1, 100.0); // Find correct zoom level\n\n        checkZoom(hfov); // Create rotation matrix\n\n        var matrix = identityMatrix3();\n        matrix = rotateMatrix(matrix, -roll, 'z');\n        matrix = rotateMatrix(matrix, -pitch, 'x');\n        matrix = rotateMatrix(matrix, yaw, 'y');\n        matrix = makeMatrix4(matrix); // Set matrix uniforms\n\n        gl.uniformMatrix4fv(program.perspUniform, false, new Float32Array(transposeMatrix4(perspMatrix)));\n        gl.uniformMatrix4fv(program.cubeUniform, false, new Float32Array(transposeMatrix4(matrix))); // Find current nodes\n\n        var rotPersp = rotatePersp(perspMatrix, matrix);\n        program.nodeCache.sort(multiresNodeSort);\n\n        if (program.nodeCache.length > 200 && program.nodeCache.length > program.currentNodes.length + 50) {\n          // Remove older nodes from cache\n          var removed = program.nodeCache.splice(200, program.nodeCache.length - 200);\n\n          for (var i = 0; i < removed.length; i++) {\n            // Explicitly delete textures\n            gl.deleteTexture(removed[i].texture);\n          }\n        }\n\n        program.currentNodes = [];\n        var sides = ['f', 'b', 'u', 'd', 'l', 'r'];\n\n        for (s = 0; s < 6; s++) {\n          var ntmp = new MultiresNode(vtmps[s], sides[s], 1, 0, 0, image.fullpath);\n          testMultiresNode(rotPersp, ntmp, pitch, yaw, hfov);\n        }\n\n        program.currentNodes.sort(multiresNodeRenderSort); // Unqueue any pending requests for nodes that are no longer visible\n\n        for (i = pendingTextureRequests.length - 1; i >= 0; i--) {\n          if (program.currentNodes.indexOf(pendingTextureRequests[i].node) === -1) {\n            pendingTextureRequests[i].node.textureLoad = false;\n            pendingTextureRequests.splice(i, 1);\n          }\n        } // Allow one request to be pending, so that we can create a texture buffer for that in advance of loading actually beginning\n\n\n        if (pendingTextureRequests.length === 0) {\n          for (i = 0; i < program.currentNodes.length; i++) {\n            var node = program.currentNodes[i];\n\n            if (!node.texture && !node.textureLoad) {\n              node.textureLoad = true;\n              setTimeout(processNextTile, 0, node); // Only process one tile per frame to improve responsiveness\n\n              break;\n            }\n          }\n        } // Draw tiles\n\n\n        multiresDraw();\n      }\n\n      if (params.returnImage !== undefined) {\n        return canvas.toDataURL('image/png');\n      }\n    };\n    /**\n     * Check if images are loading.\n     * @memberof Renderer\n     * @instance\n     * @returns {boolean} Whether or not images are loading.\n     */\n\n\n    this.isLoading = function () {\n      if (gl && imageType == 'multires') {\n        for (var i = 0; i < program.currentNodes.length; i++) {\n          if (!program.currentNodes[i].textureLoaded) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    };\n    /**\n     * Retrieve renderer's canvas.\n     * @memberof Renderer\n     * @instance\n     * @returns {HTMLElement} Renderer's canvas.\n     */\n\n\n    this.getCanvas = function () {\n      return canvas;\n    };\n    /**\n     * Sorting method for multires nodes.\n     * @private\n     * @param {MultiresNode} a - First node.\n     * @param {MultiresNode} b - Second node.\n     * @returns {number} Base tiles first, then higher timestamp first.\n     */\n\n\n    function multiresNodeSort(a, b) {\n      // Base tiles are always first\n      if (a.level == 1 && b.level != 1) {\n        return -1;\n      }\n\n      if (b.level == 1 && a.level != 1) {\n        return 1;\n      } // Higher timestamp first\n\n\n      return b.timestamp - a.timestamp;\n    }\n    /**\n     * Sorting method for multires node rendering.\n     * @private\n     * @param {MultiresNode} a - First node.\n     * @param {MultiresNode} b - Second node.\n     * @returns {number} Lower zoom levels first, then closest to center first.\n     */\n\n\n    function multiresNodeRenderSort(a, b) {\n      // Lower zoom levels first\n      if (a.level != b.level) {\n        return a.level - b.level;\n      } // Lower distance from center first\n\n\n      return a.diff - b.diff;\n    }\n    /**\n     * Draws multires nodes.\n     * @private\n     */\n\n\n    function multiresDraw() {\n      if (!program.drawInProgress) {\n        program.drawInProgress = true;\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        for (var i = 0; i < program.currentNodes.length; i++) {\n          if (program.currentNodes[i].textureLoaded > 1) {\n            //var color = program.currentNodes[i].color;\n            //gl.uniform4f(program.colorUniform, color[0], color[1], color[2], 1.0);\n            // Bind vertex buffer and pass vertices to WebGL\n            gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertBuf);\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(program.currentNodes[i].vertices), gl.STATIC_DRAW);\n            gl.vertexAttribPointer(program.vertPosLocation, 3, gl.FLOAT, false, 0, 0); // Prep for texture\n\n            gl.bindBuffer(gl.ARRAY_BUFFER, cubeVertTexCoordBuf);\n            gl.vertexAttribPointer(program.texCoordLocation, 2, gl.FLOAT, false, 0, 0); // Bind texture and draw tile\n\n            gl.bindTexture(gl.TEXTURE_2D, program.currentNodes[i].texture); // Bind program.currentNodes[i].texture to TEXTURE0\n\n            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n          }\n        }\n\n        program.drawInProgress = false;\n      }\n    }\n    /**\n     * Creates new multires node.\n     * @constructor\n     * @private\n     * @param {number[]} vertices - Node's verticies.\n     * @param {string} side - Node's cube face.\n     * @param {number} level - Node's zoom level.\n     * @param {number} x - Node's x position.\n     * @param {number} y - Node's y position.\n     * @param {string} path - Node's path.\n     */\n\n\n    function MultiresNode(vertices, side, level, x, y, path) {\n      this.vertices = vertices;\n      this.side = side;\n      this.level = level;\n      this.x = x;\n      this.y = y;\n      this.path = path.replace('%s', side).replace('%l', level).replace('%x', x).replace('%y', y);\n    }\n    /**\n     * Test if multires node is visible. If it is, add it to current nodes,\n     * load its texture, and load appropriate child nodes.\n     * @private\n     * @param {number[]} rotPersp - Rotated perspective matrix.\n     * @param {MultiresNode} node - Multires node to check.\n     * @param {number} pitch - Pitch to check at.\n     * @param {number} yaw - Yaw to check at.\n     * @param {number} hfov - Horizontal field of view to check at.\n     */\n\n\n    function testMultiresNode(rotPersp, node, pitch, yaw, hfov) {\n      if (checkSquareInView(rotPersp, node.vertices)) {\n        // Calculate central angle between center of view and center of tile\n        var v = node.vertices;\n        var x = v[0] + v[3] + v[6] + v[9];\n        var y = v[1] + v[4] + v[7] + v[10];\n        var z = v[2] + v[5] + v[8] + v[11];\n        var r = Math.sqrt(x * x + y * y + z * z);\n        var theta = Math.asin(z / r);\n        var phi = Math.atan2(y, x);\n        var ydiff = phi - yaw;\n        ydiff += ydiff > Math.PI ? -2 * Math.PI : ydiff < -Math.PI ? 2 * Math.PI : 0;\n        ydiff = Math.abs(ydiff);\n        node.diff = Math.acos(Math.sin(pitch) * Math.sin(theta) + Math.cos(pitch) * Math.cos(theta) * Math.cos(ydiff)); // Add node to current nodes and load texture if needed\n\n        var inCurrent = false;\n\n        for (var k = 0; k < program.nodeCache.length; k++) {\n          if (program.nodeCache[k].path == node.path) {\n            inCurrent = true;\n            program.nodeCache[k].timestamp = program.nodeCacheTimestamp++;\n            program.nodeCache[k].diff = node.diff;\n            program.currentNodes.push(program.nodeCache[k]);\n            break;\n          }\n        }\n\n        if (!inCurrent) {\n          //node.color = [Math.random(), Math.random(), Math.random()];\n          node.timestamp = program.nodeCacheTimestamp++;\n          program.currentNodes.push(node);\n          program.nodeCache.push(node);\n        } // TODO: Test error\n        // Create child nodes\n\n\n        if (node.level < program.level) {\n          var cubeSize = image.cubeResolution * Math.pow(2, node.level - image.maxLevel);\n          var numTiles = Math.ceil(cubeSize * image.invTileResolution) - 1;\n          var doubleTileSize = cubeSize % image.tileResolution * 2;\n          var lastTileSize = cubeSize * 2 % image.tileResolution;\n\n          if (lastTileSize === 0) {\n            lastTileSize = image.tileResolution;\n          }\n\n          if (doubleTileSize === 0) {\n            doubleTileSize = image.tileResolution * 2;\n          }\n\n          var f = 0.5;\n\n          if (node.x == numTiles || node.y == numTiles) {\n            f = 1.0 - image.tileResolution / (image.tileResolution + lastTileSize);\n          }\n\n          var i = 1.0 - f;\n          var children = [];\n          var vtmp, ntmp;\n          var f1 = f,\n              f2 = f,\n              f3 = f,\n              i1 = i,\n              i2 = i,\n              i3 = i; // Handle non-symmetric tiles\n\n          if (lastTileSize < image.tileResolution) {\n            if (node.x == numTiles && node.y != numTiles) {\n              f2 = 0.5;\n              i2 = 0.5;\n\n              if (node.side == 'd' || node.side == 'u') {\n                f3 = 0.5;\n                i3 = 0.5;\n              }\n            } else if (node.x != numTiles && node.y == numTiles) {\n              f1 = 0.5;\n              i1 = 0.5;\n\n              if (node.side == 'l' || node.side == 'r') {\n                f3 = 0.5;\n                i3 = 0.5;\n              }\n            }\n          } // Handle small tiles that have fewer than four children\n\n\n          if (doubleTileSize <= image.tileResolution) {\n            if (node.x == numTiles) {\n              f1 = 0;\n              i1 = 1;\n\n              if (node.side == 'l' || node.side == 'r') {\n                f3 = 0;\n                i3 = 1;\n              }\n            }\n\n            if (node.y == numTiles) {\n              f2 = 0;\n              i2 = 1;\n\n              if (node.side == 'd' || node.side == 'u') {\n                f3 = 0;\n                i3 = 1;\n              }\n            }\n          }\n\n          vtmp = [v[0], v[1], v[2], v[0] * f1 + v[3] * i1, v[1] * f + v[4] * i, v[2] * f3 + v[5] * i3, v[0] * f1 + v[6] * i1, v[1] * f2 + v[7] * i2, v[2] * f3 + v[8] * i3, v[0] * f + v[9] * i, v[1] * f2 + v[10] * i2, v[2] * f3 + v[11] * i3];\n          ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x * 2, node.y * 2, image.fullpath);\n          children.push(ntmp);\n\n          if (!(node.x == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [v[0] * f1 + v[3] * i1, v[1] * f + v[4] * i, v[2] * f3 + v[5] * i3, v[3], v[4], v[5], v[3] * f + v[6] * i, v[4] * f2 + v[7] * i2, v[5] * f3 + v[8] * i3, v[0] * f1 + v[6] * i1, v[1] * f2 + v[7] * i2, v[2] * f3 + v[8] * i3];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x * 2 + 1, node.y * 2, image.fullpath);\n            children.push(ntmp);\n          }\n\n          if (!(node.x == numTiles && doubleTileSize <= image.tileResolution) && !(node.y == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [v[0] * f1 + v[6] * i1, v[1] * f2 + v[7] * i2, v[2] * f3 + v[8] * i3, v[3] * f + v[6] * i, v[4] * f2 + v[7] * i2, v[5] * f3 + v[8] * i3, v[6], v[7], v[8], v[9] * f1 + v[6] * i1, v[10] * f + v[7] * i, v[11] * f3 + v[8] * i3];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x * 2 + 1, node.y * 2 + 1, image.fullpath);\n            children.push(ntmp);\n          }\n\n          if (!(node.y == numTiles && doubleTileSize <= image.tileResolution)) {\n            vtmp = [v[0] * f + v[9] * i, v[1] * f2 + v[10] * i2, v[2] * f3 + v[11] * i3, v[0] * f1 + v[6] * i1, v[1] * f2 + v[7] * i2, v[2] * f3 + v[8] * i3, v[9] * f1 + v[6] * i1, v[10] * f + v[7] * i, v[11] * f3 + v[8] * i3, v[9], v[10], v[11]];\n            ntmp = new MultiresNode(vtmp, node.side, node.level + 1, node.x * 2, node.y * 2 + 1, image.fullpath);\n            children.push(ntmp);\n          }\n\n          for (var j = 0; j < children.length; j++) {\n            testMultiresNode(rotPersp, children[j], pitch, yaw, hfov);\n          }\n        }\n      }\n    }\n    /**\n     * Creates cube vertex array.\n     * @private\n     * @returns {number[]} Cube vertex array.\n     */\n\n\n    function createCube() {\n      return [-1, 1, -1, 1, 1, -1, 1, -1, -1, -1, -1, -1, // Front face\n      1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, // Back face\n      -1, 1, 1, 1, 1, 1, 1, 1, -1, -1, 1, -1, // Up face\n      -1, -1, -1, 1, -1, -1, 1, -1, 1, -1, -1, 1, // Down face\n      -1, 1, 1, -1, 1, -1, -1, -1, -1, -1, -1, 1, // Left face\n      1, 1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1 // Right face\n      ];\n    }\n    /**\n     * Creates 3x3 identity matrix.\n     * @private\n     * @returns {number[]} Identity matrix.\n     */\n\n\n    function identityMatrix3() {\n      return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    }\n    /**\n     * Rotates a 3x3 matrix.\n     * @private\n     * @param {number[]} m - Matrix to rotate.\n     * @param {number[]} angle - Angle to rotate by in radians.\n     * @param {string} axis - Axis to rotate about (`x`, `y`, or `z`).\n     * @returns {number[]} Rotated matrix.\n     */\n\n\n    function rotateMatrix(m, angle, axis) {\n      var s = Math.sin(angle);\n      var c = Math.cos(angle);\n\n      if (axis == 'x') {\n        return [m[0], c * m[1] + s * m[2], c * m[2] - s * m[1], m[3], c * m[4] + s * m[5], c * m[5] - s * m[4], m[6], c * m[7] + s * m[8], c * m[8] - s * m[7]];\n      }\n\n      if (axis == 'y') {\n        return [c * m[0] - s * m[2], m[1], c * m[2] + s * m[0], c * m[3] - s * m[5], m[4], c * m[5] + s * m[3], c * m[6] - s * m[8], m[7], c * m[8] + s * m[6]];\n      }\n\n      if (axis == 'z') {\n        return [c * m[0] + s * m[1], c * m[1] - s * m[0], m[2], c * m[3] + s * m[4], c * m[4] - s * m[3], m[5], c * m[6] + s * m[7], c * m[7] - s * m[6], m[8]];\n      }\n    }\n    /**\n     * Turns a 3x3 matrix into a 4x4 matrix.\n     * @private\n     * @param {number[]} m - Input matrix.\n     * @returns {number[]} Expanded matrix.\n     */\n\n\n    function makeMatrix4(m) {\n      return [m[0], m[1], m[2], 0, m[3], m[4], m[5], 0, m[6], m[7], m[8], 0, 0, 0, 0, 1];\n    }\n    /**\n     * Transposes a 4x4 matrix.\n     * @private\n     * @param {number[]} m - Input matrix.\n     * @returns {number[]} Transposed matrix.\n     */\n\n\n    function transposeMatrix4(m) {\n      return [m[0], m[4], m[8], m[12], m[1], m[5], m[9], m[13], m[2], m[6], m[10], m[14], m[3], m[7], m[11], m[15]];\n    }\n    /**\n     * Creates a perspective matrix.\n     * @private\n     * @param {number} hfov - Desired horizontal field of view.\n     * @param {number} aspect - Desired aspect ratio.\n     * @param {number} znear - Near distance.\n     * @param {number} zfar - Far distance.\n     * @returns {number[]} Generated perspective matrix.\n     */\n\n\n    function makePersp(hfov, aspect, znear, zfar) {\n      var fovy = 2 * Math.atan(Math.tan(hfov / 2) * gl.drawingBufferHeight / gl.drawingBufferWidth);\n      var f = 1 / Math.tan(fovy / 2);\n      return [f / aspect, 0, 0, 0, 0, f, 0, 0, 0, 0, (zfar + znear) / (znear - zfar), 2 * zfar * znear / (znear - zfar), 0, 0, -1, 0];\n    }\n    /**\n     * Processes a loaded texture image into a WebGL texture.\n     * @private\n     * @param {Image} img - Input image.\n     * @param {WebGLTexture} tex - Texture to bind image to.\n     */\n\n\n    function processLoadedTexture(img, tex) {\n      gl.bindTexture(gl.TEXTURE_2D, tex);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, img);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n    }\n\n    var pendingTextureRequests = []; // Based on http://blog.tojicode.com/2012/03/javascript-memory-optimization-and.html\n\n    var loadTexture = function () {\n      var cacheTop = 4; // Maximum number of concurrents loads\n\n      var textureImageCache = {};\n      var crossOrigin;\n\n      function TextureImageLoader() {\n        var self = this;\n        this.texture = this.callback = null;\n        this.image = new Image();\n        this.image.crossOrigin = crossOrigin ? crossOrigin : 'anonymous';\n\n        var loadFn = function loadFn() {\n          if (self.image.width > 0 && self.image.height > 0) {\n            // ignore missing tile to supporting partial image\n            processLoadedTexture(self.image, self.texture);\n            self.callback(self.texture, true);\n          } else {\n            self.callback(self.texture, false);\n          }\n\n          releaseTextureImageLoader(self);\n        };\n\n        this.image.addEventListener('load', loadFn);\n        this.image.addEventListener('error', loadFn); // ignore missing tile file to support partial image, otherwise retry loop causes high CPU load\n      }\n\n      ;\n\n      TextureImageLoader.prototype.loadTexture = function (src, texture, callback) {\n        this.texture = texture;\n        this.callback = callback;\n        this.image.src = src;\n      };\n\n      function PendingTextureRequest(node, src, texture, callback) {\n        this.node = node;\n        this.src = src;\n        this.texture = texture;\n        this.callback = callback;\n      }\n\n      ;\n\n      function releaseTextureImageLoader(til) {\n        if (pendingTextureRequests.length) {\n          var req = pendingTextureRequests.shift();\n          til.loadTexture(req.src, req.texture, req.callback);\n        } else {\n          textureImageCache[cacheTop++] = til;\n        }\n      }\n\n      for (var i = 0; i < cacheTop; i++) {\n        textureImageCache[i] = new TextureImageLoader();\n      }\n\n      return function (node, src, callback, _crossOrigin) {\n        crossOrigin = _crossOrigin;\n        var texture = gl.createTexture();\n\n        if (cacheTop) {\n          textureImageCache[--cacheTop].loadTexture(src, texture, callback);\n        } else {\n          pendingTextureRequests.push(new PendingTextureRequest(node, src, texture, callback));\n        }\n\n        return texture;\n      };\n    }();\n    /**\n     * Loads image and creates texture for a multires node / tile.\n     * @private\n     * @param {MultiresNode} node - Input node.\n     */\n\n\n    function processNextTile(node) {\n      loadTexture(node, encodeURI(node.path + '.' + image.extension), function (texture, loaded) {\n        node.texture = texture;\n        node.textureLoaded = loaded ? 2 : 1;\n      }, globalParams.crossOrigin);\n    }\n    /**\n     * Finds and applies optimal multires zoom level.\n     * @private\n     * @param {number} hfov - Horizontal field of view to check at.\n     */\n\n\n    function checkZoom(hfov) {\n      // Find optimal level\n      var newLevel = 1;\n\n      while (newLevel < image.maxLevel && gl.drawingBufferWidth > image.tileResolution * Math.pow(2, newLevel - 1) * Math.tan(hfov / 2) * 0.707) {\n        newLevel++;\n      } // Apply change\n\n\n      program.level = newLevel;\n    }\n    /**\n     * Rotates perspective matrix.\n     * @private\n     * @param {number[]} p - Perspective matrix.\n     * @param {number[]} r - Rotation matrix.\n     * @returns {number[]} Rotated matrix.\n     */\n\n\n    function rotatePersp(p, r) {\n      return [p[0] * r[0], p[0] * r[1], p[0] * r[2], 0, p[5] * r[4], p[5] * r[5], p[5] * r[6], 0, p[10] * r[8], p[10] * r[9], p[10] * r[10], p[11], -r[8], -r[9], -r[10], 0];\n    }\n    /**\n     * Applies rotated perspective matrix to a 3-vector\n     * (last element is inverted).\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Input 3-vector.\n     * @returns {number[]} Resulting 4-vector.\n     */\n\n\n    function applyRotPerspToVec(m, v) {\n      return [m[0] * v[0] + m[1] * v[1] + m[2] * v[2], m[4] * v[0] + m[5] * v[1] + m[6] * v[2], m[11] + m[8] * v[0] + m[9] * v[1] + m[10] * v[2], 1 / (m[12] * v[0] + m[13] * v[1] + m[14] * v[2])];\n    }\n    /**\n     * Checks if a vertex is visible.\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Input vertex.\n     * @returns {number} 1 or -1 if the vertex is or is not visible,\n     *      respectively.\n     */\n\n\n    function checkInView(m, v) {\n      var vpp = applyRotPerspToVec(m, v);\n      var winX = vpp[0] * vpp[3];\n      var winY = vpp[1] * vpp[3];\n      var winZ = vpp[2] * vpp[3];\n      var ret = [0, 0, 0];\n\n      if (winX < -1) {\n        ret[0] = -1;\n      }\n\n      if (winX > 1) {\n        ret[0] = 1;\n      }\n\n      if (winY < -1) {\n        ret[1] = -1;\n      }\n\n      if (winY > 1) {\n        ret[1] = 1;\n      }\n\n      if (winZ < -1 || winZ > 1) {\n        ret[2] = 1;\n      }\n\n      return ret;\n    }\n    /**\n     * Checks if a square (tile) is visible.\n     * @private\n     * @param {number[]} m - Rotated perspective matrix.\n     * @param {number[]} v - Square's vertex array.\n     * @returns {boolean} Whether or not the square is visible.\n     */\n\n\n    function checkSquareInView(m, v) {\n      var check1 = checkInView(m, v.slice(0, 3));\n      var check2 = checkInView(m, v.slice(3, 6));\n      var check3 = checkInView(m, v.slice(6, 9));\n      var check4 = checkInView(m, v.slice(9, 12));\n      var testX = check1[0] + check2[0] + check3[0] + check4[0];\n\n      if (testX == -4 || testX == 4) {\n        return false;\n      }\n\n      var testY = check1[1] + check2[1] + check3[1] + check4[1];\n\n      if (testY == -4 || testY == 4) {\n        return false;\n      }\n\n      var testZ = check1[2] + check2[2] + check3[2] + check4[2];\n      return testZ != 4;\n    }\n    /**\n     * On iOS (iPhone 5c, iOS 10.3), this WebGL error occurs when the canvas is\n     * too big. Unfortuately, there's no way to test for this beforehand, so we\n     * reduce the canvas size if this error is thrown.\n     * @private\n     */\n\n\n    function handleWebGLError1286() {\n      console.log('Reducing canvas size due to error 1286!');\n      canvas.width = Math.round(canvas.width / 2);\n      canvas.height = Math.round(canvas.height / 2);\n    }\n  } // Vertex shader for equirectangular and cube\n\n\n  var v = ['attribute vec2 a_texCoord;', 'varying vec2 v_texCoord;', 'void main() {', // Set position\n  'gl_Position = vec4(a_texCoord, 0.0, 1.0);', // Pass the coordinates to the fragment shader\n  'v_texCoord = a_texCoord;', '}'].join(''); // Vertex shader for multires\n\n  var vMulti = ['attribute vec3 a_vertCoord;', 'attribute vec2 a_texCoord;', 'uniform mat4 u_cubeMatrix;', 'uniform mat4 u_perspMatrix;', 'varying mediump vec2 v_texCoord;', 'void main(void) {', // Set position\n  'gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);', // Pass the coordinates to the fragment shader\n  'v_texCoord = a_texCoord;', '}'].join(''); // Fragment shader\n\n  var fragEquiCubeBase = ['precision mediump float;', 'uniform float u_aspectRatio;', 'uniform float u_psi;', 'uniform float u_theta;', 'uniform float u_f;', 'uniform float u_h;', 'uniform float u_v;', 'uniform float u_vo;', 'uniform float u_rot;', 'const float PI = 3.14159265358979323846264;', // Texture\n  'uniform sampler2D u_image;', 'uniform samplerCube u_imageCube;', // Coordinates passed in from vertex shader\n  'varying vec2 v_texCoord;', // Background color (display for partial panoramas)\n  'uniform vec4 u_backgroundColor;', 'void main() {', // Map canvas/camera to sphere\n  'float x = v_texCoord.x * u_aspectRatio;', 'float y = v_texCoord.y;', 'float sinrot = sin(u_rot);', 'float cosrot = cos(u_rot);', 'float rot_x = x * cosrot - y * sinrot;', 'float rot_y = x * sinrot + y * cosrot;', 'float sintheta = sin(u_theta);', 'float costheta = cos(u_theta);', 'float a = u_f * costheta - rot_y * sintheta;', 'float root = sqrt(rot_x * rot_x + a * a);', 'float lambda = atan(rot_x / root, a / root) + u_psi;', 'float phi = atan((rot_y * costheta + u_f * sintheta) / root);'].join('\\n'); // Fragment shader\n\n  var fragCube = fragEquiCubeBase + [// Look up color from texture\n  'float cosphi = cos(phi);', 'gl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));', '}'].join('\\n'); // Fragment shader\n\n  var fragEquirectangular = fragEquiCubeBase + [// Wrap image\n  'lambda = mod(lambda + PI, PI * 2.0) - PI;', // Map texture to sphere\n  'vec2 coord = vec2(lambda / PI, phi / (PI / 2.0));', // Look up color from texture\n  // Map from [-1,1] to [0,1] and flip y-axis\n  'if(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)', 'gl_FragColor = u_backgroundColor;', 'else', 'gl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));', '}'].join('\\n'); // Fragment shader\n\n  var fragMulti = ['varying mediump vec2 v_texCoord;', 'uniform sampler2D u_sampler;', //'uniform mediump vec4 u_color;',\n  'void main(void) {', // Look up color from texture\n  'gl_FragColor = texture2D(u_sampler, v_texCoord);', //    'gl_FragColor = u_color;',\n  '}'].join('');\n  return {\n    renderer: function renderer(container, image, imagetype, dynamic) {\n      return new Renderer(container, image, imagetype, dynamic);\n    }\n  };\n}(window, document);","/*\n * Pannellum - An HTML5 based Panorama Viewer\n * Copyright (c) 2011-2018 Matthew Petroff\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nwindow.pannellum = function (window, document, undefined) {\n  /**\n  * Creates a new panorama viewer.\n  * @constructor\n  * @param {HTMLElement|string} container - The container (div) element for the\n  *      viewer, or its ID.\n  * @param {Object} initialConfig - Inital configuration for viewer.\n  */\n  function Viewer(container, initialConfig) {\n    var _this = this; // Declare variables\n\n\n    var config,\n        renderer,\n        preview,\n        isUserInteracting = false,\n        latestInteraction = Date.now(),\n        onPointerDownPointerX = 0,\n        onPointerDownPointerY = 0,\n        onPointerDownPointerDist = -1,\n        onPointerDownYaw = 0,\n        onPointerDownPitch = 0,\n        keysDown = new Array(10),\n        fullscreenActive = false,\n        loaded,\n        error = false,\n        isTimedOut = false,\n        listenersAdded = false,\n        panoImage,\n        prevTime,\n        speed = {\n      'yaw': 0,\n      'pitch': 0,\n      'hfov': 0\n    },\n        animating = false,\n        orientation = false,\n        orientationYawOffset = 0,\n        autoRotateStart,\n        autoRotateSpeed = 0,\n        origHfov,\n        origPitch,\n        animatedMove = {},\n        externalEventListeners = {},\n        specifiedPhotoSphereExcludes = [],\n        update = false,\n        // Should we update when still to render dynamic content\n    hotspotsCreated = false;\n    var defaultConfig = {\n      hfov: 100,\n      minHfov: 50,\n      maxHfov: 120,\n      pitch: 0,\n      minPitch: undefined,\n      maxPitch: undefined,\n      yaw: 0,\n      minYaw: -180,\n      maxYaw: 180,\n      roll: 0,\n      haov: 360,\n      vaov: 180,\n      vOffset: 0,\n      autoRotate: false,\n      autoRotateInactivityDelay: -1,\n      autoRotateStopDelay: undefined,\n      type: 'equirectangular',\n      northOffset: 0,\n      showFullscreenCtrl: true,\n      dynamic: false,\n      doubleClickZoom: true,\n      keyboardZoom: true,\n      mouseZoom: true,\n      showZoomCtrl: true,\n      autoLoad: false,\n      showControls: true,\n      orientationOnByDefault: false,\n      hotSpotDebug: false,\n      backgroundColor: [0, 0, 0],\n      avoidShowingBackground: false,\n      animationTimingFunction: timingFunction,\n      draggable: true,\n      disableKeyboardCtrl: false,\n      crossOrigin: 'anonymous',\n      touchPanSpeedCoeffFactor: 1,\n      capturedKeyNumbers: [16, 17, 27, 37, 38, 39, 40, 61, 65, 68, 83, 87, 107, 109, 173, 187, 189]\n    }; // Translatable / configurable strings\n    // Some strings contain '%s', which is a placeholder for inserted values\n    // When setting strings in external configuration, `\\n` should be used instead of `<br>` to insert line breaks\n\n    defaultConfig.strings = {\n      // Labels\n      loadButtonLabel: 'Click to<br>Load<br>Panorama',\n      loadingLabel: 'Loading...',\n      bylineLabel: 'by %s',\n      // One substitution: author\n      // Errors\n      noPanoramaError: 'No panorama image was specified.',\n      fileAccessError: 'The file %s could not be accessed.',\n      // One substitution: file URL\n      malformedURLError: 'There is something wrong with the panorama URL.',\n      iOS8WebGLError: \"Due to iOS 8's broken WebGL implementation, only \" + \"progressive encoded JPEGs work for your device (this \" + \"panorama uses standard encoding).\",\n      genericWebGLError: 'Your browser does not have the necessary WebGL support to display this panorama.',\n      textureSizeError: 'This panorama is too big for your device! It\\'s ' + '%spx wide, but your device only supports images up to ' + '%spx wide. Try another device.' + ' (If you\\'re the author, try scaling down the image.)',\n      // Two substitutions: image width, max image width\n      unknownError: 'Unknown error. Check developer console.'\n    }; // Initialize container\n\n    container = typeof container === 'string' ? document.getElementById(container) : container;\n    container.classList.add('pnlm-container');\n    container.tabIndex = 0; // Create container for ui\n\n    var uiContainer = document.createElement('div');\n    uiContainer.className = 'pnlm-ui';\n    container.appendChild(uiContainer); // Create container for renderer\n\n    var renderContainer = document.createElement('div');\n    renderContainer.className = 'pnlm-render-container';\n    container.appendChild(renderContainer);\n    var dragFix = document.createElement('div');\n    dragFix.className = 'pnlm-dragfix';\n    uiContainer.appendChild(dragFix); // Display about information on right click\n    // var aboutMsg = document.createElement('span');\n    // aboutMsg.className = 'pnlm-about-msg';\n    // aboutMsg.innerHTML = '<a href=\"https://pannellum.org/\" target=\"_blank\">Pannellum</a>';\n    // uiContainer.appendChild(aboutMsg);\n    // dragFix.addEventListener('contextmenu', aboutMessage);\n    // Create info display\n\n    var infoDisplay = {}; // Hot spot debug indicator\n\n    var hotSpotDebugIndicator = document.createElement('div');\n    hotSpotDebugIndicator.className = 'pnlm-sprite pnlm-hot-spot-debug-indicator';\n    uiContainer.appendChild(hotSpotDebugIndicator); // Panorama info\n\n    infoDisplay.container = document.createElement('div');\n    infoDisplay.container.className = 'pnlm-panorama-info';\n    infoDisplay.title = document.createElement('div');\n    infoDisplay.title.className = 'pnlm-title-box';\n    infoDisplay.container.appendChild(infoDisplay.title);\n    infoDisplay.author = document.createElement('div');\n    infoDisplay.author.className = 'pnlm-author-box';\n    infoDisplay.container.appendChild(infoDisplay.author);\n    uiContainer.appendChild(infoDisplay.container); // Load box\n\n    infoDisplay.load = {};\n    infoDisplay.load.box = document.createElement('div');\n    infoDisplay.load.box.className = 'pnlm-load-box';\n    infoDisplay.load.boxp = document.createElement('p');\n    infoDisplay.load.box.appendChild(infoDisplay.load.boxp);\n    infoDisplay.load.lbox = document.createElement('div');\n    infoDisplay.load.lbox.className = 'pnlm-lbox';\n    infoDisplay.load.lbox.innerHTML = '<div class=\"pnlm-loading\"></div>';\n    infoDisplay.load.box.appendChild(infoDisplay.load.lbox);\n    infoDisplay.load.lbar = document.createElement('div');\n    infoDisplay.load.lbar.className = 'pnlm-lbar';\n    infoDisplay.load.lbarFill = document.createElement('div');\n    infoDisplay.load.lbarFill.className = 'pnlm-lbar-fill';\n    infoDisplay.load.lbar.appendChild(infoDisplay.load.lbarFill);\n    infoDisplay.load.box.appendChild(infoDisplay.load.lbar);\n    infoDisplay.load.msg = document.createElement('p');\n    infoDisplay.load.msg.className = 'pnlm-lmsg';\n    infoDisplay.load.box.appendChild(infoDisplay.load.msg);\n    uiContainer.appendChild(infoDisplay.load.box); // Error message\n\n    infoDisplay.errorMsg = document.createElement('div');\n    infoDisplay.errorMsg.className = 'pnlm-error-msg pnlm-info-box';\n    uiContainer.appendChild(infoDisplay.errorMsg); // Create controls\n\n    var controls = {};\n    controls.container = document.createElement('div');\n    controls.container.className = 'pnlm-controls-container';\n    uiContainer.appendChild(controls.container); // Load button\n\n    controls.load = document.createElement('div');\n    controls.load.className = 'pnlm-load-button';\n    controls.load.addEventListener('click', function () {\n      processOptions();\n      load();\n    });\n    uiContainer.appendChild(controls.load); // Zoom controls\n\n    controls.zoom = document.createElement('div');\n    controls.zoom.className = 'pnlm-zoom-controls pnlm-controls';\n    controls.zoomIn = document.createElement('div');\n    controls.zoomIn.className = 'pnlm-zoom-in pnlm-sprite pnlm-control';\n    controls.zoomIn.addEventListener('click', zoomIn);\n    controls.zoom.appendChild(controls.zoomIn);\n    controls.zoomOut = document.createElement('div');\n    controls.zoomOut.className = 'pnlm-zoom-out pnlm-sprite pnlm-control';\n    controls.zoomOut.addEventListener('click', zoomOut);\n    controls.zoom.appendChild(controls.zoomOut);\n    controls.container.appendChild(controls.zoom); // Fullscreen toggle\n\n    controls.fullscreen = document.createElement('div');\n    controls.fullscreen.addEventListener('click', toggleFullscreen);\n    controls.fullscreen.className = 'pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control';\n\n    if (document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled) {\n      controls.container.appendChild(controls.fullscreen);\n    } // Device orientation toggle\n\n\n    controls.orientation = document.createElement('div');\n    controls.orientation.addEventListener('click', function (e) {\n      if (orientation) {\n        stopOrientation();\n      } else {\n        startOrientation();\n      }\n    });\n    controls.orientation.addEventListener('mousedown', function (e) {\n      e.stopPropagation();\n    });\n    controls.orientation.addEventListener('touchstart', function (e) {\n      e.stopPropagation();\n    });\n    controls.orientation.addEventListener('pointerdown', function (e) {\n      e.stopPropagation();\n    });\n    controls.orientation.className = 'pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control';\n    var orientationSupport,\n        startOrientationIfSupported = false;\n\n    function deviceOrientationTest(e) {\n      window.removeEventListener('deviceorientation', deviceOrientationTest);\n\n      if (e && e.alpha !== null && e.beta !== null && e.gamma !== null) {\n        controls.container.appendChild(controls.orientation);\n        orientationSupport = true;\n\n        if (startOrientationIfSupported) {\n          startOrientation();\n        }\n      } else {\n        orientationSupport = false;\n      }\n    }\n\n    if (window.DeviceOrientationEvent) {\n      window.addEventListener('deviceorientation', deviceOrientationTest);\n    } else {\n      orientationSupport = false;\n    } // Compass\n\n\n    var compass = document.createElement('div');\n    compass.className = 'pnlm-compass pnlm-controls pnlm-control';\n    uiContainer.appendChild(compass); // Load and process configuration\n\n    if (initialConfig.firstScene) {\n      // Activate first scene if specified in URL\n      mergeConfig(initialConfig.firstScene);\n    } else if (initialConfig.default && initialConfig.default.firstScene) {\n      // Activate first scene if specified in file\n      mergeConfig(initialConfig.default.firstScene);\n    } else {\n      mergeConfig(null);\n    }\n\n    processOptions(true);\n    /**\n    * Initializes viewer.\n    * @private\n    */\n\n    function init() {\n      // Display an error for IE 9 as it doesn't work but also doesn't otherwise\n      // show an error (older versions don't work at all)\n      // Based on: http://stackoverflow.com/a/10965203\n      var div = document.createElement(\"div\");\n      div.innerHTML = \"<!--[if lte IE 9]><i></i><![endif]-->\";\n\n      if (div.getElementsByTagName(\"i\").length == 1) {\n        anError();\n        return;\n      }\n\n      origHfov = config.hfov;\n      origPitch = config.pitch;\n      var i, p;\n\n      if (config.type == 'cubemap') {\n        panoImage = [];\n\n        for (i = 0; i < 6; i++) {\n          panoImage.push(new Image());\n          panoImage[i].crossOrigin = config.crossOrigin;\n        }\n\n        infoDisplay.load.lbox.style.display = 'block';\n        infoDisplay.load.lbar.style.display = 'none';\n      } else if (config.type == 'multires') {\n        var c = JSON.parse(JSON.stringify(config.multiRes)); // Deep copy\n        // Avoid \"undefined\" in path, check (optional) multiRes.basePath, too\n        // Use only multiRes.basePath if it's an absolute URL\n\n        if (config.basePath && config.multiRes.basePath && !/^(?:[a-z]+:)?\\/\\//i.test(config.multiRes.basePath)) {\n          c.basePath = config.basePath + config.multiRes.basePath;\n        } else if (config.multiRes.basePath) {\n          c.basePath = config.multiRes.basePath;\n        } else if (config.basePath) {\n          c.basePath = config.basePath;\n        }\n\n        panoImage = c;\n      } else {\n        if (config.dynamic === true) {\n          panoImage = config.panorama;\n        } else {\n          if (config.panorama === undefined) {\n            anError(config.strings.noPanoramaError);\n            return;\n          }\n\n          panoImage = new Image();\n        }\n      } // Configure image loading\n\n\n      if (config.type == 'cubemap') {\n        // Quick loading counter for synchronous loading\n        var itemsToLoad = 6;\n\n        var onLoad = function onLoad() {\n          itemsToLoad--;\n\n          if (itemsToLoad === 0) {\n            onImageLoad();\n          }\n        };\n\n        var onError = function onError(e) {\n          var a = document.createElement('a');\n          a.href = e.target.src;\n          a.textContent = a.href;\n          anError(config.strings.fileAccessError.replace('%s', a.outerHTML));\n        };\n\n        for (i = 0; i < panoImage.length; i++) {\n          p = config.cubeMap[i];\n\n          if (p == \"null\") {\n            // support partial cubemap image with explicitly empty faces\n            console.log('Will use background instead of missing cubemap face ' + i);\n            onLoad();\n          } else {\n            if (config.basePath && !absoluteURL(p)) {\n              p = config.basePath + p;\n            }\n\n            panoImage[i].onload = onLoad;\n            panoImage[i].onerror = onError;\n            panoImage[i].src = sanitizeURL(p);\n          }\n        }\n      } else if (config.type == 'multires') {\n        onImageLoad();\n      } else {\n        p = '';\n\n        if (config.basePath) {\n          p = config.basePath;\n        }\n\n        if (config.dynamic !== true) {\n          // Still image\n          p = absoluteURL(config.panorama) ? config.panorama : p + config.panorama;\n\n          panoImage.onload = function () {\n            window.URL.revokeObjectURL(this.src); // Clean up\n\n            onImageLoad();\n          };\n\n          var xhr = new XMLHttpRequest();\n\n          xhr.onloadend = function () {\n            if (xhr.status != 200) {\n              // Display error if image can't be loaded\n              var a = document.createElement('a');\n              a.href = p;\n              a.textContent = a.href;\n              anError(config.strings.fileAccessError.replace('%s', a.outerHTML));\n            }\n\n            var img = this.response;\n            parseGPanoXMP(img);\n            infoDisplay.load.msg.innerHTML = '';\n          };\n\n          xhr.onprogress = function (e) {\n            if (e.lengthComputable) {\n              // Display progress\n              var percent = e.loaded / e.total * 100;\n              infoDisplay.load.lbarFill.style.width = percent + '%';\n              var unit, numerator, denominator;\n\n              if (e.total > 1e6) {\n                unit = 'MB';\n                numerator = (e.loaded / 1e6).toFixed(2);\n                denominator = (e.total / 1e6).toFixed(2);\n              } else if (e.total > 1e3) {\n                unit = 'kB';\n                numerator = (e.loaded / 1e3).toFixed(1);\n                denominator = (e.total / 1e3).toFixed(1);\n              } else {\n                unit = 'B';\n                numerator = e.loaded;\n                denominator = e.total;\n              }\n\n              infoDisplay.load.msg.innerHTML = numerator + ' / ' + denominator + ' ' + unit;\n            } else {\n              // Display loading spinner\n              infoDisplay.load.lbox.style.display = 'block';\n              infoDisplay.load.lbar.style.display = 'none';\n            }\n          };\n\n          try {\n            xhr.open('GET', p, true);\n          } catch (e) {\n            // Malformed URL\n            anError(config.strings.malformedURLError);\n          }\n\n          xhr.responseType = 'blob';\n          xhr.setRequestHeader('Accept', 'image/*,*/*;q=0.9');\n          xhr.withCredentials = config.crossOrigin === 'use-credentials';\n          xhr.send();\n        }\n      }\n\n      if (config.draggable) {\n        uiContainer.classList.add('pnlm-grab');\n      }\n\n      uiContainer.classList.remove('pnlm-grabbing');\n    }\n    /**\n    * Test if URL is absolute or relative.\n    * @private\n    * @param {string} url - URL to test\n    * @returns {boolean} True if absolute, else false\n    */\n\n\n    function absoluteURL(url) {\n      // From http://stackoverflow.com/a/19709846\n      return new RegExp('^(?:[a-z]+:)?//', 'i').test(url) || url[0] == '/' || url.slice(0, 5) == 'blob:';\n    }\n\n    ;\n    /**\n    * Create renderer and initialize event listeners once image is loaded.\n    * @private\n    */\n\n    function onImageLoad() {\n      if (!renderer) {\n        renderer = new libpannellum.renderer(renderContainer);\n      } // Only add event listeners once\n\n\n      if (!listenersAdded) {\n        listenersAdded = true;\n        dragFix.addEventListener('mousedown', onDocumentMouseDown, false);\n        document.addEventListener('mousemove', onDocumentMouseMove, false);\n        document.addEventListener('mouseup', onDocumentMouseUp, false);\n\n        if (config.mouseZoom) {\n          uiContainer.addEventListener('mousewheel', onDocumentMouseWheel, false);\n          uiContainer.addEventListener('DOMMouseScroll', onDocumentMouseWheel, false);\n        }\n\n        if (config.doubleClickZoom) {\n          dragFix.addEventListener('dblclick', onDocumentDoubleClick, false);\n        }\n\n        uiContainer.addEventListener('mozfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('webkitfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('msfullscreenchange', onFullScreenChange, false);\n        uiContainer.addEventListener('fullscreenchange', onFullScreenChange, false);\n        window.addEventListener('resize', onDocumentResize, false);\n        window.addEventListener('orientationchange', onDocumentResize, false);\n\n        if (!config.disableKeyboardCtrl) {\n          container.addEventListener('keydown', onDocumentKeyPress, false);\n          container.addEventListener('keyup', onDocumentKeyUp, false);\n          container.addEventListener('blur', clearKeys, false);\n        }\n\n        document.addEventListener('mouseleave', onDocumentMouseUp, false);\n\n        if (document.documentElement.style.pointerAction === '' && document.documentElement.style.touchAction === '') {\n          dragFix.addEventListener('pointerdown', onDocumentPointerDown, false);\n          dragFix.addEventListener('pointermove', onDocumentPointerMove, false);\n          dragFix.addEventListener('pointerup', onDocumentPointerUp, false);\n          dragFix.addEventListener('pointerleave', onDocumentPointerUp, false);\n        } else {\n          dragFix.addEventListener('touchstart', onDocumentTouchStart, false);\n          dragFix.addEventListener('touchmove', onDocumentTouchMove, false);\n          dragFix.addEventListener('touchend', onDocumentTouchEnd, false);\n        } // Deal with MS pointer events\n\n\n        if (window.navigator.pointerEnabled) {\n          container.style.touchAction = 'none';\n        }\n      }\n\n      renderInit();\n      setHfov(config.hfov); // possibly adapt hfov after configuration and canvas is complete; prevents empty space on top or bottom by zomming out too much\n\n      setTimeout(function () {\n        isTimedOut = true;\n      }, 500);\n    }\n    /**\n    * Parses Google Photo Sphere XMP Metadata.\n    * https://developers.google.com/photo-sphere/metadata/\n    * @private\n    * @param {Image} image - Image to read XMP metadata from.\n    */\n\n\n    function parseGPanoXMP(image) {\n      var reader = new FileReader();\n      reader.addEventListener('loadend', function () {\n        var img = reader.result; // This awful browser specific test exists because iOS 8 does not work\n        // with non-progressive encoded JPEGs.\n\n        if (navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)) {\n          var flagIndex = img.indexOf('\\xff\\xc2');\n\n          if (flagIndex < 0 || flagIndex > 65536) {\n            anError(config.strings.iOS8WebGLError);\n          }\n        }\n\n        var start = img.indexOf('<x:xmpmeta');\n\n        if (start > -1 && config.ignoreGPanoXMP !== true) {\n          var xmpData = img.substring(start, img.indexOf('</x:xmpmeta>') + 12); // Extract the requested tag from the XMP data\n\n          var getTag = function getTag(tag) {\n            var result;\n\n            if (xmpData.indexOf(tag + '=\"') >= 0) {\n              result = xmpData.substring(xmpData.indexOf(tag + '=\"') + tag.length + 2);\n              result = result.substring(0, result.indexOf('\"'));\n            } else if (xmpData.indexOf(tag + '>') >= 0) {\n              result = xmpData.substring(xmpData.indexOf(tag + '>') + tag.length + 1);\n              result = result.substring(0, result.indexOf('<'));\n            }\n\n            if (result !== undefined) {\n              return Number(result);\n            }\n\n            return null;\n          }; // Relevant XMP data\n\n\n          var xmp = {\n            fullWidth: getTag('GPano:FullPanoWidthPixels'),\n            croppedWidth: getTag('GPano:CroppedAreaImageWidthPixels'),\n            fullHeight: getTag('GPano:FullPanoHeightPixels'),\n            croppedHeight: getTag('GPano:CroppedAreaImageHeightPixels'),\n            topPixels: getTag('GPano:CroppedAreaTopPixels'),\n            heading: getTag('GPano:PoseHeadingDegrees'),\n            horizonPitch: getTag('GPano:PosePitchDegrees'),\n            horizonRoll: getTag('GPano:PoseRollDegrees')\n          };\n\n          if (xmp.fullWidth !== null && xmp.croppedWidth !== null && xmp.fullHeight !== null && xmp.croppedHeight !== null && xmp.topPixels !== null) {\n            // Set up viewer using GPano XMP data\n            if (specifiedPhotoSphereExcludes.indexOf('haov') < 0) {\n              config.haov = xmp.croppedWidth / xmp.fullWidth * 360;\n            }\n\n            if (specifiedPhotoSphereExcludes.indexOf('vaov') < 0) {\n              config.vaov = xmp.croppedHeight / xmp.fullHeight * 180;\n            }\n\n            if (specifiedPhotoSphereExcludes.indexOf('vOffset') < 0) {\n              config.vOffset = ((xmp.topPixels + xmp.croppedHeight / 2) / xmp.fullHeight - 0.5) * -180;\n            }\n\n            if (xmp.heading !== null && specifiedPhotoSphereExcludes.indexOf('northOffset') < 0) {\n              // TODO: make sure this works correctly for partial panoramas\n              config.northOffset = xmp.heading;\n\n              if (config.compass !== false) {\n                config.compass = true;\n              }\n            }\n\n            if (xmp.horizonPitch !== null && xmp.horizonRoll !== null) {\n              if (specifiedPhotoSphereExcludes.indexOf('horizonPitch') < 0) {\n                config.horizonPitch = xmp.horizonPitch;\n              }\n\n              if (specifiedPhotoSphereExcludes.indexOf('horizonRoll') < 0) {\n                config.horizonRoll = xmp.horizonRoll;\n              }\n            } // TODO: add support for initial view settings\n\n          }\n        } // Load panorama\n\n\n        panoImage.src = window.URL.createObjectURL(image);\n      });\n\n      if (reader.readAsBinaryString !== undefined) {\n        reader.readAsBinaryString(image);\n      } else {\n        reader.readAsText(image);\n      }\n    }\n    /**\n    * Displays an error message.\n    * @private\n    * @param {string} errorMsg - Error message to display. If not specified, a\n    *      generic WebGL error is displayed.\n    */\n\n\n    function anError(errorMsg) {\n      if (errorMsg === undefined) {\n        errorMsg = config.strings.genericWebGLError;\n      }\n\n      infoDisplay.errorMsg.innerHTML = '<p>' + errorMsg + '</p>';\n      controls.load.style.display = 'none';\n      infoDisplay.load.box.style.display = 'none';\n      infoDisplay.errorMsg.style.display = 'table';\n      error = true;\n      renderContainer.style.display = 'none';\n      fireEvent('error', errorMsg);\n    }\n    /**\n    * Hides error message display.\n    * @private\n    */\n\n\n    function clearError() {\n      if (error) {\n        infoDisplay.load.box.style.display = 'none';\n        infoDisplay.errorMsg.style.display = 'none';\n        error = false;\n        fireEvent('errorcleared');\n      }\n    }\n    /**\n    * Displays about message.\n    * @private\n    * @param {MouseEvent} event - Right click location\n    */\n\n\n    function aboutMessage(event) {\n      var pos = mousePosition(event);\n      aboutMsg.style.left = pos.x + 'px';\n      aboutMsg.style.top = pos.y + 'px';\n      clearTimeout(aboutMessage.t1);\n      clearTimeout(aboutMessage.t2);\n      aboutMsg.style.display = 'block';\n      aboutMsg.style.opacity = 1;\n      aboutMessage.t1 = setTimeout(function () {\n        aboutMsg.style.opacity = 0;\n      }, 2000);\n      aboutMessage.t2 = setTimeout(function () {\n        aboutMsg.style.display = 'none';\n      }, 2500);\n      event.preventDefault();\n    }\n    /**\n    * Calculate mouse position relative to top left of viewer container.\n    * @private\n    * @param {MouseEvent} event - Mouse event to use in calculation\n    * @returns {Object} Calculated X and Y coordinates\n    */\n\n\n    function mousePosition(event) {\n      var bounds = container.getBoundingClientRect();\n      var pos = {};\n      pos.x = event.clientX - bounds.left;\n      pos.y = event.clientY - bounds.top;\n      return pos;\n    }\n    /**\n    * Event handler for mouse clicks. Initializes panning. Prints center and click\n    * location coordinates when hot spot debugging is enabled.\n    * @private\n    * @param {MouseEvent} event - Document mouse down event.\n    */\n\n\n    function onDocumentMouseDown(event) {\n      // Override default action\n      event.preventDefault(); // But not all of it\n\n      container.focus(); // Only do something if the panorama is loaded\n\n      if (!loaded || !config.draggable) {\n        return;\n      } // Calculate mouse position relative to top left of viewer container\n\n\n      var pos = mousePosition(event); // Log pitch / yaw of mouse click when debugging / placing hot spots\n\n      if (config.hotSpotDebug) {\n        var coords = mouseEventToCoords(event);\n        console.log('Pitch: ' + coords[0] + ', Yaw: ' + coords[1] + ', Center Pitch: ' + config.pitch + ', Center Yaw: ' + config.yaw + ', HFOV: ' + config.hfov);\n      } // Turn off auto-rotation if enabled\n\n\n      stopAnimation();\n      stopOrientation();\n      config.roll = 0;\n      speed.hfov = 0;\n      isUserInteracting = true;\n      latestInteraction = Date.now();\n      onPointerDownPointerX = pos.x;\n      onPointerDownPointerY = pos.y;\n      onPointerDownYaw = config.yaw;\n      onPointerDownPitch = config.pitch;\n      uiContainer.classList.add('pnlm-grabbing');\n      uiContainer.classList.remove('pnlm-grab');\n      fireEvent('mousedown', event);\n      animateInit();\n    }\n    /**\n    * Event handler for double clicks. Zooms in at clicked location\n    * @private\n    * @param {MouseEvent} event - Document mouse down event.\n    */\n\n\n    function onDocumentDoubleClick(event) {\n      if (config.minHfov === config.hfov) {\n        _this.setHfov(origHfov, 1000);\n      } else {\n        var coords = mouseEventToCoords(event);\n\n        _this.lookAt(coords[0], coords[1], config.minHfov, 1000);\n      }\n    }\n    /**\n    * Calculate panorama pitch and yaw from location of mouse event.\n    * @private\n    * @param {MouseEvent} event - Document mouse down event.\n    * @returns {number[]} [pitch, yaw]\n    */\n\n\n    function mouseEventToCoords(event) {\n      var pos = mousePosition(event);\n      var canvas = renderer.getCanvas();\n      var canvasWidth = canvas.clientWidth,\n          canvasHeight = canvas.clientHeight;\n      var x = pos.x / canvasWidth * 2 - 1;\n      var y = (1 - pos.y / canvasHeight * 2) * canvasHeight / canvasWidth;\n      var focal = 1 / Math.tan(config.hfov * Math.PI / 360);\n      var s = Math.sin(config.pitch * Math.PI / 180);\n      var c = Math.cos(config.pitch * Math.PI / 180);\n      var a = focal * c - y * s;\n      var root = Math.sqrt(x * x + a * a);\n      var pitch = Math.atan((y * c + focal * s) / root) * 180 / Math.PI;\n      var yaw = Math.atan2(x / root, a / root) * 180 / Math.PI + config.yaw;\n\n      if (yaw < -180) {\n        yaw += 360;\n      }\n\n      if (yaw > 180) {\n        yaw -= 360;\n      }\n\n      return [pitch, yaw];\n    }\n    /**\n    * Event handler for mouse moves. Pans center of view.\n    * @private\n    * @param {MouseEvent} event - Document mouse move event.\n    */\n\n\n    function onDocumentMouseMove(event) {\n      if (isUserInteracting && loaded) {\n        latestInteraction = Date.now();\n        var canvas = renderer.getCanvas();\n        var canvasWidth = canvas.clientWidth,\n            canvasHeight = canvas.clientHeight;\n        var pos = mousePosition(event); //TODO: This still isn't quite right\n\n        var yaw = (Math.atan(onPointerDownPointerX / canvasWidth * 2 - 1) - Math.atan(pos.x / canvasWidth * 2 - 1)) * 180 / Math.PI * config.hfov / 90 + onPointerDownYaw;\n        speed.yaw = (yaw - config.yaw) % 360 * 0.2;\n        config.yaw = yaw;\n        var vfov = 2 * Math.atan(Math.tan(config.hfov / 360 * Math.PI) * canvasHeight / canvasWidth) * 180 / Math.PI;\n        var pitch = (Math.atan(pos.y / canvasHeight * 2 - 1) - Math.atan(onPointerDownPointerY / canvasHeight * 2 - 1)) * 180 / Math.PI * vfov / 90 + onPointerDownPitch;\n        speed.pitch = (pitch - config.pitch) * 0.2;\n        config.pitch = pitch;\n      }\n    }\n    /**\n    * Event handler for mouse up events. Stops panning.\n    * @private\n    */\n\n\n    function onDocumentMouseUp(event) {\n      if (!isUserInteracting) {\n        return;\n      }\n\n      isUserInteracting = false;\n\n      if (Date.now() - latestInteraction > 15) {\n        // Prevents jump when user rapidly moves mouse, stops, and then\n        // releases the mouse button\n        speed.pitch = speed.yaw = 0;\n      }\n\n      uiContainer.classList.add('pnlm-grab');\n      uiContainer.classList.remove('pnlm-grabbing');\n      latestInteraction = Date.now();\n      fireEvent('mouseup', event);\n    }\n    /**\n    * Event handler for touches. Initializes panning if one touch or zooming if\n    * two touches.\n    * @private\n    * @param {TouchEvent} event - Document touch start event.\n    */\n\n\n    function onDocumentTouchStart(event) {\n      // Only do something if the panorama is loaded\n      if (!loaded || !config.draggable) {\n        return;\n      } // Turn off auto-rotation if enabled\n\n\n      stopAnimation();\n      stopOrientation();\n      config.roll = 0;\n      speed.hfov = 0; // Calculate touch position relative to top left of viewer container\n\n      var pos0 = mousePosition(event.targetTouches[0]);\n      onPointerDownPointerX = pos0.x;\n      onPointerDownPointerY = pos0.y;\n\n      if (event.targetTouches.length == 2) {\n        // Down pointer is the center of the two fingers\n        var pos1 = mousePosition(event.targetTouches[1]);\n        onPointerDownPointerX += (pos1.x - pos0.x) * 0.5;\n        onPointerDownPointerY += (pos1.y - pos0.y) * 0.5;\n        onPointerDownPointerDist = Math.sqrt((pos0.x - pos1.x) * (pos0.x - pos1.x) + (pos0.y - pos1.y) * (pos0.y - pos1.y));\n      }\n\n      isUserInteracting = true;\n      latestInteraction = Date.now();\n      onPointerDownYaw = config.yaw;\n      onPointerDownPitch = config.pitch;\n      fireEvent('touchstart', event);\n      animateInit();\n    }\n    /**\n    * Event handler for touch movements. Pans center of view if one touch or\n    * adjusts zoom if two touches.\n    * @private\n    * @param {TouchEvent} event - Document touch move event.\n    */\n\n\n    function onDocumentTouchMove(event) {\n      if (!config.draggable) {\n        return;\n      } // Override default action\n\n\n      event.preventDefault();\n\n      if (loaded) {\n        latestInteraction = Date.now();\n      }\n\n      if (isUserInteracting && loaded) {\n        var pos0 = mousePosition(event.targetTouches[0]);\n        var clientX = pos0.x;\n        var clientY = pos0.y;\n\n        if (event.targetTouches.length == 2 && onPointerDownPointerDist != -1) {\n          var pos1 = mousePosition(event.targetTouches[1]);\n          clientX += (pos1.x - pos0.x) * 0.5;\n          clientY += (pos1.y - pos0.y) * 0.5;\n          var clientDist = Math.sqrt((pos0.x - pos1.x) * (pos0.x - pos1.x) + (pos0.y - pos1.y) * (pos0.y - pos1.y));\n          setHfov(config.hfov + (onPointerDownPointerDist - clientDist) * 0.1);\n          onPointerDownPointerDist = clientDist;\n        } // The smaller the config.hfov value (the more zoomed-in the user is), the faster\n        // yaw/pitch are perceived to change on one-finger touchmove (panning) events and vice versa.\n        // To improve usability at both small and large zoom levels (config.hfov values)\n        // we introduce a dynamic pan speed coefficient.\n        //\n        // Currently this seems to *roughly* keep initial drag/pan start position close to\n        // the user's finger while panning regardless of zoom level / config.hfov value.\n\n\n        var touchmovePanSpeedCoeff = config.hfov / 360 * config.touchPanSpeedCoeffFactor;\n        var yaw = (onPointerDownPointerX - clientX) * touchmovePanSpeedCoeff + onPointerDownYaw;\n        speed.yaw = (yaw - config.yaw) % 360 * 0.2;\n        config.yaw = yaw;\n        var pitch = (clientY - onPointerDownPointerY) * touchmovePanSpeedCoeff + onPointerDownPitch;\n        speed.pitch = (pitch - config.pitch) * 0.2;\n        config.pitch = pitch;\n      }\n    }\n    /**\n    * Event handler for end of touches. Stops panning and/or zooming.\n    * @private\n    */\n\n\n    function onDocumentTouchEnd() {\n      isUserInteracting = false;\n\n      if (Date.now() - latestInteraction > 150) {\n        speed.pitch = speed.yaw = 0;\n      }\n\n      onPointerDownPointerDist = -1;\n      latestInteraction = Date.now();\n      fireEvent('touchend', event);\n    }\n\n    var pointerIDs = [],\n        pointerCoordinates = [];\n    /**\n    * Event handler for touch starts in IE / Edge.\n    * @private\n    * @param {PointerEvent} event - Document pointer down event.\n    */\n\n    function onDocumentPointerDown(event) {\n      if (event.pointerType == 'touch') {\n        pointerIDs.push(event.pointerId);\n        pointerCoordinates.push({\n          clientX: event.clientX,\n          clientY: event.clientY\n        });\n        event.targetTouches = pointerCoordinates;\n        onDocumentTouchStart(event);\n        event.preventDefault();\n      }\n    }\n    /**\n    * Event handler for touch moves in IE / Edge.\n    * @private\n    * @param {PointerEvent} event - Document pointer move event.\n    */\n\n\n    function onDocumentPointerMove(event) {\n      if (event.pointerType == 'touch') {\n        for (var i = 0; i < pointerIDs.length; i++) {\n          if (event.pointerId == pointerIDs[i]) {\n            pointerCoordinates[i].clientX = event.clientX;\n            pointerCoordinates[i].clientY = event.clientY;\n            event.targetTouches = pointerCoordinates;\n            onDocumentTouchMove(event);\n            event.preventDefault();\n            return;\n          }\n        }\n      }\n    }\n    /**\n    * Event handler for touch ends in IE / Edge.\n    * @private\n    * @param {PointerEvent} event - Document pointer up event.\n    */\n\n\n    function onDocumentPointerUp(event) {\n      if (event.pointerType == 'touch') {\n        var defined = false;\n\n        for (var i = 0; i < pointerIDs.length; i++) {\n          if (event.pointerId == pointerIDs[i]) {\n            pointerIDs[i] = undefined;\n          }\n\n          if (pointerIDs[i]) {\n            defined = true;\n          }\n        }\n\n        if (!defined) {\n          pointerIDs = [];\n          pointerCoordinates = [];\n          onDocumentTouchEnd();\n        }\n\n        event.preventDefault();\n      }\n    }\n    /**\n    * Event handler for mouse wheel. Changes zoom.\n    * @private\n    * @param {WheelEvent} event - Document mouse wheel event.\n    */\n\n\n    function onDocumentMouseWheel(event) {\n      // Only do something if the panorama is loaded and mouse wheel zoom is enabled\n      if (!loaded || config.mouseZoom == 'fullscreenonly' && !fullscreenActive) {\n        return;\n      }\n\n      event.preventDefault(); // Turn off auto-rotation if enabled\n\n      stopAnimation();\n      latestInteraction = Date.now();\n\n      if (event.wheelDeltaY) {\n        // WebKit\n        setHfov(config.hfov - event.wheelDeltaY * 0.05);\n        speed.hfov = event.wheelDelta < 0 ? 1 : -1;\n      } else if (event.wheelDelta) {\n        // Opera / Explorer 9\n        setHfov(config.hfov - event.wheelDelta * 0.05);\n        speed.hfov = event.wheelDelta < 0 ? 1 : -1;\n      } else if (event.detail) {\n        // Firefox\n        setHfov(config.hfov + event.detail * 1.5);\n        speed.hfov = event.detail > 0 ? 1 : -1;\n      }\n\n      animateInit();\n    }\n    /**\n    * Event handler for key presses. Updates list of currently pressed keys.\n    * @private\n    * @param {KeyboardEvent} event - Document key press event.\n    */\n\n\n    function onDocumentKeyPress(event) {\n      // Turn off auto-rotation if enabled\n      stopAnimation();\n      latestInteraction = Date.now();\n      stopOrientation();\n      config.roll = 0; // Record key pressed\n\n      var keynumber = event.which || event.keycode; // Override default action for keys that are used\n\n      if (config.capturedKeyNumbers.indexOf(keynumber) < 0) {\n        return;\n      }\n\n      event.preventDefault(); // If escape key is pressed\n\n      if (keynumber == 27) {\n        // If in fullscreen mode\n        if (fullscreenActive) {\n          toggleFullscreen();\n        }\n      } else {\n        // Change key\n        changeKey(keynumber, true);\n      }\n    }\n    /**\n    * Clears list of currently pressed keys.\n    * @private\n    */\n\n\n    function clearKeys() {\n      for (var i = 0; i < 10; i++) {\n        keysDown[i] = false;\n      }\n    }\n    /**\n    * Event handler for key releases. Updates list of currently pressed keys.\n    * @private\n    * @param {KeyboardEvent} event - Document key up event.\n    */\n\n\n    function onDocumentKeyUp(event) {\n      // Record key pressed\n      var keynumber = event.which || event.keycode; // Override default action for keys that are used\n\n      if (config.capturedKeyNumbers.indexOf(keynumber) < 0) {\n        return;\n      }\n\n      event.preventDefault(); // Change key\n\n      changeKey(keynumber, false);\n    }\n    /**\n    * Updates list of currently pressed keys.\n    * @private\n    * @param {number} keynumber - Key number.\n    * @param {boolean} value - Whether or not key is pressed.\n    */\n\n\n    function changeKey(keynumber, value) {\n      var keyChanged = false;\n\n      switch (keynumber) {\n        // If minus key is released\n        case 109:\n        case 189:\n        case 17:\n        case 173:\n          if (keysDown[0] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[0] = value;\n          break;\n        // If plus key is released\n\n        case 107:\n        case 187:\n        case 16:\n        case 61:\n          if (keysDown[1] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[1] = value;\n          break;\n        // If up arrow is released\n\n        case 38:\n          if (keysDown[2] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[2] = value;\n          break;\n        // If \"w\" is released\n\n        case 87:\n          if (keysDown[6] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[6] = value;\n          break;\n        // If down arrow is released\n\n        case 40:\n          if (keysDown[3] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[3] = value;\n          break;\n        // If \"s\" is released\n\n        case 83:\n          if (keysDown[7] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[7] = value;\n          break;\n        // If left arrow is released\n\n        case 37:\n          if (keysDown[4] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[4] = value;\n          break;\n        // If \"a\" is released\n\n        case 65:\n          if (keysDown[8] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[8] = value;\n          break;\n        // If right arrow is released\n\n        case 39:\n          if (keysDown[5] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[5] = value;\n          break;\n        // If \"d\" is released\n\n        case 68:\n          if (keysDown[9] != value) {\n            keyChanged = true;\n          }\n\n          keysDown[9] = value;\n      }\n\n      if (keyChanged && value) {\n        if (typeof performance !== 'undefined' && performance.now()) {\n          prevTime = performance.now();\n        } else {\n          prevTime = Date.now();\n        }\n\n        animateInit();\n      }\n    }\n    /**\n    * Pans and/or zooms panorama based on currently pressed keys. Also handles\n    * panorama \"inertia\" and auto rotation.\n    * @private\n    */\n\n\n    function keyRepeat() {\n      // Only do something if the panorama is loaded\n      if (!loaded) {\n        return;\n      }\n\n      var isKeyDown = false;\n      var prevPitch = config.pitch;\n      var prevYaw = config.yaw;\n      var prevZoom = config.hfov;\n      var newTime;\n\n      if (typeof performance !== 'undefined' && performance.now()) {\n        newTime = performance.now();\n      } else {\n        newTime = Date.now();\n      }\n\n      if (prevTime === undefined) {\n        prevTime = newTime;\n      }\n\n      var diff = (newTime - prevTime) * config.hfov / 1700;\n      diff = Math.min(diff, 1.0); // If minus key is down\n\n      if (keysDown[0] && config.keyboardZoom === true) {\n        setHfov(config.hfov + (speed.hfov * 0.8 + 0.5) * diff);\n        isKeyDown = true;\n      } // If plus key is down\n\n\n      if (keysDown[1] && config.keyboardZoom === true) {\n        setHfov(config.hfov + (speed.hfov * 0.8 - 0.2) * diff);\n        isKeyDown = true;\n      } // If up arrow or \"w\" is down\n\n\n      if (keysDown[2] || keysDown[6]) {\n        // Pan up\n        config.pitch += (speed.pitch * 0.8 + 0.2) * diff;\n        isKeyDown = true;\n      } // If down arrow or \"s\" is down\n\n\n      if (keysDown[3] || keysDown[7]) {\n        // Pan down\n        config.pitch += (speed.pitch * 0.8 - 0.2) * diff;\n        isKeyDown = true;\n      } // If left arrow or \"a\" is down\n\n\n      if (keysDown[4] || keysDown[8]) {\n        // Pan left\n        config.yaw += (speed.yaw * 0.8 - 0.2) * diff;\n        isKeyDown = true;\n      } // If right arrow or \"d\" is down\n\n\n      if (keysDown[5] || keysDown[9]) {\n        // Pan right\n        config.yaw += (speed.yaw * 0.8 + 0.2) * diff;\n        isKeyDown = true;\n      }\n\n      if (isKeyDown) {\n        latestInteraction = Date.now();\n      } // If auto-rotate\n\n\n      var inactivityInterval = Date.now() - latestInteraction;\n\n      if (config.autoRotate) {\n        // Pan\n        if (newTime - prevTime > 0.001) {\n          var timeDiff = (newTime - prevTime) / 1000;\n          var yawDiff = (speed.yaw / timeDiff * diff - config.autoRotate * 0.2) * timeDiff;\n          yawDiff = (-config.autoRotate > 0 ? 1 : -1) * Math.min(Math.abs(config.autoRotate * timeDiff), Math.abs(yawDiff));\n          config.yaw += yawDiff;\n        } // Deal with stopping auto rotation after a set delay\n\n\n        if (config.autoRotateStopDelay) {\n          config.autoRotateStopDelay -= newTime - prevTime;\n\n          if (config.autoRotateStopDelay <= 0) {\n            config.autoRotateStopDelay = false;\n            autoRotateSpeed = config.autoRotate;\n            config.autoRotate = 0;\n          }\n        }\n      } // Animated moves\n\n\n      if (animatedMove.pitch) {\n        animateMove('pitch');\n        prevPitch = config.pitch;\n      }\n\n      if (animatedMove.yaw) {\n        animateMove('yaw');\n        prevYaw = config.yaw;\n      }\n\n      if (animatedMove.hfov) {\n        animateMove('hfov');\n        prevZoom = config.hfov;\n      } // \"Inertia\"\n\n\n      if (diff > 0 && !config.autoRotate) {\n        // \"Friction\"\n        var friction = 0.85; // Yaw\n\n        if (!keysDown[4] && !keysDown[5] && !keysDown[8] && !keysDown[9] && !animatedMove.yaw) {\n          config.yaw += speed.yaw * diff * friction;\n        } // Pitch\n\n\n        if (!keysDown[2] && !keysDown[3] && !keysDown[6] && !keysDown[7] && !animatedMove.pitch) {\n          config.pitch += speed.pitch * diff * friction;\n        } // Zoom\n\n\n        if (!keysDown[0] && !keysDown[1] && !animatedMove.hfov) {\n          setHfov(config.hfov + speed.hfov * diff * friction);\n        }\n      }\n\n      prevTime = newTime;\n\n      if (diff > 0) {\n        speed.yaw = speed.yaw * 0.8 + (config.yaw - prevYaw) / diff * 0.2;\n        speed.pitch = speed.pitch * 0.8 + (config.pitch - prevPitch) / diff * 0.2;\n        speed.hfov = speed.hfov * 0.8 + (config.hfov - prevZoom) / diff * 0.2; // Limit speed\n\n        var maxSpeed = config.autoRotate ? Math.abs(config.autoRotate) : 5;\n        speed.yaw = Math.min(maxSpeed, Math.max(speed.yaw, -maxSpeed));\n        speed.pitch = Math.min(maxSpeed, Math.max(speed.pitch, -maxSpeed));\n        speed.hfov = Math.min(maxSpeed, Math.max(speed.hfov, -maxSpeed));\n      } // Stop movement if opposite controls are pressed\n\n\n      if (keysDown[0] && keysDown[1]) {\n        speed.hfov = 0;\n      }\n\n      if ((keysDown[2] || keysDown[6]) && (keysDown[3] || keysDown[7])) {\n        speed.pitch = 0;\n      }\n\n      if ((keysDown[4] || keysDown[8]) && (keysDown[5] || keysDown[9])) {\n        speed.yaw = 0;\n      }\n    }\n    /**\n    * Animates moves.\n    * @param {string} axis - Axis to animate\n    * @private\n    */\n\n\n    function animateMove(axis) {\n      var t = animatedMove[axis];\n      var normTime = Math.min(1, Math.max((Date.now() - t.startTime) / 1000 / (t.duration / 1000), 0));\n      var result = t.startPosition + config.animationTimingFunction(normTime) * (t.endPosition - t.startPosition);\n\n      if (t.endPosition > t.startPosition && result >= t.endPosition || t.endPosition < t.startPosition && result <= t.endPosition || t.endPosition === t.startPosition) {\n        result = t.endPosition;\n        speed[axis] = 0;\n        var callback = animatedMove[axis].callback,\n            callbackArgs = animatedMove[axis].callbackArgs;\n        delete animatedMove[axis];\n\n        if (typeof callback === 'function') {\n          callback(callbackArgs);\n        }\n      }\n\n      config[axis] = result;\n    }\n    /**\n    * @param {number} t - Normalized time in animation\n    * @return {number} Position in animation\n    * @private\n    */\n\n\n    function timingFunction(t) {\n      // easeInOutQuad from https://gist.github.com/gre/1650294\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    }\n    /**\n    * Event handler for document resizes. Updates viewer size and rerenders view.\n    * @private\n    */\n\n\n    function onDocumentResize() {\n      // Resize panorama renderer (moved to onFullScreenChange)\n      //renderer.resize();\n      //animateInit();\n      // Kludge to deal with WebKit regression: https://bugs.webkit.org/show_bug.cgi?id=93525\n      onFullScreenChange();\n    }\n    /**\n    * Initializes animation.\n    * @private\n    */\n\n\n    function animateInit() {\n      if (animating) {\n        return;\n      }\n\n      animating = true;\n      animate();\n    }\n    /**\n    * Animates view, using requestAnimationFrame to trigger rendering.\n    * @private\n    */\n\n\n    function animate() {\n      render();\n\n      if (autoRotateStart) {\n        clearTimeout(autoRotateStart);\n      }\n\n      if (isUserInteracting || orientation === true) {\n        requestAnimationFrame(animate);\n      } else if (keysDown[0] || keysDown[1] || keysDown[2] || keysDown[3] || keysDown[4] || keysDown[5] || keysDown[6] || keysDown[7] || keysDown[8] || keysDown[9] || config.autoRotate || animatedMove.pitch || animatedMove.yaw || animatedMove.hfov || Math.abs(speed.yaw) > 0.01 || Math.abs(speed.pitch) > 0.01 || Math.abs(speed.hfov) > 0.01) {\n        keyRepeat();\n\n        if (config.autoRotateInactivityDelay >= 0 && autoRotateSpeed && Date.now() - latestInteraction > config.autoRotateInactivityDelay && !config.autoRotate) {\n          config.autoRotate = autoRotateSpeed;\n\n          _this.lookAt(origPitch, undefined, origHfov, 3000);\n        }\n\n        requestAnimationFrame(animate);\n      } else if (renderer && (renderer.isLoading() || config.dynamic === true && update)) {\n        requestAnimationFrame(animate);\n      } else {\n        animating = false;\n        prevTime = undefined;\n        var autoRotateStartTime = config.autoRotateInactivityDelay - (Date.now() - latestInteraction);\n\n        if (autoRotateStartTime > 0) {\n          autoRotateStart = setTimeout(function () {\n            config.autoRotate = autoRotateSpeed;\n\n            _this.lookAt(origPitch, undefined, origHfov, 3000);\n\n            animateInit();\n          }, autoRotateStartTime);\n        } else if (config.autoRotateInactivityDelay >= 0 && autoRotateSpeed) {\n          config.autoRotate = autoRotateSpeed;\n\n          _this.lookAt(origPitch, undefined, origHfov, 3000);\n\n          animateInit();\n        }\n      }\n    }\n    /**\n    * Renders panorama view.\n    * @private\n    */\n\n\n    function render() {\n      var tmpyaw;\n\n      if (loaded) {\n        if (config.yaw > 180) {\n          config.yaw -= 360;\n        } else if (config.yaw < -180) {\n          config.yaw += 360;\n        } // Keep a tmp value of yaw for autoRotate comparison later\n\n\n        tmpyaw = config.yaw; // Optionally avoid showing background (empty space) on left or right by adapting min/max yaw\n\n        var hoffcut = 0,\n            voffcut = 0;\n\n        if (config.avoidShowingBackground) {\n          var canvas = renderer.getCanvas(),\n              hfov2 = config.hfov / 2,\n              vfov2 = Math.atan2(Math.tan(hfov2 / 180 * Math.PI), canvas.width / canvas.height) * 180 / Math.PI,\n              transposed = config.vaov > config.haov;\n\n          if (transposed) {\n            voffcut = vfov2 * (1 - Math.min(Math.cos((config.pitch - hfov2) / 180 * Math.PI), Math.cos((config.pitch + hfov2) / 180 * Math.PI)));\n          } else {\n            hoffcut = hfov2 * (1 - Math.min(Math.cos((config.pitch - vfov2) / 180 * Math.PI), Math.cos((config.pitch + vfov2) / 180 * Math.PI)));\n          }\n        } // Ensure the yaw is within min and max allowed\n\n\n        var yawRange = config.maxYaw - config.minYaw,\n            minYaw = -180,\n            maxYaw = 180;\n\n        if (yawRange < 360) {\n          minYaw = config.minYaw + config.hfov / 2 + hoffcut;\n          maxYaw = config.maxYaw - config.hfov / 2 - hoffcut;\n\n          if (yawRange < config.hfov) {\n            // Lock yaw to average of min and max yaw when both can be seen at once\n            minYaw = maxYaw = (minYaw + maxYaw) / 2;\n          }\n\n          config.yaw = Math.max(minYaw, Math.min(maxYaw, config.yaw));\n        } // Check if we autoRotate in a limited by min and max yaw\n        // If so reverse direction\n\n\n        if (config.autoRotate !== false && tmpyaw != config.yaw && prevTime !== undefined) {\n          // this condition prevents changing the direction initially\n          config.autoRotate *= -1;\n        } // Ensure the calculated pitch is within min and max allowed\n\n\n        var canvas = renderer.getCanvas();\n        var vfov = 2 * Math.atan(Math.tan(config.hfov / 180 * Math.PI * 0.5) / (canvas.width / canvas.height)) / Math.PI * 180;\n        var minPitch = config.minPitch + vfov / 2,\n            maxPitch = config.maxPitch - vfov / 2;\n        var pitchRange = config.maxPitch - config.minPitch;\n\n        if (pitchRange < vfov) {\n          // Lock pitch to average of min and max pitch when both can be seen at once\n          minPitch = maxPitch = (minPitch + maxPitch) / 2;\n        }\n\n        if (isNaN(minPitch)) {\n          minPitch = -90;\n        }\n\n        if (isNaN(maxPitch)) {\n          maxPitch = 90;\n        }\n\n        config.pitch = Math.max(minPitch, Math.min(maxPitch, config.pitch));\n        renderer.render(config.pitch * Math.PI / 180, config.yaw * Math.PI / 180, config.hfov * Math.PI / 180, {\n          roll: config.roll * Math.PI / 180\n        });\n        renderHotSpots(); // Update compass\n\n        if (config.compass) {\n          compass.style.transform = 'rotate(' + (-config.yaw - config.northOffset) + 'deg)';\n          compass.style.webkitTransform = 'rotate(' + (-config.yaw - config.northOffset) + 'deg)';\n        }\n\n        if (config.onRender) {\n          config.onRender();\n        }\n      }\n    }\n    /**\n    * Creates a new quaternion.\n    * @private\n    * @constructor\n    * @param {Number} w - W value\n    * @param {Number} x - X value\n    * @param {Number} y - Y value\n    * @param {Number} z - Z value\n    */\n\n\n    function Quaternion(w, x, y, z) {\n      this.w = w;\n      this.x = x;\n      this.y = y;\n      this.z = z;\n    }\n    /**\n    * Multiplies quaternions.\n    * @private\n    * @param {Quaternion} q - Quaternion to multiply\n    * @returns {Quaternion} Result of multiplication\n    */\n\n\n    Quaternion.prototype.multiply = function (q) {\n      return new Quaternion(this.w * q.w - this.x * q.x - this.y * q.y - this.z * q.z, this.x * q.w + this.w * q.x + this.y * q.z - this.z * q.y, this.y * q.w + this.w * q.y + this.z * q.x - this.x * q.z, this.z * q.w + this.w * q.z + this.x * q.y - this.y * q.x);\n    };\n    /**\n    * Converts quaternion to Euler angles.\n    * @private\n    * @returns {Number[]} [phi angle, theta angle, psi angle]\n    */\n\n\n    Quaternion.prototype.toEulerAngles = function () {\n      var phi = Math.atan2(2 * (this.w * this.x + this.y * this.z), 1 - 2 * (this.x * this.x + this.y * this.y)),\n          theta = Math.asin(2 * (this.w * this.y - this.z * this.x)),\n          psi = Math.atan2(2 * (this.w * this.z + this.x * this.y), 1 - 2 * (this.y * this.y + this.z * this.z));\n      return [phi, theta, psi];\n    };\n    /**\n    * Converts device orientation API Tait-Bryan angles to a quaternion.\n    * @private\n    * @param {Number} alpha - Alpha angle (in degrees)\n    * @param {Number} beta - Beta angle (in degrees)\n    * @param {Number} gamma - Gamma angle (in degrees)\n    * @returns {Quaternion} Orientation quaternion\n    */\n\n\n    function taitBryanToQuaternion(alpha, beta, gamma) {\n      var r = [beta ? beta * Math.PI / 180 / 2 : 0, gamma ? gamma * Math.PI / 180 / 2 : 0, alpha ? alpha * Math.PI / 180 / 2 : 0];\n      var c = [Math.cos(r[0]), Math.cos(r[1]), Math.cos(r[2])],\n          s = [Math.sin(r[0]), Math.sin(r[1]), Math.sin(r[2])];\n      return new Quaternion(c[0] * c[1] * c[2] - s[0] * s[1] * s[2], s[0] * c[1] * c[2] - c[0] * s[1] * s[2], c[0] * s[1] * c[2] + s[0] * c[1] * s[2], c[0] * c[1] * s[2] + s[0] * s[1] * c[2]);\n    }\n    /**\n    * Computes current device orientation quaternion from device orientation API\n    * Tait-Bryan angles.\n    * @private\n    * @param {Number} alpha - Alpha angle (in degrees)\n    * @param {Number} beta - Beta angle (in degrees)\n    * @param {Number} gamma - Gamma angle (in degrees)\n    * @returns {Quaternion} Orientation quaternion\n    */\n\n\n    function computeQuaternion(alpha, beta, gamma) {\n      // Convert Tait-Bryan angles to quaternion\n      var quaternion = taitBryanToQuaternion(alpha, beta, gamma); // Apply world transform\n\n      quaternion = quaternion.multiply(new Quaternion(Math.sqrt(0.5), -Math.sqrt(0.5), 0, 0)); // Apply screen transform\n\n      var angle = window.orientation ? -window.orientation * Math.PI / 180 / 2 : 0;\n      return quaternion.multiply(new Quaternion(Math.cos(angle), 0, -Math.sin(angle), 0));\n    }\n    /**\n    * Event handler for device orientation API. Controls pointing.\n    * @private\n    * @param {DeviceOrientationEvent} event - Device orientation event.\n    */\n\n\n    function orientationListener(e) {\n      var q = computeQuaternion(e.alpha, e.beta, e.gamma).toEulerAngles();\n\n      if (typeof orientation === 'number' && orientation < 10) {\n        // This kludge is necessary because iOS sometimes provides a few stale\n        // device orientation events when the listener is removed and then\n        // readded. Thus, we skip the first 10 events to prevent this from\n        // causing problems.\n        orientation += 1;\n      } else if (orientation === 10) {\n        // Record starting yaw to prevent jumping\n        orientationYawOffset = q[2] / Math.PI * 180 + config.yaw;\n        orientation = true;\n        requestAnimationFrame(animate);\n      } else {\n        config.pitch = q[0] / Math.PI * 180;\n        config.roll = -q[1] / Math.PI * 180;\n        config.yaw = -q[2] / Math.PI * 180 + orientationYawOffset;\n      }\n    }\n    /**\n    * Initializes renderer.\n    * @private\n    */\n\n\n    function renderInit() {\n      try {\n        var params = {};\n\n        if (config.horizonPitch !== undefined) {\n          params.horizonPitch = config.horizonPitch * Math.PI / 180;\n        }\n\n        if (config.horizonRoll !== undefined) {\n          params.horizonRoll = config.horizonRoll * Math.PI / 180;\n        }\n\n        if (config.backgroundColor !== undefined) {\n          params.backgroundColor = config.backgroundColor;\n        }\n\n        renderer.init(panoImage, config.type, config.dynamic, config.haov * Math.PI / 180, config.vaov * Math.PI / 180, config.vOffset * Math.PI / 180, renderInitCallback, params);\n\n        if (config.dynamic !== true) {\n          // Allow image to be garbage collected\n          panoImage = undefined;\n        }\n      } catch (event) {\n        // Panorama not loaded\n        // Display error if there is a bad texture\n        if (event.type == 'webgl error' || event.type == 'no webgl') {\n          anError();\n        } else if (event.type == 'webgl size error') {\n          anError(config.strings.textureSizeError.replace('%s', event.width).replace('%s', event.maxWidth));\n        } else {\n          anError(config.strings.unknownError);\n          throw event;\n        }\n      }\n    }\n    /**\n    * Triggered when render initialization finishes. Handles fading between\n    * scenes as well as showing the compass and hotspots and hiding the loading\n    * display.\n    * @private\n    */\n\n\n    function renderInitCallback() {\n      // Fade if specified\n      if (config.sceneFadeDuration && renderer.fadeImg !== undefined) {\n        renderer.fadeImg.style.opacity = 0; // Remove image\n\n        var fadeImg = renderer.fadeImg;\n        delete renderer.fadeImg;\n        setTimeout(function () {\n          renderContainer.removeChild(fadeImg);\n          fireEvent('scenechangefadedone');\n        }, config.sceneFadeDuration);\n      } // Show compass if applicable\n\n\n      if (config.compass) {\n        compass.style.display = 'inline';\n      } else {\n        compass.style.display = 'none';\n      } // Show hotspots\n\n\n      createHotSpots(); // Hide loading display\n\n      infoDisplay.load.box.style.display = 'none';\n\n      if (preview !== undefined) {\n        renderContainer.removeChild(preview);\n        preview = undefined;\n      }\n\n      loaded = true;\n      fireEvent('load');\n      animateInit();\n    }\n    /**\n    * Creates hot spot element for the current scene.\n    * @private\n    * @param {Object} hs - The configuration for the hotspot\n    */\n\n\n    function createHotSpot(hs) {\n      // Make sure hot spot pitch and yaw are numbers\n      hs.pitch = Number(hs.pitch) || 0;\n      hs.yaw = Number(hs.yaw) || 0;\n      var div = document.createElement('div');\n      div.className = 'pnlm-hotspot-base';\n\n      if (hs.cssClass) {\n        div.className += ' ' + hs.cssClass;\n      } else {\n        div.className += ' pnlm-hotspot pnlm-sprite pnlm-' + escapeHTML(hs.type);\n      }\n\n      var span = document.createElement('span');\n\n      if (hs.text) {\n        span.innerHTML = escapeHTML(hs.text);\n      }\n\n      var a;\n\n      if (hs.video) {\n        var video = document.createElement('video'),\n            p = hs.video;\n\n        if (config.basePath && !absoluteURL(p)) {\n          p = config.basePath + p;\n        }\n\n        video.src = sanitizeURL(p);\n        video.controls = true;\n        video.style.width = hs.width + 'px';\n        renderContainer.appendChild(div);\n        span.appendChild(video);\n      } else if (hs.image) {\n        var p = hs.image;\n\n        if (config.basePath && !absoluteURL(p)) {\n          p = config.basePath + p;\n        }\n\n        a = document.createElement('a');\n        a.href = sanitizeURL(hs.URL ? hs.URL : p);\n        a.target = '_blank';\n        span.appendChild(a);\n        var image = document.createElement('img');\n        image.src = sanitizeURL(p);\n        image.style.width = hs.width + 'px';\n        image.style.paddingTop = '5px';\n        renderContainer.appendChild(div);\n        a.appendChild(image);\n        span.style.maxWidth = 'initial';\n      } else if (hs.URL) {\n        a = document.createElement('a');\n        a.href = sanitizeURL(hs.URL);\n        a.target = '_blank';\n        renderContainer.appendChild(a);\n        div.className += ' pnlm-pointer';\n        span.className += ' pnlm-pointer';\n        a.appendChild(div);\n      } else {\n        if (hs.sceneId) {\n          div.onclick = div.ontouchend = function () {\n            if (!div.clicked) {\n              div.clicked = true;\n              loadScene(hs.sceneId, hs.targetPitch, hs.targetYaw, hs.targetHfov);\n            }\n\n            return false;\n          };\n\n          div.className += ' pnlm-pointer';\n          span.className += ' pnlm-pointer';\n        }\n\n        renderContainer.appendChild(div);\n      }\n\n      if (hs.createTooltipFunc) {\n        hs.createTooltipFunc(div, hs.createTooltipArgs);\n      } else if (hs.text || hs.video || hs.image) {\n        div.classList.add('pnlm-tooltip');\n        div.appendChild(span);\n        span.style.width = span.scrollWidth - 20 + 'px';\n        span.style.marginLeft = -(span.scrollWidth - div.offsetWidth) / 2 + 'px';\n        span.style.marginTop = -span.scrollHeight - 12 + 'px';\n      }\n\n      if (hs.clickHandlerFunc) {\n        div.addEventListener('click', function (e) {\n          hs.clickHandlerFunc(e, hs.clickHandlerArgs);\n        }, 'false');\n        div.className += ' pnlm-pointer';\n        span.className += ' pnlm-pointer';\n      }\n\n      hs.div = div;\n    }\n\n    ;\n    /**\n    * Creates hot spot elements for the current scene.\n    * @private\n    */\n\n    function createHotSpots() {\n      if (hotspotsCreated) {\n        return;\n      }\n\n      if (!config.hotSpots) {\n        config.hotSpots = [];\n      } else {\n        // Sort by pitch so tooltip is never obscured by another hot spot\n        config.hotSpots = config.hotSpots.sort(function (a, b) {\n          return a.pitch < b.pitch;\n        });\n        config.hotSpots.forEach(createHotSpot);\n      }\n\n      hotspotsCreated = true;\n      renderHotSpots();\n    }\n    /**\n    * Destroys currently created hot spot elements.\n    * @private\n    */\n\n\n    function destroyHotSpots() {\n      var hs = config.hotSpots;\n      hotspotsCreated = false;\n      delete config.hotSpots;\n\n      if (hs) {\n        for (var i = 0; i < hs.length; i++) {\n          var current = hs[i].div;\n\n          while (current.parentNode != renderContainer) {\n            current = current.parentNode;\n          }\n\n          renderContainer.removeChild(current);\n          delete hs[i].div;\n        }\n      }\n    }\n    /**\n    * Renders hot spot, updating its position and visibility.\n    * @private\n    */\n\n\n    function renderHotSpot(hs) {\n      var hsPitchSin = Math.sin(hs.pitch * Math.PI / 180),\n          hsPitchCos = Math.cos(hs.pitch * Math.PI / 180),\n          configPitchSin = Math.sin(config.pitch * Math.PI / 180),\n          configPitchCos = Math.cos(config.pitch * Math.PI / 180),\n          yawCos = Math.cos((-hs.yaw + config.yaw) * Math.PI / 180);\n      var z = hsPitchSin * configPitchSin + hsPitchCos * yawCos * configPitchCos;\n\n      if (hs.yaw <= 90 && hs.yaw > -90 && z <= 0 || (hs.yaw > 90 || hs.yaw <= -90) && z <= 0) {\n        hs.div.style.visibility = 'hidden';\n      } else {\n        var yawSin = Math.sin((-hs.yaw + config.yaw) * Math.PI / 180),\n            hfovTan = Math.tan(config.hfov * Math.PI / 360);\n        hs.div.style.visibility = 'visible'; // Subpixel rendering doesn't work in Firefox\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=739176\n\n        var canvas = renderer.getCanvas(),\n            canvasWidth = canvas.clientWidth,\n            canvasHeight = canvas.clientHeight;\n        var coord = [-canvasWidth / hfovTan * yawSin * hsPitchCos / z / 2, -canvasWidth / hfovTan * (hsPitchSin * configPitchCos - hsPitchCos * yawCos * configPitchSin) / z / 2]; // Apply roll\n\n        var rollSin = Math.sin(config.roll * Math.PI / 180),\n            rollCos = Math.cos(config.roll * Math.PI / 180);\n        coord = [coord[0] * rollCos - coord[1] * rollSin, coord[0] * rollSin + coord[1] * rollCos]; // Apply transform\n\n        coord[0] += (canvasWidth - hs.div.offsetWidth) / 2;\n        coord[1] += (canvasHeight - hs.div.offsetHeight) / 2;\n        var transform = 'translate(' + coord[0] + 'px, ' + coord[1] + 'px) translateZ(9999px) rotate(' + config.roll + 'deg)';\n        hs.div.style.webkitTransform = transform;\n        hs.div.style.MozTransform = transform;\n        hs.div.style.transform = transform;\n      }\n    }\n    /**\n    * Renders hot spots, updating their positions and visibility.\n    * @private\n    */\n\n\n    function renderHotSpots() {\n      config.hotSpots.forEach(renderHotSpot);\n    }\n    /**\n    * Merges a scene configuration into the current configuration.\n    * @private\n    * @param {string} sceneId - Identifier of scene configuration to merge in.\n    */\n\n\n    function mergeConfig(sceneId) {\n      config = {};\n      var k, s;\n      var photoSphereExcludes = ['haov', 'vaov', 'vOffset', 'northOffset', 'horizonPitch', 'horizonRoll'];\n      specifiedPhotoSphereExcludes = []; // Merge default config\n\n      for (k in defaultConfig) {\n        if (defaultConfig.hasOwnProperty(k)) {\n          config[k] = defaultConfig[k];\n        }\n      } // Merge default scene config\n\n\n      for (k in initialConfig.default) {\n        if (initialConfig.default.hasOwnProperty(k)) {\n          if (k == 'strings') {\n            for (s in initialConfig.default.strings) {\n              if (initialConfig.default.strings.hasOwnProperty(s)) {\n                config.strings[s] = escapeHTML(initialConfig.default.strings[s]);\n              }\n            }\n          } else {\n            config[k] = initialConfig.default[k];\n\n            if (photoSphereExcludes.indexOf(k) >= 0) {\n              specifiedPhotoSphereExcludes.push(k);\n            }\n          }\n        }\n      } // Merge current scene config\n\n\n      if (sceneId !== null && sceneId !== '' && initialConfig.scenes && initialConfig.scenes[sceneId]) {\n        var scene = initialConfig.scenes[sceneId];\n\n        for (k in scene) {\n          if (scene.hasOwnProperty(k)) {\n            if (k == 'strings') {\n              for (s in scene.strings) {\n                if (scene.strings.hasOwnProperty(s)) {\n                  config.strings[s] = escapeHTML(scene.strings[s]);\n                }\n              }\n            } else {\n              config[k] = scene[k];\n\n              if (photoSphereExcludes.indexOf(k) >= 0) {\n                specifiedPhotoSphereExcludes.push(k);\n              }\n            }\n          }\n        }\n\n        config.scene = sceneId;\n      } // Merge initial config\n\n\n      for (k in initialConfig) {\n        if (initialConfig.hasOwnProperty(k)) {\n          if (k == 'strings') {\n            for (s in initialConfig.strings) {\n              if (initialConfig.strings.hasOwnProperty(s)) {\n                config.strings[s] = escapeHTML(initialConfig.strings[s]);\n              }\n            }\n          } else {\n            config[k] = initialConfig[k];\n\n            if (photoSphereExcludes.indexOf(k) >= 0) {\n              specifiedPhotoSphereExcludes.push(k);\n            }\n          }\n        }\n      }\n    }\n    /**\n    * Processes configuration options.\n    * @param {boolean} [isPreview] - Whether or not the preview is being displayed\n    * @private\n    */\n\n\n    function processOptions(isPreview) {\n      isPreview = isPreview ? isPreview : false; // Process preview first so it always loads before the browser hits its\n      // maximum number of connections to a server as can happen with cubic\n      // panoramas\n\n      if (isPreview && 'preview' in config) {\n        var p = config.preview;\n\n        if (config.basePath && !absoluteURL(p)) {\n          p = config.basePath + p;\n        }\n\n        preview = document.createElement('div');\n        preview.className = 'pnlm-preview-img';\n        preview.style.backgroundImage = \"url('\" + sanitizeURLForCss(p) + \"')\";\n        renderContainer.appendChild(preview);\n      } // Handle different preview values\n\n\n      var title = config.title,\n          author = config.author;\n\n      if (isPreview) {\n        if ('previewTitle' in config) {\n          config.title = config.previewTitle;\n        }\n\n        if ('previewAuthor' in config) {\n          config.author = config.previewAuthor;\n        }\n      } // Reset title / author display\n\n\n      if (!config.hasOwnProperty('title')) {\n        infoDisplay.title.innerHTML = '';\n      }\n\n      if (!config.hasOwnProperty('author')) {\n        infoDisplay.author.innerHTML = '';\n      }\n\n      if (!config.hasOwnProperty('title') && !config.hasOwnProperty('author')) {\n        infoDisplay.container.style.display = 'none';\n      } // Fill in load button label and loading box text\n\n\n      controls.load.innerHTML = '<p>' + config.strings.loadButtonLabel + '</p>';\n      infoDisplay.load.boxp.innerHTML = config.strings.loadingLabel; // Process other options\n\n      for (var key in config) {\n        if (config.hasOwnProperty(key)) {\n          switch (key) {\n            case 'title':\n              infoDisplay.title.innerHTML = escapeHTML(config[key]);\n              infoDisplay.container.style.display = 'inline';\n              break;\n\n            case 'author':\n              infoDisplay.author.innerHTML = config.strings.bylineLabel.replace('%s', escapeHTML(config[key]));\n              infoDisplay.container.style.display = 'inline';\n              break;\n\n            case 'fallback':\n              var link = document.createElement('a');\n              link.href = sanitizeURL(config[key]);\n              link.target = '_blank';\n              link.textContent = 'Click here to view this panorama in an alternative viewer.';\n              var message = document.createElement('p');\n              message.textContent = 'Your browser does not support WebGL.';\n              message.appendChild(document.createElement('br'));\n              message.appendChild(link);\n              infoDisplay.errorMsg.innerHTML = ''; // Removes all children nodes\n\n              infoDisplay.errorMsg.appendChild(message);\n              break;\n\n            case 'hfov':\n              setHfov(Number(config[key]));\n              break;\n\n            case 'autoLoad':\n              if (config[key] === true && renderer === undefined) {\n                // Show loading box\n                infoDisplay.load.box.style.display = 'inline'; // Hide load button\n\n                controls.load.style.display = 'none'; // Initialize\n\n                init();\n              }\n\n              break;\n\n            case 'showZoomCtrl':\n              if (config[key] && config.showControls != false) {\n                // Show zoom controls\n                controls.zoom.style.display = 'block';\n              } else {\n                // Hide zoom controls\n                controls.zoom.style.display = 'none';\n              }\n\n              break;\n\n            case 'showFullscreenCtrl':\n              if (config[key] && config.showControls != false && ('fullscreen' in document || 'mozFullScreen' in document || 'webkitIsFullScreen' in document || 'msFullscreenElement' in document)) {\n                // Show fullscreen control\n                controls.fullscreen.style.display = 'block';\n              } else {\n                // Hide fullscreen control\n                controls.fullscreen.style.display = 'none';\n              }\n\n              break;\n\n            case 'hotSpotDebug':\n              if (config[key]) {\n                hotSpotDebugIndicator.style.display = 'block';\n              } else {\n                hotSpotDebugIndicator.style.display = 'none';\n              }\n\n              break;\n\n            case 'showControls':\n              if (!config[key]) {\n                controls.orientation.style.display = 'none';\n                controls.zoom.style.display = 'none';\n                controls.fullscreen.style.display = 'none';\n              }\n\n              break;\n\n            case 'orientationOnByDefault':\n              if (config[key]) {\n                if (orientationSupport === undefined) {\n                  startOrientationIfSupported = true;\n                } else if (orientationSupport === true) {\n                  startOrientation();\n                }\n              }\n\n              break;\n          }\n        }\n      }\n\n      if (isPreview) {\n        // Restore original values if changed for preview\n        if (title) {\n          config.title = title;\n        } else {\n          delete config.title;\n        }\n\n        if (author) {\n          config.author = author;\n        } else {\n          delete config.author;\n        }\n      }\n    }\n    /**\n    * Toggles fullscreen mode.\n    * @private\n    */\n\n\n    function toggleFullscreen() {\n      if (loaded && !error) {\n        if (!fullscreenActive) {\n          try {\n            if (container.requestFullscreen) {\n              container.requestFullscreen();\n            } else if (container.mozRequestFullScreen) {\n              container.mozRequestFullScreen();\n            } else if (container.msRequestFullscreen) {\n              container.msRequestFullscreen();\n            } else {\n              container.webkitRequestFullScreen();\n            }\n          } catch (event) {// Fullscreen doesn't work\n          }\n        } else {\n          if (document.exitFullscreen) {\n            document.exitFullscreen();\n          } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n          } else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n          } else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n          }\n        }\n      }\n    }\n    /**\n    * Event handler for fullscreen changes.\n    * @private\n    */\n\n\n    function onFullScreenChange() {\n      var isFullScreen = window.innerWidth == screen.width && window.innerHeight == screen.height;\n\n      if (document.fullscreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement || isFullScreen) {\n        controls.fullscreen.classList.add('pnlm-fullscreen-toggle-button-active');\n        fullscreenActive = true;\n      } else {\n        controls.fullscreen.classList.remove('pnlm-fullscreen-toggle-button-active');\n        fullscreenActive = false;\n      } // Resize renderer (deal with browser quirks and fixes #155)\n\n\n      renderer.resize();\n      setHfov(config.hfov);\n      animateInit();\n    }\n    /**\n    * Increases panorama zoom. For use with zoom button.\n    * @private\n    */\n\n\n    function zoomIn() {\n      if (loaded) {\n        setHfov(config.hfov - 5);\n        animateInit();\n      }\n    }\n    /**\n    * Decreases panorama zoom. For use with zoom button.\n    * @private\n    */\n\n\n    function zoomOut() {\n      if (loaded) {\n        setHfov(config.hfov + 5);\n        animateInit();\n      }\n    }\n    /**\n    * Clamps horzontal field of view to viewer's limits.\n    * @private\n    * @param {number} hfov - Input horizontal field of view (in degrees)\n    * @return {number} - Clamped horizontal field of view (in degrees)\n    */\n\n\n    function constrainHfov(hfov) {\n      // Keep field of view within bounds\n      var minHfov = config.minHfov;\n\n      if (config.type == 'multires' && renderer) {\n        minHfov = Math.min(minHfov, renderer.getCanvas().width / (config.multiRes.cubeResolution / 90 * 0.9));\n      }\n\n      if (minHfov > config.maxHfov) {\n        // Don't change view if bounds don't make sense\n        console.log('HFOV bounds do not make sense (minHfov > maxHfov).');\n        return config.hfov;\n      }\n\n      var newHfov = config.hfov;\n\n      if (hfov < minHfov) {\n        newHfov = minHfov;\n      } else if (hfov > config.maxHfov) {\n        newHfov = config.maxHfov;\n      } else {\n        newHfov = hfov;\n      } // Optionally avoid showing background (empty space) on top or bottom by adapting newHfov\n\n\n      if (config.avoidShowingBackground && renderer) {\n        var canvas = renderer.getCanvas();\n        newHfov = Math.min(newHfov, Math.atan(Math.tan((config.maxPitch - config.minPitch) / 360 * Math.PI) / canvas.height * canvas.width) * 360 / Math.PI);\n      }\n\n      return newHfov;\n    }\n    /**\n    * Sets viewer's horizontal field of view.\n    * @private\n    * @param {number} hfov - Desired horizontal field of view in degrees.\n    */\n\n\n    function setHfov(hfov) {\n      config.hfov = constrainHfov(hfov);\n    }\n    /**\n    * Stops auto rotation and animated moves.\n    * @private\n    */\n\n\n    function stopAnimation() {\n      animatedMove = {};\n      autoRotateSpeed = config.autoRotate ? config.autoRotate : autoRotateSpeed;\n      config.autoRotate = false;\n    }\n    /**\n    * Loads panorama.\n    * @private\n    */\n\n\n    function load() {\n      // Since WebGL error handling is very general, first we clear any error box\n      // since it is a new scene and the error from previous maybe because of lacking\n      // memory etc and not because of a lack of WebGL support etc\n      clearError();\n      loaded = false;\n      controls.load.style.display = 'none';\n      infoDisplay.load.box.style.display = 'inline';\n      init();\n    }\n    /**\n    * Loads scene.\n    * @private\n    * @param {string} sceneId - Identifier of scene configuration to merge in.\n    * @param {number} targetPitch - Pitch viewer should be centered on once scene loads.\n    * @param {number} targetYaw - Yaw viewer should be centered on once scene loads.\n    * @param {number} targetHfov - HFOV viewer should use once scene loads.\n    * @param {boolean} [fadeDone] - If `true`, fade setup is skipped.\n    */\n\n\n    function loadScene(sceneId, targetPitch, targetYaw, targetHfov, fadeDone) {\n      loaded = false;\n      animatedMove = {}; // Set up fade if specified\n\n      var fadeImg, workingPitch, workingYaw, workingHfov;\n\n      if (config.sceneFadeDuration && !fadeDone) {\n        var data = renderer.render(config.pitch * Math.PI / 180, config.yaw * Math.PI / 180, config.hfov * Math.PI / 180, {\n          returnImage: true\n        });\n\n        if (data !== undefined) {\n          fadeImg = new Image();\n          fadeImg.className = 'pnlm-fade-img';\n          fadeImg.style.transition = 'opacity ' + config.sceneFadeDuration / 1000 + 's';\n          fadeImg.style.width = '100%';\n          fadeImg.style.height = '100%';\n\n          fadeImg.onload = function () {\n            loadScene(sceneId, targetPitch, targetYaw, targetHfov, true);\n          };\n\n          fadeImg.src = data;\n          renderContainer.appendChild(fadeImg);\n          renderer.fadeImg = fadeImg;\n          return;\n        }\n      } // Set new pointing\n\n\n      if (targetPitch === 'same') {\n        workingPitch = config.pitch;\n      } else {\n        workingPitch = targetPitch;\n      }\n\n      if (targetYaw === 'same') {\n        workingYaw = config.yaw;\n      } else if (targetYaw === 'sameAzimuth') {\n        workingYaw = config.yaw + (config.northOffset || 0) - (initialConfig.scenes[sceneId].northOffset || 0);\n      } else {\n        workingYaw = targetYaw;\n      }\n\n      if (targetHfov === 'same') {\n        workingHfov = config.hfov;\n      } else {\n        workingHfov = targetHfov;\n      } // Destroy hot spots from previous scene\n\n\n      destroyHotSpots(); // Create the new config for the scene\n\n      mergeConfig(sceneId); // Stop motion\n\n      speed.yaw = speed.pitch = speed.hfov = 0; // Reload scene\n\n      processOptions();\n\n      if (workingPitch !== undefined) {\n        config.pitch = workingPitch;\n      }\n\n      if (workingYaw !== undefined) {\n        config.yaw = workingYaw;\n      }\n\n      if (workingHfov !== undefined) {\n        config.hfov = workingHfov;\n      }\n\n      fireEvent('scenechange', sceneId);\n      load();\n    }\n    /**\n    * Stop using device orientation.\n    * @private\n    */\n\n\n    function stopOrientation() {\n      window.removeEventListener('deviceorientation', orientationListener);\n      controls.orientation.classList.remove('pnlm-orientation-button-active');\n      orientation = false;\n    }\n    /**\n    * Start using device orientation.\n    * @private\n    */\n\n\n    function startOrientation() {\n      orientation = 1;\n      window.addEventListener('deviceorientation', orientationListener);\n      controls.orientation.classList.add('pnlm-orientation-button-active');\n    }\n    /**\n    * Escapes HTML string (to mitigate possible DOM XSS attacks).\n    * @private\n    * @param {string} s - String to escape\n    * @returns {string} Escaped string\n    */\n\n\n    function escapeHTML(s) {\n      if (!initialConfig.escapeHTML) {\n        return String(s).split('\\n').join('<br>');\n      }\n\n      return String(s).split(/&/g).join('&amp;').split('\"').join('&quot;').split(\"'\").join('&#39;').split('<').join('&lt;').split('>').join('&gt;').split('/').join('&#x2f;').split('\\n').join('<br>'); // Allow line breaks\n    }\n    /**\n    * Removes possibility of XSS attacks with URLs.\n    * The URL cannot be of protocol 'javascript'.\n    * @private\n    * @param {string} url - URL to sanitize\n    * @returns {string} Sanitized URL\n    */\n\n\n    function sanitizeURL(url) {\n      if (url.trim().toLowerCase().indexOf('javascript:') === 0) {\n        return 'about:blank';\n      }\n\n      return url;\n    }\n    /**\n    * Removes possibility of XSS atacks with URLs for CSS.\n    * The URL will be sanitized with `sanitizeURL()` and single quotes\n    * and double quotes escaped.\n    * @private\n    * @param {string} url - URL to sanitize\n    * @returns {string} Sanitized URL\n    */\n\n\n    function sanitizeURLForCss(url) {\n      return sanitizeURL(url).replace(/\"/g, '%22').replace(/'/g, '%27');\n    }\n    /**\n    * Checks whether or not a panorama is loaded.\n    * @memberof Viewer\n    * @instance\n    * @returns {boolean} `true` if a panorama is loaded, else `false`\n    */\n\n\n    this.isLoaded = function () {\n      return Boolean(loaded);\n    };\n    /**\n    * Returns the pitch of the center of the view.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} Pitch in degrees\n    */\n\n\n    this.getPitch = function () {\n      return config.pitch;\n    };\n    /**\n    * Sets the pitch of the center of the view.\n    * @memberof Viewer\n    * @instance\n    * @param {number} pitch - Pitch in degrees\n    * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n    * @param {function} [callback] - Function to call when animation finishes\n    * @param {object} [callbackArgs] - Arguments to pass to callback function\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setPitch = function (pitch, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000 : Number(animated);\n\n      if (animated) {\n        animatedMove.pitch = {\n          'startTime': Date.now(),\n          'startPosition': config.pitch,\n          'endPosition': pitch,\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        config.pitch = pitch;\n      }\n\n      animateInit();\n      return this;\n    };\n    /**\n    * Returns the minimum and maximum allowed pitches (in degrees).\n    * @memberof Viewer\n    * @instance\n    * @returns {number[]} [minimum pitch, maximum pitch]\n    */\n\n\n    this.getPitchBounds = function () {\n      return [config.minPitch, config.maxPitch];\n    };\n    /**\n    * Set the minimum and maximum allowed pitches (in degrees).\n    * @memberof Viewer\n    * @instance\n    * @param {number[]} bounds - [minimum pitch, maximum pitch]\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setPitchBounds = function (bounds) {\n      config.minPitch = Math.max(-90, Math.min(bounds[0], 90));\n      config.maxPitch = Math.max(-90, Math.min(bounds[1], 90));\n      return this;\n    };\n    /**\n    * Returns the yaw of the center of the view.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} Yaw in degrees\n    */\n\n\n    this.getYaw = function () {\n      return config.yaw;\n    };\n    /**\n    * Sets the yaw of the center of the view.\n    * @memberof Viewer\n    * @instance\n    * @param {number} yaw - Yaw in degrees [-180, 180]\n    * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n    * @param {function} [callback] - Function to call when animation finishes\n    * @param {object} [callbackArgs] - Arguments to pass to callback function\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setYaw = function (yaw, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000 : Number(animated);\n      yaw = (yaw + 180) % 360 - 180; // Keep in bounds\n\n      if (animated) {\n        // Animate in shortest direction\n        if (config.yaw - yaw > 180) {\n          yaw += 360;\n        } else if (yaw - config.yaw > 180) {\n          yaw -= 360;\n        }\n\n        animatedMove.yaw = {\n          'startTime': Date.now(),\n          'startPosition': config.yaw,\n          'endPosition': yaw,\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        config.yaw = yaw;\n      }\n\n      animateInit();\n      return this;\n    };\n    /**\n    * Returns the minimum and maximum allowed pitches (in degrees).\n    * @memberof Viewer\n    * @instance\n    * @returns {number[]} [yaw pitch, maximum yaw]\n    */\n\n\n    this.getYawBounds = function () {\n      return [config.minYaw, config.maxYaw];\n    };\n    /**\n    * Set the minimum and maximum allowed yaws (in degrees [-180, 180]).\n    * @memberof Viewer\n    * @instance\n    * @param {number[]} bounds - [minimum yaw, maximum yaw]\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setYawBounds = function (bounds) {\n      config.minYaw = Math.max(-180, Math.min(bounds[0], 180));\n      config.maxYaw = Math.max(-180, Math.min(bounds[1], 180));\n      return this;\n    };\n    /**\n    * Returns the horizontal field of view.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} Horizontal field of view in degrees\n    */\n\n\n    this.getHfov = function () {\n      return config.hfov;\n    };\n    /**\n    * Sets the horizontal field of view.\n    * @memberof Viewer\n    * @instance\n    * @param {number} hfov - Horizontal field of view in degrees\n    * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n    * @param {function} [callback] - Function to call when animation finishes\n    * @param {object} [callbackArgs] - Arguments to pass to callback function\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setHfov = function (hfov, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000 : Number(animated);\n\n      if (animated) {\n        animatedMove.hfov = {\n          'startTime': Date.now(),\n          'startPosition': config.hfov,\n          'endPosition': constrainHfov(hfov),\n          'duration': animated,\n          'callback': callback,\n          'callbackArgs': callbackArgs\n        };\n      } else {\n        setHfov(hfov);\n      }\n\n      animateInit();\n      return this;\n    };\n    /**\n    * Returns the minimum and maximum allowed horizontal fields of view\n    * (in degrees).\n    * @memberof Viewer\n    * @instance\n    * @returns {number[]} [minimum hfov, maximum hfov]\n    */\n\n\n    this.getHfovBounds = function () {\n      return [config.minHfov, config.maxHfov];\n    };\n    /**\n    * Set the minimum and maximum allowed horizontal fields of view (in degrees).\n    * @memberof Viewer\n    * @instance\n    * @param {number[]} bounds - [minimum hfov, maximum hfov]\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setHfovBounds = function (bounds) {\n      config.minHfov = Math.max(0, bounds[0]);\n      config.maxHfov = Math.max(0, bounds[1]);\n      return this;\n    };\n    /**\n    * Set a new view. Any parameters not specified remain the same.\n    * @memberof Viewer\n    * @instance\n    * @param {number} [pitch] - Target pitch\n    * @param {number} [yaw] - Target yaw\n    * @param {number} [hfov] - Target hfov\n    * @param {boolean|number} [animated=1000] - Animation duration in milliseconds or false for no animation\n    * @param {function} [callback] - Function to call when animation finishes\n    * @param {object} [callbackArgs] - Arguments to pass to callback function\n    * @returns {Viewer} `this`\n    */\n\n\n    this.lookAt = function (pitch, yaw, hfov, animated, callback, callbackArgs) {\n      animated = animated == undefined ? 1000 : Number(animated);\n\n      if (pitch !== undefined) {\n        this.setPitch(pitch, animated, callback, callbackArgs);\n        callback = undefined;\n      }\n\n      if (yaw !== undefined) {\n        this.setYaw(yaw, animated, callback, callbackArgs);\n        callback = undefined;\n      }\n\n      if (hfov !== undefined) {\n        this.setHfov(hfov, animated, callback, callbackArgs);\n      }\n\n      return this;\n    };\n    /**\n    * Returns the panorama's north offset.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} North offset in degrees\n    */\n\n\n    this.getNorthOffset = function () {\n      return config.northOffset;\n    };\n    /**\n    * Sets the panorama's north offset.\n    * @memberof Viewer\n    * @instance\n    * @param {number} heading - North offset in degrees\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setNorthOffset = function (heading) {\n      config.northOffset = Math.min(360, Math.max(0, heading));\n      animateInit();\n      return this;\n    };\n    /**\n    * Returns the panorama's horizon roll.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} Horizon roll in degrees\n    */\n\n\n    this.getHorizonRoll = function () {\n      return config.horizonRoll;\n    };\n    /**\n    * Sets the panorama's horizon roll.\n    * @memberof Viewer\n    * @instance\n    * @param {number} roll - Horizon roll in degrees [-90, 90]\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setHorizonRoll = function (roll) {\n      config.horizonRoll = Math.min(90, Math.max(-90, roll));\n      renderer.setPose(config.horizonPitch * Math.PI / 180, config.horizonRoll * Math.PI / 180);\n      animateInit();\n      return this;\n    };\n    /**\n    * Returns the panorama's horizon pitch.\n    * @memberof Viewer\n    * @instance\n    * @returns {number} Horizon pitch in degrees\n    */\n\n\n    this.getHorizonPitch = function () {\n      return config.horizonPitch;\n    };\n    /**\n    * Sets the panorama's horizon pitch.\n    * @memberof Viewer\n    * @instance\n    * @param {number} pitch - Horizon pitch in degrees [-90, 90]\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setHorizonPitch = function (pitch) {\n      config.horizonPitch = Math.min(90, Math.max(-90, pitch));\n      renderer.setPose(config.horizonPitch * Math.PI / 180, config.horizonRoll * Math.PI / 180);\n      animateInit();\n      return this;\n    };\n    /**\n    * Start auto rotation.\n    * @memberof Viewer\n    * @instance\n    * @param {number} [speed] - Auto rotation speed / direction. If not specified, previous value is used.\n    * @returns {Viewer} `this`\n    */\n\n\n    this.startAutoRotate = function (speed) {\n      speed = speed || autoRotateSpeed || 1;\n      config.autoRotate = speed;\n\n      _this.lookAt(origPitch, undefined, origHfov, 3000);\n\n      animateInit();\n      return this;\n    };\n    /**\n    * Stop auto rotation.\n    * @memberof Viewer\n    * @instance\n    * @returns {Viewer} `this`\n    */\n\n\n    this.stopAutoRotate = function () {\n      autoRotateSpeed = config.autoRotate ? config.autoRotate : autoRotateSpeed;\n      config.autoRotate = false;\n      config.autoRotateInactivityDelay = -1;\n      return this;\n    };\n    /**\n    * Returns the panorama renderer.\n    * @memberof Viewer\n    * @instance\n    * @returns {Renderer}\n    */\n\n\n    this.getRenderer = function () {\n      return renderer;\n    };\n    /**\n    * Sets update flag for dynamic content.\n    * @memberof Viewer\n    * @instance\n    * @param {boolean} bool - Whether or not viewer should update even when still\n    * @returns {Viewer} `this`\n    */\n\n\n    this.setUpdate = function (bool) {\n      update = bool === true;\n\n      if (renderer === undefined) {\n        onImageLoad();\n      } else {\n        animateInit();\n      }\n\n      return this;\n    };\n    /**\n    * Calculate panorama pitch and yaw from location of mouse event.\n    * @memberof Viewer\n    * @instance\n    * @param {MouseEvent} event - Document mouse down event.\n    * @returns {number[]} [pitch, yaw]\n    */\n\n\n    this.mouseEventToCoords = function (event) {\n      return mouseEventToCoords(event);\n    };\n    /**\n    * Change scene being viewed.\n    * @memberof Viewer\n    * @instance\n    * @param {string} sceneId - Identifier of scene to switch to.\n    * @param {number} [pitch] - Pitch to use with new scene\n    * @param {number} [yaw] - Yaw to use with new scene\n    * @param {number} [hfov] - HFOV to use with new scene\n    * @returns {Viewer} `this`\n    */\n\n\n    this.loadScene = function (sceneId, pitch, yaw, hfov) {\n      if (loaded !== false) {\n        loadScene(sceneId, pitch, yaw, hfov);\n      }\n\n      return this;\n    };\n    /**\n    * Get ID of current scene.\n    * @memberof Viewer\n    * @instance\n    * @returns {string} ID of current scene\n    */\n\n\n    this.getScene = function () {\n      return config.scene;\n    };\n    /**\n    * Add a new scene.\n    * @memberof Viewer\n    * @instance\n    * @param {string} sceneId - The ID of the new scene\n    * @param {string} config - The configuration of the new scene\n    * @returns {Viewer} `this`\n    */\n\n\n    this.addScene = function (sceneId, config) {\n      initialConfig.scenes[sceneId] = config;\n      return this;\n    };\n    /**\n    * Remove a scene.\n    * @memberof Viewer\n    * @instance\n    * @param {string} sceneId - The ID of the scene\n    * @returns {boolean} False if the scene is the current scene or if the scene doesn't exists, else true\n    */\n\n\n    this.removeScene = function (sceneId) {\n      if (config.scene === sceneId || !initialConfig.scenes.hasOwnProperty(sceneId)) {\n        return false;\n      }\n\n      delete initialConfig.scenes[sceneId];\n      return true;\n    };\n    /**\n    * Toggle fullscreen.\n    * @memberof Viewer\n    * @instance\n    * @returns {Viewer} `this`\n    */\n\n\n    this.toggleFullscreen = function () {\n      toggleFullscreen();\n      return this;\n    };\n    /**\n    * Get configuration of current scene.\n    * @memberof Viewer\n    * @instance\n    * @returns {Object} Configuration of current scene\n    */\n\n\n    this.getConfig = function () {\n      return config;\n    };\n    /**\n    * Get viewer's container element.\n    * @memberof Viewer\n    * @instance\n    * @returns {HTMLElement} Container `div` element\n    */\n\n\n    this.getContainer = function () {\n      return container;\n    };\n    /**\n    * Add a new hot spot.\n    * @memberof Viewer\n    * @instance\n    * @param {Object} hs - The configuration for the hot spot\n    * @param {string} [sceneId] - Adds hot spot to specified scene if provided, else to current scene\n    * @returns {Viewer} `this`\n    * @throws Throws an error if the scene ID is provided but invalid\n    */\n\n\n    this.addHotSpot = function (hs, sceneId) {\n      if (sceneId === undefined && config.scene === undefined) {\n        // Not a tour\n        config.hotSpots.push(hs);\n      } else {\n        // Tour\n        var id = sceneId !== undefined ? sceneId : config.scene;\n\n        if (initialConfig.scenes.hasOwnProperty(id)) {\n          if (!initialConfig.scenes[id].hasOwnProperty('hotSpots')) {\n            initialConfig.scenes[id].hotSpots = []; // Create hot spots array if needed\n\n            if (id == config.scene) {\n              config.hotSpots = initialConfig.scenes[id].hotSpots;\n            } // Link to current config\n\n          }\n\n          initialConfig.scenes[id].hotSpots.push(hs); // Add hot spot to config\n        } else {\n          throw 'Invalid scene ID!';\n        }\n      }\n\n      if (sceneId === undefined || config.scene == sceneId) {\n        // Add to current scene\n        createHotSpot(hs);\n\n        if (loaded) {\n          renderHotSpot(hs);\n        }\n      }\n\n      return this;\n    };\n    /**\n    * Remove a hot spot.\n    * @memberof Viewer\n    * @instance\n    * @param {string} hotSpotId - The ID of the hot spot\n    * @param {string} [sceneId] - Removes hot spot from specified scene if provided, else from current scene\n    * @returns {boolean} True if deletion is successful, else false\n    */\n\n\n    this.removeHotSpot = function (hotSpotId, sceneId) {\n      if (sceneId === undefined || config.scene == sceneId) {\n        if (!config.hotSpots) {\n          return false;\n        }\n\n        for (var i = 0; i < config.hotSpots.length; i++) {\n          if (config.hotSpots[i].hasOwnProperty('id') && config.hotSpots[i].id === hotSpotId) {\n            // Delete hot spot DOM elements\n            var current = config.hotSpots[i].div;\n\n            while (current.parentNode != renderContainer) {\n              current = current.parentNode;\n            }\n\n            renderContainer.removeChild(current);\n            delete config.hotSpots[i].div; // Remove hot spot from configuration\n\n            config.hotSpots.splice(i, 1);\n            return true;\n          }\n        }\n      } else {\n        if (initialConfig.scenes.hasOwnProperty(sceneId)) {\n          if (!initialConfig.scenes[sceneId].hasOwnProperty('hotSpots')) {\n            return false;\n          }\n\n          for (var i = 0; i < initialConfig.scenes[sceneId].hotSpots.length; i++) {\n            if (initialConfig.scenes[sceneId].hotSpots[i].hasOwnProperty('id') && initialConfig.scenes[sceneId].hotSpots[i].id === hotSpotId) {\n              // Remove hot spot from configuration\n              initialConfig.scenes[sceneId].hotSpots.splice(i, 1);\n              return true;\n            }\n          }\n        } else {\n          return false;\n        }\n      }\n    };\n    /**\n    * This method should be called if the viewer's container is resized.\n    * @memberof Viewer\n    * @instance\n    */\n\n\n    this.resize = function () {\n      if (renderer) {\n        onDocumentResize();\n      }\n    };\n    /**\n    * Check if a panorama is loaded.\n    * @memberof Viewer\n    * @instance\n    * @returns {boolean} True if a panorama is loaded, else false\n    */\n\n\n    this.isLoaded = function () {\n      return loaded;\n    };\n    /**\n    * Check if device orientation control is supported.\n    * @memberof Viewer\n    * @instance\n    * @returns {boolean} True if supported, else false\n    */\n\n\n    this.isOrientationSupported = function () {\n      return orientationSupport || false;\n    };\n    /**\n    * Stop using device orientation.\n    * @memberof Viewer\n    * @instance\n    */\n\n\n    this.stopOrientation = function () {\n      stopOrientation();\n    };\n    /**\n    * Start using device orientation (does nothing if not supported).\n    * @memberof Viewer\n    * @instance\n    */\n\n\n    this.startOrientation = function () {\n      if (orientationSupport) {\n        startOrientation();\n      }\n    };\n    /**\n    * Check if device orientation control is currently activated.\n    * @memberof Viewer\n    * @instance\n    * @returns {boolean} True if active, else false\n    */\n\n\n    this.isOrientationActive = function () {\n      return Boolean(orientation);\n    };\n    /**\n    * Subscribe listener to specified event.\n    * @memberof Viewer\n    * @instance\n    * @param {string} type - Type of event to subscribe to.\n    * @param {Function} listener - Listener function to subscribe to event.\n    * @returns {Viewer} `this`\n    */\n\n\n    this.on = function (type, listener) {\n      externalEventListeners[type] = externalEventListeners[type] || [];\n      externalEventListeners[type].push(listener);\n      return this;\n    };\n    /**\n    * Remove an event listener (or listeners).\n    * @memberof Viewer\n    * @param {string} [type] - Type of event to remove listeners from. If not specified, all listeners are removed.\n    * @param {Function} [listener] - Listener function to remove. If not specified, all listeners of specified type are removed.\n    * @returns {Viewer} `this`\n    */\n\n\n    this.off = function (type, listener) {\n      if (!type) {\n        // Remove all listeners if type isn't specified\n        externalEventListeners = {};\n        return this;\n      }\n\n      if (listener) {\n        var i = externalEventListeners[type].indexOf(listener);\n\n        if (i >= 0) {\n          // Remove listener if found\n          externalEventListeners[type].splice(i, 1);\n        }\n\n        if (externalEventListeners[type].length == 0) {\n          // Remove category if empty\n          delete externalEventListeners[type];\n        }\n      } else {\n        // Remove category of listeners if listener isn't specified\n        delete externalEventListeners[type];\n      }\n\n      return this;\n    };\n    /**\n    * Fire listeners attached to specified event.\n    * @private\n    * @param {string} [type] - Type of event to fire listeners for.\n    */\n\n\n    function fireEvent(type) {\n      if (type in externalEventListeners) {\n        // Reverse iteration is useful, if event listener is removed inside its definition\n        for (var i = externalEventListeners[type].length; i > 0; i--) {\n          externalEventListeners[type][externalEventListeners[type].length - i].apply(null, [].slice.call(arguments, 1));\n        }\n      }\n    }\n    /**\n    * Destructor.\n    * @instance\n    * @memberof Viewer\n    */\n\n\n    this.destroy = function () {\n      if (renderer) {\n        renderer.destroy();\n      }\n\n      ;\n\n      if (listenersAdded) {\n        dragFix.removeEventListener('mousedown', onDocumentMouseDown, false);\n        dragFix.removeEventListener('dblclick', onDocumentDoubleClick, false);\n        document.removeEventListener('mousemove', onDocumentMouseMove, false);\n        document.removeEventListener('mouseup', onDocumentMouseUp, false);\n        container.removeEventListener('mousewheel', onDocumentMouseWheel, false);\n        container.removeEventListener('DOMMouseScroll', onDocumentMouseWheel, false);\n        container.removeEventListener('mozfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('webkitfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('msfullscreenchange', onFullScreenChange, false);\n        container.removeEventListener('fullscreenchange', onFullScreenChange, false);\n        window.removeEventListener('resize', onDocumentResize, false);\n        window.removeEventListener('orientationchange', onDocumentResize, false);\n        container.removeEventListener('keydown', onDocumentKeyPress, false);\n        container.removeEventListener('keyup', onDocumentKeyUp, false);\n        container.removeEventListener('blur', clearKeys, false);\n        document.removeEventListener('mouseleave', onDocumentMouseUp, false);\n        dragFix.removeEventListener('touchstart', onDocumentTouchStart, false);\n        dragFix.removeEventListener('touchmove', onDocumentTouchMove, false);\n        dragFix.removeEventListener('touchend', onDocumentTouchEnd, false);\n        dragFix.removeEventListener('pointerdown', onDocumentPointerDown, false);\n        dragFix.removeEventListener('pointermove', onDocumentPointerMove, false);\n        dragFix.removeEventListener('pointerup', onDocumentPointerUp, false);\n        dragFix.removeEventListener('pointerleave', onDocumentPointerUp, false);\n      }\n\n      container.innerHTML = '';\n      container.classList.remove('pnlm-container');\n      uiContainer.classList.remove('pnlm-grab');\n      uiContainer.classList.remove('pnlm-grabbing');\n    };\n  }\n\n  return {\n    viewer: function viewer(container, config) {\n      return new Viewer(container, config);\n    }\n  };\n}(window, document);","/**\n * Provides requestAnimationFrame in a cross browser way.\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n */\nif (!window.requestAnimationFrame) {\n  window.requestAnimationFrame = function () {\n    return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (\n    /* function FrameRequestCallback */\n    callback,\n    /* DOMElement Element */\n    element) {\n      window.setTimeout(callback, 1000 / 60);\n    };\n  }();\n}","'use strict';\n\nvar keys = require('object-keys');\n\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function isFunction(fn) {\n  return typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function arePropertyDescriptorsSupported() {\n  var obj = {};\n\n  try {\n    origDefineProperty(obj, 'x', {\n      enumerable: false,\n      value: obj\n    }); // eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\n    for (var _ in obj) {\n      // jscs:ignore disallowUnusedVariables\n      return false;\n    }\n\n    return obj.x === obj;\n  } catch (e) {\n    /* this is IE 8. */\n    return false;\n  }\n};\n\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function defineProperty(object, name, value, predicate) {\n  if (name in object && (!isFunction(predicate) || !predicate())) {\n    return;\n  }\n\n  if (supportsDescriptors) {\n    origDefineProperty(object, name, {\n      configurable: true,\n      enumerable: false,\n      value: value,\n      writable: true\n    });\n  } else {\n    object[name] = value;\n  }\n};\n\nvar defineProperties = function defineProperties(object, map) {\n  var predicates = arguments.length > 2 ? arguments[2] : {};\n  var props = keys(map);\n\n  if (hasSymbols) {\n    props = concat.call(props, Object.getOwnPropertySymbols(map));\n  }\n\n  for (var i = 0; i < props.length; i += 1) {\n    defineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n  }\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\nmodule.exports = defineProperties;","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n  var str = toStr.call(value);\n  var isArgs = str === '[object Arguments]';\n\n  if (!isArgs) {\n    isArgs = str !== '[object Array]' && value !== null && typeof value === 'object' && typeof value.length === 'number' && value.length >= 0 && toStr.call(value.callee) === '[object Function]';\n  }\n\n  return isArgs;\n};","'use strict';\n\nvar bind = require('function-bind');\n\nvar ES = require('es-abstract/es5');\n\nvar replace = bind.call(Function.call, String.prototype.replace);\n/* eslint-disable no-control-regex */\n\nvar leftWhitespace = /^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+/;\nvar rightWhitespace = /[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+$/;\n/* eslint-enable no-control-regex */\n\nmodule.exports = function trim() {\n  var S = ES.ToString(ES.CheckObjectCoercible(this));\n  return replace(replace(S, leftWhitespace, ''), rightWhitespace, '');\n};","'use strict';\n/* globals\n\tSet,\n\tMap,\n\tWeakSet,\n\tWeakMap,\n\n\tPromise,\n\n\tSymbol,\n\tProxy,\n\n\tAtomics,\n\tSharedArrayBuffer,\n\n\tArrayBuffer,\n\tDataView,\n\tUint8Array,\n\tFloat32Array,\n\tFloat64Array,\n\tInt8Array,\n\tInt16Array,\n\tInt32Array,\n\tUint8ClampedArray,\n\tUint16Array,\n\tUint32Array,\n*/\n\nvar undefined; // eslint-disable-line no-shadow-restricted-names\n\nvar ThrowTypeError = Object.getOwnPropertyDescriptor ? function () {\n  return Object.getOwnPropertyDescriptor(arguments, 'callee').get;\n}() : function () {\n  throw new TypeError();\n};\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';\n\nvar getProto = Object.getPrototypeOf || function (x) {\n  return x.__proto__;\n}; // eslint-disable-line no-proto\n\n\nvar generator; // = function * () {};\n\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\n\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\n\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\nvar INTRINSICS = {\n  '$ %Array%': Array,\n  '$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n  '$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n  '$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n  '$ %ArrayPrototype%': Array.prototype,\n  '$ %ArrayProto_entries%': Array.prototype.entries,\n  '$ %ArrayProto_forEach%': Array.prototype.forEach,\n  '$ %ArrayProto_keys%': Array.prototype.keys,\n  '$ %ArrayProto_values%': Array.prototype.values,\n  '$ %AsyncFromSyncIteratorPrototype%': undefined,\n  '$ %AsyncFunction%': asyncFunction,\n  '$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n  '$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n  '$ %AsyncGeneratorFunction%': asyncGenFunction,\n  '$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n  '$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n  '$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n  '$ %Boolean%': Boolean,\n  '$ %BooleanPrototype%': Boolean.prototype,\n  '$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n  '$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n  '$ %Date%': Date,\n  '$ %DatePrototype%': Date.prototype,\n  '$ %decodeURI%': decodeURI,\n  '$ %decodeURIComponent%': decodeURIComponent,\n  '$ %encodeURI%': encodeURI,\n  '$ %encodeURIComponent%': encodeURIComponent,\n  '$ %Error%': Error,\n  '$ %ErrorPrototype%': Error.prototype,\n  '$ %eval%': eval,\n  // eslint-disable-line no-eval\n  '$ %EvalError%': EvalError,\n  '$ %EvalErrorPrototype%': EvalError.prototype,\n  '$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n  '$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n  '$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n  '$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n  '$ %Function%': Function,\n  '$ %FunctionPrototype%': Function.prototype,\n  '$ %Generator%': generator ? getProto(generator()) : undefined,\n  '$ %GeneratorFunction%': generatorFunction,\n  '$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n  '$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n  '$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n  '$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n  '$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n  '$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n  '$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n  '$ %isFinite%': isFinite,\n  '$ %isNaN%': isNaN,\n  '$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n  '$ %JSON%': JSON,\n  '$ %JSONParse%': JSON.parse,\n  '$ %Map%': typeof Map === 'undefined' ? undefined : Map,\n  '$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n  '$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n  '$ %Math%': Math,\n  '$ %Number%': Number,\n  '$ %NumberPrototype%': Number.prototype,\n  '$ %Object%': Object,\n  '$ %ObjectPrototype%': Object.prototype,\n  '$ %ObjProto_toString%': Object.prototype.toString,\n  '$ %ObjProto_valueOf%': Object.prototype.valueOf,\n  '$ %parseFloat%': parseFloat,\n  '$ %parseInt%': parseInt,\n  '$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n  '$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n  '$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n  '$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n  '$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n  '$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n  '$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n  '$ %RangeError%': RangeError,\n  '$ %RangeErrorPrototype%': RangeError.prototype,\n  '$ %ReferenceError%': ReferenceError,\n  '$ %ReferenceErrorPrototype%': ReferenceError.prototype,\n  '$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n  '$ %RegExp%': RegExp,\n  '$ %RegExpPrototype%': RegExp.prototype,\n  '$ %Set%': typeof Set === 'undefined' ? undefined : Set,\n  '$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n  '$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n  '$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n  '$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n  '$ %String%': String,\n  '$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n  '$ %StringPrototype%': String.prototype,\n  '$ %Symbol%': hasSymbols ? Symbol : undefined,\n  '$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n  '$ %SyntaxError%': SyntaxError,\n  '$ %SyntaxErrorPrototype%': SyntaxError.prototype,\n  '$ %ThrowTypeError%': ThrowTypeError,\n  '$ %TypedArray%': TypedArray,\n  '$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n  '$ %TypeError%': TypeError,\n  '$ %TypeErrorPrototype%': TypeError.prototype,\n  '$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n  '$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n  '$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n  '$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n  '$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n  '$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n  '$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n  '$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n  '$ %URIError%': URIError,\n  '$ %URIErrorPrototype%': URIError.prototype,\n  '$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n  '$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n  '$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n  '$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n  if (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n    throw new TypeError('\"allowMissing\" argument must be a boolean');\n  }\n\n  var key = '$ ' + name;\n\n  if (!(key in INTRINSICS)) {\n    throw new SyntaxError('intrinsic ' + name + ' does not exist!');\n  } // istanbul ignore if // hopefully this is impossible to test :-)\n\n\n  if (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {\n    throw new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n  }\n\n  return INTRINSICS[key];\n};","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);","'use strict';\n\nvar implementation = require('./implementation');\n\nvar zeroWidthSpace = \"\\u200B\";\n\nmodule.exports = function getPolyfill() {\n  if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {\n    return String.prototype.trim;\n  }\n\n  return implementation;\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Functions that generate fragmented MP4s suitable for use with Media\n * Source Extensions.\n */\n'use strict';\n\nvar UINT32_MAX = Math.pow(2, 32) - 1;\nvar box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n(function () {\n  var i;\n  types = {\n    avc1: [],\n    // codingname\n    avcC: [],\n    btrt: [],\n    dinf: [],\n    dref: [],\n    esds: [],\n    ftyp: [],\n    hdlr: [],\n    mdat: [],\n    mdhd: [],\n    mdia: [],\n    mfhd: [],\n    minf: [],\n    moof: [],\n    moov: [],\n    mp4a: [],\n    // codingname\n    mvex: [],\n    mvhd: [],\n    sdtp: [],\n    smhd: [],\n    stbl: [],\n    stco: [],\n    stsc: [],\n    stsd: [],\n    stsz: [],\n    stts: [],\n    styp: [],\n    tfdt: [],\n    tfhd: [],\n    traf: [],\n    trak: [],\n    trun: [],\n    trex: [],\n    tkhd: [],\n    vmhd: []\n  }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n  // don't throw an error\n\n  if (typeof Uint8Array === 'undefined') {\n    return;\n  }\n\n  for (i in types) {\n    if (types.hasOwnProperty(i)) {\n      types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n    }\n  }\n\n  MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n  AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n  MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n  VIDEO_HDLR = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x00, // pre_defined\n  0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n  ]);\n  AUDIO_HDLR = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x00, // pre_defined\n  0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n  ]);\n  HDLR_TYPES = {\n    video: VIDEO_HDLR,\n    audio: AUDIO_HDLR\n  };\n  DREF = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x01, // entry_count\n  0x00, 0x00, 0x00, 0x0c, // entry_size\n  0x75, 0x72, 0x6c, 0x20, // 'url' type\n  0x00, // version 0\n  0x00, 0x00, 0x01 // entry_flags\n  ]);\n  SMHD = new Uint8Array([0x00, // version\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, // balance, 0 means centered\n  0x00, 0x00 // reserved\n  ]);\n  STCO = new Uint8Array([0x00, // version\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x00 // entry_count\n  ]);\n  STSC = STCO;\n  STSZ = new Uint8Array([0x00, // version\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x00, // sample_size\n  0x00, 0x00, 0x00, 0x00 // sample_count\n  ]);\n  STTS = STCO;\n  VMHD = new Uint8Array([0x00, // version\n  0x00, 0x00, 0x01, // flags\n  0x00, 0x00, // graphicsmode\n  0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n  ]);\n})();\n\nbox = function box(type) {\n  var payload = [],\n      size = 0,\n      i,\n      result,\n      view;\n\n  for (i = 1; i < arguments.length; i++) {\n    payload.push(arguments[i]);\n  }\n\n  i = payload.length; // calculate the total size we need to allocate\n\n  while (i--) {\n    size += payload[i].byteLength;\n  }\n\n  result = new Uint8Array(size + 8);\n  view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n  view.setUint32(0, result.byteLength);\n  result.set(type, 4); // copy the payload into the result\n\n  for (i = 0, size = 8; i < payload.length; i++) {\n    result.set(payload[i], size);\n    size += payload[i].byteLength;\n  }\n\n  return result;\n};\n\ndinf = function dinf() {\n  return box(types.dinf, box(types.dref, DREF));\n};\n\nesds = function esds(track) {\n  return box(types.esds, new Uint8Array([0x00, // version\n  0x00, 0x00, 0x00, // flags\n  // ES_Descriptor\n  0x03, // tag, ES_DescrTag\n  0x19, // length\n  0x00, 0x00, // ES_ID\n  0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n  // DecoderConfigDescriptor\n  0x04, // tag, DecoderConfigDescrTag\n  0x11, // length\n  0x40, // object type\n  0x15, // streamType\n  0x00, 0x06, 0x00, // bufferSizeDB\n  0x00, 0x00, 0xda, 0xc0, // maxBitrate\n  0x00, 0x00, 0xda, 0xc0, // avgBitrate\n  // DecoderSpecificInfo\n  0x05, // tag, DecoderSpecificInfoTag\n  0x02, // length\n  // ISO/IEC 14496-3, AudioSpecificConfig\n  // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n  track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n  ]));\n};\n\nftyp = function ftyp() {\n  return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n};\n\nhdlr = function hdlr(type) {\n  return box(types.hdlr, HDLR_TYPES[type]);\n};\n\nmdat = function mdat(data) {\n  return box(types.mdat, data);\n};\n\nmdhd = function mdhd(track) {\n  var result = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x02, // creation_time\n  0x00, 0x00, 0x00, 0x03, // modification_time\n  0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n  track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n  0x55, 0xc4, // 'und' language (undetermined)\n  0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n  // defined. The sample rate can be parsed out of an ADTS header, for\n  // instance.\n\n  if (track.samplerate) {\n    result[12] = track.samplerate >>> 24 & 0xFF;\n    result[13] = track.samplerate >>> 16 & 0xFF;\n    result[14] = track.samplerate >>> 8 & 0xFF;\n    result[15] = track.samplerate & 0xFF;\n  }\n\n  return box(types.mdhd, result);\n};\n\nmdia = function mdia(track) {\n  return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n};\n\nmfhd = function mfhd(sequenceNumber) {\n  return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n  (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n  ]));\n};\n\nminf = function minf(track) {\n  return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n};\n\nmoof = function moof(sequenceNumber, tracks) {\n  var trackFragments = [],\n      i = tracks.length; // build traf boxes for each track fragment\n\n  while (i--) {\n    trackFragments[i] = traf(tracks[i]);\n  }\n\n  return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n};\n/**\n * Returns a movie box.\n * @param tracks {array} the tracks associated with this movie\n * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n */\n\n\nmoov = function moov(tracks) {\n  var i = tracks.length,\n      boxes = [];\n\n  while (i--) {\n    boxes[i] = trak(tracks[i]);\n  }\n\n  return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n};\n\nmvex = function mvex(tracks) {\n  var i = tracks.length,\n      boxes = [];\n\n  while (i--) {\n    boxes[i] = trex(tracks[i]);\n  }\n\n  return box.apply(null, [types.mvex].concat(boxes));\n};\n\nmvhd = function mvhd(duration) {\n  var bytes = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  0x00, 0x00, 0x00, 0x01, // creation_time\n  0x00, 0x00, 0x00, 0x02, // modification_time\n  0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n  (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n  0x00, 0x01, 0x00, 0x00, // 1.0 rate\n  0x01, 0x00, // 1.0 volume\n  0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n  0xff, 0xff, 0xff, 0xff // next_track_ID\n  ]);\n  return box(types.mvhd, bytes);\n};\n\nsdtp = function sdtp(track) {\n  var samples = track.samples || [],\n      bytes = new Uint8Array(4 + samples.length),\n      flags,\n      i; // leave the full box header (4 bytes) all zero\n  // write the sample table\n\n  for (i = 0; i < samples.length; i++) {\n    flags = samples[i].flags;\n    bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n  }\n\n  return box(types.sdtp, bytes);\n};\n\nstbl = function stbl(track) {\n  return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n};\n\n(function () {\n  var videoSample, audioSample;\n\n  stsd = function stsd(track) {\n    return box(types.stsd, new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n  };\n\n  videoSample = function videoSample(track) {\n    var sps = track.sps || [],\n        pps = track.pps || [],\n        sequenceParameterSets = [],\n        pictureParameterSets = [],\n        i; // assemble the SPSs\n\n    for (i = 0; i < sps.length; i++) {\n      sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n      sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n      sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n    } // assemble the PPSs\n\n\n    for (i = 0; i < pps.length; i++) {\n      pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n      pictureParameterSets.push(pps[i].byteLength & 0xFF);\n      pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n    }\n\n    return box(types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x01, // data_reference_index\n    0x00, 0x00, // pre_defined\n    0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n    (track.width & 0xff00) >> 8, track.width & 0xff, // width\n    (track.height & 0xff00) >> 8, track.height & 0xff, // height\n    0x00, 0x48, 0x00, 0x00, // horizresolution\n    0x00, 0x48, 0x00, 0x00, // vertresolution\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x01, // frame_count\n    0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n    0x00, 0x18, // depth = 24\n    0x11, 0x11 // pre_defined = -1\n    ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n    track.profileIdc, // AVCProfileIndication\n    track.profileCompatibility, // profile_compatibility\n    track.levelIdc, // AVCLevelIndication\n    0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n    ].concat([sps.length // numOfSequenceParameterSets\n    ]).concat(sequenceParameterSets).concat([pps.length // numOfPictureParameterSets\n    ]).concat(pictureParameterSets))), // \"PPS\"\n    box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n    0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n    0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\n    );\n  };\n\n  audioSample = function audioSample(track) {\n    return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x01, // data_reference_index\n    // AudioSampleEntry, ISO/IEC 14496-12\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n    (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n    0x00, 0x00, // pre_defined\n    0x00, 0x00, // reserved\n    (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n    // MP4AudioSampleEntry, ISO/IEC 14496-14\n    ]), esds(track));\n  };\n})();\n\ntkhd = function tkhd(track) {\n  var result = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x07, // flags\n  0x00, 0x00, 0x00, 0x00, // creation_time\n  0x00, 0x00, 0x00, 0x00, // modification_time\n  (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n  0x00, 0x00, 0x00, 0x00, // reserved\n  (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n  0x00, 0x00, // layer\n  0x00, 0x00, // alternate_group\n  0x01, 0x00, // non-audio track volume\n  0x00, 0x00, // reserved\n  0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n  (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n  (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n  ]);\n  return box(types.tkhd, result);\n};\n/**\n * Generate a track fragment (traf) box. A traf box collects metadata\n * about tracks in a movie fragment (moof) box.\n */\n\n\ntraf = function traf(track) {\n  var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n  trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x3a, // flags\n  (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n  0x00, 0x00, 0x00, 0x01, // sample_description_index\n  0x00, 0x00, 0x00, 0x00, // default_sample_duration\n  0x00, 0x00, 0x00, 0x00, // default_sample_size\n  0x00, 0x00, 0x00, 0x00 // default_sample_flags\n  ]));\n  upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n  lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n  trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n  0x00, 0x00, 0x00, // flags\n  // baseMediaDecodeTime\n  upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n  // the containing moof to the first payload byte of the associated\n  // mdat\n\n  dataOffset = 32 + // tfhd\n  20 + // tfdt\n  8 + // traf header\n  16 + // mfhd\n  8 + // moof header\n  8; // mdat header\n  // audio tracks require less metadata\n\n  if (track.type === 'audio') {\n    trackFragmentRun = trun(track, dataOffset);\n    return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n  } // video tracks should contain an independent and disposable samples\n  // box (sdtp)\n  // generate one and adjust offsets to match\n\n\n  sampleDependencyTable = sdtp(track);\n  trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n  return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n};\n/**\n * Generate a track box.\n * @param track {object} a track definition\n * @return {Uint8Array} the track box\n */\n\n\ntrak = function trak(track) {\n  track.duration = track.duration || 0xffffffff;\n  return box(types.trak, tkhd(track), mdia(track));\n};\n\ntrex = function trex(track) {\n  var result = new Uint8Array([0x00, // version 0\n  0x00, 0x00, 0x00, // flags\n  (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n  0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n  0x00, 0x00, 0x00, 0x00, // default_sample_duration\n  0x00, 0x00, 0x00, 0x00, // default_sample_size\n  0x00, 0x01, 0x00, 0x01 // default_sample_flags\n  ]); // the last two bytes of default_sample_flags is the sample\n  // degradation priority, a hint about the importance of this sample\n  // relative to others. Lower the degradation priority for all sample\n  // types other than video.\n\n  if (track.type !== 'video') {\n    result[result.length - 1] = 0x00;\n  }\n\n  return box(types.trex, result);\n};\n\n(function () {\n  var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n  // duration is present for the first sample, it will be present for\n  // all subsequent samples.\n  // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n  trunHeader = function trunHeader(samples, offset) {\n    var durationPresent = 0,\n        sizePresent = 0,\n        flagsPresent = 0,\n        compositionTimeOffset = 0; // trun flag constants\n\n    if (samples.length) {\n      if (samples[0].duration !== undefined) {\n        durationPresent = 0x1;\n      }\n\n      if (samples[0].size !== undefined) {\n        sizePresent = 0x2;\n      }\n\n      if (samples[0].flags !== undefined) {\n        flagsPresent = 0x4;\n      }\n\n      if (samples[0].compositionTimeOffset !== undefined) {\n        compositionTimeOffset = 0x8;\n      }\n    }\n\n    return [0x00, // version 0\n    0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n    (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n    (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n    ];\n  };\n\n  videoTrun = function videoTrun(track, offset) {\n    var bytes, samples, sample, i;\n    samples = track.samples || [];\n    offset += 8 + 12 + 16 * samples.length;\n    bytes = trunHeader(samples, offset);\n\n    for (i = 0; i < samples.length; i++) {\n      sample = samples[i];\n      bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n      (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n      sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n      (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n      ]);\n    }\n\n    return box(types.trun, new Uint8Array(bytes));\n  };\n\n  audioTrun = function audioTrun(track, offset) {\n    var bytes, samples, sample, i;\n    samples = track.samples || [];\n    offset += 8 + 12 + 8 * samples.length;\n    bytes = trunHeader(samples, offset);\n\n    for (i = 0; i < samples.length; i++) {\n      sample = samples[i];\n      bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n      (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n    }\n\n    return box(types.trun, new Uint8Array(bytes));\n  };\n\n  trun = function trun(track, offset) {\n    if (track.type === 'audio') {\n      return audioTrun(track, offset);\n    }\n\n    return videoTrun(track, offset);\n  };\n})();\n\nmodule.exports = {\n  ftyp: ftyp,\n  mdat: mdat,\n  moof: moof,\n  moov: moov,\n  initSegment: function initSegment(tracks) {\n    var fileType = ftyp(),\n        movie = moov(tracks),\n        result;\n    result = new Uint8Array(fileType.byteLength + movie.byteLength);\n    result.set(fileType);\n    result.set(movie, fileType.byteLength);\n    return result;\n  }\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n'use strict'; // -----------------\n// Link To Transport\n// -----------------\n\nvar Stream = require('../utils/stream');\n\nvar cea708Parser = require('../tools/caption-packet-parser');\n\nvar CaptionStream = function CaptionStream() {\n  CaptionStream.prototype.init.call(this);\n  this.captionPackets_ = [];\n  this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n  new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n  new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n  new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n  ];\n  this.reset(); // forward data and done events from CCs to this CaptionStream\n\n  this.ccStreams_.forEach(function (cc) {\n    cc.on('data', this.trigger.bind(this, 'data'));\n    cc.on('done', this.trigger.bind(this, 'done'));\n  }, this);\n};\n\nCaptionStream.prototype = new Stream();\n\nCaptionStream.prototype.push = function (event) {\n  var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n  if (event.nalUnitType !== 'sei_rbsp') {\n    return;\n  } // parse the sei\n\n\n  sei = cea708Parser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n  if (sei.payloadType !== cea708Parser.USER_DATA_REGISTERED_ITU_T_T35) {\n    return;\n  } // parse out the user data payload\n\n\n  userData = cea708Parser.parseUserData(sei); // ignore unrecognized userData\n\n  if (!userData) {\n    return;\n  } // Sometimes, the same segment # will be downloaded twice. To stop the\n  // caption data from being processed twice, we track the latest dts we've\n  // received and ignore everything with a dts before that. However, since\n  // data for a specific dts can be split across packets on either side of\n  // a segment boundary, we need to make sure we *don't* ignore the packets\n  // from the *next* segment that have dts === this.latestDts_. By constantly\n  // tracking the number of packets received with dts === this.latestDts_, we\n  // know how many should be ignored once we start receiving duplicates.\n\n\n  if (event.dts < this.latestDts_) {\n    // We've started getting older data, so set the flag.\n    this.ignoreNextEqualDts_ = true;\n    return;\n  } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n    this.numSameDts_--;\n\n    if (!this.numSameDts_) {\n      // We've received the last duplicate packet, time to start processing again\n      this.ignoreNextEqualDts_ = false;\n    }\n\n    return;\n  } // parse out CC data packets and save them for later\n\n\n  newCaptionPackets = cea708Parser.parseCaptionPackets(event.pts, userData);\n  this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n  if (this.latestDts_ !== event.dts) {\n    this.numSameDts_ = 0;\n  }\n\n  this.numSameDts_++;\n  this.latestDts_ = event.dts;\n};\n\nCaptionStream.prototype.flush = function () {\n  // make sure we actually parsed captions before proceeding\n  if (!this.captionPackets_.length) {\n    this.ccStreams_.forEach(function (cc) {\n      cc.flush();\n    }, this);\n    return;\n  } // In Chrome, the Array#sort function is not stable so add a\n  // presortIndex that we can use to ensure we get a stable-sort\n\n\n  this.captionPackets_.forEach(function (elem, idx) {\n    elem.presortIndex = idx;\n  }); // sort caption byte-pairs based on their PTS values\n\n  this.captionPackets_.sort(function (a, b) {\n    if (a.pts === b.pts) {\n      return a.presortIndex - b.presortIndex;\n    }\n\n    return a.pts - b.pts;\n  });\n  this.captionPackets_.forEach(function (packet) {\n    if (packet.type < 2) {\n      // Dispatch packet to the right Cea608Stream\n      this.dispatchCea608Packet(packet);\n    } // this is where an 'else' would go for a dispatching packets\n    // to a theoretical Cea708Stream that handles SERVICEn data\n\n  }, this);\n  this.captionPackets_.length = 0;\n  this.ccStreams_.forEach(function (cc) {\n    cc.flush();\n  }, this);\n  return;\n};\n\nCaptionStream.prototype.reset = function () {\n  this.latestDts_ = null;\n  this.ignoreNextEqualDts_ = false;\n  this.numSameDts_ = 0;\n  this.activeCea608Channel_ = [null, null];\n  this.ccStreams_.forEach(function (ccStream) {\n    ccStream.reset();\n  });\n}; // From the CEA-608 spec:\n\n/*\n * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n * to switch to captioning or Text.\n*/\n// With that in mind, we ignore any data between an XDS control code and a\n// subsequent closed-captioning control code.\n\n\nCaptionStream.prototype.dispatchCea608Packet = function (packet) {\n  // NOTE: packet.type is the CEA608 field\n  if (this.setsTextOrXDSActive(packet)) {\n    this.activeCea608Channel_[packet.type] = null;\n  } else if (this.setsChannel1Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 0;\n  } else if (this.setsChannel2Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 1;\n  }\n\n  if (this.activeCea608Channel_[packet.type] === null) {\n    // If we haven't received anything to set the active channel, or the\n    // packets are Text/XDS data, discard the data; we don't want jumbled\n    // captions\n    return;\n  }\n\n  this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n};\n\nCaptionStream.prototype.setsChannel1Active = function (packet) {\n  return (packet.ccData & 0x7800) === 0x1000;\n};\n\nCaptionStream.prototype.setsChannel2Active = function (packet) {\n  return (packet.ccData & 0x7800) === 0x1800;\n};\n\nCaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n  return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n}; // ----------------------\n// Session to Application\n// ----------------------\n// This hash maps non-ASCII, special, and extended character codes to their\n// proper Unicode equivalent. The first keys that are only a single byte\n// are the non-standard ASCII characters, which simply map the CEA608 byte\n// to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n// character codes, but have their MSB bitmasked with 0x03 so that a lookup\n// can be performed regardless of the field and data channel on which the\n// character code was received.\n\n\nvar CHARACTER_TRANSLATION = {\n  0x2a: 0xe1,\n  // \n  0x5c: 0xe9,\n  // \n  0x5e: 0xed,\n  // \n  0x5f: 0xf3,\n  // \n  0x60: 0xfa,\n  // \n  0x7b: 0xe7,\n  // \n  0x7c: 0xf7,\n  // \n  0x7d: 0xd1,\n  // \n  0x7e: 0xf1,\n  // \n  0x7f: 0x2588,\n  // \n  0x0130: 0xae,\n  // \n  0x0131: 0xb0,\n  // \n  0x0132: 0xbd,\n  // \n  0x0133: 0xbf,\n  // \n  0x0134: 0x2122,\n  // \n  0x0135: 0xa2,\n  // \n  0x0136: 0xa3,\n  // \n  0x0137: 0x266a,\n  // \n  0x0138: 0xe0,\n  // \n  0x0139: 0xa0,\n  //\n  0x013a: 0xe8,\n  // \n  0x013b: 0xe2,\n  // \n  0x013c: 0xea,\n  // \n  0x013d: 0xee,\n  // \n  0x013e: 0xf4,\n  // \n  0x013f: 0xfb,\n  // \n  0x0220: 0xc1,\n  // \n  0x0221: 0xc9,\n  // \n  0x0222: 0xd3,\n  // \n  0x0223: 0xda,\n  // \n  0x0224: 0xdc,\n  // \n  0x0225: 0xfc,\n  // \n  0x0226: 0x2018,\n  // \n  0x0227: 0xa1,\n  // \n  0x0228: 0x2a,\n  // *\n  0x0229: 0x27,\n  // '\n  0x022a: 0x2014,\n  // \n  0x022b: 0xa9,\n  // \n  0x022c: 0x2120,\n  // \n  0x022d: 0x2022,\n  // \n  0x022e: 0x201c,\n  // \n  0x022f: 0x201d,\n  // \n  0x0230: 0xc0,\n  // \n  0x0231: 0xc2,\n  // \n  0x0232: 0xc7,\n  // \n  0x0233: 0xc8,\n  // \n  0x0234: 0xca,\n  // \n  0x0235: 0xcb,\n  // \n  0x0236: 0xeb,\n  // \n  0x0237: 0xce,\n  // \n  0x0238: 0xcf,\n  // \n  0x0239: 0xef,\n  // \n  0x023a: 0xd4,\n  // \n  0x023b: 0xd9,\n  // \n  0x023c: 0xf9,\n  // \n  0x023d: 0xdb,\n  // \n  0x023e: 0xab,\n  // \n  0x023f: 0xbb,\n  // \n  0x0320: 0xc3,\n  // \n  0x0321: 0xe3,\n  // \n  0x0322: 0xcd,\n  // \n  0x0323: 0xcc,\n  // \n  0x0324: 0xec,\n  // \n  0x0325: 0xd2,\n  // \n  0x0326: 0xf2,\n  // \n  0x0327: 0xd5,\n  // \n  0x0328: 0xf5,\n  // \n  0x0329: 0x7b,\n  // {\n  0x032a: 0x7d,\n  // }\n  0x032b: 0x5c,\n  // \\\n  0x032c: 0x5e,\n  // ^\n  0x032d: 0x5f,\n  // _\n  0x032e: 0x7c,\n  // |\n  0x032f: 0x7e,\n  // ~\n  0x0330: 0xc4,\n  // \n  0x0331: 0xe4,\n  // \n  0x0332: 0xd6,\n  // \n  0x0333: 0xf6,\n  // \n  0x0334: 0xdf,\n  // \n  0x0335: 0xa5,\n  // \n  0x0336: 0xa4,\n  // \n  0x0337: 0x2502,\n  // \n  0x0338: 0xc5,\n  // \n  0x0339: 0xe5,\n  // \n  0x033a: 0xd8,\n  // \n  0x033b: 0xf8,\n  // \n  0x033c: 0x250c,\n  // \n  0x033d: 0x2510,\n  // \n  0x033e: 0x2514,\n  // \n  0x033f: 0x2518 // \n\n};\n\nvar getCharFromCode = function getCharFromCode(code) {\n  if (code === null) {\n    return '';\n  }\n\n  code = CHARACTER_TRANSLATION[code] || code;\n  return String.fromCharCode(code);\n}; // the index of the last row in a CEA-608 display buffer\n\n\nvar BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n// getting it through bit logic.\n\nvar ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n// cells. The \"bottom\" row is the last element in the outer array.\n\nvar createDisplayBuffer = function createDisplayBuffer() {\n  var result = [],\n      i = BOTTOM_ROW + 1;\n\n  while (i--) {\n    result.push('');\n  }\n\n  return result;\n};\n\nvar Cea608Stream = function Cea608Stream(field, dataChannel) {\n  Cea608Stream.prototype.init.call(this);\n  this.field_ = field || 0;\n  this.dataChannel_ = dataChannel || 0;\n  this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n  this.setConstants();\n  this.reset();\n\n  this.push = function (packet) {\n    var data, swap, char0, char1, text; // remove the parity bits\n\n    data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n    if (data === this.lastControlCode_) {\n      this.lastControlCode_ = null;\n      return;\n    } // Store control codes\n\n\n    if ((data & 0xf000) === 0x1000) {\n      this.lastControlCode_ = data;\n    } else if (data !== this.PADDING_) {\n      this.lastControlCode_ = null;\n    }\n\n    char0 = data >>> 8;\n    char1 = data & 0xff;\n\n    if (data === this.PADDING_) {\n      return;\n    } else if (data === this.RESUME_CAPTION_LOADING_) {\n      this.mode_ = 'popOn';\n    } else if (data === this.END_OF_CAPTION_) {\n      // If an EOC is received while in paint-on mode, the displayed caption\n      // text should be swapped to non-displayed memory as if it was a pop-on\n      // caption. Because of that, we should explicitly switch back to pop-on\n      // mode\n      this.mode_ = 'popOn';\n      this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n      this.flushDisplayed(packet.pts); // flip memory\n\n      swap = this.displayed_;\n      this.displayed_ = this.nonDisplayed_;\n      this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n      this.startPts_ = packet.pts;\n    } else if (data === this.ROLL_UP_2_ROWS_) {\n      this.rollUpRows_ = 2;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_3_ROWS_) {\n      this.rollUpRows_ = 3;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_4_ROWS_) {\n      this.rollUpRows_ = 4;\n      this.setRollUp(packet.pts);\n    } else if (data === this.CARRIAGE_RETURN_) {\n      this.clearFormatting(packet.pts);\n      this.flushDisplayed(packet.pts);\n      this.shiftRowsUp_();\n      this.startPts_ = packet.pts;\n    } else if (data === this.BACKSPACE_) {\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      }\n    } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n      this.flushDisplayed(packet.pts);\n      this.displayed_ = createDisplayBuffer();\n    } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n      this.nonDisplayed_ = createDisplayBuffer();\n    } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n      if (this.mode_ !== 'paintOn') {\n        // NOTE: This should be removed when proper caption positioning is\n        // implemented\n        this.flushDisplayed(packet.pts);\n        this.displayed_ = createDisplayBuffer();\n      }\n\n      this.mode_ = 'paintOn';\n      this.startPts_ = packet.pts; // Append special characters to caption text\n    } else if (this.isSpecialCharacter(char0, char1)) {\n      // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++; // Append extended characters to caption text\n    } else if (this.isExtCharacter(char0, char1)) {\n      // Extended characters always follow their \"non-extended\" equivalents.\n      // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n      // decoders are supposed to drop the \"\", while compliant decoders\n      // backspace the \"e\" and insert \"\".\n      // Delete the previous character\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      } // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n\n\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++; // Process mid-row codes\n    } else if (this.isMidRowCode(char0, char1)) {\n      // Attributes are not additive, so clear all formatting\n      this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n      // should be replaced with spaces, so add one now\n\n      this[this.mode_](packet.pts, ' ');\n      this.column_++;\n\n      if ((char1 & 0xe) === 0xe) {\n        this.addFormatting(packet.pts, ['i']);\n      }\n\n      if ((char1 & 0x1) === 0x1) {\n        this.addFormatting(packet.pts, ['u']);\n      } // Detect offset control codes and adjust cursor\n\n    } else if (this.isOffsetControlCode(char0, char1)) {\n      // Cursor position is set by indent PAC (see below) in 4-column\n      // increments, with an additional offset code of 1-3 to reach any\n      // of the 32 columns specified by CEA-608. So all we need to do\n      // here is increment the column cursor by the given offset.\n      this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n    } else if (this.isPAC(char0, char1)) {\n      // There's no logic for PAC -> row mapping, so we have to just\n      // find the row code in an array and use its index :(\n      var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n      if (this.mode_ === 'rollUp') {\n        // This implies that the base row is incorrectly set.\n        // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n        // of roll-up rows set.\n        if (row - this.rollUpRows_ + 1 < 0) {\n          row = this.rollUpRows_ - 1;\n        }\n\n        this.setRollUp(packet.pts, row);\n      }\n\n      if (row !== this.row_) {\n        // formatting is only persistent for current row\n        this.clearFormatting(packet.pts);\n        this.row_ = row;\n      } // All PACs can apply underline, so detect and apply\n      // (All odd-numbered second bytes set underline)\n\n\n      if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n        this.addFormatting(packet.pts, ['u']);\n      }\n\n      if ((data & 0x10) === 0x10) {\n        // We've got an indent level code. Each successive even number\n        // increments the column cursor by 4, so we can get the desired\n        // column position by bit-shifting to the right (to get n/2)\n        // and multiplying by 4.\n        this.column_ = ((data & 0xe) >> 1) * 4;\n      }\n\n      if (this.isColorPAC(char1)) {\n        // it's a color code, though we only support white, which\n        // can be either normal or italicized. white italics can be\n        // either 0x4e or 0x6e depending on the row, so we just\n        // bitwise-and with 0xe to see if italics should be turned on\n        if ((char1 & 0xe) === 0xe) {\n          this.addFormatting(packet.pts, ['i']);\n        }\n      } // We have a normal character in char0, and possibly one in char1\n\n    } else if (this.isNormalChar(char0)) {\n      if (char1 === 0x00) {\n        char1 = null;\n      }\n\n      text = getCharFromCode(char0);\n      text += getCharFromCode(char1);\n      this[this.mode_](packet.pts, text);\n      this.column_ += text.length;\n    } // finish data processing\n\n  };\n};\n\nCea608Stream.prototype = new Stream(); // Trigger a cue point that captures the current state of the\n// display buffer\n\nCea608Stream.prototype.flushDisplayed = function (pts) {\n  var content = this.displayed_ // remove spaces from the start and end of the string\n  .map(function (row) {\n    try {\n      return row.trim();\n    } catch (e) {\n      // Ordinarily, this shouldn't happen. However, caption\n      // parsing errors should not throw exceptions and\n      // break playback.\n      // eslint-disable-next-line no-console\n      console.error('Skipping malformed caption.');\n      return '';\n    }\n  }) // combine all text rows to display in one cue\n  .join('\\n') // and remove blank rows from the start and end, but not the middle\n  .replace(/^\\n+|\\n+$/g, '');\n\n  if (content.length) {\n    this.trigger('data', {\n      startPts: this.startPts_,\n      endPts: pts,\n      text: content,\n      stream: this.name_\n    });\n  }\n};\n/**\n * Zero out the data, used for startup and on seek\n */\n\n\nCea608Stream.prototype.reset = function () {\n  this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n  // actually display captions. If a caption is shifted to a row\n  // with a lower index than this, it is cleared from the display\n  // buffer\n\n  this.topRow_ = 0;\n  this.startPts_ = 0;\n  this.displayed_ = createDisplayBuffer();\n  this.nonDisplayed_ = createDisplayBuffer();\n  this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n  this.column_ = 0;\n  this.row_ = BOTTOM_ROW;\n  this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n  this.formatting_ = [];\n};\n/**\n * Sets up control code and related constants for this instance\n */\n\n\nCea608Stream.prototype.setConstants = function () {\n  // The following attributes have these uses:\n  // ext_ :    char0 for mid-row codes, and the base for extended\n  //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n  //           extended codes)\n  // control_: char0 for control codes, except byte-shifted to the\n  //           left so that we can do this.control_ | CONTROL_CODE\n  // offset_:  char0 for tab offset codes\n  //\n  // It's also worth noting that control codes, and _only_ control codes,\n  // differ between field 1 and field2. Field 2 control codes are always\n  // their field 1 value plus 1. That's why there's the \"| field\" on the\n  // control value.\n  if (this.dataChannel_ === 0) {\n    this.BASE_ = 0x10;\n    this.EXT_ = 0x11;\n    this.CONTROL_ = (0x14 | this.field_) << 8;\n    this.OFFSET_ = 0x17;\n  } else if (this.dataChannel_ === 1) {\n    this.BASE_ = 0x18;\n    this.EXT_ = 0x19;\n    this.CONTROL_ = (0x1c | this.field_) << 8;\n    this.OFFSET_ = 0x1f;\n  } // Constants for the LSByte command codes recognized by Cea608Stream. This\n  // list is not exhaustive. For a more comprehensive listing and semantics see\n  // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n  // Padding\n\n\n  this.PADDING_ = 0x0000; // Pop-on Mode\n\n  this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n  this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n  this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n  this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n  this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n  this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n  this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n  this.BACKSPACE_ = this.CONTROL_ | 0x21;\n  this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n  this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n};\n/**\n * Detects if the 2-byte packet data is a special character\n *\n * Special characters have a second byte in the range 0x30 to 0x3f,\n * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an special character\n */\n\n\nCea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n  return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n};\n/**\n * Detects if the 2-byte packet data is an extended character\n *\n * Extended characters have a second byte in the range 0x20 to 0x3f,\n * with the first byte being 0x12 or 0x13 (for data channel 1) or\n * 0x1a or 0x1b (for data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an extended character\n */\n\n\nCea608Stream.prototype.isExtCharacter = function (char0, char1) {\n  return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n};\n/**\n * Detects if the 2-byte packet is a mid-row code\n *\n * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n * channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a mid-row code\n */\n\n\nCea608Stream.prototype.isMidRowCode = function (char0, char1) {\n  return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n};\n/**\n * Detects if the 2-byte packet is an offset control code\n *\n * Offset control codes have a second byte in the range 0x21 to 0x23,\n * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an offset control code\n */\n\n\nCea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n  return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n};\n/**\n * Detects if the 2-byte packet is a Preamble Address Code\n *\n * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n * range 0x40 to 0x7f.\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a PAC\n */\n\n\nCea608Stream.prototype.isPAC = function (char0, char1) {\n  return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n};\n/**\n * Detects if a packet's second byte is in the range of a PAC color code\n *\n * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n * 0x60 to 0x6f.\n *\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the byte is a color PAC\n */\n\n\nCea608Stream.prototype.isColorPAC = function (char1) {\n  return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n};\n/**\n * Detects if a single byte is in the range of a normal character\n *\n * Normal text bytes are in the range 0x20 to 0x7f.\n *\n * @param  {Integer} char  The byte\n * @return {Boolean}       Whether the byte is a normal character\n */\n\n\nCea608Stream.prototype.isNormalChar = function (_char) {\n  return _char >= 0x20 && _char <= 0x7f;\n};\n/**\n * Configures roll-up\n *\n * @param  {Integer} pts         Current PTS\n * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n *                               a new position\n */\n\n\nCea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n  // Reset the base row to the bottom row when switching modes\n  if (this.mode_ !== 'rollUp') {\n    this.row_ = BOTTOM_ROW;\n    this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n    this.flushDisplayed(pts);\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.displayed_ = createDisplayBuffer();\n  }\n\n  if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n    // move currently displayed captions (up or down) to the new base row\n    for (var i = 0; i < this.rollUpRows_; i++) {\n      this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n      this.displayed_[this.row_ - i] = '';\n    }\n  }\n\n  if (newBaseRow === undefined) {\n    newBaseRow = this.row_;\n  }\n\n  this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n}; // Adds the opening HTML tag for the passed character to the caption text,\n// and keeps track of it for later closing\n\n\nCea608Stream.prototype.addFormatting = function (pts, format) {\n  this.formatting_ = this.formatting_.concat(format);\n  var text = format.reduce(function (text, format) {\n    return text + '<' + format + '>';\n  }, '');\n  this[this.mode_](pts, text);\n}; // Adds HTML closing tags for current formatting to caption text and\n// clears remembered formatting\n\n\nCea608Stream.prototype.clearFormatting = function (pts) {\n  if (!this.formatting_.length) {\n    return;\n  }\n\n  var text = this.formatting_.reverse().reduce(function (text, format) {\n    return text + '</' + format + '>';\n  }, '');\n  this.formatting_ = [];\n  this[this.mode_](pts, text);\n}; // Mode Implementations\n\n\nCea608Stream.prototype.popOn = function (pts, text) {\n  var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n  baseRow += text;\n  this.nonDisplayed_[this.row_] = baseRow;\n};\n\nCea608Stream.prototype.rollUp = function (pts, text) {\n  var baseRow = this.displayed_[this.row_];\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n};\n\nCea608Stream.prototype.shiftRowsUp_ = function () {\n  var i; // clear out inactive rows\n\n  for (i = 0; i < this.topRow_; i++) {\n    this.displayed_[i] = '';\n  }\n\n  for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n    this.displayed_[i] = '';\n  } // shift displayed rows up\n\n\n  for (i = this.topRow_; i < this.row_; i++) {\n    this.displayed_[i] = this.displayed_[i + 1];\n  } // clear out the bottom row\n\n\n  this.displayed_[this.row_] = '';\n};\n\nCea608Stream.prototype.paintOn = function (pts, text) {\n  var baseRow = this.displayed_[this.row_];\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n}; // exports\n\n\nmodule.exports = {\n  CaptionStream: CaptionStream,\n  Cea608Stream: Cea608Stream\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n'use strict'; // Supplemental enhancement information (SEI) NAL units have a\n// payload type field to indicate how they are to be\n// interpreted. CEAS-708 caption content is always transmitted with\n// payload type 0x04.\n\nvar USER_DATA_REGISTERED_ITU_T_T35 = 4,\n    RBSP_TRAILING_BITS = 128;\n/**\n  * Parse a supplemental enhancement information (SEI) NAL unit.\n  * Stops parsing once a message of type ITU T T35 has been found.\n  *\n  * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n  * @return {object} the parsed SEI payload\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n  */\n\nvar parseSei = function parseSei(bytes) {\n  var i = 0,\n      result = {\n    payloadType: -1,\n    payloadSize: 0\n  },\n      payloadType = 0,\n      payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n  while (i < bytes.byteLength) {\n    // stop once we have hit the end of the sei_rbsp\n    if (bytes[i] === RBSP_TRAILING_BITS) {\n      break;\n    } // Parse payload type\n\n\n    while (bytes[i] === 0xFF) {\n      payloadType += 255;\n      i++;\n    }\n\n    payloadType += bytes[i++]; // Parse payload size\n\n    while (bytes[i] === 0xFF) {\n      payloadSize += 255;\n      i++;\n    }\n\n    payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n    // there can only ever be one caption message in a frame's sei\n\n    if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n      result.payloadType = payloadType;\n      result.payloadSize = payloadSize;\n      result.payload = bytes.subarray(i, i + payloadSize);\n      break;\n    } // skip the payload and parse the next message\n\n\n    i += payloadSize;\n    payloadType = 0;\n    payloadSize = 0;\n  }\n\n  return result;\n}; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\nvar parseUserData = function parseUserData(sei) {\n  // itu_t_t35_contry_code must be 181 (United States) for\n  // captions\n  if (sei.payload[0] !== 181) {\n    return null;\n  } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n  if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n    return null;\n  } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n  if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n    return null;\n  } // finally, user_data_type_code should be 0x03 for caption data\n\n\n  if (sei.payload[7] !== 0x03) {\n    return null;\n  } // return the user_data_type_structure and strip the trailing\n  // marker bits\n\n\n  return sei.payload.subarray(8, sei.payload.length - 1);\n}; // see CEA-708-D, section 4.4\n\n\nvar parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n  var results = [],\n      i,\n      count,\n      offset,\n      data; // if this is just filler, return immediately\n\n  if (!(userData[0] & 0x40)) {\n    return results;\n  } // parse out the cc_data_1 and cc_data_2 fields\n\n\n  count = userData[0] & 0x1f;\n\n  for (i = 0; i < count; i++) {\n    offset = i * 3;\n    data = {\n      type: userData[offset + 2] & 0x03,\n      pts: pts\n    }; // capture cc data when cc_valid is 1\n\n    if (userData[offset + 2] & 0x04) {\n      data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n      results.push(data);\n    }\n  }\n\n  return results;\n};\n\nvar discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n  var length = data.byteLength,\n      emulationPreventionBytesPositions = [],\n      i = 1,\n      newLength,\n      newData; // Find all `Emulation Prevention Bytes`\n\n  while (i < length - 2) {\n    if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n      emulationPreventionBytesPositions.push(i + 2);\n      i += 2;\n    } else {\n      i++;\n    }\n  } // If no Emulation Prevention Bytes were found just return the original\n  // array\n\n\n  if (emulationPreventionBytesPositions.length === 0) {\n    return data;\n  } // Create a new array to hold the NAL unit data\n\n\n  newLength = length - emulationPreventionBytesPositions.length;\n  newData = new Uint8Array(newLength);\n  var sourceIndex = 0;\n\n  for (i = 0; i < newLength; sourceIndex++, i++) {\n    if (sourceIndex === emulationPreventionBytesPositions[0]) {\n      // Skip this byte\n      sourceIndex++; // Remove this position index\n\n      emulationPreventionBytesPositions.shift();\n    }\n\n    newData[i] = data[sourceIndex];\n  }\n\n  return newData;\n}; // exports\n\n\nmodule.exports = {\n  parseSei: parseSei,\n  parseUserData: parseUserData,\n  parseCaptionPackets: parseCaptionPackets,\n  discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n  USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Accepts program elementary stream (PES) data events and corrects\n * decode and presentation time stamps to account for a rollover\n * of the 33 bit value.\n */\n'use strict';\n\nvar Stream = require('../utils/stream');\n\nvar MAX_TS = 8589934592;\nvar RO_THRESH = 4294967296;\n\nvar handleRollover = function handleRollover(value, reference) {\n  var direction = 1;\n\n  if (value > reference) {\n    // If the current timestamp value is greater than our reference timestamp and we detect a\n    // timestamp rollover, this means the roll over is happening in the opposite direction.\n    // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n    // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n    // rollover point. In loading this segment, the timestamp values will be very large,\n    // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n    // the time stamp to be `value - 2^33`.\n    direction = -1;\n  } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n  // cause an incorrect adjustment.\n\n\n  while (Math.abs(reference - value) > RO_THRESH) {\n    value += direction * MAX_TS;\n  }\n\n  return value;\n};\n\nvar TimestampRolloverStream = function TimestampRolloverStream(type) {\n  var lastDTS, referenceDTS;\n  TimestampRolloverStream.prototype.init.call(this);\n  this.type_ = type;\n\n  this.push = function (data) {\n    if (data.type !== this.type_) {\n      return;\n    }\n\n    if (referenceDTS === undefined) {\n      referenceDTS = data.dts;\n    }\n\n    data.dts = handleRollover(data.dts, referenceDTS);\n    data.pts = handleRollover(data.pts, referenceDTS);\n    lastDTS = data.dts;\n    this.trigger('data', data);\n  };\n\n  this.flush = function () {\n    referenceDTS = lastDTS;\n    this.trigger('done');\n  };\n\n  this.discontinuity = function () {\n    referenceDTS = void 0;\n    lastDTS = void 0;\n  };\n};\n\nTimestampRolloverStream.prototype = new Stream();\nmodule.exports = {\n  TimestampRolloverStream: TimestampRolloverStream,\n  handleRollover: handleRollover\n};","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","module.exports = SafeParseTuple;\n\nfunction SafeParseTuple(obj, reviver) {\n  var json;\n  var error = null;\n\n  try {\n    json = JSON.parse(obj, reviver);\n  } catch (err) {\n    error = err;\n  }\n\n  return [error, json];\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nmodule.exports = {\n  generator: require('./mp4-generator'),\n  probe: require('./probe'),\n  Transmuxer: require('./transmuxer').Transmuxer,\n  AudioSegmentStream: require('./transmuxer').AudioSegmentStream,\n  VideoSegmentStream: require('./transmuxer').VideoSegmentStream,\n  CaptionParser: require('./caption-parser')\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse mpeg2 transport stream packets to extract basic timing information\n */\n'use strict';\n\nvar StreamTypes = require('../m2ts/stream-types.js');\n\nvar handleRollover = require('../m2ts/timestamp-rollover-stream.js').handleRollover;\n\nvar probe = {};\nprobe.ts = require('../m2ts/probe.js');\nprobe.aac = require('../aac/utils.js');\nvar PES_TIMESCALE = 90000,\n    MP2T_PACKET_LENGTH = 188,\n    // bytes\nSYNC_BYTE = 0x47;\n/**\n * walks through segment data looking for pat and pmt packets to parse out\n * program map table information\n */\n\nvar parsePsi_ = function parsePsi_(bytes, pmt) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type;\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pat':\n          if (!pmt.pid) {\n            pmt.pid = probe.ts.parsePat(packet);\n          }\n\n          break;\n\n        case 'pmt':\n          if (!pmt.table) {\n            pmt.table = probe.ts.parsePmt(packet);\n          }\n\n          break;\n\n        default:\n          break;\n      } // Found the pat and pmt, we can stop walking the segment\n\n\n      if (pmt.pid && pmt.table) {\n        return;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last audio pes packets\n */\n\n\nvar parseAudioPes_ = function parseAudioPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed;\n  var endLoop = false; // Start walking from start of segment to get first audio packet\n\n  while (endIndex <= bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last audio packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last video pes packets as well as timing information for the first\n * key frame.\n */\n\n\nvar parseVideoPes_ = function parseVideoPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed,\n      frame,\n      i,\n      pes;\n  var endLoop = false;\n  var currentFrame = {\n    data: [],\n    size: 0\n  }; // Start walking from start of segment to get first video packet\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video') {\n            if (pusi && !endLoop) {\n              parsed = probe.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            if (!result.firstKeyFrame) {\n              if (pusi) {\n                if (currentFrame.size !== 0) {\n                  frame = new Uint8Array(currentFrame.size);\n                  i = 0;\n\n                  while (currentFrame.data.length) {\n                    pes = currentFrame.data.shift();\n                    frame.set(pes, i);\n                    i += pes.byteLength;\n                  }\n\n                  if (probe.ts.videoPacketContainsKeyFrame(frame)) {\n                    var firstKeyFrame = probe.ts.parsePesTime(frame); // PTS/DTS may not be available. Simply *not* setting\n                    // the keyframe seems to work fine with HLS playback\n                    // and definitely preferable to a crash with TypeError...\n\n                    if (firstKeyFrame) {\n                      result.firstKeyFrame = firstKeyFrame;\n                      result.firstKeyFrame.type = 'video';\n                    } else {\n                      // eslint-disable-next-line\n                      console.warn('Failed to extract PTS/DTS from PES at first keyframe. ' + 'This could be an unusual TS segment, or else mux.js did not ' + 'parse your TS segment correctly. If you know your TS ' + 'segments do contain PTS/DTS on keyframes please file a bug ' + 'report! You can try ffprobe to double check for yourself.');\n                    }\n                  }\n\n                  currentFrame.size = 0;\n                }\n              }\n\n              currentFrame.data.push(packet);\n              currentFrame.size += packet.byteLength;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop && result.firstKeyFrame) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last video packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'video';\n              result.video.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * Adjusts the timestamp information for the segment to account for\n * rollover and convert to seconds based on pes packet timescale (90khz clock)\n */\n\n\nvar adjustTimestamp_ = function adjustTimestamp_(segmentInfo, baseTimestamp) {\n  if (segmentInfo.audio && segmentInfo.audio.length) {\n    var audioBaseTimestamp = baseTimestamp;\n\n    if (typeof audioBaseTimestamp === 'undefined') {\n      audioBaseTimestamp = segmentInfo.audio[0].dts;\n    }\n\n    segmentInfo.audio.forEach(function (info) {\n      info.dts = handleRollover(info.dts, audioBaseTimestamp);\n      info.pts = handleRollover(info.pts, audioBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / PES_TIMESCALE;\n      info.ptsTime = info.pts / PES_TIMESCALE;\n    });\n  }\n\n  if (segmentInfo.video && segmentInfo.video.length) {\n    var videoBaseTimestamp = baseTimestamp;\n\n    if (typeof videoBaseTimestamp === 'undefined') {\n      videoBaseTimestamp = segmentInfo.video[0].dts;\n    }\n\n    segmentInfo.video.forEach(function (info) {\n      info.dts = handleRollover(info.dts, videoBaseTimestamp);\n      info.pts = handleRollover(info.pts, videoBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / PES_TIMESCALE;\n      info.ptsTime = info.pts / PES_TIMESCALE;\n    });\n\n    if (segmentInfo.firstKeyFrame) {\n      var frame = segmentInfo.firstKeyFrame;\n      frame.dts = handleRollover(frame.dts, videoBaseTimestamp);\n      frame.pts = handleRollover(frame.pts, videoBaseTimestamp); // time in seconds\n\n      frame.dtsTime = frame.dts / PES_TIMESCALE;\n      frame.ptsTime = frame.dts / PES_TIMESCALE;\n    }\n  }\n};\n/**\n * inspects the aac data stream for start and end time information\n */\n\n\nvar inspectAac_ = function inspectAac_(bytes) {\n  var endLoop = false,\n      audioCount = 0,\n      sampleRate = null,\n      timestamp = null,\n      frameSize = 0,\n      byteIndex = 0,\n      packet;\n\n  while (bytes.length - byteIndex >= 3) {\n    var type = probe.aac.parseType(bytes, byteIndex);\n\n    switch (type) {\n      case 'timed-metadata':\n        // Exit early because we don't have enough to parse\n        // the ID3 tag header\n        if (bytes.length - byteIndex < 10) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseId3TagSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (timestamp === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          timestamp = probe.aac.parseAacTimestamp(packet);\n        }\n\n        byteIndex += frameSize;\n        break;\n\n      case 'audio':\n        // Exit early because we don't have enough to parse\n        // the ADTS frame header\n        if (bytes.length - byteIndex < 7) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseAdtsSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (sampleRate === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          sampleRate = probe.aac.parseSampleRate(packet);\n        }\n\n        audioCount++;\n        byteIndex += frameSize;\n        break;\n\n      default:\n        byteIndex++;\n        break;\n    }\n\n    if (endLoop) {\n      return null;\n    }\n  }\n\n  if (sampleRate === null || timestamp === null) {\n    return null;\n  }\n\n  var audioTimescale = PES_TIMESCALE / sampleRate;\n  var result = {\n    audio: [{\n      type: 'audio',\n      dts: timestamp,\n      pts: timestamp\n    }, {\n      type: 'audio',\n      dts: timestamp + audioCount * 1024 * audioTimescale,\n      pts: timestamp + audioCount * 1024 * audioTimescale\n    }]\n  };\n  return result;\n};\n/**\n * inspects the transport stream segment data for start and end time information\n * of the audio and video tracks (when present) as well as the first key frame's\n * start time.\n */\n\n\nvar inspectTs_ = function inspectTs_(bytes) {\n  var pmt = {\n    pid: null,\n    table: null\n  };\n  var result = {};\n  parsePsi_(bytes, pmt);\n\n  for (var pid in pmt.table) {\n    if (pmt.table.hasOwnProperty(pid)) {\n      var type = pmt.table[pid];\n\n      switch (type) {\n        case StreamTypes.H264_STREAM_TYPE:\n          result.video = [];\n          parseVideoPes_(bytes, pmt, result);\n\n          if (result.video.length === 0) {\n            delete result.video;\n          }\n\n          break;\n\n        case StreamTypes.ADTS_STREAM_TYPE:\n          result.audio = [];\n          parseAudioPes_(bytes, pmt, result);\n\n          if (result.audio.length === 0) {\n            delete result.audio;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  return result;\n};\n/**\n * Inspects segment byte data and returns an object with start and end timing information\n *\n * @param {Uint8Array} bytes The segment byte data\n * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n *  timestamps for rollover. This value must be in 90khz clock.\n * @return {Object} Object containing start and end frame timing info of segment.\n */\n\n\nvar inspect = function inspect(bytes, baseTimestamp) {\n  var isAacData = probe.aac.isLikelyAacData(bytes);\n  var result;\n\n  if (isAacData) {\n    result = inspectAac_(bytes);\n  } else {\n    result = inspectTs_(bytes);\n  }\n\n  if (!result || !result.audio && !result.video) {\n    return null;\n  }\n\n  adjustTimestamp_(result, baseTimestamp);\n  return result;\n};\n\nmodule.exports = {\n  inspect: inspect,\n  parseAudioPes_: parseAudioPes_\n};","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","'use strict';\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar ReactIs = require('react-is');\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[ReactIs.ForwardRef] = FORWARD_REF_STATICS;\n\nfunction getStatics(component) {\n  if (ReactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  }\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","/** @license React v16.9.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar h = require(\"object-assign\"),\n    n = \"function\" === typeof Symbol && Symbol.for,\n    p = n ? Symbol.for(\"react.element\") : 60103,\n    q = n ? Symbol.for(\"react.portal\") : 60106,\n    r = n ? Symbol.for(\"react.fragment\") : 60107,\n    t = n ? Symbol.for(\"react.strict_mode\") : 60108,\n    u = n ? Symbol.for(\"react.profiler\") : 60114,\n    v = n ? Symbol.for(\"react.provider\") : 60109,\n    w = n ? Symbol.for(\"react.context\") : 60110,\n    x = n ? Symbol.for(\"react.forward_ref\") : 60112,\n    y = n ? Symbol.for(\"react.suspense\") : 60113,\n    aa = n ? Symbol.for(\"react.suspense_list\") : 60120,\n    ba = n ? Symbol.for(\"react.memo\") : 60115,\n    ca = n ? Symbol.for(\"react.lazy\") : 60116;\n\nn && Symbol.for(\"react.fundamental\");\nn && Symbol.for(\"react.responder\");\nvar z = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction A(a) {\n  for (var b = a.message, d = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + b, c = 1; c < arguments.length; c++) {\n    d += \"&args[]=\" + encodeURIComponent(arguments[c]);\n  }\n\n  a.message = \"Minified React error #\" + b + \"; visit \" + d + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \";\n  return a;\n}\n\nvar B = {\n  isMounted: function isMounted() {\n    return !1;\n  },\n  enqueueForceUpdate: function enqueueForceUpdate() {},\n  enqueueReplaceState: function enqueueReplaceState() {},\n  enqueueSetState: function enqueueSetState() {}\n},\n    C = {};\n\nfunction D(a, b, d) {\n  this.props = a;\n  this.context = b;\n  this.refs = C;\n  this.updater = d || B;\n}\n\nD.prototype.isReactComponent = {};\n\nD.prototype.setState = function (a, b) {\n  if (\"object\" !== typeof a && \"function\" !== typeof a && null != a) throw A(Error(85));\n  this.updater.enqueueSetState(this, a, b, \"setState\");\n};\n\nD.prototype.forceUpdate = function (a) {\n  this.updater.enqueueForceUpdate(this, a, \"forceUpdate\");\n};\n\nfunction E() {}\n\nE.prototype = D.prototype;\n\nfunction F(a, b, d) {\n  this.props = a;\n  this.context = b;\n  this.refs = C;\n  this.updater = d || B;\n}\n\nvar G = F.prototype = new E();\nG.constructor = F;\nh(G, D.prototype);\nG.isPureReactComponent = !0;\nvar H = {\n  current: null\n},\n    I = {\n  suspense: null\n},\n    J = {\n  current: null\n},\n    K = Object.prototype.hasOwnProperty,\n    L = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction M(a, b, d) {\n  var c = void 0,\n      e = {},\n      g = null,\n      k = null;\n  if (null != b) for (c in void 0 !== b.ref && (k = b.ref), void 0 !== b.key && (g = \"\" + b.key), b) {\n    K.call(b, c) && !L.hasOwnProperty(c) && (e[c] = b[c]);\n  }\n  var f = arguments.length - 2;\n  if (1 === f) e.children = d;else if (1 < f) {\n    for (var l = Array(f), m = 0; m < f; m++) {\n      l[m] = arguments[m + 2];\n    }\n\n    e.children = l;\n  }\n  if (a && a.defaultProps) for (c in f = a.defaultProps, f) {\n    void 0 === e[c] && (e[c] = f[c]);\n  }\n  return {\n    $$typeof: p,\n    type: a,\n    key: g,\n    ref: k,\n    props: e,\n    _owner: J.current\n  };\n}\n\nfunction da(a, b) {\n  return {\n    $$typeof: p,\n    type: a.type,\n    key: b,\n    ref: a.ref,\n    props: a.props,\n    _owner: a._owner\n  };\n}\n\nfunction N(a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === p;\n}\n\nfunction escape(a) {\n  var b = {\n    \"=\": \"=0\",\n    \":\": \"=2\"\n  };\n  return \"$\" + (\"\" + a).replace(/[=:]/g, function (a) {\n    return b[a];\n  });\n}\n\nvar O = /\\/+/g,\n    P = [];\n\nfunction Q(a, b, d, c) {\n  if (P.length) {\n    var e = P.pop();\n    e.result = a;\n    e.keyPrefix = b;\n    e.func = d;\n    e.context = c;\n    e.count = 0;\n    return e;\n  }\n\n  return {\n    result: a,\n    keyPrefix: b,\n    func: d,\n    context: c,\n    count: 0\n  };\n}\n\nfunction R(a) {\n  a.result = null;\n  a.keyPrefix = null;\n  a.func = null;\n  a.context = null;\n  a.count = 0;\n  10 > P.length && P.push(a);\n}\n\nfunction S(a, b, d, c) {\n  var e = typeof a;\n  if (\"undefined\" === e || \"boolean\" === e) a = null;\n  var g = !1;\n  if (null === a) g = !0;else switch (e) {\n    case \"string\":\n    case \"number\":\n      g = !0;\n      break;\n\n    case \"object\":\n      switch (a.$$typeof) {\n        case p:\n        case q:\n          g = !0;\n      }\n\n  }\n  if (g) return d(c, a, \"\" === b ? \".\" + T(a, 0) : b), 1;\n  g = 0;\n  b = \"\" === b ? \".\" : b + \":\";\n  if (Array.isArray(a)) for (var k = 0; k < a.length; k++) {\n    e = a[k];\n    var f = b + T(e, k);\n    g += S(e, f, d, c);\n  } else if (null === a || \"object\" !== typeof a ? f = null : (f = z && a[z] || a[\"@@iterator\"], f = \"function\" === typeof f ? f : null), \"function\" === typeof f) for (a = f.call(a), k = 0; !(e = a.next()).done;) {\n    e = e.value, f = b + T(e, k++), g += S(e, f, d, c);\n  } else if (\"object\" === e) throw d = \"\" + a, A(Error(31), \"[object Object]\" === d ? \"object with keys {\" + Object.keys(a).join(\", \") + \"}\" : d, \"\");\n  return g;\n}\n\nfunction U(a, b, d) {\n  return null == a ? 0 : S(a, \"\", b, d);\n}\n\nfunction T(a, b) {\n  return \"object\" === typeof a && null !== a && null != a.key ? escape(a.key) : b.toString(36);\n}\n\nfunction ea(a, b) {\n  a.func.call(a.context, b, a.count++);\n}\n\nfunction fa(a, b, d) {\n  var c = a.result,\n      e = a.keyPrefix;\n  a = a.func.call(a.context, b, a.count++);\n  Array.isArray(a) ? V(a, c, d, function (a) {\n    return a;\n  }) : null != a && (N(a) && (a = da(a, e + (!a.key || b && b.key === a.key ? \"\" : (\"\" + a.key).replace(O, \"$&/\") + \"/\") + d)), c.push(a));\n}\n\nfunction V(a, b, d, c, e) {\n  var g = \"\";\n  null != d && (g = (\"\" + d).replace(O, \"$&/\") + \"/\");\n  b = Q(b, g, c, e);\n  U(a, fa, b);\n  R(b);\n}\n\nfunction W() {\n  var a = H.current;\n  if (null === a) throw A(Error(321));\n  return a;\n}\n\nvar X = {\n  Children: {\n    map: function map(a, b, d) {\n      if (null == a) return a;\n      var c = [];\n      V(a, c, null, b, d);\n      return c;\n    },\n    forEach: function forEach(a, b, d) {\n      if (null == a) return a;\n      b = Q(null, null, b, d);\n      U(a, ea, b);\n      R(b);\n    },\n    count: function count(a) {\n      return U(a, function () {\n        return null;\n      }, null);\n    },\n    toArray: function toArray(a) {\n      var b = [];\n      V(a, b, null, function (a) {\n        return a;\n      });\n      return b;\n    },\n    only: function only(a) {\n      if (!N(a)) throw A(Error(143));\n      return a;\n    }\n  },\n  createRef: function createRef() {\n    return {\n      current: null\n    };\n  },\n  Component: D,\n  PureComponent: F,\n  createContext: function createContext(a, b) {\n    void 0 === b && (b = null);\n    a = {\n      $$typeof: w,\n      _calculateChangedBits: b,\n      _currentValue: a,\n      _currentValue2: a,\n      _threadCount: 0,\n      Provider: null,\n      Consumer: null\n    };\n    a.Provider = {\n      $$typeof: v,\n      _context: a\n    };\n    return a.Consumer = a;\n  },\n  forwardRef: function forwardRef(a) {\n    return {\n      $$typeof: x,\n      render: a\n    };\n  },\n  lazy: function lazy(a) {\n    return {\n      $$typeof: ca,\n      _ctor: a,\n      _status: -1,\n      _result: null\n    };\n  },\n  memo: function memo(a, b) {\n    return {\n      $$typeof: ba,\n      type: a,\n      compare: void 0 === b ? null : b\n    };\n  },\n  useCallback: function useCallback(a, b) {\n    return W().useCallback(a, b);\n  },\n  useContext: function useContext(a, b) {\n    return W().useContext(a, b);\n  },\n  useEffect: function useEffect(a, b) {\n    return W().useEffect(a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, d) {\n    return W().useImperativeHandle(a, b, d);\n  },\n  useDebugValue: function useDebugValue() {},\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return W().useLayoutEffect(a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    return W().useMemo(a, b);\n  },\n  useReducer: function useReducer(a, b, d) {\n    return W().useReducer(a, b, d);\n  },\n  useRef: function useRef(a) {\n    return W().useRef(a);\n  },\n  useState: function useState(a) {\n    return W().useState(a);\n  },\n  Fragment: r,\n  Profiler: u,\n  StrictMode: t,\n  Suspense: y,\n  unstable_SuspenseList: aa,\n  createElement: M,\n  cloneElement: function cloneElement(a, b, d) {\n    if (null === a || void 0 === a) throw A(Error(267), a);\n    var c = void 0,\n        e = h({}, a.props),\n        g = a.key,\n        k = a.ref,\n        f = a._owner;\n\n    if (null != b) {\n      void 0 !== b.ref && (k = b.ref, f = J.current);\n      void 0 !== b.key && (g = \"\" + b.key);\n      var l = void 0;\n      a.type && a.type.defaultProps && (l = a.type.defaultProps);\n\n      for (c in b) {\n        K.call(b, c) && !L.hasOwnProperty(c) && (e[c] = void 0 === b[c] && void 0 !== l ? l[c] : b[c]);\n      }\n    }\n\n    c = arguments.length - 2;\n    if (1 === c) e.children = d;else if (1 < c) {\n      l = Array(c);\n\n      for (var m = 0; m < c; m++) {\n        l[m] = arguments[m + 2];\n      }\n\n      e.children = l;\n    }\n    return {\n      $$typeof: p,\n      type: a.type,\n      key: g,\n      ref: k,\n      props: e,\n      _owner: f\n    };\n  },\n  createFactory: function createFactory(a) {\n    var b = M.bind(null, a);\n    b.type = a;\n    return b;\n  },\n  isValidElement: N,\n  version: \"16.9.0\",\n  unstable_withSuspenseConfig: function unstable_withSuspenseConfig(a, b) {\n    var d = I.suspense;\n    I.suspense = void 0 === b ? null : b;\n\n    try {\n      a();\n    } finally {\n      I.suspense = d;\n    }\n  },\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {\n    ReactCurrentDispatcher: H,\n    ReactCurrentBatchConfig: I,\n    ReactCurrentOwner: J,\n    IsSomeRendererActing: {\n      current: !1\n    },\n    assign: h\n  }\n},\n    Y = {\n  default: X\n},\n    Z = Y && X || Y;\nmodule.exports = Z.default || Z;","/** @license React v16.9.0\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';\n\nvar aa = require(\"react\"),\n    m = require(\"object-assign\"),\n    q = require(\"scheduler\");\n\nfunction t(a) {\n  for (var b = a.message, c = \"https://reactjs.org/docs/error-decoder.html?invariant=\" + b, d = 1; d < arguments.length; d++) {\n    c += \"&args[]=\" + encodeURIComponent(arguments[d]);\n  }\n\n  a.message = \"Minified React error #\" + b + \"; visit \" + c + \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \";\n  return a;\n}\n\nif (!aa) throw t(Error(227));\nvar ba = null,\n    ca = {};\n\nfunction da() {\n  if (ba) for (var a in ca) {\n    var b = ca[a],\n        c = ba.indexOf(a);\n    if (!(-1 < c)) throw t(Error(96), a);\n\n    if (!ea[c]) {\n      if (!b.extractEvents) throw t(Error(97), a);\n      ea[c] = b;\n      c = b.eventTypes;\n\n      for (var d in c) {\n        var e = void 0;\n        var f = c[d],\n            h = b,\n            g = d;\n        if (fa.hasOwnProperty(g)) throw t(Error(99), g);\n        fa[g] = f;\n        var k = f.phasedRegistrationNames;\n\n        if (k) {\n          for (e in k) {\n            k.hasOwnProperty(e) && ha(k[e], h, g);\n          }\n\n          e = !0;\n        } else f.registrationName ? (ha(f.registrationName, h, g), e = !0) : e = !1;\n\n        if (!e) throw t(Error(98), d, a);\n      }\n    }\n  }\n}\n\nfunction ha(a, b, c) {\n  if (ia[a]) throw t(Error(100), a);\n  ia[a] = b;\n  ja[a] = b.eventTypes[c].dependencies;\n}\n\nvar ea = [],\n    fa = {},\n    ia = {},\n    ja = {};\n\nfunction ka(a, b, c, d, e, f, h, g, k) {\n  var l = Array.prototype.slice.call(arguments, 3);\n\n  try {\n    b.apply(c, l);\n  } catch (n) {\n    this.onError(n);\n  }\n}\n\nvar la = !1,\n    ma = null,\n    na = !1,\n    oa = null,\n    pa = {\n  onError: function onError(a) {\n    la = !0;\n    ma = a;\n  }\n};\n\nfunction qa(a, b, c, d, e, f, h, g, k) {\n  la = !1;\n  ma = null;\n  ka.apply(pa, arguments);\n}\n\nfunction ra(a, b, c, d, e, f, h, g, k) {\n  qa.apply(this, arguments);\n\n  if (la) {\n    if (la) {\n      var l = ma;\n      la = !1;\n      ma = null;\n    } else throw t(Error(198));\n\n    na || (na = !0, oa = l);\n  }\n}\n\nvar sa = null,\n    ta = null,\n    va = null;\n\nfunction wa(a, b, c) {\n  var d = a.type || \"unknown-event\";\n  a.currentTarget = va(c);\n  ra(d, b, void 0, a);\n  a.currentTarget = null;\n}\n\nfunction xa(a, b) {\n  if (null == b) throw t(Error(30));\n  if (null == a) return b;\n\n  if (Array.isArray(a)) {\n    if (Array.isArray(b)) return a.push.apply(a, b), a;\n    a.push(b);\n    return a;\n  }\n\n  return Array.isArray(b) ? [a].concat(b) : [a, b];\n}\n\nfunction ya(a, b, c) {\n  Array.isArray(a) ? a.forEach(b, c) : a && b.call(c, a);\n}\n\nvar za = null;\n\nfunction Aa(a) {\n  if (a) {\n    var b = a._dispatchListeners,\n        c = a._dispatchInstances;\n    if (Array.isArray(b)) for (var d = 0; d < b.length && !a.isPropagationStopped(); d++) {\n      wa(a, b[d], c[d]);\n    } else b && wa(a, b, c);\n    a._dispatchListeners = null;\n    a._dispatchInstances = null;\n    a.isPersistent() || a.constructor.release(a);\n  }\n}\n\nfunction Ba(a) {\n  null !== a && (za = xa(za, a));\n  a = za;\n  za = null;\n\n  if (a) {\n    ya(a, Aa);\n    if (za) throw t(Error(95));\n    if (na) throw a = oa, na = !1, oa = null, a;\n  }\n}\n\nvar Ca = {\n  injectEventPluginOrder: function injectEventPluginOrder(a) {\n    if (ba) throw t(Error(101));\n    ba = Array.prototype.slice.call(a);\n    da();\n  },\n  injectEventPluginsByName: function injectEventPluginsByName(a) {\n    var b = !1,\n        c;\n\n    for (c in a) {\n      if (a.hasOwnProperty(c)) {\n        var d = a[c];\n\n        if (!ca.hasOwnProperty(c) || ca[c] !== d) {\n          if (ca[c]) throw t(Error(102), c);\n          ca[c] = d;\n          b = !0;\n        }\n      }\n    }\n\n    b && da();\n  }\n};\n\nfunction Da(a, b) {\n  var c = a.stateNode;\n  if (!c) return null;\n  var d = sa(c);\n  if (!d) return null;\n  c = d[b];\n\n  a: switch (b) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n      (d = !d.disabled) || (a = a.type, d = !(\"button\" === a || \"input\" === a || \"select\" === a || \"textarea\" === a));\n      a = !d;\n      break a;\n\n    default:\n      a = !1;\n  }\n\n  if (a) return null;\n  if (c && \"function\" !== typeof c) throw t(Error(231), b, typeof c);\n  return c;\n}\n\nvar Ea = Math.random().toString(36).slice(2),\n    Fa = \"__reactInternalInstance$\" + Ea,\n    Ga = \"__reactEventHandlers$\" + Ea;\n\nfunction Ha(a) {\n  if (a[Fa]) return a[Fa];\n\n  for (; !a[Fa];) {\n    if (a.parentNode) a = a.parentNode;else return null;\n  }\n\n  a = a[Fa];\n  return 5 === a.tag || 6 === a.tag ? a : null;\n}\n\nfunction Ia(a) {\n  a = a[Fa];\n  return !a || 5 !== a.tag && 6 !== a.tag ? null : a;\n}\n\nfunction Ja(a) {\n  if (5 === a.tag || 6 === a.tag) return a.stateNode;\n  throw t(Error(33));\n}\n\nfunction Ka(a) {\n  return a[Ga] || null;\n}\n\nfunction La(a) {\n  do {\n    a = a.return;\n  } while (a && 5 !== a.tag);\n\n  return a ? a : null;\n}\n\nfunction Ma(a, b, c) {\n  if (b = Da(a, c.dispatchConfig.phasedRegistrationNames[b])) c._dispatchListeners = xa(c._dispatchListeners, b), c._dispatchInstances = xa(c._dispatchInstances, a);\n}\n\nfunction Na(a) {\n  if (a && a.dispatchConfig.phasedRegistrationNames) {\n    for (var b = a._targetInst, c = []; b;) {\n      c.push(b), b = La(b);\n    }\n\n    for (b = c.length; 0 < b--;) {\n      Ma(c[b], \"captured\", a);\n    }\n\n    for (b = 0; b < c.length; b++) {\n      Ma(c[b], \"bubbled\", a);\n    }\n  }\n}\n\nfunction Oa(a, b, c) {\n  a && c && c.dispatchConfig.registrationName && (b = Da(a, c.dispatchConfig.registrationName)) && (c._dispatchListeners = xa(c._dispatchListeners, b), c._dispatchInstances = xa(c._dispatchInstances, a));\n}\n\nfunction Pa(a) {\n  a && a.dispatchConfig.registrationName && Oa(a._targetInst, null, a);\n}\n\nfunction Qa(a) {\n  ya(a, Na);\n}\n\nvar Ra = !(\"undefined\" === typeof window || \"undefined\" === typeof window.document || \"undefined\" === typeof window.document.createElement);\n\nfunction Sa(a, b) {\n  var c = {};\n  c[a.toLowerCase()] = b.toLowerCase();\n  c[\"Webkit\" + a] = \"webkit\" + b;\n  c[\"Moz\" + a] = \"moz\" + b;\n  return c;\n}\n\nvar Ta = {\n  animationend: Sa(\"Animation\", \"AnimationEnd\"),\n  animationiteration: Sa(\"Animation\", \"AnimationIteration\"),\n  animationstart: Sa(\"Animation\", \"AnimationStart\"),\n  transitionend: Sa(\"Transition\", \"TransitionEnd\")\n},\n    Ua = {},\n    Va = {};\nRa && (Va = document.createElement(\"div\").style, \"AnimationEvent\" in window || (delete Ta.animationend.animation, delete Ta.animationiteration.animation, delete Ta.animationstart.animation), \"TransitionEvent\" in window || delete Ta.transitionend.transition);\n\nfunction Wa(a) {\n  if (Ua[a]) return Ua[a];\n  if (!Ta[a]) return a;\n  var b = Ta[a],\n      c;\n\n  for (c in b) {\n    if (b.hasOwnProperty(c) && c in Va) return Ua[a] = b[c];\n  }\n\n  return a;\n}\n\nvar Xa = Wa(\"animationend\"),\n    Ya = Wa(\"animationiteration\"),\n    Za = Wa(\"animationstart\"),\n    ab = Wa(\"transitionend\"),\n    bb = \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),\n    cb = null,\n    db = null,\n    eb = null;\n\nfunction fb() {\n  if (eb) return eb;\n  var a,\n      b = db,\n      c = b.length,\n      d,\n      e = \"value\" in cb ? cb.value : cb.textContent,\n      f = e.length;\n\n  for (a = 0; a < c && b[a] === e[a]; a++) {\n    ;\n  }\n\n  var h = c - a;\n\n  for (d = 1; d <= h && b[c - d] === e[f - d]; d++) {\n    ;\n  }\n\n  return eb = e.slice(a, 1 < d ? 1 - d : void 0);\n}\n\nfunction gb() {\n  return !0;\n}\n\nfunction hb() {\n  return !1;\n}\n\nfunction y(a, b, c, d) {\n  this.dispatchConfig = a;\n  this._targetInst = b;\n  this.nativeEvent = c;\n  a = this.constructor.Interface;\n\n  for (var e in a) {\n    a.hasOwnProperty(e) && ((b = a[e]) ? this[e] = b(c) : \"target\" === e ? this.target = d : this[e] = c[e]);\n  }\n\n  this.isDefaultPrevented = (null != c.defaultPrevented ? c.defaultPrevented : !1 === c.returnValue) ? gb : hb;\n  this.isPropagationStopped = hb;\n  return this;\n}\n\nm(y.prototype, {\n  preventDefault: function preventDefault() {\n    this.defaultPrevented = !0;\n    var a = this.nativeEvent;\n    a && (a.preventDefault ? a.preventDefault() : \"unknown\" !== typeof a.returnValue && (a.returnValue = !1), this.isDefaultPrevented = gb);\n  },\n  stopPropagation: function stopPropagation() {\n    var a = this.nativeEvent;\n    a && (a.stopPropagation ? a.stopPropagation() : \"unknown\" !== typeof a.cancelBubble && (a.cancelBubble = !0), this.isPropagationStopped = gb);\n  },\n  persist: function persist() {\n    this.isPersistent = gb;\n  },\n  isPersistent: hb,\n  destructor: function destructor() {\n    var a = this.constructor.Interface,\n        b;\n\n    for (b in a) {\n      this[b] = null;\n    }\n\n    this.nativeEvent = this._targetInst = this.dispatchConfig = null;\n    this.isPropagationStopped = this.isDefaultPrevented = hb;\n    this._dispatchInstances = this._dispatchListeners = null;\n  }\n});\ny.Interface = {\n  type: null,\n  target: null,\n  currentTarget: function currentTarget() {\n    return null;\n  },\n  eventPhase: null,\n  bubbles: null,\n  cancelable: null,\n  timeStamp: function timeStamp(a) {\n    return a.timeStamp || Date.now();\n  },\n  defaultPrevented: null,\n  isTrusted: null\n};\n\ny.extend = function (a) {\n  function b() {}\n\n  function c() {\n    return d.apply(this, arguments);\n  }\n\n  var d = this;\n  b.prototype = d.prototype;\n  var e = new b();\n  m(e, c.prototype);\n  c.prototype = e;\n  c.prototype.constructor = c;\n  c.Interface = m({}, d.Interface, a);\n  c.extend = d.extend;\n  ib(c);\n  return c;\n};\n\nib(y);\n\nfunction jb(a, b, c, d) {\n  if (this.eventPool.length) {\n    var e = this.eventPool.pop();\n    this.call(e, a, b, c, d);\n    return e;\n  }\n\n  return new this(a, b, c, d);\n}\n\nfunction kb(a) {\n  if (!(a instanceof this)) throw t(Error(279));\n  a.destructor();\n  10 > this.eventPool.length && this.eventPool.push(a);\n}\n\nfunction ib(a) {\n  a.eventPool = [];\n  a.getPooled = jb;\n  a.release = kb;\n}\n\nvar lb = y.extend({\n  data: null\n}),\n    mb = y.extend({\n  data: null\n}),\n    nb = [9, 13, 27, 32],\n    ob = Ra && \"CompositionEvent\" in window,\n    pb = null;\nRa && \"documentMode\" in document && (pb = document.documentMode);\nvar qb = Ra && \"TextEvent\" in window && !pb,\n    sb = Ra && (!ob || pb && 8 < pb && 11 >= pb),\n    tb = String.fromCharCode(32),\n    ub = {\n  beforeInput: {\n    phasedRegistrationNames: {\n      bubbled: \"onBeforeInput\",\n      captured: \"onBeforeInputCapture\"\n    },\n    dependencies: [\"compositionend\", \"keypress\", \"textInput\", \"paste\"]\n  },\n  compositionEnd: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionEnd\",\n      captured: \"onCompositionEndCapture\"\n    },\n    dependencies: \"blur compositionend keydown keypress keyup mousedown\".split(\" \")\n  },\n  compositionStart: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionStart\",\n      captured: \"onCompositionStartCapture\"\n    },\n    dependencies: \"blur compositionstart keydown keypress keyup mousedown\".split(\" \")\n  },\n  compositionUpdate: {\n    phasedRegistrationNames: {\n      bubbled: \"onCompositionUpdate\",\n      captured: \"onCompositionUpdateCapture\"\n    },\n    dependencies: \"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")\n  }\n},\n    vb = !1;\n\nfunction wb(a, b) {\n  switch (a) {\n    case \"keyup\":\n      return -1 !== nb.indexOf(b.keyCode);\n\n    case \"keydown\":\n      return 229 !== b.keyCode;\n\n    case \"keypress\":\n    case \"mousedown\":\n    case \"blur\":\n      return !0;\n\n    default:\n      return !1;\n  }\n}\n\nfunction xb(a) {\n  a = a.detail;\n  return \"object\" === typeof a && \"data\" in a ? a.data : null;\n}\n\nvar yb = !1;\n\nfunction Ab(a, b) {\n  switch (a) {\n    case \"compositionend\":\n      return xb(b);\n\n    case \"keypress\":\n      if (32 !== b.which) return null;\n      vb = !0;\n      return tb;\n\n    case \"textInput\":\n      return a = b.data, a === tb && vb ? null : a;\n\n    default:\n      return null;\n  }\n}\n\nfunction Bb(a, b) {\n  if (yb) return \"compositionend\" === a || !ob && wb(a, b) ? (a = fb(), eb = db = cb = null, yb = !1, a) : null;\n\n  switch (a) {\n    case \"paste\":\n      return null;\n\n    case \"keypress\":\n      if (!(b.ctrlKey || b.altKey || b.metaKey) || b.ctrlKey && b.altKey) {\n        if (b.char && 1 < b.char.length) return b.char;\n        if (b.which) return String.fromCharCode(b.which);\n      }\n\n      return null;\n\n    case \"compositionend\":\n      return sb && \"ko\" !== b.locale ? null : b.data;\n\n    default:\n      return null;\n  }\n}\n\nvar Cb = {\n  eventTypes: ub,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = void 0;\n    var f = void 0;\n    if (ob) b: {\n      switch (a) {\n        case \"compositionstart\":\n          e = ub.compositionStart;\n          break b;\n\n        case \"compositionend\":\n          e = ub.compositionEnd;\n          break b;\n\n        case \"compositionupdate\":\n          e = ub.compositionUpdate;\n          break b;\n      }\n\n      e = void 0;\n    } else yb ? wb(a, c) && (e = ub.compositionEnd) : \"keydown\" === a && 229 === c.keyCode && (e = ub.compositionStart);\n    e ? (sb && \"ko\" !== c.locale && (yb || e !== ub.compositionStart ? e === ub.compositionEnd && yb && (f = fb()) : (cb = d, db = \"value\" in cb ? cb.value : cb.textContent, yb = !0)), e = lb.getPooled(e, b, c, d), f ? e.data = f : (f = xb(c), null !== f && (e.data = f)), Qa(e), f = e) : f = null;\n    (a = qb ? Ab(a, c) : Bb(a, c)) ? (b = mb.getPooled(ub.beforeInput, b, c, d), b.data = a, Qa(b)) : b = null;\n    return null === f ? b : null === b ? f : [f, b];\n  }\n},\n    Db = null,\n    Eb = null,\n    Fb = null;\n\nfunction Gb(a) {\n  if (a = ta(a)) {\n    if (\"function\" !== typeof Db) throw t(Error(280));\n    var b = sa(a.stateNode);\n    Db(a.stateNode, a.type, b);\n  }\n}\n\nfunction Hb(a) {\n  Eb ? Fb ? Fb.push(a) : Fb = [a] : Eb = a;\n}\n\nfunction Ib() {\n  if (Eb) {\n    var a = Eb,\n        b = Fb;\n    Fb = Eb = null;\n    Gb(a);\n    if (b) for (a = 0; a < b.length; a++) {\n      Gb(b[a]);\n    }\n  }\n}\n\nfunction Jb(a, b) {\n  return a(b);\n}\n\nfunction Kb(a, b, c, d) {\n  return a(b, c, d);\n}\n\nfunction Lb() {}\n\nvar Mb = Jb,\n    Nb = !1;\n\nfunction Ob() {\n  if (null !== Eb || null !== Fb) Lb(), Ib();\n}\n\nvar Pb = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\n\nfunction Qb(a) {\n  var b = a && a.nodeName && a.nodeName.toLowerCase();\n  return \"input\" === b ? !!Pb[a.type] : \"textarea\" === b ? !0 : !1;\n}\n\nfunction Rb(a) {\n  a = a.target || a.srcElement || window;\n  a.correspondingUseElement && (a = a.correspondingUseElement);\n  return 3 === a.nodeType ? a.parentNode : a;\n}\n\nfunction Sb(a) {\n  if (!Ra) return !1;\n  a = \"on\" + a;\n  var b = a in document;\n  b || (b = document.createElement(\"div\"), b.setAttribute(a, \"return;\"), b = \"function\" === typeof b[a]);\n  return b;\n}\n\nfunction Tb(a) {\n  var b = a.type;\n  return (a = a.nodeName) && \"input\" === a.toLowerCase() && (\"checkbox\" === b || \"radio\" === b);\n}\n\nfunction Ub(a) {\n  var b = Tb(a) ? \"checked\" : \"value\",\n      c = Object.getOwnPropertyDescriptor(a.constructor.prototype, b),\n      d = \"\" + a[b];\n\n  if (!a.hasOwnProperty(b) && \"undefined\" !== typeof c && \"function\" === typeof c.get && \"function\" === typeof c.set) {\n    var e = c.get,\n        f = c.set;\n    Object.defineProperty(a, b, {\n      configurable: !0,\n      get: function get() {\n        return e.call(this);\n      },\n      set: function set(a) {\n        d = \"\" + a;\n        f.call(this, a);\n      }\n    });\n    Object.defineProperty(a, b, {\n      enumerable: c.enumerable\n    });\n    return {\n      getValue: function getValue() {\n        return d;\n      },\n      setValue: function setValue(a) {\n        d = \"\" + a;\n      },\n      stopTracking: function stopTracking() {\n        a._valueTracker = null;\n        delete a[b];\n      }\n    };\n  }\n}\n\nfunction Vb(a) {\n  a._valueTracker || (a._valueTracker = Ub(a));\n}\n\nfunction Wb(a) {\n  if (!a) return !1;\n  var b = a._valueTracker;\n  if (!b) return !0;\n  var c = b.getValue();\n  var d = \"\";\n  a && (d = Tb(a) ? a.checked ? \"true\" : \"false\" : a.value);\n  a = d;\n  return a !== c ? (b.setValue(a), !0) : !1;\n}\n\nvar Xb = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\nXb.hasOwnProperty(\"ReactCurrentDispatcher\") || (Xb.ReactCurrentDispatcher = {\n  current: null\n});\nXb.hasOwnProperty(\"ReactCurrentBatchConfig\") || (Xb.ReactCurrentBatchConfig = {\n  suspense: null\n});\nvar Yb = /^(.*)[\\\\\\/]/,\n    B = \"function\" === typeof Symbol && Symbol.for,\n    Zb = B ? Symbol.for(\"react.element\") : 60103,\n    $b = B ? Symbol.for(\"react.portal\") : 60106,\n    ac = B ? Symbol.for(\"react.fragment\") : 60107,\n    bc = B ? Symbol.for(\"react.strict_mode\") : 60108,\n    cc = B ? Symbol.for(\"react.profiler\") : 60114,\n    dc = B ? Symbol.for(\"react.provider\") : 60109,\n    ec = B ? Symbol.for(\"react.context\") : 60110,\n    fc = B ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    gc = B ? Symbol.for(\"react.forward_ref\") : 60112,\n    hc = B ? Symbol.for(\"react.suspense\") : 60113,\n    ic = B ? Symbol.for(\"react.suspense_list\") : 60120,\n    jc = B ? Symbol.for(\"react.memo\") : 60115,\n    kc = B ? Symbol.for(\"react.lazy\") : 60116;\nB && Symbol.for(\"react.fundamental\");\nB && Symbol.for(\"react.responder\");\nvar lc = \"function\" === typeof Symbol && Symbol.iterator;\n\nfunction mc(a) {\n  if (null === a || \"object\" !== typeof a) return null;\n  a = lc && a[lc] || a[\"@@iterator\"];\n  return \"function\" === typeof a ? a : null;\n}\n\nfunction oc(a) {\n  if (null == a) return null;\n  if (\"function\" === typeof a) return a.displayName || a.name || null;\n  if (\"string\" === typeof a) return a;\n\n  switch (a) {\n    case ac:\n      return \"Fragment\";\n\n    case $b:\n      return \"Portal\";\n\n    case cc:\n      return \"Profiler\";\n\n    case bc:\n      return \"StrictMode\";\n\n    case hc:\n      return \"Suspense\";\n\n    case ic:\n      return \"SuspenseList\";\n  }\n\n  if (\"object\" === typeof a) switch (a.$$typeof) {\n    case ec:\n      return \"Context.Consumer\";\n\n    case dc:\n      return \"Context.Provider\";\n\n    case gc:\n      var b = a.render;\n      b = b.displayName || b.name || \"\";\n      return a.displayName || (\"\" !== b ? \"ForwardRef(\" + b + \")\" : \"ForwardRef\");\n\n    case jc:\n      return oc(a.type);\n\n    case kc:\n      if (a = 1 === a._status ? a._result : null) return oc(a);\n  }\n  return null;\n}\n\nfunction pc(a) {\n  var b = \"\";\n\n  do {\n    a: switch (a.tag) {\n      case 3:\n      case 4:\n      case 6:\n      case 7:\n      case 10:\n      case 9:\n        var c = \"\";\n        break a;\n\n      default:\n        var d = a._debugOwner,\n            e = a._debugSource,\n            f = oc(a.type);\n        c = null;\n        d && (c = oc(d.type));\n        d = f;\n        f = \"\";\n        e ? f = \" (at \" + e.fileName.replace(Yb, \"\") + \":\" + e.lineNumber + \")\" : c && (f = \" (created by \" + c + \")\");\n        c = \"\\n    in \" + (d || \"Unknown\") + f;\n    }\n\n    b += c;\n    a = a.return;\n  } while (a);\n\n  return b;\n}\n\nvar qc = /^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,\n    rc = Object.prototype.hasOwnProperty,\n    sc = {},\n    tc = {};\n\nfunction uc(a) {\n  if (rc.call(tc, a)) return !0;\n  if (rc.call(sc, a)) return !1;\n  if (qc.test(a)) return tc[a] = !0;\n  sc[a] = !0;\n  return !1;\n}\n\nfunction vc(a, b, c, d) {\n  if (null !== c && 0 === c.type) return !1;\n\n  switch (typeof b) {\n    case \"function\":\n    case \"symbol\":\n      return !0;\n\n    case \"boolean\":\n      if (d) return !1;\n      if (null !== c) return !c.acceptsBooleans;\n      a = a.toLowerCase().slice(0, 5);\n      return \"data-\" !== a && \"aria-\" !== a;\n\n    default:\n      return !1;\n  }\n}\n\nfunction wc(a, b, c, d) {\n  if (null === b || \"undefined\" === typeof b || vc(a, b, c, d)) return !0;\n  if (d) return !1;\n  if (null !== c) switch (c.type) {\n    case 3:\n      return !b;\n\n    case 4:\n      return !1 === b;\n\n    case 5:\n      return isNaN(b);\n\n    case 6:\n      return isNaN(b) || 1 > b;\n  }\n  return !1;\n}\n\nfunction D(a, b, c, d, e, f) {\n  this.acceptsBooleans = 2 === b || 3 === b || 4 === b;\n  this.attributeName = d;\n  this.attributeNamespace = e;\n  this.mustUseProperty = c;\n  this.propertyName = a;\n  this.type = b;\n  this.sanitizeURL = f;\n}\n\nvar F = {};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function (a) {\n  F[a] = new D(a, 0, !1, a, null, !1);\n});\n[[\"acceptCharset\", \"accept-charset\"], [\"className\", \"class\"], [\"htmlFor\", \"for\"], [\"httpEquiv\", \"http-equiv\"]].forEach(function (a) {\n  var b = a[0];\n  F[b] = new D(b, 1, !1, a[1], null, !1);\n});\n[\"contentEditable\", \"draggable\", \"spellCheck\", \"value\"].forEach(function (a) {\n  F[a] = new D(a, 2, !1, a.toLowerCase(), null, !1);\n});\n[\"autoReverse\", \"externalResourcesRequired\", \"focusable\", \"preserveAlpha\"].forEach(function (a) {\n  F[a] = new D(a, 2, !1, a, null, !1);\n});\n\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function (a) {\n  F[a] = new D(a, 3, !1, a.toLowerCase(), null, !1);\n});\n[\"checked\", \"multiple\", \"muted\", \"selected\"].forEach(function (a) {\n  F[a] = new D(a, 3, !0, a, null, !1);\n});\n[\"capture\", \"download\"].forEach(function (a) {\n  F[a] = new D(a, 4, !1, a, null, !1);\n});\n[\"cols\", \"rows\", \"size\", \"span\"].forEach(function (a) {\n  F[a] = new D(a, 6, !1, a, null, !1);\n});\n[\"rowSpan\", \"start\"].forEach(function (a) {\n  F[a] = new D(a, 5, !1, a.toLowerCase(), null, !1);\n});\nvar xc = /[\\-:]([a-z])/g;\n\nfunction yc(a) {\n  return a[1].toUpperCase();\n}\n\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, null, !1);\n});\n\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, \"http://www.w3.org/1999/xlink\", !1);\n});\n[\"xml:base\", \"xml:lang\", \"xml:space\"].forEach(function (a) {\n  var b = a.replace(xc, yc);\n  F[b] = new D(b, 1, !1, a, \"http://www.w3.org/XML/1998/namespace\", !1);\n});\n[\"tabIndex\", \"crossOrigin\"].forEach(function (a) {\n  F[a] = new D(a, 1, !1, a.toLowerCase(), null, !1);\n});\nF.xlinkHref = new D(\"xlinkHref\", 1, !1, \"xlink:href\", \"http://www.w3.org/1999/xlink\", !0);\n[\"src\", \"href\", \"action\", \"formAction\"].forEach(function (a) {\n  F[a] = new D(a, 1, !1, a.toLowerCase(), null, !0);\n});\n\nfunction zc(a, b, c, d) {\n  var e = F.hasOwnProperty(b) ? F[b] : null;\n  var f = null !== e ? 0 === e.type : d ? !1 : !(2 < b.length) || \"o\" !== b[0] && \"O\" !== b[0] || \"n\" !== b[1] && \"N\" !== b[1] ? !1 : !0;\n  f || (wc(b, c, e, d) && (c = null), d || null === e ? uc(b) && (null === c ? a.removeAttribute(b) : a.setAttribute(b, \"\" + c)) : e.mustUseProperty ? a[e.propertyName] = null === c ? 3 === e.type ? !1 : \"\" : c : (b = e.attributeName, d = e.attributeNamespace, null === c ? a.removeAttribute(b) : (e = e.type, c = 3 === e || 4 === e && !0 === c ? \"\" : \"\" + c, d ? a.setAttributeNS(d, b, c) : a.setAttribute(b, c))));\n}\n\nfunction Ac(a) {\n  switch (typeof a) {\n    case \"boolean\":\n    case \"number\":\n    case \"object\":\n    case \"string\":\n    case \"undefined\":\n      return a;\n\n    default:\n      return \"\";\n  }\n}\n\nfunction Bc(a, b) {\n  var c = b.checked;\n  return m({}, b, {\n    defaultChecked: void 0,\n    defaultValue: void 0,\n    value: void 0,\n    checked: null != c ? c : a._wrapperState.initialChecked\n  });\n}\n\nfunction Cc(a, b) {\n  var c = null == b.defaultValue ? \"\" : b.defaultValue,\n      d = null != b.checked ? b.checked : b.defaultChecked;\n  c = Ac(null != b.value ? b.value : c);\n  a._wrapperState = {\n    initialChecked: d,\n    initialValue: c,\n    controlled: \"checkbox\" === b.type || \"radio\" === b.type ? null != b.checked : null != b.value\n  };\n}\n\nfunction Dc(a, b) {\n  b = b.checked;\n  null != b && zc(a, \"checked\", b, !1);\n}\n\nfunction Ec(a, b) {\n  Dc(a, b);\n  var c = Ac(b.value),\n      d = b.type;\n  if (null != c) {\n    if (\"number\" === d) {\n      if (0 === c && \"\" === a.value || a.value != c) a.value = \"\" + c;\n    } else a.value !== \"\" + c && (a.value = \"\" + c);\n  } else if (\"submit\" === d || \"reset\" === d) {\n    a.removeAttribute(\"value\");\n    return;\n  }\n  b.hasOwnProperty(\"value\") ? Fc(a, b.type, c) : b.hasOwnProperty(\"defaultValue\") && Fc(a, b.type, Ac(b.defaultValue));\n  null == b.checked && null != b.defaultChecked && (a.defaultChecked = !!b.defaultChecked);\n}\n\nfunction Gc(a, b, c) {\n  if (b.hasOwnProperty(\"value\") || b.hasOwnProperty(\"defaultValue\")) {\n    var d = b.type;\n    if (!(\"submit\" !== d && \"reset\" !== d || void 0 !== b.value && null !== b.value)) return;\n    b = \"\" + a._wrapperState.initialValue;\n    c || b === a.value || (a.value = b);\n    a.defaultValue = b;\n  }\n\n  c = a.name;\n  \"\" !== c && (a.name = \"\");\n  a.defaultChecked = !a.defaultChecked;\n  a.defaultChecked = !!a._wrapperState.initialChecked;\n  \"\" !== c && (a.name = c);\n}\n\nfunction Fc(a, b, c) {\n  if (\"number\" !== b || a.ownerDocument.activeElement !== a) null == c ? a.defaultValue = \"\" + a._wrapperState.initialValue : a.defaultValue !== \"\" + c && (a.defaultValue = \"\" + c);\n}\n\nvar Hc = {\n  change: {\n    phasedRegistrationNames: {\n      bubbled: \"onChange\",\n      captured: \"onChangeCapture\"\n    },\n    dependencies: \"blur change click focus input keydown keyup selectionchange\".split(\" \")\n  }\n};\n\nfunction Ic(a, b, c) {\n  a = y.getPooled(Hc.change, a, b, c);\n  a.type = \"change\";\n  Hb(c);\n  Qa(a);\n  return a;\n}\n\nvar Jc = null,\n    Kc = null;\n\nfunction Lc(a) {\n  Ba(a);\n}\n\nfunction Mc(a) {\n  var b = Ja(a);\n  if (Wb(b)) return a;\n}\n\nfunction Nc(a, b) {\n  if (\"change\" === a) return b;\n}\n\nvar Oc = !1;\nRa && (Oc = Sb(\"input\") && (!document.documentMode || 9 < document.documentMode));\n\nfunction Pc() {\n  Jc && (Jc.detachEvent(\"onpropertychange\", Qc), Kc = Jc = null);\n}\n\nfunction Qc(a) {\n  if (\"value\" === a.propertyName && Mc(Kc)) if (a = Ic(Kc, a, Rb(a)), Nb) Ba(a);else {\n    Nb = !0;\n\n    try {\n      Jb(Lc, a);\n    } finally {\n      Nb = !1, Ob();\n    }\n  }\n}\n\nfunction Rc(a, b, c) {\n  \"focus\" === a ? (Pc(), Jc = b, Kc = c, Jc.attachEvent(\"onpropertychange\", Qc)) : \"blur\" === a && Pc();\n}\n\nfunction Sc(a) {\n  if (\"selectionchange\" === a || \"keyup\" === a || \"keydown\" === a) return Mc(Kc);\n}\n\nfunction Tc(a, b) {\n  if (\"click\" === a) return Mc(b);\n}\n\nfunction Uc(a, b) {\n  if (\"input\" === a || \"change\" === a) return Mc(b);\n}\n\nvar Vc = {\n  eventTypes: Hc,\n  _isInputEventSupported: Oc,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = b ? Ja(b) : window,\n        f = void 0,\n        h = void 0,\n        g = e.nodeName && e.nodeName.toLowerCase();\n    \"select\" === g || \"input\" === g && \"file\" === e.type ? f = Nc : Qb(e) ? Oc ? f = Uc : (f = Sc, h = Rc) : (g = e.nodeName) && \"input\" === g.toLowerCase() && (\"checkbox\" === e.type || \"radio\" === e.type) && (f = Tc);\n    if (f && (f = f(a, b))) return Ic(f, c, d);\n    h && h(a, e, b);\n    \"blur\" === a && (a = e._wrapperState) && a.controlled && \"number\" === e.type && Fc(e, \"number\", e.value);\n  }\n},\n    Wc = y.extend({\n  view: null,\n  detail: null\n}),\n    Xc = {\n  Alt: \"altKey\",\n  Control: \"ctrlKey\",\n  Meta: \"metaKey\",\n  Shift: \"shiftKey\"\n};\n\nfunction Yc(a) {\n  var b = this.nativeEvent;\n  return b.getModifierState ? b.getModifierState(a) : (a = Xc[a]) ? !!b[a] : !1;\n}\n\nfunction Zc() {\n  return Yc;\n}\n\nvar $c = 0,\n    ad = 0,\n    bd = !1,\n    cd = !1,\n    dd = Wc.extend({\n  screenX: null,\n  screenY: null,\n  clientX: null,\n  clientY: null,\n  pageX: null,\n  pageY: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  getModifierState: Zc,\n  button: null,\n  buttons: null,\n  relatedTarget: function relatedTarget(a) {\n    return a.relatedTarget || (a.fromElement === a.srcElement ? a.toElement : a.fromElement);\n  },\n  movementX: function movementX(a) {\n    if (\"movementX\" in a) return a.movementX;\n    var b = $c;\n    $c = a.screenX;\n    return bd ? \"mousemove\" === a.type ? a.screenX - b : 0 : (bd = !0, 0);\n  },\n  movementY: function movementY(a) {\n    if (\"movementY\" in a) return a.movementY;\n    var b = ad;\n    ad = a.screenY;\n    return cd ? \"mousemove\" === a.type ? a.screenY - b : 0 : (cd = !0, 0);\n  }\n}),\n    ed = dd.extend({\n  pointerId: null,\n  width: null,\n  height: null,\n  pressure: null,\n  tangentialPressure: null,\n  tiltX: null,\n  tiltY: null,\n  twist: null,\n  pointerType: null,\n  isPrimary: null\n}),\n    fd = {\n  mouseEnter: {\n    registrationName: \"onMouseEnter\",\n    dependencies: [\"mouseout\", \"mouseover\"]\n  },\n  mouseLeave: {\n    registrationName: \"onMouseLeave\",\n    dependencies: [\"mouseout\", \"mouseover\"]\n  },\n  pointerEnter: {\n    registrationName: \"onPointerEnter\",\n    dependencies: [\"pointerout\", \"pointerover\"]\n  },\n  pointerLeave: {\n    registrationName: \"onPointerLeave\",\n    dependencies: [\"pointerout\", \"pointerover\"]\n  }\n},\n    gd = {\n  eventTypes: fd,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = \"mouseover\" === a || \"pointerover\" === a,\n        f = \"mouseout\" === a || \"pointerout\" === a;\n    if (e && (c.relatedTarget || c.fromElement) || !f && !e) return null;\n    e = d.window === d ? d : (e = d.ownerDocument) ? e.defaultView || e.parentWindow : window;\n    f ? (f = b, b = (b = c.relatedTarget || c.toElement) ? Ha(b) : null) : f = null;\n    if (f === b) return null;\n    var h = void 0,\n        g = void 0,\n        k = void 0,\n        l = void 0;\n    if (\"mouseout\" === a || \"mouseover\" === a) h = dd, g = fd.mouseLeave, k = fd.mouseEnter, l = \"mouse\";else if (\"pointerout\" === a || \"pointerover\" === a) h = ed, g = fd.pointerLeave, k = fd.pointerEnter, l = \"pointer\";\n    var n = null == f ? e : Ja(f);\n    e = null == b ? e : Ja(b);\n    a = h.getPooled(g, f, c, d);\n    a.type = l + \"leave\";\n    a.target = n;\n    a.relatedTarget = e;\n    c = h.getPooled(k, b, c, d);\n    c.type = l + \"enter\";\n    c.target = e;\n    c.relatedTarget = n;\n    d = b;\n    if (f && d) a: {\n      b = f;\n      e = d;\n      l = 0;\n\n      for (h = b; h; h = La(h)) {\n        l++;\n      }\n\n      h = 0;\n\n      for (k = e; k; k = La(k)) {\n        h++;\n      }\n\n      for (; 0 < l - h;) {\n        b = La(b), l--;\n      }\n\n      for (; 0 < h - l;) {\n        e = La(e), h--;\n      }\n\n      for (; l--;) {\n        if (b === e || b === e.alternate) break a;\n        b = La(b);\n        e = La(e);\n      }\n\n      b = null;\n    } else b = null;\n    e = b;\n\n    for (b = []; f && f !== e;) {\n      l = f.alternate;\n      if (null !== l && l === e) break;\n      b.push(f);\n      f = La(f);\n    }\n\n    for (f = []; d && d !== e;) {\n      l = d.alternate;\n      if (null !== l && l === e) break;\n      f.push(d);\n      d = La(d);\n    }\n\n    for (d = 0; d < b.length; d++) {\n      Oa(b[d], \"bubbled\", a);\n    }\n\n    for (d = f.length; 0 < d--;) {\n      Oa(f[d], \"captured\", c);\n    }\n\n    return [a, c];\n  }\n};\n\nfunction hd(a, b) {\n  return a === b && (0 !== a || 1 / a === 1 / b) || a !== a && b !== b;\n}\n\nvar id = Object.prototype.hasOwnProperty;\n\nfunction jd(a, b) {\n  if (hd(a, b)) return !0;\n  if (\"object\" !== typeof a || null === a || \"object\" !== typeof b || null === b) return !1;\n  var c = Object.keys(a),\n      d = Object.keys(b);\n  if (c.length !== d.length) return !1;\n\n  for (d = 0; d < c.length; d++) {\n    if (!id.call(b, c[d]) || !hd(a[c[d]], b[c[d]])) return !1;\n  }\n\n  return !0;\n}\n\nfunction kd(a, b) {\n  return {\n    responder: a,\n    props: b\n  };\n}\n\nnew Map();\nnew Map();\nnew Set();\nnew Map();\n\nfunction ld(a) {\n  var b = a;\n  if (a.alternate) for (; b.return;) {\n    b = b.return;\n  } else {\n    if (0 !== (b.effectTag & 2)) return 1;\n\n    for (; b.return;) {\n      if (b = b.return, 0 !== (b.effectTag & 2)) return 1;\n    }\n  }\n  return 3 === b.tag ? 2 : 3;\n}\n\nfunction od(a) {\n  if (2 !== ld(a)) throw t(Error(188));\n}\n\nfunction pd(a) {\n  var b = a.alternate;\n\n  if (!b) {\n    b = ld(a);\n    if (3 === b) throw t(Error(188));\n    return 1 === b ? null : a;\n  }\n\n  for (var c = a, d = b;;) {\n    var e = c.return;\n    if (null === e) break;\n    var f = e.alternate;\n\n    if (null === f) {\n      d = e.return;\n\n      if (null !== d) {\n        c = d;\n        continue;\n      }\n\n      break;\n    }\n\n    if (e.child === f.child) {\n      for (f = e.child; f;) {\n        if (f === c) return od(e), a;\n        if (f === d) return od(e), b;\n        f = f.sibling;\n      }\n\n      throw t(Error(188));\n    }\n\n    if (c.return !== d.return) c = e, d = f;else {\n      for (var h = !1, g = e.child; g;) {\n        if (g === c) {\n          h = !0;\n          c = e;\n          d = f;\n          break;\n        }\n\n        if (g === d) {\n          h = !0;\n          d = e;\n          c = f;\n          break;\n        }\n\n        g = g.sibling;\n      }\n\n      if (!h) {\n        for (g = f.child; g;) {\n          if (g === c) {\n            h = !0;\n            c = f;\n            d = e;\n            break;\n          }\n\n          if (g === d) {\n            h = !0;\n            d = f;\n            c = e;\n            break;\n          }\n\n          g = g.sibling;\n        }\n\n        if (!h) throw t(Error(189));\n      }\n    }\n    if (c.alternate !== d) throw t(Error(190));\n  }\n\n  if (3 !== c.tag) throw t(Error(188));\n  return c.stateNode.current === c ? a : b;\n}\n\nfunction qd(a) {\n  a = pd(a);\n  if (!a) return null;\n\n  for (var b = a;;) {\n    if (5 === b.tag || 6 === b.tag) return b;\n    if (b.child) b.child.return = b, b = b.child;else {\n      if (b === a) break;\n\n      for (; !b.sibling;) {\n        if (!b.return || b.return === a) return null;\n        b = b.return;\n      }\n\n      b.sibling.return = b.return;\n      b = b.sibling;\n    }\n  }\n\n  return null;\n}\n\nvar rd = y.extend({\n  animationName: null,\n  elapsedTime: null,\n  pseudoElement: null\n}),\n    sd = y.extend({\n  clipboardData: function clipboardData(a) {\n    return \"clipboardData\" in a ? a.clipboardData : window.clipboardData;\n  }\n}),\n    td = Wc.extend({\n  relatedTarget: null\n});\n\nfunction ud(a) {\n  var b = a.keyCode;\n  \"charCode\" in a ? (a = a.charCode, 0 === a && 13 === b && (a = 13)) : a = b;\n  10 === a && (a = 13);\n  return 32 <= a || 13 === a ? a : 0;\n}\n\nvar vd = {\n  Esc: \"Escape\",\n  Spacebar: \" \",\n  Left: \"ArrowLeft\",\n  Up: \"ArrowUp\",\n  Right: \"ArrowRight\",\n  Down: \"ArrowDown\",\n  Del: \"Delete\",\n  Win: \"OS\",\n  Menu: \"ContextMenu\",\n  Apps: \"ContextMenu\",\n  Scroll: \"ScrollLock\",\n  MozPrintableKey: \"Unidentified\"\n},\n    wd = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  12: \"Clear\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  19: \"Pause\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  45: \"Insert\",\n  46: \"Delete\",\n  112: \"F1\",\n  113: \"F2\",\n  114: \"F3\",\n  115: \"F4\",\n  116: \"F5\",\n  117: \"F6\",\n  118: \"F7\",\n  119: \"F8\",\n  120: \"F9\",\n  121: \"F10\",\n  122: \"F11\",\n  123: \"F12\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  224: \"Meta\"\n},\n    xd = Wc.extend({\n  key: function key(a) {\n    if (a.key) {\n      var b = vd[a.key] || a.key;\n      if (\"Unidentified\" !== b) return b;\n    }\n\n    return \"keypress\" === a.type ? (a = ud(a), 13 === a ? \"Enter\" : String.fromCharCode(a)) : \"keydown\" === a.type || \"keyup\" === a.type ? wd[a.keyCode] || \"Unidentified\" : \"\";\n  },\n  location: null,\n  ctrlKey: null,\n  shiftKey: null,\n  altKey: null,\n  metaKey: null,\n  repeat: null,\n  locale: null,\n  getModifierState: Zc,\n  charCode: function charCode(a) {\n    return \"keypress\" === a.type ? ud(a) : 0;\n  },\n  keyCode: function keyCode(a) {\n    return \"keydown\" === a.type || \"keyup\" === a.type ? a.keyCode : 0;\n  },\n  which: function which(a) {\n    return \"keypress\" === a.type ? ud(a) : \"keydown\" === a.type || \"keyup\" === a.type ? a.keyCode : 0;\n  }\n}),\n    yd = dd.extend({\n  dataTransfer: null\n}),\n    zd = Wc.extend({\n  touches: null,\n  targetTouches: null,\n  changedTouches: null,\n  altKey: null,\n  metaKey: null,\n  ctrlKey: null,\n  shiftKey: null,\n  getModifierState: Zc\n}),\n    Ad = y.extend({\n  propertyName: null,\n  elapsedTime: null,\n  pseudoElement: null\n}),\n    Bd = dd.extend({\n  deltaX: function deltaX(a) {\n    return \"deltaX\" in a ? a.deltaX : \"wheelDeltaX\" in a ? -a.wheelDeltaX : 0;\n  },\n  deltaY: function deltaY(a) {\n    return \"deltaY\" in a ? a.deltaY : \"wheelDeltaY\" in a ? -a.wheelDeltaY : \"wheelDelta\" in a ? -a.wheelDelta : 0;\n  },\n  deltaZ: null,\n  deltaMode: null\n}),\n    Cd = [[\"blur\", \"blur\", 0], [\"cancel\", \"cancel\", 0], [\"click\", \"click\", 0], [\"close\", \"close\", 0], [\"contextmenu\", \"contextMenu\", 0], [\"copy\", \"copy\", 0], [\"cut\", \"cut\", 0], [\"auxclick\", \"auxClick\", 0], [\"dblclick\", \"doubleClick\", 0], [\"dragend\", \"dragEnd\", 0], [\"dragstart\", \"dragStart\", 0], [\"drop\", \"drop\", 0], [\"focus\", \"focus\", 0], [\"input\", \"input\", 0], [\"invalid\", \"invalid\", 0], [\"keydown\", \"keyDown\", 0], [\"keypress\", \"keyPress\", 0], [\"keyup\", \"keyUp\", 0], [\"mousedown\", \"mouseDown\", 0], [\"mouseup\", \"mouseUp\", 0], [\"paste\", \"paste\", 0], [\"pause\", \"pause\", 0], [\"play\", \"play\", 0], [\"pointercancel\", \"pointerCancel\", 0], [\"pointerdown\", \"pointerDown\", 0], [\"pointerup\", \"pointerUp\", 0], [\"ratechange\", \"rateChange\", 0], [\"reset\", \"reset\", 0], [\"seeked\", \"seeked\", 0], [\"submit\", \"submit\", 0], [\"touchcancel\", \"touchCancel\", 0], [\"touchend\", \"touchEnd\", 0], [\"touchstart\", \"touchStart\", 0], [\"volumechange\", \"volumeChange\", 0], [\"drag\", \"drag\", 1], [\"dragenter\", \"dragEnter\", 1], [\"dragexit\", \"dragExit\", 1], [\"dragleave\", \"dragLeave\", 1], [\"dragover\", \"dragOver\", 1], [\"mousemove\", \"mouseMove\", 1], [\"mouseout\", \"mouseOut\", 1], [\"mouseover\", \"mouseOver\", 1], [\"pointermove\", \"pointerMove\", 1], [\"pointerout\", \"pointerOut\", 1], [\"pointerover\", \"pointerOver\", 1], [\"scroll\", \"scroll\", 1], [\"toggle\", \"toggle\", 1], [\"touchmove\", \"touchMove\", 1], [\"wheel\", \"wheel\", 1], [\"abort\", \"abort\", 2], [Xa, \"animationEnd\", 2], [Ya, \"animationIteration\", 2], [Za, \"animationStart\", 2], [\"canplay\", \"canPlay\", 2], [\"canplaythrough\", \"canPlayThrough\", 2], [\"durationchange\", \"durationChange\", 2], [\"emptied\", \"emptied\", 2], [\"encrypted\", \"encrypted\", 2], [\"ended\", \"ended\", 2], [\"error\", \"error\", 2], [\"gotpointercapture\", \"gotPointerCapture\", 2], [\"load\", \"load\", 2], [\"loadeddata\", \"loadedData\", 2], [\"loadedmetadata\", \"loadedMetadata\", 2], [\"loadstart\", \"loadStart\", 2], [\"lostpointercapture\", \"lostPointerCapture\", 2], [\"playing\", \"playing\", 2], [\"progress\", \"progress\", 2], [\"seeking\", \"seeking\", 2], [\"stalled\", \"stalled\", 2], [\"suspend\", \"suspend\", 2], [\"timeupdate\", \"timeUpdate\", 2], [ab, \"transitionEnd\", 2], [\"waiting\", \"waiting\", 2]],\n    Dd = {},\n    Ed = {},\n    Fd = 0;\n\nfor (; Fd < Cd.length; Fd++) {\n  var Gd = Cd[Fd],\n      Hd = Gd[0],\n      Id = Gd[1],\n      Jd = Gd[2],\n      Kd = \"on\" + (Id[0].toUpperCase() + Id.slice(1)),\n      Ld = {\n    phasedRegistrationNames: {\n      bubbled: Kd,\n      captured: Kd + \"Capture\"\n    },\n    dependencies: [Hd],\n    eventPriority: Jd\n  };\n  Dd[Id] = Ld;\n  Ed[Hd] = Ld;\n}\n\nvar Md = {\n  eventTypes: Dd,\n  getEventPriority: function getEventPriority(a) {\n    a = Ed[a];\n    return void 0 !== a ? a.eventPriority : 2;\n  },\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = Ed[a];\n    if (!e) return null;\n\n    switch (a) {\n      case \"keypress\":\n        if (0 === ud(c)) return null;\n\n      case \"keydown\":\n      case \"keyup\":\n        a = xd;\n        break;\n\n      case \"blur\":\n      case \"focus\":\n        a = td;\n        break;\n\n      case \"click\":\n        if (2 === c.button) return null;\n\n      case \"auxclick\":\n      case \"dblclick\":\n      case \"mousedown\":\n      case \"mousemove\":\n      case \"mouseup\":\n      case \"mouseout\":\n      case \"mouseover\":\n      case \"contextmenu\":\n        a = dd;\n        break;\n\n      case \"drag\":\n      case \"dragend\":\n      case \"dragenter\":\n      case \"dragexit\":\n      case \"dragleave\":\n      case \"dragover\":\n      case \"dragstart\":\n      case \"drop\":\n        a = yd;\n        break;\n\n      case \"touchcancel\":\n      case \"touchend\":\n      case \"touchmove\":\n      case \"touchstart\":\n        a = zd;\n        break;\n\n      case Xa:\n      case Ya:\n      case Za:\n        a = rd;\n        break;\n\n      case ab:\n        a = Ad;\n        break;\n\n      case \"scroll\":\n        a = Wc;\n        break;\n\n      case \"wheel\":\n        a = Bd;\n        break;\n\n      case \"copy\":\n      case \"cut\":\n      case \"paste\":\n        a = sd;\n        break;\n\n      case \"gotpointercapture\":\n      case \"lostpointercapture\":\n      case \"pointercancel\":\n      case \"pointerdown\":\n      case \"pointermove\":\n      case \"pointerout\":\n      case \"pointerover\":\n      case \"pointerup\":\n        a = ed;\n        break;\n\n      default:\n        a = y;\n    }\n\n    b = a.getPooled(e, b, c, d);\n    Qa(b);\n    return b;\n  }\n},\n    Nd = Md.getEventPriority,\n    Od = [];\n\nfunction Pd(a) {\n  var b = a.targetInst,\n      c = b;\n\n  do {\n    if (!c) {\n      a.ancestors.push(c);\n      break;\n    }\n\n    var d;\n\n    for (d = c; d.return;) {\n      d = d.return;\n    }\n\n    d = 3 !== d.tag ? null : d.stateNode.containerInfo;\n    if (!d) break;\n    a.ancestors.push(c);\n    c = Ha(d);\n  } while (c);\n\n  for (c = 0; c < a.ancestors.length; c++) {\n    b = a.ancestors[c];\n    var e = Rb(a.nativeEvent);\n    d = a.topLevelType;\n\n    for (var f = a.nativeEvent, h = null, g = 0; g < ea.length; g++) {\n      var k = ea[g];\n      k && (k = k.extractEvents(d, b, f, e)) && (h = xa(h, k));\n    }\n\n    Ba(h);\n  }\n}\n\nvar Qd = !0;\n\nfunction G(a, b) {\n  Rd(b, a, !1);\n}\n\nfunction Rd(a, b, c) {\n  switch (Nd(b)) {\n    case 0:\n      var d = Sd.bind(null, b, 1);\n      break;\n\n    case 1:\n      d = Td.bind(null, b, 1);\n      break;\n\n    default:\n      d = Ud.bind(null, b, 1);\n  }\n\n  c ? a.addEventListener(b, d, !0) : a.addEventListener(b, d, !1);\n}\n\nfunction Sd(a, b, c) {\n  Nb || Lb();\n  var d = Ud,\n      e = Nb;\n  Nb = !0;\n\n  try {\n    Kb(d, a, b, c);\n  } finally {\n    (Nb = e) || Ob();\n  }\n}\n\nfunction Td(a, b, c) {\n  Ud(a, b, c);\n}\n\nfunction Ud(a, b, c) {\n  if (Qd) {\n    b = Rb(c);\n    b = Ha(b);\n    null === b || \"number\" !== typeof b.tag || 2 === ld(b) || (b = null);\n\n    if (Od.length) {\n      var d = Od.pop();\n      d.topLevelType = a;\n      d.nativeEvent = c;\n      d.targetInst = b;\n      a = d;\n    } else a = {\n      topLevelType: a,\n      nativeEvent: c,\n      targetInst: b,\n      ancestors: []\n    };\n\n    try {\n      if (c = a, Nb) Pd(c, void 0);else {\n        Nb = !0;\n\n        try {\n          Mb(Pd, c, void 0);\n        } finally {\n          Nb = !1, Ob();\n        }\n      }\n    } finally {\n      a.topLevelType = null, a.nativeEvent = null, a.targetInst = null, a.ancestors.length = 0, 10 > Od.length && Od.push(a);\n    }\n  }\n}\n\nvar Vd = new (\"function\" === typeof WeakMap ? WeakMap : Map)();\n\nfunction Wd(a) {\n  var b = Vd.get(a);\n  void 0 === b && (b = new Set(), Vd.set(a, b));\n  return b;\n}\n\nfunction Xd(a) {\n  a = a || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof a) return null;\n\n  try {\n    return a.activeElement || a.body;\n  } catch (b) {\n    return a.body;\n  }\n}\n\nfunction Yd(a) {\n  for (; a && a.firstChild;) {\n    a = a.firstChild;\n  }\n\n  return a;\n}\n\nfunction Zd(a, b) {\n  var c = Yd(a);\n  a = 0;\n\n  for (var d; c;) {\n    if (3 === c.nodeType) {\n      d = a + c.textContent.length;\n      if (a <= b && d >= b) return {\n        node: c,\n        offset: b - a\n      };\n      a = d;\n    }\n\n    a: {\n      for (; c;) {\n        if (c.nextSibling) {\n          c = c.nextSibling;\n          break a;\n        }\n\n        c = c.parentNode;\n      }\n\n      c = void 0;\n    }\n\n    c = Yd(c);\n  }\n}\n\nfunction $d(a, b) {\n  return a && b ? a === b ? !0 : a && 3 === a.nodeType ? !1 : b && 3 === b.nodeType ? $d(a, b.parentNode) : \"contains\" in a ? a.contains(b) : a.compareDocumentPosition ? !!(a.compareDocumentPosition(b) & 16) : !1 : !1;\n}\n\nfunction ae() {\n  for (var a = window, b = Xd(); b instanceof a.HTMLIFrameElement;) {\n    try {\n      var c = \"string\" === typeof b.contentWindow.location.href;\n    } catch (d) {\n      c = !1;\n    }\n\n    if (c) a = b.contentWindow;else break;\n    b = Xd(a.document);\n  }\n\n  return b;\n}\n\nfunction be(a) {\n  var b = a && a.nodeName && a.nodeName.toLowerCase();\n  return b && (\"input\" === b && (\"text\" === a.type || \"search\" === a.type || \"tel\" === a.type || \"url\" === a.type || \"password\" === a.type) || \"textarea\" === b || \"true\" === a.contentEditable);\n}\n\nvar ce = Ra && \"documentMode\" in document && 11 >= document.documentMode,\n    de = {\n  select: {\n    phasedRegistrationNames: {\n      bubbled: \"onSelect\",\n      captured: \"onSelectCapture\"\n    },\n    dependencies: \"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")\n  }\n},\n    ee = null,\n    fe = null,\n    ge = null,\n    he = !1;\n\nfunction ie(a, b) {\n  var c = b.window === b ? b.document : 9 === b.nodeType ? b : b.ownerDocument;\n  if (he || null == ee || ee !== Xd(c)) return null;\n  c = ee;\n  \"selectionStart\" in c && be(c) ? c = {\n    start: c.selectionStart,\n    end: c.selectionEnd\n  } : (c = (c.ownerDocument && c.ownerDocument.defaultView || window).getSelection(), c = {\n    anchorNode: c.anchorNode,\n    anchorOffset: c.anchorOffset,\n    focusNode: c.focusNode,\n    focusOffset: c.focusOffset\n  });\n  return ge && jd(ge, c) ? null : (ge = c, a = y.getPooled(de.select, fe, a, b), a.type = \"select\", a.target = ee, Qa(a), a);\n}\n\nvar je = {\n  eventTypes: de,\n  extractEvents: function extractEvents(a, b, c, d) {\n    var e = d.window === d ? d.document : 9 === d.nodeType ? d : d.ownerDocument,\n        f;\n\n    if (!(f = !e)) {\n      a: {\n        e = Wd(e);\n        f = ja.onSelect;\n\n        for (var h = 0; h < f.length; h++) {\n          if (!e.has(f[h])) {\n            e = !1;\n            break a;\n          }\n        }\n\n        e = !0;\n      }\n\n      f = !e;\n    }\n\n    if (f) return null;\n    e = b ? Ja(b) : window;\n\n    switch (a) {\n      case \"focus\":\n        if (Qb(e) || \"true\" === e.contentEditable) ee = e, fe = b, ge = null;\n        break;\n\n      case \"blur\":\n        ge = fe = ee = null;\n        break;\n\n      case \"mousedown\":\n        he = !0;\n        break;\n\n      case \"contextmenu\":\n      case \"mouseup\":\n      case \"dragend\":\n        return he = !1, ie(c, d);\n\n      case \"selectionchange\":\n        if (ce) break;\n\n      case \"keydown\":\n      case \"keyup\":\n        return ie(c, d);\n    }\n\n    return null;\n  }\n};\nCa.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));\nsa = Ka;\nta = Ia;\nva = Ja;\nCa.injectEventPluginsByName({\n  SimpleEventPlugin: Md,\n  EnterLeaveEventPlugin: gd,\n  ChangeEventPlugin: Vc,\n  SelectEventPlugin: je,\n  BeforeInputEventPlugin: Cb\n});\n\nfunction ke(a) {\n  var b = \"\";\n  aa.Children.forEach(a, function (a) {\n    null != a && (b += a);\n  });\n  return b;\n}\n\nfunction le(a, b) {\n  a = m({\n    children: void 0\n  }, b);\n  if (b = ke(b.children)) a.children = b;\n  return a;\n}\n\nfunction me(a, b, c, d) {\n  a = a.options;\n\n  if (b) {\n    b = {};\n\n    for (var e = 0; e < c.length; e++) {\n      b[\"$\" + c[e]] = !0;\n    }\n\n    for (c = 0; c < a.length; c++) {\n      e = b.hasOwnProperty(\"$\" + a[c].value), a[c].selected !== e && (a[c].selected = e), e && d && (a[c].defaultSelected = !0);\n    }\n  } else {\n    c = \"\" + Ac(c);\n    b = null;\n\n    for (e = 0; e < a.length; e++) {\n      if (a[e].value === c) {\n        a[e].selected = !0;\n        d && (a[e].defaultSelected = !0);\n        return;\n      }\n\n      null !== b || a[e].disabled || (b = a[e]);\n    }\n\n    null !== b && (b.selected = !0);\n  }\n}\n\nfunction ne(a, b) {\n  if (null != b.dangerouslySetInnerHTML) throw t(Error(91));\n  return m({}, b, {\n    value: void 0,\n    defaultValue: void 0,\n    children: \"\" + a._wrapperState.initialValue\n  });\n}\n\nfunction oe(a, b) {\n  var c = b.value;\n\n  if (null == c) {\n    c = b.defaultValue;\n    b = b.children;\n\n    if (null != b) {\n      if (null != c) throw t(Error(92));\n\n      if (Array.isArray(b)) {\n        if (!(1 >= b.length)) throw t(Error(93));\n        b = b[0];\n      }\n\n      c = b;\n    }\n\n    null == c && (c = \"\");\n  }\n\n  a._wrapperState = {\n    initialValue: Ac(c)\n  };\n}\n\nfunction pe(a, b) {\n  var c = Ac(b.value),\n      d = Ac(b.defaultValue);\n  null != c && (c = \"\" + c, c !== a.value && (a.value = c), null == b.defaultValue && a.defaultValue !== c && (a.defaultValue = c));\n  null != d && (a.defaultValue = \"\" + d);\n}\n\nfunction qe(a) {\n  var b = a.textContent;\n  b === a._wrapperState.initialValue && (a.value = b);\n}\n\nvar re = {\n  html: \"http://www.w3.org/1999/xhtml\",\n  mathml: \"http://www.w3.org/1998/Math/MathML\",\n  svg: \"http://www.w3.org/2000/svg\"\n};\n\nfunction se(a) {\n  switch (a) {\n    case \"svg\":\n      return \"http://www.w3.org/2000/svg\";\n\n    case \"math\":\n      return \"http://www.w3.org/1998/Math/MathML\";\n\n    default:\n      return \"http://www.w3.org/1999/xhtml\";\n  }\n}\n\nfunction te(a, b) {\n  return null == a || \"http://www.w3.org/1999/xhtml\" === a ? se(b) : \"http://www.w3.org/2000/svg\" === a && \"foreignObject\" === b ? \"http://www.w3.org/1999/xhtml\" : a;\n}\n\nvar ue = void 0,\n    ve = function (a) {\n  return \"undefined\" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function (b, c, d, e) {\n    MSApp.execUnsafeLocalFunction(function () {\n      return a(b, c, d, e);\n    });\n  } : a;\n}(function (a, b) {\n  if (a.namespaceURI !== re.svg || \"innerHTML\" in a) a.innerHTML = b;else {\n    ue = ue || document.createElement(\"div\");\n    ue.innerHTML = \"<svg>\" + b + \"</svg>\";\n\n    for (b = ue.firstChild; a.firstChild;) {\n      a.removeChild(a.firstChild);\n    }\n\n    for (; b.firstChild;) {\n      a.appendChild(b.firstChild);\n    }\n  }\n});\n\nfunction we(a, b) {\n  if (b) {\n    var c = a.firstChild;\n\n    if (c && c === a.lastChild && 3 === c.nodeType) {\n      c.nodeValue = b;\n      return;\n    }\n  }\n\n  a.textContent = b;\n}\n\nvar xe = {\n  animationIterationCount: !0,\n  borderImageOutset: !0,\n  borderImageSlice: !0,\n  borderImageWidth: !0,\n  boxFlex: !0,\n  boxFlexGroup: !0,\n  boxOrdinalGroup: !0,\n  columnCount: !0,\n  columns: !0,\n  flex: !0,\n  flexGrow: !0,\n  flexPositive: !0,\n  flexShrink: !0,\n  flexNegative: !0,\n  flexOrder: !0,\n  gridArea: !0,\n  gridRow: !0,\n  gridRowEnd: !0,\n  gridRowSpan: !0,\n  gridRowStart: !0,\n  gridColumn: !0,\n  gridColumnEnd: !0,\n  gridColumnSpan: !0,\n  gridColumnStart: !0,\n  fontWeight: !0,\n  lineClamp: !0,\n  lineHeight: !0,\n  opacity: !0,\n  order: !0,\n  orphans: !0,\n  tabSize: !0,\n  widows: !0,\n  zIndex: !0,\n  zoom: !0,\n  fillOpacity: !0,\n  floodOpacity: !0,\n  stopOpacity: !0,\n  strokeDasharray: !0,\n  strokeDashoffset: !0,\n  strokeMiterlimit: !0,\n  strokeOpacity: !0,\n  strokeWidth: !0\n},\n    ye = [\"Webkit\", \"ms\", \"Moz\", \"O\"];\nObject.keys(xe).forEach(function (a) {\n  ye.forEach(function (b) {\n    b = b + a.charAt(0).toUpperCase() + a.substring(1);\n    xe[b] = xe[a];\n  });\n});\n\nfunction ze(a, b, c) {\n  return null == b || \"boolean\" === typeof b || \"\" === b ? \"\" : c || \"number\" !== typeof b || 0 === b || xe.hasOwnProperty(a) && xe[a] ? (\"\" + b).trim() : b + \"px\";\n}\n\nfunction Ae(a, b) {\n  a = a.style;\n\n  for (var c in b) {\n    if (b.hasOwnProperty(c)) {\n      var d = 0 === c.indexOf(\"--\"),\n          e = ze(c, b[c], d);\n      \"float\" === c && (c = \"cssFloat\");\n      d ? a.setProperty(c, e) : a[c] = e;\n    }\n  }\n}\n\nvar Ce = m({\n  menuitem: !0\n}, {\n  area: !0,\n  base: !0,\n  br: !0,\n  col: !0,\n  embed: !0,\n  hr: !0,\n  img: !0,\n  input: !0,\n  keygen: !0,\n  link: !0,\n  meta: !0,\n  param: !0,\n  source: !0,\n  track: !0,\n  wbr: !0\n});\n\nfunction De(a, b) {\n  if (b) {\n    if (Ce[a] && (null != b.children || null != b.dangerouslySetInnerHTML)) throw t(Error(137), a, \"\");\n\n    if (null != b.dangerouslySetInnerHTML) {\n      if (null != b.children) throw t(Error(60));\n      if (!(\"object\" === typeof b.dangerouslySetInnerHTML && \"__html\" in b.dangerouslySetInnerHTML)) throw t(Error(61));\n    }\n\n    if (null != b.style && \"object\" !== typeof b.style) throw t(Error(62), \"\");\n  }\n}\n\nfunction Ee(a, b) {\n  if (-1 === a.indexOf(\"-\")) return \"string\" === typeof b.is;\n\n  switch (a) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n\n    default:\n      return !0;\n  }\n}\n\nfunction Fe(a, b) {\n  a = 9 === a.nodeType || 11 === a.nodeType ? a : a.ownerDocument;\n  var c = Wd(a);\n  b = ja[b];\n\n  for (var d = 0; d < b.length; d++) {\n    var e = b[d];\n\n    if (!c.has(e)) {\n      switch (e) {\n        case \"scroll\":\n          Rd(a, \"scroll\", !0);\n          break;\n\n        case \"focus\":\n        case \"blur\":\n          Rd(a, \"focus\", !0);\n          Rd(a, \"blur\", !0);\n          c.add(\"blur\");\n          c.add(\"focus\");\n          break;\n\n        case \"cancel\":\n        case \"close\":\n          Sb(e) && Rd(a, e, !0);\n          break;\n\n        case \"invalid\":\n        case \"submit\":\n        case \"reset\":\n          break;\n\n        default:\n          -1 === bb.indexOf(e) && G(e, a);\n      }\n\n      c.add(e);\n    }\n  }\n}\n\nfunction Ge() {}\n\nvar He = null,\n    Ie = null;\n\nfunction Je(a, b) {\n  switch (a) {\n    case \"button\":\n    case \"input\":\n    case \"select\":\n    case \"textarea\":\n      return !!b.autoFocus;\n  }\n\n  return !1;\n}\n\nfunction Ke(a, b) {\n  return \"textarea\" === a || \"option\" === a || \"noscript\" === a || \"string\" === typeof b.children || \"number\" === typeof b.children || \"object\" === typeof b.dangerouslySetInnerHTML && null !== b.dangerouslySetInnerHTML && null != b.dangerouslySetInnerHTML.__html;\n}\n\nvar Le = \"function\" === typeof setTimeout ? setTimeout : void 0,\n    Me = \"function\" === typeof clearTimeout ? clearTimeout : void 0;\n\nfunction Ne(a) {\n  for (; null != a; a = a.nextSibling) {\n    var b = a.nodeType;\n    if (1 === b || 3 === b) break;\n  }\n\n  return a;\n}\n\nnew Set();\nvar Oe = [],\n    Pe = -1;\n\nfunction H(a) {\n  0 > Pe || (a.current = Oe[Pe], Oe[Pe] = null, Pe--);\n}\n\nfunction J(a, b) {\n  Pe++;\n  Oe[Pe] = a.current;\n  a.current = b;\n}\n\nvar Qe = {},\n    L = {\n  current: Qe\n},\n    M = {\n  current: !1\n},\n    Re = Qe;\n\nfunction Se(a, b) {\n  var c = a.type.contextTypes;\n  if (!c) return Qe;\n  var d = a.stateNode;\n  if (d && d.__reactInternalMemoizedUnmaskedChildContext === b) return d.__reactInternalMemoizedMaskedChildContext;\n  var e = {},\n      f;\n\n  for (f in c) {\n    e[f] = b[f];\n  }\n\n  d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = b, a.__reactInternalMemoizedMaskedChildContext = e);\n  return e;\n}\n\nfunction N(a) {\n  a = a.childContextTypes;\n  return null !== a && void 0 !== a;\n}\n\nfunction Te(a) {\n  H(M, a);\n  H(L, a);\n}\n\nfunction Ue(a) {\n  H(M, a);\n  H(L, a);\n}\n\nfunction Ve(a, b, c) {\n  if (L.current !== Qe) throw t(Error(168));\n  J(L, b, a);\n  J(M, c, a);\n}\n\nfunction We(a, b, c) {\n  var d = a.stateNode;\n  a = b.childContextTypes;\n  if (\"function\" !== typeof d.getChildContext) return c;\n  d = d.getChildContext();\n\n  for (var e in d) {\n    if (!(e in a)) throw t(Error(108), oc(b) || \"Unknown\", e);\n  }\n\n  return m({}, c, d);\n}\n\nfunction Xe(a) {\n  var b = a.stateNode;\n  b = b && b.__reactInternalMemoizedMergedChildContext || Qe;\n  Re = L.current;\n  J(L, b, a);\n  J(M, M.current, a);\n  return !0;\n}\n\nfunction Ye(a, b, c) {\n  var d = a.stateNode;\n  if (!d) throw t(Error(169));\n  c ? (b = We(a, b, Re), d.__reactInternalMemoizedMergedChildContext = b, H(M, a), H(L, a), J(L, b, a)) : H(M, a);\n  J(M, c, a);\n}\n\nvar Ze = q.unstable_runWithPriority,\n    $e = q.unstable_scheduleCallback,\n    af = q.unstable_cancelCallback,\n    bf = q.unstable_shouldYield,\n    cf = q.unstable_requestPaint,\n    df = q.unstable_now,\n    ef = q.unstable_getCurrentPriorityLevel,\n    ff = q.unstable_ImmediatePriority,\n    hf = q.unstable_UserBlockingPriority,\n    jf = q.unstable_NormalPriority,\n    kf = q.unstable_LowPriority,\n    lf = q.unstable_IdlePriority,\n    mf = {},\n    nf = void 0 !== cf ? cf : function () {},\n    of = null,\n    pf = null,\n    qf = !1,\n    rf = df(),\n    sf = 1E4 > rf ? df : function () {\n  return df() - rf;\n};\n\nfunction tf() {\n  switch (ef()) {\n    case ff:\n      return 99;\n\n    case hf:\n      return 98;\n\n    case jf:\n      return 97;\n\n    case kf:\n      return 96;\n\n    case lf:\n      return 95;\n\n    default:\n      throw t(Error(332));\n  }\n}\n\nfunction uf(a) {\n  switch (a) {\n    case 99:\n      return ff;\n\n    case 98:\n      return hf;\n\n    case 97:\n      return jf;\n\n    case 96:\n      return kf;\n\n    case 95:\n      return lf;\n\n    default:\n      throw t(Error(332));\n  }\n}\n\nfunction vf(a, b) {\n  a = uf(a);\n  return Ze(a, b);\n}\n\nfunction wf(a, b, c) {\n  a = uf(a);\n  return $e(a, b, c);\n}\n\nfunction xf(a) {\n  null === of ? (of = [a], pf = $e(ff, yf)) : of.push(a);\n  return mf;\n}\n\nfunction O() {\n  null !== pf && af(pf);\n  yf();\n}\n\nfunction yf() {\n  if (!qf && null !== of) {\n    qf = !0;\n    var a = 0;\n\n    try {\n      var b = of;\n      vf(99, function () {\n        for (; a < b.length; a++) {\n          var c = b[a];\n\n          do {\n            c = c(!0);\n          } while (null !== c);\n        }\n      });\n      of = null;\n    } catch (c) {\n      throw null !== of && (of = of.slice(a + 1)), $e(ff, O), c;\n    } finally {\n      qf = !1;\n    }\n  }\n}\n\nfunction zf(a, b) {\n  if (1073741823 === b) return 99;\n  if (1 === b) return 95;\n  a = 10 * (1073741821 - b) - 10 * (1073741821 - a);\n  return 0 >= a ? 99 : 250 >= a ? 98 : 5250 >= a ? 97 : 95;\n}\n\nfunction Af(a, b) {\n  if (a && a.defaultProps) {\n    b = m({}, b);\n    a = a.defaultProps;\n\n    for (var c in a) {\n      void 0 === b[c] && (b[c] = a[c]);\n    }\n  }\n\n  return b;\n}\n\nfunction Bf(a) {\n  var b = a._result;\n\n  switch (a._status) {\n    case 1:\n      return b;\n\n    case 2:\n      throw b;\n\n    case 0:\n      throw b;\n\n    default:\n      a._status = 0;\n      b = a._ctor;\n      b = b();\n      b.then(function (b) {\n        0 === a._status && (b = b.default, a._status = 1, a._result = b);\n      }, function (b) {\n        0 === a._status && (a._status = 2, a._result = b);\n      });\n\n      switch (a._status) {\n        case 1:\n          return a._result;\n\n        case 2:\n          throw a._result;\n      }\n\n      a._result = b;\n      throw b;\n  }\n}\n\nvar Cf = {\n  current: null\n},\n    Df = null,\n    Ef = null,\n    Ff = null;\n\nfunction Gf() {\n  Ff = Ef = Df = null;\n}\n\nfunction Hf(a, b) {\n  var c = a.type._context;\n  J(Cf, c._currentValue, a);\n  c._currentValue = b;\n}\n\nfunction If(a) {\n  var b = Cf.current;\n  H(Cf, a);\n  a.type._context._currentValue = b;\n}\n\nfunction Jf(a, b) {\n  for (; null !== a;) {\n    var c = a.alternate;\n    if (a.childExpirationTime < b) a.childExpirationTime = b, null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);else if (null !== c && c.childExpirationTime < b) c.childExpirationTime = b;else break;\n    a = a.return;\n  }\n}\n\nfunction Kf(a, b) {\n  Df = a;\n  Ff = Ef = null;\n  a = a.dependencies;\n  null !== a && null !== a.firstContext && (a.expirationTime >= b && (Lf = !0), a.firstContext = null);\n}\n\nfunction Mf(a, b) {\n  if (Ff !== a && !1 !== b && 0 !== b) {\n    if (\"number\" !== typeof b || 1073741823 === b) Ff = a, b = 1073741823;\n    b = {\n      context: a,\n      observedBits: b,\n      next: null\n    };\n\n    if (null === Ef) {\n      if (null === Df) throw t(Error(308));\n      Ef = b;\n      Df.dependencies = {\n        expirationTime: 0,\n        firstContext: b,\n        responders: null\n      };\n    } else Ef = Ef.next = b;\n  }\n\n  return a._currentValue;\n}\n\nvar Nf = !1;\n\nfunction Of(a) {\n  return {\n    baseState: a,\n    firstUpdate: null,\n    lastUpdate: null,\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n    firstEffect: null,\n    lastEffect: null,\n    firstCapturedEffect: null,\n    lastCapturedEffect: null\n  };\n}\n\nfunction Pf(a) {\n  return {\n    baseState: a.baseState,\n    firstUpdate: a.firstUpdate,\n    lastUpdate: a.lastUpdate,\n    firstCapturedUpdate: null,\n    lastCapturedUpdate: null,\n    firstEffect: null,\n    lastEffect: null,\n    firstCapturedEffect: null,\n    lastCapturedEffect: null\n  };\n}\n\nfunction Qf(a, b) {\n  return {\n    expirationTime: a,\n    suspenseConfig: b,\n    tag: 0,\n    payload: null,\n    callback: null,\n    next: null,\n    nextEffect: null\n  };\n}\n\nfunction Rf(a, b) {\n  null === a.lastUpdate ? a.firstUpdate = a.lastUpdate = b : (a.lastUpdate.next = b, a.lastUpdate = b);\n}\n\nfunction Sf(a, b) {\n  var c = a.alternate;\n\n  if (null === c) {\n    var d = a.updateQueue;\n    var e = null;\n    null === d && (d = a.updateQueue = Of(a.memoizedState));\n  } else d = a.updateQueue, e = c.updateQueue, null === d ? null === e ? (d = a.updateQueue = Of(a.memoizedState), e = c.updateQueue = Of(c.memoizedState)) : d = a.updateQueue = Pf(e) : null === e && (e = c.updateQueue = Pf(d));\n\n  null === e || d === e ? Rf(d, b) : null === d.lastUpdate || null === e.lastUpdate ? (Rf(d, b), Rf(e, b)) : (Rf(d, b), e.lastUpdate = b);\n}\n\nfunction Tf(a, b) {\n  var c = a.updateQueue;\n  c = null === c ? a.updateQueue = Of(a.memoizedState) : Uf(a, c);\n  null === c.lastCapturedUpdate ? c.firstCapturedUpdate = c.lastCapturedUpdate = b : (c.lastCapturedUpdate.next = b, c.lastCapturedUpdate = b);\n}\n\nfunction Uf(a, b) {\n  var c = a.alternate;\n  null !== c && b === c.updateQueue && (b = a.updateQueue = Pf(b));\n  return b;\n}\n\nfunction Vf(a, b, c, d, e, f) {\n  switch (c.tag) {\n    case 1:\n      return a = c.payload, \"function\" === typeof a ? a.call(f, d, e) : a;\n\n    case 3:\n      a.effectTag = a.effectTag & -2049 | 64;\n\n    case 0:\n      a = c.payload;\n      e = \"function\" === typeof a ? a.call(f, d, e) : a;\n      if (null === e || void 0 === e) break;\n      return m({}, d, e);\n\n    case 2:\n      Nf = !0;\n  }\n\n  return d;\n}\n\nfunction Wf(a, b, c, d, e) {\n  Nf = !1;\n  b = Uf(a, b);\n\n  for (var f = b.baseState, h = null, g = 0, k = b.firstUpdate, l = f; null !== k;) {\n    var n = k.expirationTime;\n    n < e ? (null === h && (h = k, f = l), g < n && (g = n)) : (Xf(n, k.suspenseConfig), l = Vf(a, b, k, l, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastEffect ? b.firstEffect = b.lastEffect = k : (b.lastEffect.nextEffect = k, b.lastEffect = k)));\n    k = k.next;\n  }\n\n  n = null;\n\n  for (k = b.firstCapturedUpdate; null !== k;) {\n    var z = k.expirationTime;\n    z < e ? (null === n && (n = k, null === h && (f = l)), g < z && (g = z)) : (l = Vf(a, b, k, l, c, d), null !== k.callback && (a.effectTag |= 32, k.nextEffect = null, null === b.lastCapturedEffect ? b.firstCapturedEffect = b.lastCapturedEffect = k : (b.lastCapturedEffect.nextEffect = k, b.lastCapturedEffect = k)));\n    k = k.next;\n  }\n\n  null === h && (b.lastUpdate = null);\n  null === n ? b.lastCapturedUpdate = null : a.effectTag |= 32;\n  null === h && null === n && (f = l);\n  b.baseState = f;\n  b.firstUpdate = h;\n  b.firstCapturedUpdate = n;\n  a.expirationTime = g;\n  a.memoizedState = l;\n}\n\nfunction Yf(a, b, c) {\n  null !== b.firstCapturedUpdate && (null !== b.lastUpdate && (b.lastUpdate.next = b.firstCapturedUpdate, b.lastUpdate = b.lastCapturedUpdate), b.firstCapturedUpdate = b.lastCapturedUpdate = null);\n  Zf(b.firstEffect, c);\n  b.firstEffect = b.lastEffect = null;\n  Zf(b.firstCapturedEffect, c);\n  b.firstCapturedEffect = b.lastCapturedEffect = null;\n}\n\nfunction Zf(a, b) {\n  for (; null !== a;) {\n    var c = a.callback;\n\n    if (null !== c) {\n      a.callback = null;\n      var d = b;\n      if (\"function\" !== typeof c) throw t(Error(191), c);\n      c.call(d);\n    }\n\n    a = a.nextEffect;\n  }\n}\n\nvar $f = Xb.ReactCurrentBatchConfig,\n    ag = new aa.Component().refs;\n\nfunction bg(a, b, c, d) {\n  b = a.memoizedState;\n  c = c(d, b);\n  c = null === c || void 0 === c ? b : m({}, b, c);\n  a.memoizedState = c;\n  d = a.updateQueue;\n  null !== d && 0 === a.expirationTime && (d.baseState = c);\n}\n\nvar fg = {\n  isMounted: function isMounted(a) {\n    return (a = a._reactInternalFiber) ? 2 === ld(a) : !1;\n  },\n  enqueueSetState: function enqueueSetState(a, b, c) {\n    a = a._reactInternalFiber;\n    var d = cg(),\n        e = $f.suspense;\n    d = dg(d, a, e);\n    e = Qf(d, e);\n    e.payload = b;\n    void 0 !== c && null !== c && (e.callback = c);\n    Sf(a, e);\n    eg(a, d);\n  },\n  enqueueReplaceState: function enqueueReplaceState(a, b, c) {\n    a = a._reactInternalFiber;\n    var d = cg(),\n        e = $f.suspense;\n    d = dg(d, a, e);\n    e = Qf(d, e);\n    e.tag = 1;\n    e.payload = b;\n    void 0 !== c && null !== c && (e.callback = c);\n    Sf(a, e);\n    eg(a, d);\n  },\n  enqueueForceUpdate: function enqueueForceUpdate(a, b) {\n    a = a._reactInternalFiber;\n    var c = cg(),\n        d = $f.suspense;\n    c = dg(c, a, d);\n    d = Qf(c, d);\n    d.tag = 2;\n    void 0 !== b && null !== b && (d.callback = b);\n    Sf(a, d);\n    eg(a, c);\n  }\n};\n\nfunction gg(a, b, c, d, e, f, h) {\n  a = a.stateNode;\n  return \"function\" === typeof a.shouldComponentUpdate ? a.shouldComponentUpdate(d, f, h) : b.prototype && b.prototype.isPureReactComponent ? !jd(c, d) || !jd(e, f) : !0;\n}\n\nfunction hg(a, b, c) {\n  var d = !1,\n      e = Qe;\n  var f = b.contextType;\n  \"object\" === typeof f && null !== f ? f = Mf(f) : (e = N(b) ? Re : L.current, d = b.contextTypes, f = (d = null !== d && void 0 !== d) ? Se(a, e) : Qe);\n  b = new b(c, f);\n  a.memoizedState = null !== b.state && void 0 !== b.state ? b.state : null;\n  b.updater = fg;\n  a.stateNode = b;\n  b._reactInternalFiber = a;\n  d && (a = a.stateNode, a.__reactInternalMemoizedUnmaskedChildContext = e, a.__reactInternalMemoizedMaskedChildContext = f);\n  return b;\n}\n\nfunction ig(a, b, c, d) {\n  a = b.state;\n  \"function\" === typeof b.componentWillReceiveProps && b.componentWillReceiveProps(c, d);\n  \"function\" === typeof b.UNSAFE_componentWillReceiveProps && b.UNSAFE_componentWillReceiveProps(c, d);\n  b.state !== a && fg.enqueueReplaceState(b, b.state, null);\n}\n\nfunction jg(a, b, c, d) {\n  var e = a.stateNode;\n  e.props = c;\n  e.state = a.memoizedState;\n  e.refs = ag;\n  var f = b.contextType;\n  \"object\" === typeof f && null !== f ? e.context = Mf(f) : (f = N(b) ? Re : L.current, e.context = Se(a, f));\n  f = a.updateQueue;\n  null !== f && (Wf(a, f, c, e, d), e.state = a.memoizedState);\n  f = b.getDerivedStateFromProps;\n  \"function\" === typeof f && (bg(a, b, f, c), e.state = a.memoizedState);\n  \"function\" === typeof b.getDerivedStateFromProps || \"function\" === typeof e.getSnapshotBeforeUpdate || \"function\" !== typeof e.UNSAFE_componentWillMount && \"function\" !== typeof e.componentWillMount || (b = e.state, \"function\" === typeof e.componentWillMount && e.componentWillMount(), \"function\" === typeof e.UNSAFE_componentWillMount && e.UNSAFE_componentWillMount(), b !== e.state && fg.enqueueReplaceState(e, e.state, null), f = a.updateQueue, null !== f && (Wf(a, f, c, e, d), e.state = a.memoizedState));\n  \"function\" === typeof e.componentDidMount && (a.effectTag |= 4);\n}\n\nvar kg = Array.isArray;\n\nfunction lg(a, b, c) {\n  a = c.ref;\n\n  if (null !== a && \"function\" !== typeof a && \"object\" !== typeof a) {\n    if (c._owner) {\n      c = c._owner;\n      var d = void 0;\n\n      if (c) {\n        if (1 !== c.tag) throw t(Error(309));\n        d = c.stateNode;\n      }\n\n      if (!d) throw t(Error(147), a);\n      var e = \"\" + a;\n      if (null !== b && null !== b.ref && \"function\" === typeof b.ref && b.ref._stringRef === e) return b.ref;\n\n      b = function b(a) {\n        var b = d.refs;\n        b === ag && (b = d.refs = {});\n        null === a ? delete b[e] : b[e] = a;\n      };\n\n      b._stringRef = e;\n      return b;\n    }\n\n    if (\"string\" !== typeof a) throw t(Error(284));\n    if (!c._owner) throw t(Error(290), a);\n  }\n\n  return a;\n}\n\nfunction mg(a, b) {\n  if (\"textarea\" !== a.type) throw t(Error(31), \"[object Object]\" === Object.prototype.toString.call(b) ? \"object with keys {\" + Object.keys(b).join(\", \") + \"}\" : b, \"\");\n}\n\nfunction ng(a) {\n  function b(b, c) {\n    if (a) {\n      var d = b.lastEffect;\n      null !== d ? (d.nextEffect = c, b.lastEffect = c) : b.firstEffect = b.lastEffect = c;\n      c.nextEffect = null;\n      c.effectTag = 8;\n    }\n  }\n\n  function c(c, d) {\n    if (!a) return null;\n\n    for (; null !== d;) {\n      b(c, d), d = d.sibling;\n    }\n\n    return null;\n  }\n\n  function d(a, b) {\n    for (a = new Map(); null !== b;) {\n      null !== b.key ? a.set(b.key, b) : a.set(b.index, b), b = b.sibling;\n    }\n\n    return a;\n  }\n\n  function e(a, b, c) {\n    a = og(a, b, c);\n    a.index = 0;\n    a.sibling = null;\n    return a;\n  }\n\n  function f(b, c, d) {\n    b.index = d;\n    if (!a) return c;\n    d = b.alternate;\n    if (null !== d) return d = d.index, d < c ? (b.effectTag = 2, c) : d;\n    b.effectTag = 2;\n    return c;\n  }\n\n  function h(b) {\n    a && null === b.alternate && (b.effectTag = 2);\n    return b;\n  }\n\n  function g(a, b, c, d) {\n    if (null === b || 6 !== b.tag) return b = pg(c, a.mode, d), b.return = a, b;\n    b = e(b, c, d);\n    b.return = a;\n    return b;\n  }\n\n  function k(a, b, c, d) {\n    if (null !== b && b.elementType === c.type) return d = e(b, c.props, d), d.ref = lg(a, b, c), d.return = a, d;\n    d = qg(c.type, c.key, c.props, null, a.mode, d);\n    d.ref = lg(a, b, c);\n    d.return = a;\n    return d;\n  }\n\n  function l(a, b, c, d) {\n    if (null === b || 4 !== b.tag || b.stateNode.containerInfo !== c.containerInfo || b.stateNode.implementation !== c.implementation) return b = rg(c, a.mode, d), b.return = a, b;\n    b = e(b, c.children || [], d);\n    b.return = a;\n    return b;\n  }\n\n  function n(a, b, c, d, f) {\n    if (null === b || 7 !== b.tag) return b = sg(c, a.mode, d, f), b.return = a, b;\n    b = e(b, c, d);\n    b.return = a;\n    return b;\n  }\n\n  function z(a, b, c) {\n    if (\"string\" === typeof b || \"number\" === typeof b) return b = pg(\"\" + b, a.mode, c), b.return = a, b;\n\n    if (\"object\" === typeof b && null !== b) {\n      switch (b.$$typeof) {\n        case Zb:\n          return c = qg(b.type, b.key, b.props, null, a.mode, c), c.ref = lg(a, null, b), c.return = a, c;\n\n        case $b:\n          return b = rg(b, a.mode, c), b.return = a, b;\n      }\n\n      if (kg(b) || mc(b)) return b = sg(b, a.mode, c, null), b.return = a, b;\n      mg(a, b);\n    }\n\n    return null;\n  }\n\n  function x(a, b, c, d) {\n    var e = null !== b ? b.key : null;\n    if (\"string\" === typeof c || \"number\" === typeof c) return null !== e ? null : g(a, b, \"\" + c, d);\n\n    if (\"object\" === typeof c && null !== c) {\n      switch (c.$$typeof) {\n        case Zb:\n          return c.key === e ? c.type === ac ? n(a, b, c.props.children, d, e) : k(a, b, c, d) : null;\n\n        case $b:\n          return c.key === e ? l(a, b, c, d) : null;\n      }\n\n      if (kg(c) || mc(c)) return null !== e ? null : n(a, b, c, d, null);\n      mg(a, c);\n    }\n\n    return null;\n  }\n\n  function v(a, b, c, d, e) {\n    if (\"string\" === typeof d || \"number\" === typeof d) return a = a.get(c) || null, g(b, a, \"\" + d, e);\n\n    if (\"object\" === typeof d && null !== d) {\n      switch (d.$$typeof) {\n        case Zb:\n          return a = a.get(null === d.key ? c : d.key) || null, d.type === ac ? n(b, a, d.props.children, e, d.key) : k(b, a, d, e);\n\n        case $b:\n          return a = a.get(null === d.key ? c : d.key) || null, l(b, a, d, e);\n      }\n\n      if (kg(d) || mc(d)) return a = a.get(c) || null, n(b, a, d, e, null);\n      mg(b, d);\n    }\n\n    return null;\n  }\n\n  function rb(e, h, g, k) {\n    for (var l = null, u = null, n = h, w = h = 0, C = null; null !== n && w < g.length; w++) {\n      n.index > w ? (C = n, n = null) : C = n.sibling;\n      var p = x(e, n, g[w], k);\n\n      if (null === p) {\n        null === n && (n = C);\n        break;\n      }\n\n      a && n && null === p.alternate && b(e, n);\n      h = f(p, h, w);\n      null === u ? l = p : u.sibling = p;\n      u = p;\n      n = C;\n    }\n\n    if (w === g.length) return c(e, n), l;\n\n    if (null === n) {\n      for (; w < g.length; w++) {\n        n = z(e, g[w], k), null !== n && (h = f(n, h, w), null === u ? l = n : u.sibling = n, u = n);\n      }\n\n      return l;\n    }\n\n    for (n = d(e, n); w < g.length; w++) {\n      C = v(n, e, w, g[w], k), null !== C && (a && null !== C.alternate && n.delete(null === C.key ? w : C.key), h = f(C, h, w), null === u ? l = C : u.sibling = C, u = C);\n    }\n\n    a && n.forEach(function (a) {\n      return b(e, a);\n    });\n    return l;\n  }\n\n  function Be(e, h, g, k) {\n    var l = mc(g);\n    if (\"function\" !== typeof l) throw t(Error(150));\n    g = l.call(g);\n    if (null == g) throw t(Error(151));\n\n    for (var n = l = null, u = h, w = h = 0, C = null, p = g.next(); null !== u && !p.done; w++, p = g.next()) {\n      u.index > w ? (C = u, u = null) : C = u.sibling;\n      var r = x(e, u, p.value, k);\n\n      if (null === r) {\n        null === u && (u = C);\n        break;\n      }\n\n      a && u && null === r.alternate && b(e, u);\n      h = f(r, h, w);\n      null === n ? l = r : n.sibling = r;\n      n = r;\n      u = C;\n    }\n\n    if (p.done) return c(e, u), l;\n\n    if (null === u) {\n      for (; !p.done; w++, p = g.next()) {\n        p = z(e, p.value, k), null !== p && (h = f(p, h, w), null === n ? l = p : n.sibling = p, n = p);\n      }\n\n      return l;\n    }\n\n    for (u = d(e, u); !p.done; w++, p = g.next()) {\n      p = v(u, e, w, p.value, k), null !== p && (a && null !== p.alternate && u.delete(null === p.key ? w : p.key), h = f(p, h, w), null === n ? l = p : n.sibling = p, n = p);\n    }\n\n    a && u.forEach(function (a) {\n      return b(e, a);\n    });\n    return l;\n  }\n\n  return function (a, d, f, g) {\n    var k = \"object\" === typeof f && null !== f && f.type === ac && null === f.key;\n    k && (f = f.props.children);\n    var l = \"object\" === typeof f && null !== f;\n    if (l) switch (f.$$typeof) {\n      case Zb:\n        a: {\n          l = f.key;\n\n          for (k = d; null !== k;) {\n            if (k.key === l) {\n              if (7 === k.tag ? f.type === ac : k.elementType === f.type) {\n                c(a, k.sibling);\n                d = e(k, f.type === ac ? f.props.children : f.props, g);\n                d.ref = lg(a, k, f);\n                d.return = a;\n                a = d;\n                break a;\n              }\n\n              c(a, k);\n              break;\n            } else b(a, k);\n\n            k = k.sibling;\n          }\n\n          f.type === ac ? (d = sg(f.props.children, a.mode, g, f.key), d.return = a, a = d) : (g = qg(f.type, f.key, f.props, null, a.mode, g), g.ref = lg(a, d, f), g.return = a, a = g);\n        }\n\n        return h(a);\n\n      case $b:\n        a: {\n          for (k = f.key; null !== d;) {\n            if (d.key === k) {\n              if (4 === d.tag && d.stateNode.containerInfo === f.containerInfo && d.stateNode.implementation === f.implementation) {\n                c(a, d.sibling);\n                d = e(d, f.children || [], g);\n                d.return = a;\n                a = d;\n                break a;\n              }\n\n              c(a, d);\n              break;\n            } else b(a, d);\n\n            d = d.sibling;\n          }\n\n          d = rg(f, a.mode, g);\n          d.return = a;\n          a = d;\n        }\n\n        return h(a);\n    }\n    if (\"string\" === typeof f || \"number\" === typeof f) return f = \"\" + f, null !== d && 6 === d.tag ? (c(a, d.sibling), d = e(d, f, g), d.return = a, a = d) : (c(a, d), d = pg(f, a.mode, g), d.return = a, a = d), h(a);\n    if (kg(f)) return rb(a, d, f, g);\n    if (mc(f)) return Be(a, d, f, g);\n    l && mg(a, f);\n    if (\"undefined\" === typeof f && !k) switch (a.tag) {\n      case 1:\n      case 0:\n        throw a = a.type, t(Error(152), a.displayName || a.name || \"Component\");\n    }\n    return c(a, d);\n  };\n}\n\nvar tg = ng(!0),\n    ug = ng(!1),\n    vg = {},\n    wg = {\n  current: vg\n},\n    xg = {\n  current: vg\n},\n    yg = {\n  current: vg\n};\n\nfunction zg(a) {\n  if (a === vg) throw t(Error(174));\n  return a;\n}\n\nfunction Ag(a, b) {\n  J(yg, b, a);\n  J(xg, a, a);\n  J(wg, vg, a);\n  var c = b.nodeType;\n\n  switch (c) {\n    case 9:\n    case 11:\n      b = (b = b.documentElement) ? b.namespaceURI : te(null, \"\");\n      break;\n\n    default:\n      c = 8 === c ? b.parentNode : b, b = c.namespaceURI || null, c = c.tagName, b = te(b, c);\n  }\n\n  H(wg, a);\n  J(wg, b, a);\n}\n\nfunction Bg(a) {\n  H(wg, a);\n  H(xg, a);\n  H(yg, a);\n}\n\nfunction Cg(a) {\n  zg(yg.current);\n  var b = zg(wg.current);\n  var c = te(b, a.type);\n  b !== c && (J(xg, a, a), J(wg, c, a));\n}\n\nfunction Dg(a) {\n  xg.current === a && (H(wg, a), H(xg, a));\n}\n\nvar Eg = 1,\n    Fg = 1,\n    Gg = 2,\n    P = {\n  current: 0\n};\n\nfunction Hg(a) {\n  for (var b = a; null !== b;) {\n    if (13 === b.tag) {\n      if (null !== b.memoizedState) return b;\n    } else if (19 === b.tag && void 0 !== b.memoizedProps.revealOrder) {\n      if (0 !== (b.effectTag & 64)) return b;\n    } else if (null !== b.child) {\n      b.child.return = b;\n      b = b.child;\n      continue;\n    }\n\n    if (b === a) break;\n\n    for (; null === b.sibling;) {\n      if (null === b.return || b.return === a) return null;\n      b = b.return;\n    }\n\n    b.sibling.return = b.return;\n    b = b.sibling;\n  }\n\n  return null;\n}\n\nvar Ig = 0,\n    Jg = 2,\n    Kg = 4,\n    Lg = 8,\n    Mg = 16,\n    Ng = 32,\n    Og = 64,\n    Pg = 128,\n    Qg = Xb.ReactCurrentDispatcher,\n    Rg = 0,\n    Sg = null,\n    Q = null,\n    Tg = null,\n    Ug = null,\n    R = null,\n    Vg = null,\n    Wg = 0,\n    Xg = null,\n    Yg = 0,\n    Zg = !1,\n    $g = null,\n    ah = 0;\n\nfunction bh() {\n  throw t(Error(321));\n}\n\nfunction ch(a, b) {\n  if (null === b) return !1;\n\n  for (var c = 0; c < b.length && c < a.length; c++) {\n    if (!hd(a[c], b[c])) return !1;\n  }\n\n  return !0;\n}\n\nfunction dh(a, b, c, d, e, f) {\n  Rg = f;\n  Sg = b;\n  Tg = null !== a ? a.memoizedState : null;\n  Qg.current = null === Tg ? eh : fh;\n  b = c(d, e);\n\n  if (Zg) {\n    do {\n      Zg = !1, ah += 1, Tg = null !== a ? a.memoizedState : null, Vg = Ug, Xg = R = Q = null, Qg.current = fh, b = c(d, e);\n    } while (Zg);\n\n    $g = null;\n    ah = 0;\n  }\n\n  Qg.current = hh;\n  a = Sg;\n  a.memoizedState = Ug;\n  a.expirationTime = Wg;\n  a.updateQueue = Xg;\n  a.effectTag |= Yg;\n  a = null !== Q && null !== Q.next;\n  Rg = 0;\n  Vg = R = Ug = Tg = Q = Sg = null;\n  Wg = 0;\n  Xg = null;\n  Yg = 0;\n  if (a) throw t(Error(300));\n  return b;\n}\n\nfunction ih() {\n  Qg.current = hh;\n  Rg = 0;\n  Vg = R = Ug = Tg = Q = Sg = null;\n  Wg = 0;\n  Xg = null;\n  Yg = 0;\n  Zg = !1;\n  $g = null;\n  ah = 0;\n}\n\nfunction jh() {\n  var a = {\n    memoizedState: null,\n    baseState: null,\n    queue: null,\n    baseUpdate: null,\n    next: null\n  };\n  null === R ? Ug = R = a : R = R.next = a;\n  return R;\n}\n\nfunction kh() {\n  if (null !== Vg) R = Vg, Vg = R.next, Q = Tg, Tg = null !== Q ? Q.next : null;else {\n    if (null === Tg) throw t(Error(310));\n    Q = Tg;\n    var a = {\n      memoizedState: Q.memoizedState,\n      baseState: Q.baseState,\n      queue: Q.queue,\n      baseUpdate: Q.baseUpdate,\n      next: null\n    };\n    R = null === R ? Ug = a : R.next = a;\n    Tg = Q.next;\n  }\n  return R;\n}\n\nfunction lh(a, b) {\n  return \"function\" === typeof b ? b(a) : b;\n}\n\nfunction mh(a) {\n  var b = kh(),\n      c = b.queue;\n  if (null === c) throw t(Error(311));\n  c.lastRenderedReducer = a;\n\n  if (0 < ah) {\n    var d = c.dispatch;\n\n    if (null !== $g) {\n      var e = $g.get(c);\n\n      if (void 0 !== e) {\n        $g.delete(c);\n        var f = b.memoizedState;\n\n        do {\n          f = a(f, e.action), e = e.next;\n        } while (null !== e);\n\n        hd(f, b.memoizedState) || (Lf = !0);\n        b.memoizedState = f;\n        b.baseUpdate === c.last && (b.baseState = f);\n        c.lastRenderedState = f;\n        return [f, d];\n      }\n    }\n\n    return [b.memoizedState, d];\n  }\n\n  d = c.last;\n  var h = b.baseUpdate;\n  f = b.baseState;\n  null !== h ? (null !== d && (d.next = null), d = h.next) : d = null !== d ? d.next : null;\n\n  if (null !== d) {\n    var g = e = null,\n        k = d,\n        l = !1;\n\n    do {\n      var n = k.expirationTime;\n      n < Rg ? (l || (l = !0, g = h, e = f), n > Wg && (Wg = n)) : (Xf(n, k.suspenseConfig), f = k.eagerReducer === a ? k.eagerState : a(f, k.action));\n      h = k;\n      k = k.next;\n    } while (null !== k && k !== d);\n\n    l || (g = h, e = f);\n    hd(f, b.memoizedState) || (Lf = !0);\n    b.memoizedState = f;\n    b.baseUpdate = g;\n    b.baseState = e;\n    c.lastRenderedState = f;\n  }\n\n  return [b.memoizedState, c.dispatch];\n}\n\nfunction nh(a, b, c, d) {\n  a = {\n    tag: a,\n    create: b,\n    destroy: c,\n    deps: d,\n    next: null\n  };\n  null === Xg ? (Xg = {\n    lastEffect: null\n  }, Xg.lastEffect = a.next = a) : (b = Xg.lastEffect, null === b ? Xg.lastEffect = a.next = a : (c = b.next, b.next = a, a.next = c, Xg.lastEffect = a));\n  return a;\n}\n\nfunction oh(a, b, c, d) {\n  var e = jh();\n  Yg |= a;\n  e.memoizedState = nh(b, c, void 0, void 0 === d ? null : d);\n}\n\nfunction ph(a, b, c, d) {\n  var e = kh();\n  d = void 0 === d ? null : d;\n  var f = void 0;\n\n  if (null !== Q) {\n    var h = Q.memoizedState;\n    f = h.destroy;\n\n    if (null !== d && ch(d, h.deps)) {\n      nh(Ig, c, f, d);\n      return;\n    }\n  }\n\n  Yg |= a;\n  e.memoizedState = nh(b, c, f, d);\n}\n\nfunction qh(a, b) {\n  if (\"function\" === typeof b) return a = a(), b(a), function () {\n    b(null);\n  };\n  if (null !== b && void 0 !== b) return a = a(), b.current = a, function () {\n    b.current = null;\n  };\n}\n\nfunction rh() {}\n\nfunction sh(a, b, c) {\n  if (!(25 > ah)) throw t(Error(301));\n  var d = a.alternate;\n  if (a === Sg || null !== d && d === Sg) {\n    if (Zg = !0, a = {\n      expirationTime: Rg,\n      suspenseConfig: null,\n      action: c,\n      eagerReducer: null,\n      eagerState: null,\n      next: null\n    }, null === $g && ($g = new Map()), c = $g.get(b), void 0 === c) $g.set(b, a);else {\n      for (b = c; null !== b.next;) {\n        b = b.next;\n      }\n\n      b.next = a;\n    }\n  } else {\n    var e = cg(),\n        f = $f.suspense;\n    e = dg(e, a, f);\n    f = {\n      expirationTime: e,\n      suspenseConfig: f,\n      action: c,\n      eagerReducer: null,\n      eagerState: null,\n      next: null\n    };\n    var h = b.last;\n    if (null === h) f.next = f;else {\n      var g = h.next;\n      null !== g && (f.next = g);\n      h.next = f;\n    }\n    b.last = f;\n    if (0 === a.expirationTime && (null === d || 0 === d.expirationTime) && (d = b.lastRenderedReducer, null !== d)) try {\n      var k = b.lastRenderedState,\n          l = d(k, c);\n      f.eagerReducer = d;\n      f.eagerState = l;\n      if (hd(l, k)) return;\n    } catch (n) {} finally {}\n    eg(a, e);\n  }\n}\n\nvar hh = {\n  readContext: Mf,\n  useCallback: bh,\n  useContext: bh,\n  useEffect: bh,\n  useImperativeHandle: bh,\n  useLayoutEffect: bh,\n  useMemo: bh,\n  useReducer: bh,\n  useRef: bh,\n  useState: bh,\n  useDebugValue: bh,\n  useResponder: bh\n},\n    eh = {\n  readContext: Mf,\n  useCallback: function useCallback(a, b) {\n    jh().memoizedState = [a, void 0 === b ? null : b];\n    return a;\n  },\n  useContext: Mf,\n  useEffect: function useEffect(a, b) {\n    return oh(516, Pg | Og, a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, c) {\n    c = null !== c && void 0 !== c ? c.concat([a]) : null;\n    return oh(4, Kg | Ng, qh.bind(null, b, a), c);\n  },\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return oh(4, Kg | Ng, a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    var c = jh();\n    b = void 0 === b ? null : b;\n    a = a();\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useReducer: function useReducer(a, b, c) {\n    var d = jh();\n    b = void 0 !== c ? c(b) : b;\n    d.memoizedState = d.baseState = b;\n    a = d.queue = {\n      last: null,\n      dispatch: null,\n      lastRenderedReducer: a,\n      lastRenderedState: b\n    };\n    a = a.dispatch = sh.bind(null, Sg, a);\n    return [d.memoizedState, a];\n  },\n  useRef: function useRef(a) {\n    var b = jh();\n    a = {\n      current: a\n    };\n    return b.memoizedState = a;\n  },\n  useState: function useState(a) {\n    var b = jh();\n    \"function\" === typeof a && (a = a());\n    b.memoizedState = b.baseState = a;\n    a = b.queue = {\n      last: null,\n      dispatch: null,\n      lastRenderedReducer: lh,\n      lastRenderedState: a\n    };\n    a = a.dispatch = sh.bind(null, Sg, a);\n    return [b.memoizedState, a];\n  },\n  useDebugValue: rh,\n  useResponder: kd\n},\n    fh = {\n  readContext: Mf,\n  useCallback: function useCallback(a, b) {\n    var c = kh();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && ch(b, d[1])) return d[0];\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useContext: Mf,\n  useEffect: function useEffect(a, b) {\n    return ph(516, Pg | Og, a, b);\n  },\n  useImperativeHandle: function useImperativeHandle(a, b, c) {\n    c = null !== c && void 0 !== c ? c.concat([a]) : null;\n    return ph(4, Kg | Ng, qh.bind(null, b, a), c);\n  },\n  useLayoutEffect: function useLayoutEffect(a, b) {\n    return ph(4, Kg | Ng, a, b);\n  },\n  useMemo: function useMemo(a, b) {\n    var c = kh();\n    b = void 0 === b ? null : b;\n    var d = c.memoizedState;\n    if (null !== d && null !== b && ch(b, d[1])) return d[0];\n    a = a();\n    c.memoizedState = [a, b];\n    return a;\n  },\n  useReducer: mh,\n  useRef: function useRef() {\n    return kh().memoizedState;\n  },\n  useState: function useState(a) {\n    return mh(lh, a);\n  },\n  useDebugValue: rh,\n  useResponder: kd\n},\n    th = null,\n    uh = null,\n    vh = !1;\n\nfunction wh(a, b) {\n  var c = xh(5, null, null, 0);\n  c.elementType = \"DELETED\";\n  c.type = \"DELETED\";\n  c.stateNode = b;\n  c.return = a;\n  c.effectTag = 8;\n  null !== a.lastEffect ? (a.lastEffect.nextEffect = c, a.lastEffect = c) : a.firstEffect = a.lastEffect = c;\n}\n\nfunction yh(a, b) {\n  switch (a.tag) {\n    case 5:\n      var c = a.type;\n      b = 1 !== b.nodeType || c.toLowerCase() !== b.nodeName.toLowerCase() ? null : b;\n      return null !== b ? (a.stateNode = b, !0) : !1;\n\n    case 6:\n      return b = \"\" === a.pendingProps || 3 !== b.nodeType ? null : b, null !== b ? (a.stateNode = b, !0) : !1;\n\n    case 13:\n      return !1;\n\n    default:\n      return !1;\n  }\n}\n\nfunction zh(a) {\n  if (vh) {\n    var b = uh;\n\n    if (b) {\n      var c = b;\n\n      if (!yh(a, b)) {\n        b = Ne(c.nextSibling);\n\n        if (!b || !yh(a, b)) {\n          a.effectTag |= 2;\n          vh = !1;\n          th = a;\n          return;\n        }\n\n        wh(th, c);\n      }\n\n      th = a;\n      uh = Ne(b.firstChild);\n    } else a.effectTag |= 2, vh = !1, th = a;\n  }\n}\n\nfunction Ah(a) {\n  for (a = a.return; null !== a && 5 !== a.tag && 3 !== a.tag && 18 !== a.tag;) {\n    a = a.return;\n  }\n\n  th = a;\n}\n\nfunction Bh(a) {\n  if (a !== th) return !1;\n  if (!vh) return Ah(a), vh = !0, !1;\n  var b = a.type;\n  if (5 !== a.tag || \"head\" !== b && \"body\" !== b && !Ke(b, a.memoizedProps)) for (b = uh; b;) {\n    wh(a, b), b = Ne(b.nextSibling);\n  }\n  Ah(a);\n  uh = th ? Ne(a.stateNode.nextSibling) : null;\n  return !0;\n}\n\nfunction Ch() {\n  uh = th = null;\n  vh = !1;\n}\n\nvar Dh = Xb.ReactCurrentOwner,\n    Lf = !1;\n\nfunction S(a, b, c, d) {\n  b.child = null === a ? ug(b, null, c, d) : tg(b, a.child, c, d);\n}\n\nfunction Eh(a, b, c, d, e) {\n  c = c.render;\n  var f = b.ref;\n  Kf(b, e);\n  d = dh(a, b, c, d, f, e);\n  if (null !== a && !Lf) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), Fh(a, b, e);\n  b.effectTag |= 1;\n  S(a, b, d, e);\n  return b.child;\n}\n\nfunction Gh(a, b, c, d, e, f) {\n  if (null === a) {\n    var h = c.type;\n    if (\"function\" === typeof h && !Hh(h) && void 0 === h.defaultProps && null === c.compare && void 0 === c.defaultProps) return b.tag = 15, b.type = h, Ih(a, b, h, d, e, f);\n    a = qg(c.type, null, d, null, b.mode, f);\n    a.ref = b.ref;\n    a.return = b;\n    return b.child = a;\n  }\n\n  h = a.child;\n  if (e < f && (e = h.memoizedProps, c = c.compare, c = null !== c ? c : jd, c(e, d) && a.ref === b.ref)) return Fh(a, b, f);\n  b.effectTag |= 1;\n  a = og(h, d, f);\n  a.ref = b.ref;\n  a.return = b;\n  return b.child = a;\n}\n\nfunction Ih(a, b, c, d, e, f) {\n  return null !== a && jd(a.memoizedProps, d) && a.ref === b.ref && (Lf = !1, e < f) ? Fh(a, b, f) : Jh(a, b, c, d, f);\n}\n\nfunction Kh(a, b) {\n  var c = b.ref;\n  if (null === a && null !== c || null !== a && a.ref !== c) b.effectTag |= 128;\n}\n\nfunction Jh(a, b, c, d, e) {\n  var f = N(c) ? Re : L.current;\n  f = Se(b, f);\n  Kf(b, e);\n  c = dh(a, b, c, d, f, e);\n  if (null !== a && !Lf) return b.updateQueue = a.updateQueue, b.effectTag &= -517, a.expirationTime <= e && (a.expirationTime = 0), Fh(a, b, e);\n  b.effectTag |= 1;\n  S(a, b, c, e);\n  return b.child;\n}\n\nfunction Lh(a, b, c, d, e) {\n  if (N(c)) {\n    var f = !0;\n    Xe(b);\n  } else f = !1;\n\n  Kf(b, e);\n  if (null === b.stateNode) null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), hg(b, c, d, e), jg(b, c, d, e), d = !0;else if (null === a) {\n    var h = b.stateNode,\n        g = b.memoizedProps;\n    h.props = g;\n    var k = h.context,\n        l = c.contextType;\n    \"object\" === typeof l && null !== l ? l = Mf(l) : (l = N(c) ? Re : L.current, l = Se(b, l));\n    var n = c.getDerivedStateFromProps,\n        z = \"function\" === typeof n || \"function\" === typeof h.getSnapshotBeforeUpdate;\n    z || \"function\" !== typeof h.UNSAFE_componentWillReceiveProps && \"function\" !== typeof h.componentWillReceiveProps || (g !== d || k !== l) && ig(b, h, d, l);\n    Nf = !1;\n    var x = b.memoizedState;\n    k = h.state = x;\n    var v = b.updateQueue;\n    null !== v && (Wf(b, v, d, h, e), k = b.memoizedState);\n    g !== d || x !== k || M.current || Nf ? (\"function\" === typeof n && (bg(b, c, n, d), k = b.memoizedState), (g = Nf || gg(b, c, g, d, x, k, l)) ? (z || \"function\" !== typeof h.UNSAFE_componentWillMount && \"function\" !== typeof h.componentWillMount || (\"function\" === typeof h.componentWillMount && h.componentWillMount(), \"function\" === typeof h.UNSAFE_componentWillMount && h.UNSAFE_componentWillMount()), \"function\" === typeof h.componentDidMount && (b.effectTag |= 4)) : (\"function\" === typeof h.componentDidMount && (b.effectTag |= 4), b.memoizedProps = d, b.memoizedState = k), h.props = d, h.state = k, h.context = l, d = g) : (\"function\" === typeof h.componentDidMount && (b.effectTag |= 4), d = !1);\n  } else h = b.stateNode, g = b.memoizedProps, h.props = b.type === b.elementType ? g : Af(b.type, g), k = h.context, l = c.contextType, \"object\" === typeof l && null !== l ? l = Mf(l) : (l = N(c) ? Re : L.current, l = Se(b, l)), n = c.getDerivedStateFromProps, (z = \"function\" === typeof n || \"function\" === typeof h.getSnapshotBeforeUpdate) || \"function\" !== typeof h.UNSAFE_componentWillReceiveProps && \"function\" !== typeof h.componentWillReceiveProps || (g !== d || k !== l) && ig(b, h, d, l), Nf = !1, k = b.memoizedState, x = h.state = k, v = b.updateQueue, null !== v && (Wf(b, v, d, h, e), x = b.memoizedState), g !== d || k !== x || M.current || Nf ? (\"function\" === typeof n && (bg(b, c, n, d), x = b.memoizedState), (n = Nf || gg(b, c, g, d, k, x, l)) ? (z || \"function\" !== typeof h.UNSAFE_componentWillUpdate && \"function\" !== typeof h.componentWillUpdate || (\"function\" === typeof h.componentWillUpdate && h.componentWillUpdate(d, x, l), \"function\" === typeof h.UNSAFE_componentWillUpdate && h.UNSAFE_componentWillUpdate(d, x, l)), \"function\" === typeof h.componentDidUpdate && (b.effectTag |= 4), \"function\" === typeof h.getSnapshotBeforeUpdate && (b.effectTag |= 256)) : (\"function\" !== typeof h.componentDidUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof h.getSnapshotBeforeUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), b.memoizedProps = d, b.memoizedState = x), h.props = d, h.state = x, h.context = l, d = n) : (\"function\" !== typeof h.componentDidUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 4), \"function\" !== typeof h.getSnapshotBeforeUpdate || g === a.memoizedProps && k === a.memoizedState || (b.effectTag |= 256), d = !1);\n  return Mh(a, b, c, d, f, e);\n}\n\nfunction Mh(a, b, c, d, e, f) {\n  Kh(a, b);\n  var h = 0 !== (b.effectTag & 64);\n  if (!d && !h) return e && Ye(b, c, !1), Fh(a, b, f);\n  d = b.stateNode;\n  Dh.current = b;\n  var g = h && \"function\" !== typeof c.getDerivedStateFromError ? null : d.render();\n  b.effectTag |= 1;\n  null !== a && h ? (b.child = tg(b, a.child, null, f), b.child = tg(b, null, g, f)) : S(a, b, g, f);\n  b.memoizedState = d.state;\n  e && Ye(b, c, !0);\n  return b.child;\n}\n\nfunction Nh(a) {\n  var b = a.stateNode;\n  b.pendingContext ? Ve(a, b.pendingContext, b.pendingContext !== b.context) : b.context && Ve(a, b.context, !1);\n  Ag(a, b.containerInfo);\n}\n\nvar Oh = {};\n\nfunction Ph(a, b, c) {\n  var d = b.mode,\n      e = b.pendingProps,\n      f = P.current,\n      h = null,\n      g = !1,\n      k;\n  (k = 0 !== (b.effectTag & 64)) || (k = 0 !== (f & Gg) && (null === a || null !== a.memoizedState));\n  k ? (h = Oh, g = !0, b.effectTag &= -65) : null !== a && null === a.memoizedState || void 0 === e.fallback || !0 === e.unstable_avoidThisFallback || (f |= Fg);\n  f &= Eg;\n  J(P, f, b);\n  if (null === a) {\n    if (g) {\n      e = e.fallback;\n      a = sg(null, d, 0, null);\n      a.return = b;\n      if (0 === (b.mode & 2)) for (g = null !== b.memoizedState ? b.child.child : b.child, a.child = g; null !== g;) {\n        g.return = a, g = g.sibling;\n      }\n      c = sg(e, d, c, null);\n      c.return = b;\n      a.sibling = c;\n      d = a;\n    } else d = c = ug(b, null, e.children, c);\n  } else {\n    if (null !== a.memoizedState) {\n      if (f = a.child, d = f.sibling, g) {\n        e = e.fallback;\n        c = og(f, f.pendingProps, 0);\n        c.return = b;\n        if (0 === (b.mode & 2) && (g = null !== b.memoizedState ? b.child.child : b.child, g !== f.child)) for (c.child = g; null !== g;) {\n          g.return = c, g = g.sibling;\n        }\n        e = og(d, e, d.expirationTime);\n        e.return = b;\n        c.sibling = e;\n        d = c;\n        c.childExpirationTime = 0;\n        c = e;\n      } else d = c = tg(b, f.child, e.children, c);\n    } else if (f = a.child, g) {\n      g = e.fallback;\n      e = sg(null, d, 0, null);\n      e.return = b;\n      e.child = f;\n      null !== f && (f.return = e);\n      if (0 === (b.mode & 2)) for (f = null !== b.memoizedState ? b.child.child : b.child, e.child = f; null !== f;) {\n        f.return = e, f = f.sibling;\n      }\n      c = sg(g, d, c, null);\n      c.return = b;\n      e.sibling = c;\n      c.effectTag |= 2;\n      d = e;\n      e.childExpirationTime = 0;\n    } else c = d = tg(b, f, e.children, c);\n    b.stateNode = a.stateNode;\n  }\n  b.memoizedState = h;\n  b.child = d;\n  return c;\n}\n\nfunction Qh(a, b, c, d, e) {\n  var f = a.memoizedState;\n  null === f ? a.memoizedState = {\n    isBackwards: b,\n    rendering: null,\n    last: d,\n    tail: c,\n    tailExpiration: 0,\n    tailMode: e\n  } : (f.isBackwards = b, f.rendering = null, f.last = d, f.tail = c, f.tailExpiration = 0, f.tailMode = e);\n}\n\nfunction Rh(a, b, c) {\n  var d = b.pendingProps,\n      e = d.revealOrder,\n      f = d.tail;\n  S(a, b, d.children, c);\n  d = P.current;\n  if (0 !== (d & Gg)) d = d & Eg | Gg, b.effectTag |= 64;else {\n    if (null !== a && 0 !== (a.effectTag & 64)) a: for (a = b.child; null !== a;) {\n      if (13 === a.tag) {\n        if (null !== a.memoizedState) {\n          a.expirationTime < c && (a.expirationTime = c);\n          var h = a.alternate;\n          null !== h && h.expirationTime < c && (h.expirationTime = c);\n          Jf(a.return, c);\n        }\n      } else if (null !== a.child) {\n        a.child.return = a;\n        a = a.child;\n        continue;\n      }\n\n      if (a === b) break a;\n\n      for (; null === a.sibling;) {\n        if (null === a.return || a.return === b) break a;\n        a = a.return;\n      }\n\n      a.sibling.return = a.return;\n      a = a.sibling;\n    }\n    d &= Eg;\n  }\n  J(P, d, b);\n  if (0 === (b.mode & 2)) b.memoizedState = null;else switch (e) {\n    case \"forwards\":\n      c = b.child;\n\n      for (e = null; null !== c;) {\n        d = c.alternate, null !== d && null === Hg(d) && (e = c), c = c.sibling;\n      }\n\n      c = e;\n      null === c ? (e = b.child, b.child = null) : (e = c.sibling, c.sibling = null);\n      Qh(b, !1, e, c, f);\n      break;\n\n    case \"backwards\":\n      c = null;\n      e = b.child;\n\n      for (b.child = null; null !== e;) {\n        d = e.alternate;\n\n        if (null !== d && null === Hg(d)) {\n          b.child = e;\n          break;\n        }\n\n        d = e.sibling;\n        e.sibling = c;\n        c = e;\n        e = d;\n      }\n\n      Qh(b, !0, c, null, f);\n      break;\n\n    case \"together\":\n      Qh(b, !1, null, null, void 0);\n      break;\n\n    default:\n      b.memoizedState = null;\n  }\n  return b.child;\n}\n\nfunction Fh(a, b, c) {\n  null !== a && (b.dependencies = a.dependencies);\n  if (b.childExpirationTime < c) return null;\n  if (null !== a && b.child !== a.child) throw t(Error(153));\n\n  if (null !== b.child) {\n    a = b.child;\n    c = og(a, a.pendingProps, a.expirationTime);\n    b.child = c;\n\n    for (c.return = b; null !== a.sibling;) {\n      a = a.sibling, c = c.sibling = og(a, a.pendingProps, a.expirationTime), c.return = b;\n    }\n\n    c.sibling = null;\n  }\n\n  return b.child;\n}\n\nfunction Sh(a) {\n  a.effectTag |= 4;\n}\n\nvar Th = void 0,\n    Uh = void 0,\n    Vh = void 0,\n    Wh = void 0;\n\nTh = function Th(a, b) {\n  for (var c = b.child; null !== c;) {\n    if (5 === c.tag || 6 === c.tag) a.appendChild(c.stateNode);else if (20 === c.tag) a.appendChild(c.stateNode.instance);else if (4 !== c.tag && null !== c.child) {\n      c.child.return = c;\n      c = c.child;\n      continue;\n    }\n    if (c === b) break;\n\n    for (; null === c.sibling;) {\n      if (null === c.return || c.return === b) return;\n      c = c.return;\n    }\n\n    c.sibling.return = c.return;\n    c = c.sibling;\n  }\n};\n\nUh = function Uh() {};\n\nVh = function Vh(a, b, c, d, e) {\n  var f = a.memoizedProps;\n\n  if (f !== d) {\n    var h = b.stateNode;\n    zg(wg.current);\n    a = null;\n\n    switch (c) {\n      case \"input\":\n        f = Bc(h, f);\n        d = Bc(h, d);\n        a = [];\n        break;\n\n      case \"option\":\n        f = le(h, f);\n        d = le(h, d);\n        a = [];\n        break;\n\n      case \"select\":\n        f = m({}, f, {\n          value: void 0\n        });\n        d = m({}, d, {\n          value: void 0\n        });\n        a = [];\n        break;\n\n      case \"textarea\":\n        f = ne(h, f);\n        d = ne(h, d);\n        a = [];\n        break;\n\n      default:\n        \"function\" !== typeof f.onClick && \"function\" === typeof d.onClick && (h.onclick = Ge);\n    }\n\n    De(c, d);\n    h = c = void 0;\n    var g = null;\n\n    for (c in f) {\n      if (!d.hasOwnProperty(c) && f.hasOwnProperty(c) && null != f[c]) if (\"style\" === c) {\n        var k = f[c];\n\n        for (h in k) {\n          k.hasOwnProperty(h) && (g || (g = {}), g[h] = \"\");\n        }\n      } else \"dangerouslySetInnerHTML\" !== c && \"children\" !== c && \"suppressContentEditableWarning\" !== c && \"suppressHydrationWarning\" !== c && \"autoFocus\" !== c && (ia.hasOwnProperty(c) ? a || (a = []) : (a = a || []).push(c, null));\n    }\n\n    for (c in d) {\n      var l = d[c];\n      k = null != f ? f[c] : void 0;\n      if (d.hasOwnProperty(c) && l !== k && (null != l || null != k)) if (\"style\" === c) {\n        if (k) {\n          for (h in k) {\n            !k.hasOwnProperty(h) || l && l.hasOwnProperty(h) || (g || (g = {}), g[h] = \"\");\n          }\n\n          for (h in l) {\n            l.hasOwnProperty(h) && k[h] !== l[h] && (g || (g = {}), g[h] = l[h]);\n          }\n        } else g || (a || (a = []), a.push(c, g)), g = l;\n      } else \"dangerouslySetInnerHTML\" === c ? (l = l ? l.__html : void 0, k = k ? k.__html : void 0, null != l && k !== l && (a = a || []).push(c, \"\" + l)) : \"children\" === c ? k === l || \"string\" !== typeof l && \"number\" !== typeof l || (a = a || []).push(c, \"\" + l) : \"suppressContentEditableWarning\" !== c && \"suppressHydrationWarning\" !== c && (ia.hasOwnProperty(c) ? (null != l && Fe(e, c), a || k === l || (a = [])) : (a = a || []).push(c, l));\n    }\n\n    g && (a = a || []).push(\"style\", g);\n    e = a;\n    (b.updateQueue = e) && Sh(b);\n  }\n};\n\nWh = function Wh(a, b, c, d) {\n  c !== d && Sh(b);\n};\n\nfunction $h(a, b) {\n  switch (a.tailMode) {\n    case \"hidden\":\n      b = a.tail;\n\n      for (var c = null; null !== b;) {\n        null !== b.alternate && (c = b), b = b.sibling;\n      }\n\n      null === c ? a.tail = null : c.sibling = null;\n      break;\n\n    case \"collapsed\":\n      c = a.tail;\n\n      for (var d = null; null !== c;) {\n        null !== c.alternate && (d = c), c = c.sibling;\n      }\n\n      null === d ? b || null === a.tail ? a.tail = null : a.tail.sibling = null : d.sibling = null;\n  }\n}\n\nfunction ai(a) {\n  switch (a.tag) {\n    case 1:\n      N(a.type) && Te(a);\n      var b = a.effectTag;\n      return b & 2048 ? (a.effectTag = b & -2049 | 64, a) : null;\n\n    case 3:\n      Bg(a);\n      Ue(a);\n      b = a.effectTag;\n      if (0 !== (b & 64)) throw t(Error(285));\n      a.effectTag = b & -2049 | 64;\n      return a;\n\n    case 5:\n      return Dg(a), null;\n\n    case 13:\n      return H(P, a), b = a.effectTag, b & 2048 ? (a.effectTag = b & -2049 | 64, a) : null;\n\n    case 18:\n      return null;\n\n    case 19:\n      return H(P, a), null;\n\n    case 4:\n      return Bg(a), null;\n\n    case 10:\n      return If(a), null;\n\n    default:\n      return null;\n  }\n}\n\nfunction bi(a, b) {\n  return {\n    value: a,\n    source: b,\n    stack: pc(b)\n  };\n}\n\nvar ci = \"function\" === typeof WeakSet ? WeakSet : Set;\n\nfunction di(a, b) {\n  var c = b.source,\n      d = b.stack;\n  null === d && null !== c && (d = pc(c));\n  null !== c && oc(c.type);\n  b = b.value;\n  null !== a && 1 === a.tag && oc(a.type);\n\n  try {\n    console.error(b);\n  } catch (e) {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction ei(a, b) {\n  try {\n    b.props = a.memoizedProps, b.state = a.memoizedState, b.componentWillUnmount();\n  } catch (c) {\n    fi(a, c);\n  }\n}\n\nfunction gi(a) {\n  var b = a.ref;\n  if (null !== b) if (\"function\" === typeof b) try {\n    b(null);\n  } catch (c) {\n    fi(a, c);\n  } else b.current = null;\n}\n\nfunction hi(a, b, c) {\n  c = c.updateQueue;\n  c = null !== c ? c.lastEffect : null;\n\n  if (null !== c) {\n    var d = c = c.next;\n\n    do {\n      if ((d.tag & a) !== Ig) {\n        var e = d.destroy;\n        d.destroy = void 0;\n        void 0 !== e && e();\n      }\n\n      (d.tag & b) !== Ig && (e = d.create, d.destroy = e());\n      d = d.next;\n    } while (d !== c);\n  }\n}\n\nfunction ii(a, b) {\n  \"function\" === typeof ji && ji(a);\n\n  switch (a.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      var c = a.updateQueue;\n\n      if (null !== c && (c = c.lastEffect, null !== c)) {\n        var d = c.next;\n        vf(97 < b ? 97 : b, function () {\n          var b = d;\n\n          do {\n            var c = b.destroy;\n\n            if (void 0 !== c) {\n              var h = a;\n\n              try {\n                c();\n              } catch (g) {\n                fi(h, g);\n              }\n            }\n\n            b = b.next;\n          } while (b !== d);\n        });\n      }\n\n      break;\n\n    case 1:\n      gi(a);\n      b = a.stateNode;\n      \"function\" === typeof b.componentWillUnmount && ei(a, b);\n      break;\n\n    case 5:\n      gi(a);\n      break;\n\n    case 4:\n      ki(a, b);\n  }\n}\n\nfunction li(a, b) {\n  for (var c = a;;) {\n    if (ii(c, b), null !== c.child && 4 !== c.tag) c.child.return = c, c = c.child;else {\n      if (c === a) break;\n\n      for (; null === c.sibling;) {\n        if (null === c.return || c.return === a) return;\n        c = c.return;\n      }\n\n      c.sibling.return = c.return;\n      c = c.sibling;\n    }\n  }\n}\n\nfunction mi(a) {\n  return 5 === a.tag || 3 === a.tag || 4 === a.tag;\n}\n\nfunction ni(a) {\n  a: {\n    for (var b = a.return; null !== b;) {\n      if (mi(b)) {\n        var c = b;\n        break a;\n      }\n\n      b = b.return;\n    }\n\n    throw t(Error(160));\n  }\n\n  b = c.stateNode;\n\n  switch (c.tag) {\n    case 5:\n      var d = !1;\n      break;\n\n    case 3:\n      b = b.containerInfo;\n      d = !0;\n      break;\n\n    case 4:\n      b = b.containerInfo;\n      d = !0;\n      break;\n\n    default:\n      throw t(Error(161));\n  }\n\n  c.effectTag & 16 && (we(b, \"\"), c.effectTag &= -17);\n\n  a: b: for (c = a;;) {\n    for (; null === c.sibling;) {\n      if (null === c.return || mi(c.return)) {\n        c = null;\n        break a;\n      }\n\n      c = c.return;\n    }\n\n    c.sibling.return = c.return;\n\n    for (c = c.sibling; 5 !== c.tag && 6 !== c.tag && 18 !== c.tag;) {\n      if (c.effectTag & 2) continue b;\n      if (null === c.child || 4 === c.tag) continue b;else c.child.return = c, c = c.child;\n    }\n\n    if (!(c.effectTag & 2)) {\n      c = c.stateNode;\n      break a;\n    }\n  }\n\n  for (var e = a;;) {\n    var f = 5 === e.tag || 6 === e.tag;\n\n    if (f || 20 === e.tag) {\n      var h = f ? e.stateNode : e.stateNode.instance;\n      if (c) {\n        if (d) {\n          f = b;\n          var g = h;\n          h = c;\n          8 === f.nodeType ? f.parentNode.insertBefore(g, h) : f.insertBefore(g, h);\n        } else b.insertBefore(h, c);\n      } else d ? (g = b, 8 === g.nodeType ? (f = g.parentNode, f.insertBefore(h, g)) : (f = g, f.appendChild(h)), g = g._reactRootContainer, null !== g && void 0 !== g || null !== f.onclick || (f.onclick = Ge)) : b.appendChild(h);\n    } else if (4 !== e.tag && null !== e.child) {\n      e.child.return = e;\n      e = e.child;\n      continue;\n    }\n\n    if (e === a) break;\n\n    for (; null === e.sibling;) {\n      if (null === e.return || e.return === a) return;\n      e = e.return;\n    }\n\n    e.sibling.return = e.return;\n    e = e.sibling;\n  }\n}\n\nfunction ki(a, b) {\n  for (var c = a, d = !1, e = void 0, f = void 0;;) {\n    if (!d) {\n      d = c.return;\n\n      a: for (;;) {\n        if (null === d) throw t(Error(160));\n        e = d.stateNode;\n\n        switch (d.tag) {\n          case 5:\n            f = !1;\n            break a;\n\n          case 3:\n            e = e.containerInfo;\n            f = !0;\n            break a;\n\n          case 4:\n            e = e.containerInfo;\n            f = !0;\n            break a;\n        }\n\n        d = d.return;\n      }\n\n      d = !0;\n    }\n\n    if (5 === c.tag || 6 === c.tag) {\n      if (li(c, b), f) {\n        var h = e,\n            g = c.stateNode;\n        8 === h.nodeType ? h.parentNode.removeChild(g) : h.removeChild(g);\n      } else e.removeChild(c.stateNode);\n    } else if (20 === c.tag) g = c.stateNode.instance, li(c, b), f ? (h = e, 8 === h.nodeType ? h.parentNode.removeChild(g) : h.removeChild(g)) : e.removeChild(g);else if (4 === c.tag) {\n      if (null !== c.child) {\n        e = c.stateNode.containerInfo;\n        f = !0;\n        c.child.return = c;\n        c = c.child;\n        continue;\n      }\n    } else if (ii(c, b), null !== c.child) {\n      c.child.return = c;\n      c = c.child;\n      continue;\n    }\n    if (c === a) break;\n\n    for (; null === c.sibling;) {\n      if (null === c.return || c.return === a) return;\n      c = c.return;\n      4 === c.tag && (d = !1);\n    }\n\n    c.sibling.return = c.return;\n    c = c.sibling;\n  }\n}\n\nfunction oi(a, b) {\n  switch (b.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      hi(Kg, Lg, b);\n      break;\n\n    case 1:\n      break;\n\n    case 5:\n      var c = b.stateNode;\n\n      if (null != c) {\n        var d = b.memoizedProps,\n            e = null !== a ? a.memoizedProps : d;\n        a = b.type;\n        var f = b.updateQueue;\n        b.updateQueue = null;\n\n        if (null !== f) {\n          c[Ga] = d;\n          \"input\" === a && \"radio\" === d.type && null != d.name && Dc(c, d);\n          Ee(a, e);\n          b = Ee(a, d);\n\n          for (e = 0; e < f.length; e += 2) {\n            var h = f[e],\n                g = f[e + 1];\n            \"style\" === h ? Ae(c, g) : \"dangerouslySetInnerHTML\" === h ? ve(c, g) : \"children\" === h ? we(c, g) : zc(c, h, g, b);\n          }\n\n          switch (a) {\n            case \"input\":\n              Ec(c, d);\n              break;\n\n            case \"textarea\":\n              pe(c, d);\n              break;\n\n            case \"select\":\n              b = c._wrapperState.wasMultiple, c._wrapperState.wasMultiple = !!d.multiple, a = d.value, null != a ? me(c, !!d.multiple, a, !1) : b !== !!d.multiple && (null != d.defaultValue ? me(c, !!d.multiple, d.defaultValue, !0) : me(c, !!d.multiple, d.multiple ? [] : \"\", !1));\n          }\n        }\n      }\n\n      break;\n\n    case 6:\n      if (null === b.stateNode) throw t(Error(162));\n      b.stateNode.nodeValue = b.memoizedProps;\n      break;\n\n    case 3:\n      break;\n\n    case 12:\n      break;\n\n    case 13:\n      c = b;\n      null === b.memoizedState ? d = !1 : (d = !0, c = b.child, pi = sf());\n      if (null !== c) a: for (a = c;;) {\n        if (5 === a.tag) f = a.stateNode, d ? (f = f.style, \"function\" === typeof f.setProperty ? f.setProperty(\"display\", \"none\", \"important\") : f.display = \"none\") : (f = a.stateNode, e = a.memoizedProps.style, e = void 0 !== e && null !== e && e.hasOwnProperty(\"display\") ? e.display : null, f.style.display = ze(\"display\", e));else if (6 === a.tag) a.stateNode.nodeValue = d ? \"\" : a.memoizedProps;else if (13 === a.tag && null !== a.memoizedState) {\n          f = a.child.sibling;\n          f.return = a;\n          a = f;\n          continue;\n        } else if (null !== a.child) {\n          a.child.return = a;\n          a = a.child;\n          continue;\n        }\n        if (a === c) break a;\n\n        for (; null === a.sibling;) {\n          if (null === a.return || a.return === c) break a;\n          a = a.return;\n        }\n\n        a.sibling.return = a.return;\n        a = a.sibling;\n      }\n      qi(b);\n      break;\n\n    case 19:\n      qi(b);\n      break;\n\n    case 17:\n      break;\n\n    case 20:\n      break;\n\n    default:\n      throw t(Error(163));\n  }\n}\n\nfunction qi(a) {\n  var b = a.updateQueue;\n\n  if (null !== b) {\n    a.updateQueue = null;\n    var c = a.stateNode;\n    null === c && (c = a.stateNode = new ci());\n    b.forEach(function (b) {\n      var d = ri.bind(null, a, b);\n      c.has(b) || (c.add(b), b.then(d, d));\n    });\n  }\n}\n\nvar si = \"function\" === typeof WeakMap ? WeakMap : Map;\n\nfunction ti(a, b, c) {\n  c = Qf(c, null);\n  c.tag = 3;\n  c.payload = {\n    element: null\n  };\n  var d = b.value;\n\n  c.callback = function () {\n    ui || (ui = !0, vi = d);\n    di(a, b);\n  };\n\n  return c;\n}\n\nfunction wi(a, b, c) {\n  c = Qf(c, null);\n  c.tag = 3;\n  var d = a.type.getDerivedStateFromError;\n\n  if (\"function\" === typeof d) {\n    var e = b.value;\n\n    c.payload = function () {\n      di(a, b);\n      return d(e);\n    };\n  }\n\n  var f = a.stateNode;\n  null !== f && \"function\" === typeof f.componentDidCatch && (c.callback = function () {\n    \"function\" !== typeof d && (null === xi ? xi = new Set([this]) : xi.add(this), di(a, b));\n    var c = b.stack;\n    this.componentDidCatch(b.value, {\n      componentStack: null !== c ? c : \"\"\n    });\n  });\n  return c;\n}\n\nvar yi = Math.ceil,\n    zi = Xb.ReactCurrentDispatcher,\n    Ai = Xb.ReactCurrentOwner,\n    T = 0,\n    Bi = 8,\n    Ci = 16,\n    Di = 32,\n    Ei = 0,\n    Fi = 1,\n    Gi = 2,\n    Hi = 3,\n    Ii = 4,\n    U = T,\n    Ji = null,\n    V = null,\n    W = 0,\n    X = Ei,\n    Ki = 1073741823,\n    Li = 1073741823,\n    Mi = null,\n    Ni = !1,\n    pi = 0,\n    Oi = 500,\n    Y = null,\n    ui = !1,\n    vi = null,\n    xi = null,\n    Pi = !1,\n    Qi = null,\n    Ri = 90,\n    Si = 0,\n    Ti = null,\n    Ui = 0,\n    Vi = null,\n    Wi = 0;\n\nfunction cg() {\n  return (U & (Ci | Di)) !== T ? 1073741821 - (sf() / 10 | 0) : 0 !== Wi ? Wi : Wi = 1073741821 - (sf() / 10 | 0);\n}\n\nfunction dg(a, b, c) {\n  b = b.mode;\n  if (0 === (b & 2)) return 1073741823;\n  var d = tf();\n  if (0 === (b & 4)) return 99 === d ? 1073741823 : 1073741822;\n  if ((U & Ci) !== T) return W;\n  if (null !== c) a = 1073741821 - 25 * (((1073741821 - a + (c.timeoutMs | 0 || 5E3) / 10) / 25 | 0) + 1);else switch (d) {\n    case 99:\n      a = 1073741823;\n      break;\n\n    case 98:\n      a = 1073741821 - 10 * (((1073741821 - a + 15) / 10 | 0) + 1);\n      break;\n\n    case 97:\n    case 96:\n      a = 1073741821 - 25 * (((1073741821 - a + 500) / 25 | 0) + 1);\n      break;\n\n    case 95:\n      a = 1;\n      break;\n\n    default:\n      throw t(Error(326));\n  }\n  null !== Ji && a === W && --a;\n  return a;\n}\n\nvar Xi = 0;\n\nfunction eg(a, b) {\n  if (50 < Ui) throw Ui = 0, Vi = null, t(Error(185));\n  a = Yi(a, b);\n\n  if (null !== a) {\n    a.pingTime = 0;\n    var c = tf();\n    if (1073741823 === b) {\n      if ((U & Bi) !== T && (U & (Ci | Di)) === T) for (var d = Z(a, 1073741823, !0); null !== d;) {\n        d = d(!0);\n      } else Zi(a, 99, 1073741823), U === T && O();\n    } else Zi(a, c, b);\n    (U & 4) === T || 98 !== c && 99 !== c || (null === Ti ? Ti = new Map([[a, b]]) : (c = Ti.get(a), (void 0 === c || c > b) && Ti.set(a, b)));\n  }\n}\n\nfunction Yi(a, b) {\n  a.expirationTime < b && (a.expirationTime = b);\n  var c = a.alternate;\n  null !== c && c.expirationTime < b && (c.expirationTime = b);\n  var d = a.return,\n      e = null;\n  if (null === d && 3 === a.tag) e = a.stateNode;else for (; null !== d;) {\n    c = d.alternate;\n    d.childExpirationTime < b && (d.childExpirationTime = b);\n    null !== c && c.childExpirationTime < b && (c.childExpirationTime = b);\n\n    if (null === d.return && 3 === d.tag) {\n      e = d.stateNode;\n      break;\n    }\n\n    d = d.return;\n  }\n  null !== e && (b > e.firstPendingTime && (e.firstPendingTime = b), a = e.lastPendingTime, 0 === a || b < a) && (e.lastPendingTime = b);\n  return e;\n}\n\nfunction Zi(a, b, c) {\n  if (a.callbackExpirationTime < c) {\n    var d = a.callbackNode;\n    null !== d && d !== mf && af(d);\n    a.callbackExpirationTime = c;\n    1073741823 === c ? a.callbackNode = xf($i.bind(null, a, Z.bind(null, a, c))) : (d = null, 1 !== c && (d = {\n      timeout: 10 * (1073741821 - c) - sf()\n    }), a.callbackNode = wf(b, $i.bind(null, a, Z.bind(null, a, c)), d));\n  }\n}\n\nfunction $i(a, b, c) {\n  var d = a.callbackNode,\n      e = null;\n\n  try {\n    return e = b(c), null !== e ? $i.bind(null, a, e) : null;\n  } finally {\n    null === e && d === a.callbackNode && (a.callbackNode = null, a.callbackExpirationTime = 0);\n  }\n}\n\nfunction aj() {\n  (U & (1 | Ci | Di)) === T && (bj(), cj());\n}\n\nfunction dj(a, b) {\n  var c = a.firstBatch;\n  return null !== c && c._defer && c._expirationTime >= b ? (wf(97, function () {\n    c._onComplete();\n\n    return null;\n  }), !0) : !1;\n}\n\nfunction bj() {\n  if (null !== Ti) {\n    var a = Ti;\n    Ti = null;\n    a.forEach(function (a, c) {\n      xf(Z.bind(null, c, a));\n    });\n    O();\n  }\n}\n\nfunction ej(a, b) {\n  var c = U;\n  U |= 1;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n}\n\nfunction fj(a, b, c, d) {\n  var e = U;\n  U |= 4;\n\n  try {\n    return vf(98, a.bind(null, b, c, d));\n  } finally {\n    U = e, U === T && O();\n  }\n}\n\nfunction gj(a, b) {\n  var c = U;\n  U &= -2;\n  U |= Bi;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n}\n\nfunction hj(a, b) {\n  a.finishedWork = null;\n  a.finishedExpirationTime = 0;\n  var c = a.timeoutHandle;\n  -1 !== c && (a.timeoutHandle = -1, Me(c));\n  if (null !== V) for (c = V.return; null !== c;) {\n    var d = c;\n\n    switch (d.tag) {\n      case 1:\n        var e = d.type.childContextTypes;\n        null !== e && void 0 !== e && Te(d);\n        break;\n\n      case 3:\n        Bg(d);\n        Ue(d);\n        break;\n\n      case 5:\n        Dg(d);\n        break;\n\n      case 4:\n        Bg(d);\n        break;\n\n      case 13:\n        H(P, d);\n        break;\n\n      case 19:\n        H(P, d);\n        break;\n\n      case 10:\n        If(d);\n    }\n\n    c = c.return;\n  }\n  Ji = a;\n  V = og(a.current, null, b);\n  W = b;\n  X = Ei;\n  Li = Ki = 1073741823;\n  Mi = null;\n  Ni = !1;\n}\n\nfunction Z(a, b, c) {\n  if ((U & (Ci | Di)) !== T) throw t(Error(327));\n  if (a.firstPendingTime < b) return null;\n  if (c && a.finishedExpirationTime === b) return ij.bind(null, a);\n  cj();\n  if (a !== Ji || b !== W) hj(a, b);else if (X === Hi) if (Ni) hj(a, b);else {\n    var d = a.lastPendingTime;\n    if (d < b) return Z.bind(null, a, d);\n  }\n\n  if (null !== V) {\n    d = U;\n    U |= Ci;\n    var e = zi.current;\n    null === e && (e = hh);\n    zi.current = hh;\n\n    if (c) {\n      if (1073741823 !== b) {\n        var f = cg();\n        if (f < b) return U = d, Gf(), zi.current = e, Z.bind(null, a, f);\n      }\n    } else Wi = 0;\n\n    do {\n      try {\n        if (c) for (; null !== V;) {\n          V = jj(V);\n        } else for (; null !== V && !bf();) {\n          V = jj(V);\n        }\n        break;\n      } catch (rb) {\n        Gf();\n        ih();\n        f = V;\n        if (null === f || null === f.return) throw hj(a, b), U = d, rb;\n\n        a: {\n          var h = a,\n              g = f.return,\n              k = f,\n              l = rb,\n              n = W;\n          k.effectTag |= 1024;\n          k.firstEffect = k.lastEffect = null;\n\n          if (null !== l && \"object\" === typeof l && \"function\" === typeof l.then) {\n            var z = l,\n                x = 0 !== (P.current & Fg);\n            l = g;\n\n            do {\n              var v;\n              if (v = 13 === l.tag) null !== l.memoizedState ? v = !1 : (v = l.memoizedProps, v = void 0 === v.fallback ? !1 : !0 !== v.unstable_avoidThisFallback ? !0 : x ? !1 : !0);\n\n              if (v) {\n                g = l.updateQueue;\n                null === g ? (g = new Set(), g.add(z), l.updateQueue = g) : g.add(z);\n\n                if (0 === (l.mode & 2)) {\n                  l.effectTag |= 64;\n                  k.effectTag &= -1957;\n                  1 === k.tag && (null === k.alternate ? k.tag = 17 : (n = Qf(1073741823, null), n.tag = 2, Sf(k, n)));\n                  k.expirationTime = 1073741823;\n                  break a;\n                }\n\n                k = h;\n                h = n;\n                x = k.pingCache;\n                null === x ? (x = k.pingCache = new si(), g = new Set(), x.set(z, g)) : (g = x.get(z), void 0 === g && (g = new Set(), x.set(z, g)));\n                g.has(h) || (g.add(h), k = kj.bind(null, k, z, h), z.then(k, k));\n                l.effectTag |= 2048;\n                l.expirationTime = n;\n                break a;\n              }\n\n              l = l.return;\n            } while (null !== l);\n\n            l = Error((oc(k.type) || \"A React component\") + \" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\" + pc(k));\n          }\n\n          X !== Ii && (X = Fi);\n          l = bi(l, k);\n          k = g;\n\n          do {\n            switch (k.tag) {\n              case 3:\n                k.effectTag |= 2048;\n                k.expirationTime = n;\n                n = ti(k, l, n);\n                Tf(k, n);\n                break a;\n\n              case 1:\n                if (z = l, h = k.type, g = k.stateNode, 0 === (k.effectTag & 64) && (\"function\" === typeof h.getDerivedStateFromError || null !== g && \"function\" === typeof g.componentDidCatch && (null === xi || !xi.has(g)))) {\n                  k.effectTag |= 2048;\n                  k.expirationTime = n;\n                  n = wi(k, z, n);\n                  Tf(k, n);\n                  break a;\n                }\n\n            }\n\n            k = k.return;\n          } while (null !== k);\n        }\n\n        V = lj(f);\n      }\n    } while (1);\n\n    U = d;\n    Gf();\n    zi.current = e;\n    if (null !== V) return Z.bind(null, a, b);\n  }\n\n  a.finishedWork = a.current.alternate;\n  a.finishedExpirationTime = b;\n  if (dj(a, b)) return null;\n  Ji = null;\n\n  switch (X) {\n    case Ei:\n      throw t(Error(328));\n\n    case Fi:\n      return d = a.lastPendingTime, d < b ? Z.bind(null, a, d) : c ? ij.bind(null, a) : (hj(a, b), xf(Z.bind(null, a, b)), null);\n\n    case Gi:\n      if (1073741823 === Ki && !c && (c = pi + Oi - sf(), 10 < c)) {\n        if (Ni) return hj(a, b), Z.bind(null, a, b);\n        d = a.lastPendingTime;\n        if (d < b) return Z.bind(null, a, d);\n        a.timeoutHandle = Le(ij.bind(null, a), c);\n        return null;\n      }\n\n      return ij.bind(null, a);\n\n    case Hi:\n      if (!c) {\n        if (Ni) return hj(a, b), Z.bind(null, a, b);\n        c = a.lastPendingTime;\n        if (c < b) return Z.bind(null, a, c);\n        1073741823 !== Li ? c = 10 * (1073741821 - Li) - sf() : 1073741823 === Ki ? c = 0 : (c = 10 * (1073741821 - Ki) - 5E3, d = sf(), b = 10 * (1073741821 - b) - d, c = d - c, 0 > c && (c = 0), c = (120 > c ? 120 : 480 > c ? 480 : 1080 > c ? 1080 : 1920 > c ? 1920 : 3E3 > c ? 3E3 : 4320 > c ? 4320 : 1960 * yi(c / 1960)) - c, b < c && (c = b));\n        if (10 < c) return a.timeoutHandle = Le(ij.bind(null, a), c), null;\n      }\n\n      return ij.bind(null, a);\n\n    case Ii:\n      return !c && 1073741823 !== Ki && null !== Mi && (d = Ki, e = Mi, b = e.busyMinDurationMs | 0, 0 >= b ? b = 0 : (c = e.busyDelayMs | 0, d = sf() - (10 * (1073741821 - d) - (e.timeoutMs | 0 || 5E3)), b = d <= c ? 0 : c + b - d), 10 < b) ? (a.timeoutHandle = Le(ij.bind(null, a), b), null) : ij.bind(null, a);\n\n    default:\n      throw t(Error(329));\n  }\n}\n\nfunction Xf(a, b) {\n  a < Ki && 1 < a && (Ki = a);\n  null !== b && a < Li && 1 < a && (Li = a, Mi = b);\n}\n\nfunction jj(a) {\n  var b = mj(a.alternate, a, W);\n  a.memoizedProps = a.pendingProps;\n  null === b && (b = lj(a));\n  Ai.current = null;\n  return b;\n}\n\nfunction lj(a) {\n  V = a;\n\n  do {\n    var b = V.alternate;\n    a = V.return;\n\n    if (0 === (V.effectTag & 1024)) {\n      a: {\n        var c = b;\n        b = V;\n        var d = W,\n            e = b.pendingProps;\n\n        switch (b.tag) {\n          case 2:\n            break;\n\n          case 16:\n            break;\n\n          case 15:\n          case 0:\n            break;\n\n          case 1:\n            N(b.type) && Te(b);\n            break;\n\n          case 3:\n            Bg(b);\n            Ue(b);\n            d = b.stateNode;\n            d.pendingContext && (d.context = d.pendingContext, d.pendingContext = null);\n            if (null === c || null === c.child) Bh(b), b.effectTag &= -3;\n            Uh(b);\n            break;\n\n          case 5:\n            Dg(b);\n            d = zg(yg.current);\n            var f = b.type;\n            if (null !== c && null != b.stateNode) Vh(c, b, f, e, d), c.ref !== b.ref && (b.effectTag |= 128);else if (e) {\n              var h = zg(wg.current);\n\n              if (Bh(b)) {\n                c = b;\n                e = void 0;\n                f = c.stateNode;\n                var g = c.type,\n                    k = c.memoizedProps;\n                f[Fa] = c;\n                f[Ga] = k;\n\n                switch (g) {\n                  case \"iframe\":\n                  case \"object\":\n                  case \"embed\":\n                    G(\"load\", f);\n                    break;\n\n                  case \"video\":\n                  case \"audio\":\n                    for (var l = 0; l < bb.length; l++) {\n                      G(bb[l], f);\n                    }\n\n                    break;\n\n                  case \"source\":\n                    G(\"error\", f);\n                    break;\n\n                  case \"img\":\n                  case \"image\":\n                  case \"link\":\n                    G(\"error\", f);\n                    G(\"load\", f);\n                    break;\n\n                  case \"form\":\n                    G(\"reset\", f);\n                    G(\"submit\", f);\n                    break;\n\n                  case \"details\":\n                    G(\"toggle\", f);\n                    break;\n\n                  case \"input\":\n                    Cc(f, k);\n                    G(\"invalid\", f);\n                    Fe(d, \"onChange\");\n                    break;\n\n                  case \"select\":\n                    f._wrapperState = {\n                      wasMultiple: !!k.multiple\n                    };\n                    G(\"invalid\", f);\n                    Fe(d, \"onChange\");\n                    break;\n\n                  case \"textarea\":\n                    oe(f, k), G(\"invalid\", f), Fe(d, \"onChange\");\n                }\n\n                De(g, k);\n                l = null;\n\n                for (e in k) {\n                  k.hasOwnProperty(e) && (h = k[e], \"children\" === e ? \"string\" === typeof h ? f.textContent !== h && (l = [\"children\", h]) : \"number\" === typeof h && f.textContent !== \"\" + h && (l = [\"children\", \"\" + h]) : ia.hasOwnProperty(e) && null != h && Fe(d, e));\n                }\n\n                switch (g) {\n                  case \"input\":\n                    Vb(f);\n                    Gc(f, k, !0);\n                    break;\n\n                  case \"textarea\":\n                    Vb(f);\n                    qe(f, k);\n                    break;\n\n                  case \"select\":\n                  case \"option\":\n                    break;\n\n                  default:\n                    \"function\" === typeof k.onClick && (f.onclick = Ge);\n                }\n\n                d = l;\n                c.updateQueue = d;\n                null !== d && Sh(b);\n              } else {\n                k = f;\n                c = e;\n                g = b;\n                l = 9 === d.nodeType ? d : d.ownerDocument;\n                h === re.html && (h = se(k));\n                h === re.html ? \"script\" === k ? (k = l.createElement(\"div\"), k.innerHTML = \"<script>\\x3c/script>\", l = k.removeChild(k.firstChild)) : \"string\" === typeof c.is ? l = l.createElement(k, {\n                  is: c.is\n                }) : (l = l.createElement(k), \"select\" === k && (k = l, c.multiple ? k.multiple = !0 : c.size && (k.size = c.size))) : l = l.createElementNS(h, k);\n                k = l;\n                k[Fa] = g;\n                k[Ga] = c;\n                c = k;\n                Th(c, b, !1, !1);\n                g = c;\n                var n = d,\n                    z = Ee(f, e);\n\n                switch (f) {\n                  case \"iframe\":\n                  case \"object\":\n                  case \"embed\":\n                    G(\"load\", g);\n                    d = e;\n                    break;\n\n                  case \"video\":\n                  case \"audio\":\n                    for (d = 0; d < bb.length; d++) {\n                      G(bb[d], g);\n                    }\n\n                    d = e;\n                    break;\n\n                  case \"source\":\n                    G(\"error\", g);\n                    d = e;\n                    break;\n\n                  case \"img\":\n                  case \"image\":\n                  case \"link\":\n                    G(\"error\", g);\n                    G(\"load\", g);\n                    d = e;\n                    break;\n\n                  case \"form\":\n                    G(\"reset\", g);\n                    G(\"submit\", g);\n                    d = e;\n                    break;\n\n                  case \"details\":\n                    G(\"toggle\", g);\n                    d = e;\n                    break;\n\n                  case \"input\":\n                    Cc(g, e);\n                    d = Bc(g, e);\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  case \"option\":\n                    d = le(g, e);\n                    break;\n\n                  case \"select\":\n                    g._wrapperState = {\n                      wasMultiple: !!e.multiple\n                    };\n                    d = m({}, e, {\n                      value: void 0\n                    });\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  case \"textarea\":\n                    oe(g, e);\n                    d = ne(g, e);\n                    G(\"invalid\", g);\n                    Fe(n, \"onChange\");\n                    break;\n\n                  default:\n                    d = e;\n                }\n\n                De(f, d);\n                k = void 0;\n                l = f;\n                h = g;\n                var x = d;\n\n                for (k in x) {\n                  if (x.hasOwnProperty(k)) {\n                    var v = x[k];\n                    \"style\" === k ? Ae(h, v) : \"dangerouslySetInnerHTML\" === k ? (v = v ? v.__html : void 0, null != v && ve(h, v)) : \"children\" === k ? \"string\" === typeof v ? (\"textarea\" !== l || \"\" !== v) && we(h, v) : \"number\" === typeof v && we(h, \"\" + v) : \"suppressContentEditableWarning\" !== k && \"suppressHydrationWarning\" !== k && \"autoFocus\" !== k && (ia.hasOwnProperty(k) ? null != v && Fe(n, k) : null != v && zc(h, k, v, z));\n                  }\n                }\n\n                switch (f) {\n                  case \"input\":\n                    Vb(g);\n                    Gc(g, e, !1);\n                    break;\n\n                  case \"textarea\":\n                    Vb(g);\n                    qe(g, e);\n                    break;\n\n                  case \"option\":\n                    null != e.value && g.setAttribute(\"value\", \"\" + Ac(e.value));\n                    break;\n\n                  case \"select\":\n                    d = g;\n                    g = e;\n                    d.multiple = !!g.multiple;\n                    k = g.value;\n                    null != k ? me(d, !!g.multiple, k, !1) : null != g.defaultValue && me(d, !!g.multiple, g.defaultValue, !0);\n                    break;\n\n                  default:\n                    \"function\" === typeof d.onClick && (g.onclick = Ge);\n                }\n\n                Je(f, e) && Sh(b);\n                b.stateNode = c;\n              }\n\n              null !== b.ref && (b.effectTag |= 128);\n            } else if (null === b.stateNode) throw t(Error(166));\n            break;\n\n          case 6:\n            if (c && null != b.stateNode) Wh(c, b, c.memoizedProps, e);else {\n              if (\"string\" !== typeof e && null === b.stateNode) throw t(Error(166));\n              c = zg(yg.current);\n              zg(wg.current);\n              Bh(b) ? (d = b.stateNode, c = b.memoizedProps, d[Fa] = b, d.nodeValue !== c && Sh(b)) : (d = b, c = (9 === c.nodeType ? c : c.ownerDocument).createTextNode(e), c[Fa] = b, d.stateNode = c);\n            }\n            break;\n\n          case 11:\n            break;\n\n          case 13:\n            H(P, b);\n            e = b.memoizedState;\n\n            if (0 !== (b.effectTag & 64)) {\n              b.expirationTime = d;\n              break a;\n            }\n\n            d = null !== e;\n            e = !1;\n            null === c ? Bh(b) : (f = c.memoizedState, e = null !== f, d || null === f || (f = c.child.sibling, null !== f && (g = b.firstEffect, null !== g ? (b.firstEffect = f, f.nextEffect = g) : (b.firstEffect = b.lastEffect = f, f.nextEffect = null), f.effectTag = 8)));\n            if (d && !e && 0 !== (b.mode & 2)) if (null === c && !0 !== b.memoizedProps.unstable_avoidThisFallback || 0 !== (P.current & Fg)) X === Ei && (X = Gi);else if (X === Ei || X === Gi) X = Hi;\n            if (d || e) b.effectTag |= 4;\n            break;\n\n          case 7:\n            break;\n\n          case 8:\n            break;\n\n          case 12:\n            break;\n\n          case 4:\n            Bg(b);\n            Uh(b);\n            break;\n\n          case 10:\n            If(b);\n            break;\n\n          case 9:\n            break;\n\n          case 14:\n            break;\n\n          case 17:\n            N(b.type) && Te(b);\n            break;\n\n          case 18:\n            break;\n\n          case 19:\n            H(P, b);\n            e = b.memoizedState;\n            if (null === e) break;\n            f = 0 !== (b.effectTag & 64);\n            g = e.rendering;\n            if (null === g) {\n              if (f) $h(e, !1);else {\n                if (X !== Ei || null !== c && 0 !== (c.effectTag & 64)) for (c = b.child; null !== c;) {\n                  g = Hg(c);\n\n                  if (null !== g) {\n                    b.effectTag |= 64;\n                    $h(e, !1);\n                    c = g.updateQueue;\n                    null !== c && (b.updateQueue = c, b.effectTag |= 4);\n                    b.firstEffect = b.lastEffect = null;\n\n                    for (c = b.child; null !== c;) {\n                      e = c, f = d, e.effectTag &= 2, e.nextEffect = null, e.firstEffect = null, e.lastEffect = null, g = e.alternate, null === g ? (e.childExpirationTime = 0, e.expirationTime = f, e.child = null, e.memoizedProps = null, e.memoizedState = null, e.updateQueue = null, e.dependencies = null) : (e.childExpirationTime = g.childExpirationTime, e.expirationTime = g.expirationTime, e.child = g.child, e.memoizedProps = g.memoizedProps, e.memoizedState = g.memoizedState, e.updateQueue = g.updateQueue, f = g.dependencies, e.dependencies = null === f ? null : {\n                        expirationTime: f.expirationTime,\n                        firstContext: f.firstContext,\n                        responders: f.responders\n                      }), c = c.sibling;\n                    }\n\n                    J(P, P.current & Eg | Gg, b);\n                    b = b.child;\n                    break a;\n                  }\n\n                  c = c.sibling;\n                }\n              }\n            } else {\n              if (!f) if (c = Hg(g), null !== c) {\n                if (b.effectTag |= 64, f = !0, $h(e, !0), null === e.tail && \"hidden\" === e.tailMode) {\n                  d = c.updateQueue;\n                  null !== d && (b.updateQueue = d, b.effectTag |= 4);\n                  b = b.lastEffect = e.lastEffect;\n                  null !== b && (b.nextEffect = null);\n                  break;\n                }\n              } else sf() > e.tailExpiration && 1 < d && (b.effectTag |= 64, f = !0, $h(e, !1), b.expirationTime = b.childExpirationTime = d - 1);\n              e.isBackwards ? (g.sibling = b.child, b.child = g) : (d = e.last, null !== d ? d.sibling = g : b.child = g, e.last = g);\n            }\n\n            if (null !== e.tail) {\n              0 === e.tailExpiration && (e.tailExpiration = sf() + 500);\n              d = e.tail;\n              e.rendering = d;\n              e.tail = d.sibling;\n              e.lastEffect = b.lastEffect;\n              d.sibling = null;\n              c = P.current;\n              c = f ? c & Eg | Gg : c & Eg;\n              J(P, c, b);\n              b = d;\n              break a;\n            }\n\n            break;\n\n          case 20:\n            break;\n\n          default:\n            throw t(Error(156));\n        }\n\n        b = null;\n      }\n\n      d = V;\n\n      if (1 === W || 1 !== d.childExpirationTime) {\n        c = 0;\n\n        for (e = d.child; null !== e;) {\n          f = e.expirationTime, g = e.childExpirationTime, f > c && (c = f), g > c && (c = g), e = e.sibling;\n        }\n\n        d.childExpirationTime = c;\n      }\n\n      if (null !== b) return b;\n      null !== a && 0 === (a.effectTag & 1024) && (null === a.firstEffect && (a.firstEffect = V.firstEffect), null !== V.lastEffect && (null !== a.lastEffect && (a.lastEffect.nextEffect = V.firstEffect), a.lastEffect = V.lastEffect), 1 < V.effectTag && (null !== a.lastEffect ? a.lastEffect.nextEffect = V : a.firstEffect = V, a.lastEffect = V));\n    } else {\n      b = ai(V, W);\n      if (null !== b) return b.effectTag &= 1023, b;\n      null !== a && (a.firstEffect = a.lastEffect = null, a.effectTag |= 1024);\n    }\n\n    b = V.sibling;\n    if (null !== b) return b;\n    V = a;\n  } while (null !== V);\n\n  X === Ei && (X = Ii);\n  return null;\n}\n\nfunction ij(a) {\n  var b = tf();\n  vf(99, nj.bind(null, a, b));\n  null !== Qi && wf(97, function () {\n    cj();\n    return null;\n  });\n  return null;\n}\n\nfunction nj(a, b) {\n  cj();\n  if ((U & (Ci | Di)) !== T) throw t(Error(327));\n  var c = a.finishedWork,\n      d = a.finishedExpirationTime;\n  if (null === c) return null;\n  a.finishedWork = null;\n  a.finishedExpirationTime = 0;\n  if (c === a.current) throw t(Error(177));\n  a.callbackNode = null;\n  a.callbackExpirationTime = 0;\n  var e = c.expirationTime,\n      f = c.childExpirationTime;\n  e = f > e ? f : e;\n  a.firstPendingTime = e;\n  e < a.lastPendingTime && (a.lastPendingTime = e);\n  a === Ji && (V = Ji = null, W = 0);\n  1 < c.effectTag ? null !== c.lastEffect ? (c.lastEffect.nextEffect = c, e = c.firstEffect) : e = c : e = c.firstEffect;\n\n  if (null !== e) {\n    f = U;\n    U |= Di;\n    Ai.current = null;\n    He = Qd;\n    var h = ae();\n\n    if (be(h)) {\n      if (\"selectionStart\" in h) var g = {\n        start: h.selectionStart,\n        end: h.selectionEnd\n      };else a: {\n        g = (g = h.ownerDocument) && g.defaultView || window;\n        var k = g.getSelection && g.getSelection();\n\n        if (k && 0 !== k.rangeCount) {\n          g = k.anchorNode;\n          var l = k.anchorOffset,\n              n = k.focusNode;\n          k = k.focusOffset;\n\n          try {\n            g.nodeType, n.nodeType;\n          } catch (zb) {\n            g = null;\n            break a;\n          }\n\n          var z = 0,\n              x = -1,\n              v = -1,\n              rb = 0,\n              Be = 0,\n              u = h,\n              w = null;\n\n          b: for (;;) {\n            for (var C;;) {\n              u !== g || 0 !== l && 3 !== u.nodeType || (x = z + l);\n              u !== n || 0 !== k && 3 !== u.nodeType || (v = z + k);\n              3 === u.nodeType && (z += u.nodeValue.length);\n              if (null === (C = u.firstChild)) break;\n              w = u;\n              u = C;\n            }\n\n            for (;;) {\n              if (u === h) break b;\n              w === g && ++rb === l && (x = z);\n              w === n && ++Be === k && (v = z);\n              if (null !== (C = u.nextSibling)) break;\n              u = w;\n              w = u.parentNode;\n            }\n\n            u = C;\n          }\n\n          g = -1 === x || -1 === v ? null : {\n            start: x,\n            end: v\n          };\n        } else g = null;\n      }\n      g = g || {\n        start: 0,\n        end: 0\n      };\n    } else g = null;\n\n    Ie = {\n      focusedElem: h,\n      selectionRange: g\n    };\n    Qd = !1;\n    Y = e;\n\n    do {\n      try {\n        for (; null !== Y;) {\n          if (0 !== (Y.effectTag & 256)) {\n            var I = Y.alternate;\n            h = Y;\n\n            switch (h.tag) {\n              case 0:\n              case 11:\n              case 15:\n                hi(Jg, Ig, h);\n                break;\n\n              case 1:\n                if (h.effectTag & 256 && null !== I) {\n                  var E = I.memoizedProps,\n                      ua = I.memoizedState,\n                      gh = h.stateNode,\n                      oj = gh.getSnapshotBeforeUpdate(h.elementType === h.type ? E : Af(h.type, E), ua);\n                  gh.__reactInternalSnapshotBeforeUpdate = oj;\n                }\n\n                break;\n\n              case 3:\n              case 5:\n              case 6:\n              case 4:\n              case 17:\n                break;\n\n              default:\n                throw t(Error(163));\n            }\n          }\n\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    Y = e;\n\n    do {\n      try {\n        for (I = b; null !== Y;) {\n          var A = Y.effectTag;\n          A & 16 && we(Y.stateNode, \"\");\n\n          if (A & 128) {\n            var p = Y.alternate;\n\n            if (null !== p) {\n              var r = p.ref;\n              null !== r && (\"function\" === typeof r ? r(null) : r.current = null);\n            }\n          }\n\n          switch (A & 14) {\n            case 2:\n              ni(Y);\n              Y.effectTag &= -3;\n              break;\n\n            case 6:\n              ni(Y);\n              Y.effectTag &= -3;\n              oi(Y.alternate, Y);\n              break;\n\n            case 4:\n              oi(Y.alternate, Y);\n              break;\n\n            case 8:\n              E = Y;\n              ki(E, I);\n              E.return = null;\n              E.child = null;\n              E.memoizedState = null;\n              E.updateQueue = null;\n              E.dependencies = null;\n              var K = E.alternate;\n              null !== K && (K.return = null, K.child = null, K.memoizedState = null, K.updateQueue = null, K.dependencies = null);\n          }\n\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    r = Ie;\n    p = ae();\n    A = r.focusedElem;\n    I = r.selectionRange;\n\n    if (p !== A && A && A.ownerDocument && $d(A.ownerDocument.documentElement, A)) {\n      null !== I && be(A) && (p = I.start, r = I.end, void 0 === r && (r = p), \"selectionStart\" in A ? (A.selectionStart = p, A.selectionEnd = Math.min(r, A.value.length)) : (r = (p = A.ownerDocument || document) && p.defaultView || window, r.getSelection && (r = r.getSelection(), E = A.textContent.length, K = Math.min(I.start, E), I = void 0 === I.end ? K : Math.min(I.end, E), !r.extend && K > I && (E = I, I = K, K = E), E = Zd(A, K), ua = Zd(A, I), E && ua && (1 !== r.rangeCount || r.anchorNode !== E.node || r.anchorOffset !== E.offset || r.focusNode !== ua.node || r.focusOffset !== ua.offset) && (p = p.createRange(), p.setStart(E.node, E.offset), r.removeAllRanges(), K > I ? (r.addRange(p), r.extend(ua.node, ua.offset)) : (p.setEnd(ua.node, ua.offset), r.addRange(p))))));\n      p = [];\n\n      for (r = A; r = r.parentNode;) {\n        1 === r.nodeType && p.push({\n          element: r,\n          left: r.scrollLeft,\n          top: r.scrollTop\n        });\n      }\n\n      \"function\" === typeof A.focus && A.focus();\n\n      for (A = 0; A < p.length; A++) {\n        r = p[A], r.element.scrollLeft = r.left, r.element.scrollTop = r.top;\n      }\n    }\n\n    Ie = null;\n    Qd = !!He;\n    He = null;\n    a.current = c;\n    Y = e;\n\n    do {\n      try {\n        for (A = d; null !== Y;) {\n          var $a = Y.effectTag;\n\n          if ($a & 36) {\n            var nc = Y.alternate;\n            p = Y;\n            r = A;\n\n            switch (p.tag) {\n              case 0:\n              case 11:\n              case 15:\n                hi(Mg, Ng, p);\n                break;\n\n              case 1:\n                var md = p.stateNode;\n                if (p.effectTag & 4) if (null === nc) md.componentDidMount();else {\n                  var Fj = p.elementType === p.type ? nc.memoizedProps : Af(p.type, nc.memoizedProps);\n                  md.componentDidUpdate(Fj, nc.memoizedState, md.__reactInternalSnapshotBeforeUpdate);\n                }\n                var Xh = p.updateQueue;\n                null !== Xh && Yf(p, Xh, md, r);\n                break;\n\n              case 3:\n                var Yh = p.updateQueue;\n\n                if (null !== Yh) {\n                  K = null;\n                  if (null !== p.child) switch (p.child.tag) {\n                    case 5:\n                      K = p.child.stateNode;\n                      break;\n\n                    case 1:\n                      K = p.child.stateNode;\n                  }\n                  Yf(p, Yh, K, r);\n                }\n\n                break;\n\n              case 5:\n                var Gj = p.stateNode;\n                null === nc && p.effectTag & 4 && (r = Gj, Je(p.type, p.memoizedProps) && r.focus());\n                break;\n\n              case 6:\n                break;\n\n              case 4:\n                break;\n\n              case 12:\n                break;\n\n              case 13:\n              case 19:\n              case 17:\n              case 20:\n                break;\n\n              default:\n                throw t(Error(163));\n            }\n          }\n\n          if ($a & 128) {\n            var nd = Y.ref;\n\n            if (null !== nd) {\n              var Zh = Y.stateNode;\n\n              switch (Y.tag) {\n                case 5:\n                  var gf = Zh;\n                  break;\n\n                default:\n                  gf = Zh;\n              }\n\n              \"function\" === typeof nd ? nd(gf) : nd.current = gf;\n            }\n          }\n\n          $a & 512 && (Pi = !0);\n          Y = Y.nextEffect;\n        }\n      } catch (zb) {\n        if (null === Y) throw t(Error(330));\n        fi(Y, zb);\n        Y = Y.nextEffect;\n      }\n    } while (null !== Y);\n\n    Y = null;\n    nf();\n    U = f;\n  } else a.current = c;\n\n  if (Pi) Pi = !1, Qi = a, Si = d, Ri = b;else for (Y = e; null !== Y;) {\n    b = Y.nextEffect, Y.nextEffect = null, Y = b;\n  }\n  b = a.firstPendingTime;\n  0 !== b ? ($a = cg(), $a = zf($a, b), Zi(a, $a, b)) : xi = null;\n  \"function\" === typeof pj && pj(c.stateNode, d);\n  1073741823 === b ? a === Vi ? Ui++ : (Ui = 0, Vi = a) : Ui = 0;\n  if (ui) throw ui = !1, a = vi, vi = null, a;\n  if ((U & Bi) !== T) return null;\n  O();\n  return null;\n}\n\nfunction cj() {\n  if (null === Qi) return !1;\n  var a = Qi,\n      b = Si,\n      c = Ri;\n  Qi = null;\n  Si = 0;\n  Ri = 90;\n  return vf(97 < c ? 97 : c, qj.bind(null, a, b));\n}\n\nfunction qj(a) {\n  if ((U & (Ci | Di)) !== T) throw t(Error(331));\n  var b = U;\n  U |= Di;\n\n  for (a = a.current.firstEffect; null !== a;) {\n    try {\n      var c = a;\n      if (0 !== (c.effectTag & 512)) switch (c.tag) {\n        case 0:\n        case 11:\n        case 15:\n          hi(Pg, Ig, c), hi(Ig, Og, c);\n      }\n    } catch (d) {\n      if (null === a) throw t(Error(330));\n      fi(a, d);\n    }\n\n    c = a.nextEffect;\n    a.nextEffect = null;\n    a = c;\n  }\n\n  U = b;\n  O();\n  return !0;\n}\n\nfunction rj(a, b, c) {\n  b = bi(c, b);\n  b = ti(a, b, 1073741823);\n  Sf(a, b);\n  a = Yi(a, 1073741823);\n  null !== a && Zi(a, 99, 1073741823);\n}\n\nfunction fi(a, b) {\n  if (3 === a.tag) rj(a, a, b);else for (var c = a.return; null !== c;) {\n    if (3 === c.tag) {\n      rj(c, a, b);\n      break;\n    } else if (1 === c.tag) {\n      var d = c.stateNode;\n\n      if (\"function\" === typeof c.type.getDerivedStateFromError || \"function\" === typeof d.componentDidCatch && (null === xi || !xi.has(d))) {\n        a = bi(b, a);\n        a = wi(c, a, 1073741823);\n        Sf(c, a);\n        c = Yi(c, 1073741823);\n        null !== c && Zi(c, 99, 1073741823);\n        break;\n      }\n    }\n\n    c = c.return;\n  }\n}\n\nfunction kj(a, b, c) {\n  var d = a.pingCache;\n  null !== d && d.delete(b);\n  Ji === a && W === c ? X === Hi || X === Gi && 1073741823 === Ki && sf() - pi < Oi ? hj(a, W) : Ni = !0 : a.lastPendingTime < c || (b = a.pingTime, 0 !== b && b < c || (a.pingTime = c, a.finishedExpirationTime === c && (a.finishedExpirationTime = 0, a.finishedWork = null), b = cg(), b = zf(b, c), Zi(a, b, c)));\n}\n\nfunction ri(a, b) {\n  var c = a.stateNode;\n  null !== c && c.delete(b);\n  c = cg();\n  b = dg(c, a, null);\n  c = zf(c, b);\n  a = Yi(a, b);\n  null !== a && Zi(a, c, b);\n}\n\nvar mj = void 0;\n\nmj = function mj(a, b, c) {\n  var d = b.expirationTime;\n\n  if (null !== a) {\n    var e = b.pendingProps;\n    if (a.memoizedProps !== e || M.current) Lf = !0;else if (d < c) {\n      Lf = !1;\n\n      switch (b.tag) {\n        case 3:\n          Nh(b);\n          Ch();\n          break;\n\n        case 5:\n          Cg(b);\n          if (b.mode & 4 && 1 !== c && e.hidden) return b.expirationTime = b.childExpirationTime = 1, null;\n          break;\n\n        case 1:\n          N(b.type) && Xe(b);\n          break;\n\n        case 4:\n          Ag(b, b.stateNode.containerInfo);\n          break;\n\n        case 10:\n          Hf(b, b.memoizedProps.value);\n          break;\n\n        case 13:\n          if (null !== b.memoizedState) {\n            d = b.child.childExpirationTime;\n            if (0 !== d && d >= c) return Ph(a, b, c);\n            J(P, P.current & Eg, b);\n            b = Fh(a, b, c);\n            return null !== b ? b.sibling : null;\n          }\n\n          J(P, P.current & Eg, b);\n          break;\n\n        case 19:\n          d = b.childExpirationTime >= c;\n\n          if (0 !== (a.effectTag & 64)) {\n            if (d) return Rh(a, b, c);\n            b.effectTag |= 64;\n          }\n\n          e = b.memoizedState;\n          null !== e && (e.rendering = null, e.tail = null);\n          J(P, P.current, b);\n          if (!d) return null;\n      }\n\n      return Fh(a, b, c);\n    }\n  } else Lf = !1;\n\n  b.expirationTime = 0;\n\n  switch (b.tag) {\n    case 2:\n      d = b.type;\n      null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n      a = b.pendingProps;\n      e = Se(b, L.current);\n      Kf(b, c);\n      e = dh(null, b, d, a, e, c);\n      b.effectTag |= 1;\n\n      if (\"object\" === typeof e && null !== e && \"function\" === typeof e.render && void 0 === e.$$typeof) {\n        b.tag = 1;\n        ih();\n\n        if (N(d)) {\n          var f = !0;\n          Xe(b);\n        } else f = !1;\n\n        b.memoizedState = null !== e.state && void 0 !== e.state ? e.state : null;\n        var h = d.getDerivedStateFromProps;\n        \"function\" === typeof h && bg(b, d, h, a);\n        e.updater = fg;\n        b.stateNode = e;\n        e._reactInternalFiber = b;\n        jg(b, d, a, c);\n        b = Mh(null, b, d, !0, f, c);\n      } else b.tag = 0, S(null, b, e, c), b = b.child;\n\n      return b;\n\n    case 16:\n      e = b.elementType;\n      null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2);\n      a = b.pendingProps;\n      e = Bf(e);\n      b.type = e;\n      f = b.tag = sj(e);\n      a = Af(e, a);\n\n      switch (f) {\n        case 0:\n          b = Jh(null, b, e, a, c);\n          break;\n\n        case 1:\n          b = Lh(null, b, e, a, c);\n          break;\n\n        case 11:\n          b = Eh(null, b, e, a, c);\n          break;\n\n        case 14:\n          b = Gh(null, b, e, Af(e.type, a), d, c);\n          break;\n\n        default:\n          throw t(Error(306), e, \"\");\n      }\n\n      return b;\n\n    case 0:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Jh(a, b, d, e, c);\n\n    case 1:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Lh(a, b, d, e, c);\n\n    case 3:\n      Nh(b);\n      d = b.updateQueue;\n      if (null === d) throw t(Error(282));\n      e = b.memoizedState;\n      e = null !== e ? e.element : null;\n      Wf(b, d, b.pendingProps, null, c);\n      d = b.memoizedState.element;\n      if (d === e) Ch(), b = Fh(a, b, c);else {\n        e = b.stateNode;\n        if (e = (null === a || null === a.child) && e.hydrate) uh = Ne(b.stateNode.containerInfo.firstChild), th = b, e = vh = !0;\n        e ? (b.effectTag |= 2, b.child = ug(b, null, d, c)) : (S(a, b, d, c), Ch());\n        b = b.child;\n      }\n      return b;\n\n    case 5:\n      return Cg(b), null === a && zh(b), d = b.type, e = b.pendingProps, f = null !== a ? a.memoizedProps : null, h = e.children, Ke(d, e) ? h = null : null !== f && Ke(d, f) && (b.effectTag |= 16), Kh(a, b), b.mode & 4 && 1 !== c && e.hidden ? (b.expirationTime = b.childExpirationTime = 1, b = null) : (S(a, b, h, c), b = b.child), b;\n\n    case 6:\n      return null === a && zh(b), null;\n\n    case 13:\n      return Ph(a, b, c);\n\n    case 4:\n      return Ag(b, b.stateNode.containerInfo), d = b.pendingProps, null === a ? b.child = tg(b, null, d, c) : S(a, b, d, c), b.child;\n\n    case 11:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), Eh(a, b, d, e, c);\n\n    case 7:\n      return S(a, b, b.pendingProps, c), b.child;\n\n    case 8:\n      return S(a, b, b.pendingProps.children, c), b.child;\n\n    case 12:\n      return S(a, b, b.pendingProps.children, c), b.child;\n\n    case 10:\n      a: {\n        d = b.type._context;\n        e = b.pendingProps;\n        h = b.memoizedProps;\n        f = e.value;\n        Hf(b, f);\n\n        if (null !== h) {\n          var g = h.value;\n          f = hd(g, f) ? 0 : (\"function\" === typeof d._calculateChangedBits ? d._calculateChangedBits(g, f) : 1073741823) | 0;\n\n          if (0 === f) {\n            if (h.children === e.children && !M.current) {\n              b = Fh(a, b, c);\n              break a;\n            }\n          } else for (g = b.child, null !== g && (g.return = b); null !== g;) {\n            var k = g.dependencies;\n\n            if (null !== k) {\n              h = g.child;\n\n              for (var l = k.firstContext; null !== l;) {\n                if (l.context === d && 0 !== (l.observedBits & f)) {\n                  1 === g.tag && (l = Qf(c, null), l.tag = 2, Sf(g, l));\n                  g.expirationTime < c && (g.expirationTime = c);\n                  l = g.alternate;\n                  null !== l && l.expirationTime < c && (l.expirationTime = c);\n                  Jf(g.return, c);\n                  k.expirationTime < c && (k.expirationTime = c);\n                  break;\n                }\n\n                l = l.next;\n              }\n            } else h = 10 === g.tag ? g.type === b.type ? null : g.child : g.child;\n\n            if (null !== h) h.return = g;else for (h = g; null !== h;) {\n              if (h === b) {\n                h = null;\n                break;\n              }\n\n              g = h.sibling;\n\n              if (null !== g) {\n                g.return = h.return;\n                h = g;\n                break;\n              }\n\n              h = h.return;\n            }\n            g = h;\n          }\n        }\n\n        S(a, b, e.children, c);\n        b = b.child;\n      }\n\n      return b;\n\n    case 9:\n      return e = b.type, f = b.pendingProps, d = f.children, Kf(b, c), e = Mf(e, f.unstable_observedBits), d = d(e), b.effectTag |= 1, S(a, b, d, c), b.child;\n\n    case 14:\n      return e = b.type, f = Af(e, b.pendingProps), f = Af(e.type, f), Gh(a, b, e, f, d, c);\n\n    case 15:\n      return Ih(a, b, b.type, b.pendingProps, d, c);\n\n    case 17:\n      return d = b.type, e = b.pendingProps, e = b.elementType === d ? e : Af(d, e), null !== a && (a.alternate = null, b.alternate = null, b.effectTag |= 2), b.tag = 1, N(d) ? (a = !0, Xe(b)) : a = !1, Kf(b, c), hg(b, d, e, c), jg(b, d, e, c), Mh(null, b, d, !0, a, c);\n\n    case 19:\n      return Rh(a, b, c);\n  }\n\n  throw t(Error(156));\n};\n\nvar pj = null,\n    ji = null;\n\nfunction tj(a) {\n  if (\"undefined\" === typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) return !1;\n  var b = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (b.isDisabled || !b.supportsFiber) return !0;\n\n  try {\n    var c = b.inject(a);\n\n    pj = function pj(a) {\n      try {\n        b.onCommitFiberRoot(c, a, void 0, 64 === (a.current.effectTag & 64));\n      } catch (e) {}\n    };\n\n    ji = function ji(a) {\n      try {\n        b.onCommitFiberUnmount(c, a);\n      } catch (e) {}\n    };\n  } catch (d) {}\n\n  return !0;\n}\n\nfunction uj(a, b, c, d) {\n  this.tag = a;\n  this.key = c;\n  this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;\n  this.index = 0;\n  this.ref = null;\n  this.pendingProps = b;\n  this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;\n  this.mode = d;\n  this.effectTag = 0;\n  this.lastEffect = this.firstEffect = this.nextEffect = null;\n  this.childExpirationTime = this.expirationTime = 0;\n  this.alternate = null;\n}\n\nfunction xh(a, b, c, d) {\n  return new uj(a, b, c, d);\n}\n\nfunction Hh(a) {\n  a = a.prototype;\n  return !(!a || !a.isReactComponent);\n}\n\nfunction sj(a) {\n  if (\"function\" === typeof a) return Hh(a) ? 1 : 0;\n\n  if (void 0 !== a && null !== a) {\n    a = a.$$typeof;\n    if (a === gc) return 11;\n    if (a === jc) return 14;\n  }\n\n  return 2;\n}\n\nfunction og(a, b) {\n  var c = a.alternate;\n  null === c ? (c = xh(a.tag, b, a.key, a.mode), c.elementType = a.elementType, c.type = a.type, c.stateNode = a.stateNode, c.alternate = a, a.alternate = c) : (c.pendingProps = b, c.effectTag = 0, c.nextEffect = null, c.firstEffect = null, c.lastEffect = null);\n  c.childExpirationTime = a.childExpirationTime;\n  c.expirationTime = a.expirationTime;\n  c.child = a.child;\n  c.memoizedProps = a.memoizedProps;\n  c.memoizedState = a.memoizedState;\n  c.updateQueue = a.updateQueue;\n  b = a.dependencies;\n  c.dependencies = null === b ? null : {\n    expirationTime: b.expirationTime,\n    firstContext: b.firstContext,\n    responders: b.responders\n  };\n  c.sibling = a.sibling;\n  c.index = a.index;\n  c.ref = a.ref;\n  return c;\n}\n\nfunction qg(a, b, c, d, e, f) {\n  var h = 2;\n  d = a;\n  if (\"function\" === typeof a) Hh(a) && (h = 1);else if (\"string\" === typeof a) h = 5;else a: switch (a) {\n    case ac:\n      return sg(c.children, e, f, b);\n\n    case fc:\n      h = 8;\n      e |= 7;\n      break;\n\n    case bc:\n      h = 8;\n      e |= 1;\n      break;\n\n    case cc:\n      return a = xh(12, c, b, e | 8), a.elementType = cc, a.type = cc, a.expirationTime = f, a;\n\n    case hc:\n      return a = xh(13, c, b, e), a.type = hc, a.elementType = hc, a.expirationTime = f, a;\n\n    case ic:\n      return a = xh(19, c, b, e), a.elementType = ic, a.expirationTime = f, a;\n\n    default:\n      if (\"object\" === typeof a && null !== a) switch (a.$$typeof) {\n        case dc:\n          h = 10;\n          break a;\n\n        case ec:\n          h = 9;\n          break a;\n\n        case gc:\n          h = 11;\n          break a;\n\n        case jc:\n          h = 14;\n          break a;\n\n        case kc:\n          h = 16;\n          d = null;\n          break a;\n      }\n      throw t(Error(130), null == a ? a : typeof a, \"\");\n  }\n  b = xh(h, c, b, e);\n  b.elementType = a;\n  b.type = d;\n  b.expirationTime = f;\n  return b;\n}\n\nfunction sg(a, b, c, d) {\n  a = xh(7, a, d, b);\n  a.expirationTime = c;\n  return a;\n}\n\nfunction pg(a, b, c) {\n  a = xh(6, a, null, b);\n  a.expirationTime = c;\n  return a;\n}\n\nfunction rg(a, b, c) {\n  b = xh(4, null !== a.children ? a.children : [], a.key, b);\n  b.expirationTime = c;\n  b.stateNode = {\n    containerInfo: a.containerInfo,\n    pendingChildren: null,\n    implementation: a.implementation\n  };\n  return b;\n}\n\nfunction vj(a, b, c) {\n  this.tag = b;\n  this.current = null;\n  this.containerInfo = a;\n  this.pingCache = this.pendingChildren = null;\n  this.finishedExpirationTime = 0;\n  this.finishedWork = null;\n  this.timeoutHandle = -1;\n  this.pendingContext = this.context = null;\n  this.hydrate = c;\n  this.callbackNode = this.firstBatch = null;\n  this.pingTime = this.lastPendingTime = this.firstPendingTime = this.callbackExpirationTime = 0;\n}\n\nfunction wj(a, b, c) {\n  a = new vj(a, b, c);\n  b = xh(3, null, null, 2 === b ? 7 : 1 === b ? 3 : 0);\n  a.current = b;\n  return b.stateNode = a;\n}\n\nfunction xj(a, b, c, d, e, f) {\n  var h = b.current;\n\n  a: if (c) {\n    c = c._reactInternalFiber;\n\n    b: {\n      if (2 !== ld(c) || 1 !== c.tag) throw t(Error(170));\n      var g = c;\n\n      do {\n        switch (g.tag) {\n          case 3:\n            g = g.stateNode.context;\n            break b;\n\n          case 1:\n            if (N(g.type)) {\n              g = g.stateNode.__reactInternalMemoizedMergedChildContext;\n              break b;\n            }\n\n        }\n\n        g = g.return;\n      } while (null !== g);\n\n      throw t(Error(171));\n    }\n\n    if (1 === c.tag) {\n      var k = c.type;\n\n      if (N(k)) {\n        c = We(c, k, g);\n        break a;\n      }\n    }\n\n    c = g;\n  } else c = Qe;\n\n  null === b.context ? b.context = c : b.pendingContext = c;\n  b = f;\n  e = Qf(d, e);\n  e.payload = {\n    element: a\n  };\n  b = void 0 === b ? null : b;\n  null !== b && (e.callback = b);\n  Sf(h, e);\n  eg(h, d);\n  return d;\n}\n\nfunction yj(a, b, c, d) {\n  var e = b.current,\n      f = cg(),\n      h = $f.suspense;\n  e = dg(f, e, h);\n  return xj(a, b, c, e, h, d);\n}\n\nfunction zj(a) {\n  a = a.current;\n  if (!a.child) return null;\n\n  switch (a.child.tag) {\n    case 5:\n      return a.child.stateNode;\n\n    default:\n      return a.child.stateNode;\n  }\n}\n\nfunction Aj(a, b, c) {\n  var d = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: $b,\n    key: null == d ? null : \"\" + d,\n    children: a,\n    containerInfo: b,\n    implementation: c\n  };\n}\n\nDb = function Db(a, b, c) {\n  switch (b) {\n    case \"input\":\n      Ec(a, c);\n      b = c.name;\n\n      if (\"radio\" === c.type && null != b) {\n        for (c = a; c.parentNode;) {\n          c = c.parentNode;\n        }\n\n        c = c.querySelectorAll(\"input[name=\" + JSON.stringify(\"\" + b) + '][type=\"radio\"]');\n\n        for (b = 0; b < c.length; b++) {\n          var d = c[b];\n\n          if (d !== a && d.form === a.form) {\n            var e = Ka(d);\n            if (!e) throw t(Error(90));\n            Wb(d);\n            Ec(d, e);\n          }\n        }\n      }\n\n      break;\n\n    case \"textarea\":\n      pe(a, c);\n      break;\n\n    case \"select\":\n      b = c.value, null != b && me(a, !!c.multiple, b, !1);\n  }\n};\n\nfunction Bj(a) {\n  var b = 1073741821 - 25 * (((1073741821 - cg() + 500) / 25 | 0) + 1);\n  b <= Xi && --b;\n  this._expirationTime = Xi = b;\n  this._root = a;\n  this._callbacks = this._next = null;\n  this._hasChildren = this._didComplete = !1;\n  this._children = null;\n  this._defer = !0;\n}\n\nBj.prototype.render = function (a) {\n  if (!this._defer) throw t(Error(250));\n  this._hasChildren = !0;\n  this._children = a;\n  var b = this._root._internalRoot,\n      c = this._expirationTime,\n      d = new Cj();\n  xj(a, b, null, c, null, d._onCommit);\n  return d;\n};\n\nBj.prototype.then = function (a) {\n  if (this._didComplete) a();else {\n    var b = this._callbacks;\n    null === b && (b = this._callbacks = []);\n    b.push(a);\n  }\n};\n\nBj.prototype.commit = function () {\n  var a = this._root._internalRoot,\n      b = a.firstBatch;\n  if (!this._defer || null === b) throw t(Error(251));\n\n  if (this._hasChildren) {\n    var c = this._expirationTime;\n\n    if (b !== this) {\n      this._hasChildren && (c = this._expirationTime = b._expirationTime, this.render(this._children));\n\n      for (var d = null, e = b; e !== this;) {\n        d = e, e = e._next;\n      }\n\n      if (null === d) throw t(Error(251));\n      d._next = e._next;\n      this._next = b;\n      a.firstBatch = this;\n    }\n\n    this._defer = !1;\n    b = c;\n    if ((U & (Ci | Di)) !== T) throw t(Error(253));\n    xf(Z.bind(null, a, b));\n    O();\n    b = this._next;\n    this._next = null;\n    b = a.firstBatch = b;\n    null !== b && b._hasChildren && b.render(b._children);\n  } else this._next = null, this._defer = !1;\n};\n\nBj.prototype._onComplete = function () {\n  if (!this._didComplete) {\n    this._didComplete = !0;\n    var a = this._callbacks;\n    if (null !== a) for (var b = 0; b < a.length; b++) {\n      (0, a[b])();\n    }\n  }\n};\n\nfunction Cj() {\n  this._callbacks = null;\n  this._didCommit = !1;\n  this._onCommit = this._onCommit.bind(this);\n}\n\nCj.prototype.then = function (a) {\n  if (this._didCommit) a();else {\n    var b = this._callbacks;\n    null === b && (b = this._callbacks = []);\n    b.push(a);\n  }\n};\n\nCj.prototype._onCommit = function () {\n  if (!this._didCommit) {\n    this._didCommit = !0;\n    var a = this._callbacks;\n    if (null !== a) for (var b = 0; b < a.length; b++) {\n      var c = a[b];\n      if (\"function\" !== typeof c) throw t(Error(191), c);\n      c();\n    }\n  }\n};\n\nfunction Dj(a, b, c) {\n  this._internalRoot = wj(a, b, c);\n}\n\nfunction Ej(a, b) {\n  this._internalRoot = wj(a, 2, b);\n}\n\nEj.prototype.render = Dj.prototype.render = function (a, b) {\n  var c = this._internalRoot,\n      d = new Cj();\n  b = void 0 === b ? null : b;\n  null !== b && d.then(b);\n  yj(a, c, null, d._onCommit);\n  return d;\n};\n\nEj.prototype.unmount = Dj.prototype.unmount = function (a) {\n  var b = this._internalRoot,\n      c = new Cj();\n  a = void 0 === a ? null : a;\n  null !== a && c.then(a);\n  yj(null, b, null, c._onCommit);\n  return c;\n};\n\nEj.prototype.createBatch = function () {\n  var a = new Bj(this),\n      b = a._expirationTime,\n      c = this._internalRoot,\n      d = c.firstBatch;\n  if (null === d) c.firstBatch = a, a._next = null;else {\n    for (c = null; null !== d && d._expirationTime >= b;) {\n      c = d, d = d._next;\n    }\n\n    a._next = d;\n    null !== c && (c._next = a);\n  }\n  return a;\n};\n\nfunction Hj(a) {\n  return !(!a || 1 !== a.nodeType && 9 !== a.nodeType && 11 !== a.nodeType && (8 !== a.nodeType || \" react-mount-point-unstable \" !== a.nodeValue));\n}\n\nJb = ej;\nKb = fj;\nLb = aj;\n\nMb = function Mb(a, b) {\n  var c = U;\n  U |= 2;\n\n  try {\n    return a(b);\n  } finally {\n    U = c, U === T && O();\n  }\n};\n\nfunction Ij(a, b) {\n  b || (b = a ? 9 === a.nodeType ? a.documentElement : a.firstChild : null, b = !(!b || 1 !== b.nodeType || !b.hasAttribute(\"data-reactroot\")));\n  if (!b) for (var c; c = a.lastChild;) {\n    a.removeChild(c);\n  }\n  return new Dj(a, 0, b);\n}\n\nfunction Jj(a, b, c, d, e) {\n  var f = c._reactRootContainer,\n      h = void 0;\n\n  if (f) {\n    h = f._internalRoot;\n\n    if (\"function\" === typeof e) {\n      var g = e;\n\n      e = function e() {\n        var a = zj(h);\n        g.call(a);\n      };\n    }\n\n    yj(b, h, a, e);\n  } else {\n    f = c._reactRootContainer = Ij(c, d);\n    h = f._internalRoot;\n\n    if (\"function\" === typeof e) {\n      var k = e;\n\n      e = function e() {\n        var a = zj(h);\n        k.call(a);\n      };\n    }\n\n    gj(function () {\n      yj(b, h, a, e);\n    });\n  }\n\n  return zj(h);\n}\n\nfunction Kj(a, b) {\n  var c = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (!Hj(b)) throw t(Error(200));\n  return Aj(a, b, null, c);\n}\n\nvar Nj = {\n  createPortal: Kj,\n  findDOMNode: function findDOMNode(a) {\n    if (null == a) a = null;else if (1 !== a.nodeType) {\n      var b = a._reactInternalFiber;\n\n      if (void 0 === b) {\n        if (\"function\" === typeof a.render) throw t(Error(188));\n        throw t(Error(268), Object.keys(a));\n      }\n\n      a = qd(b);\n      a = null === a ? null : a.stateNode;\n    }\n    return a;\n  },\n  hydrate: function hydrate(a, b, c) {\n    if (!Hj(b)) throw t(Error(200));\n    return Jj(null, a, b, !0, c);\n  },\n  render: function render(a, b, c) {\n    if (!Hj(b)) throw t(Error(200));\n    return Jj(null, a, b, !1, c);\n  },\n  unstable_renderSubtreeIntoContainer: function unstable_renderSubtreeIntoContainer(a, b, c, d) {\n    if (!Hj(c)) throw t(Error(200));\n    if (null == a || void 0 === a._reactInternalFiber) throw t(Error(38));\n    return Jj(a, b, c, !1, d);\n  },\n  unmountComponentAtNode: function unmountComponentAtNode(a) {\n    if (!Hj(a)) throw t(Error(40));\n    return a._reactRootContainer ? (gj(function () {\n      Jj(null, null, a, !1, function () {\n        a._reactRootContainer = null;\n      });\n    }), !0) : !1;\n  },\n  unstable_createPortal: function unstable_createPortal() {\n    return Kj.apply(void 0, arguments);\n  },\n  unstable_batchedUpdates: ej,\n  unstable_interactiveUpdates: function unstable_interactiveUpdates(a, b, c, d) {\n    aj();\n    return fj(a, b, c, d);\n  },\n  unstable_discreteUpdates: fj,\n  unstable_flushDiscreteUpdates: aj,\n  flushSync: function flushSync(a, b) {\n    if ((U & (Ci | Di)) !== T) throw t(Error(187));\n    var c = U;\n    U |= 1;\n\n    try {\n      return vf(99, a.bind(null, b));\n    } finally {\n      U = c, O();\n    }\n  },\n  unstable_createRoot: Lj,\n  unstable_createSyncRoot: Mj,\n  unstable_flushControlled: function unstable_flushControlled(a) {\n    var b = U;\n    U |= 1;\n\n    try {\n      vf(99, a);\n    } finally {\n      U = b, U === T && O();\n    }\n  },\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: {\n    Events: [Ia, Ja, Ka, Ca.injectEventPluginsByName, fa, Qa, function (a) {\n      ya(a, Pa);\n    }, Hb, Ib, Ud, Ba, cj, {\n      current: !1\n    }]\n  }\n};\n\nfunction Lj(a, b) {\n  if (!Hj(a)) throw t(Error(299), \"unstable_createRoot\");\n  return new Ej(a, null != b && !0 === b.hydrate);\n}\n\nfunction Mj(a, b) {\n  if (!Hj(a)) throw t(Error(299), \"unstable_createRoot\");\n  return new Dj(a, 1, null != b && !0 === b.hydrate);\n}\n\n(function (a) {\n  var b = a.findFiberByHostInstance;\n  return tj(m({}, a, {\n    overrideHookState: null,\n    overrideProps: null,\n    setSuspenseHandler: null,\n    scheduleUpdate: null,\n    currentDispatcherRef: Xb.ReactCurrentDispatcher,\n    findHostInstanceByFiber: function findHostInstanceByFiber(a) {\n      a = qd(a);\n      return null === a ? null : a.stateNode;\n    },\n    findFiberByHostInstance: function findFiberByHostInstance(a) {\n      return b ? b(a) : null;\n    },\n    findHostInstancesForRefresh: null,\n    scheduleRefresh: null,\n    scheduleRoot: null,\n    setRefreshHandler: null,\n    getCurrentFiber: null\n  }));\n})({\n  findFiberByHostInstance: Ha,\n  bundleType: 0,\n  version: \"16.9.0\",\n  rendererPackageName: \"react-dom\"\n});\n\nvar Oj = {\n  default: Nj\n},\n    Pj = Oj && Nj || Oj;\nmodule.exports = Pj.default || Pj;","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}","/** @license React v0.15.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar _d = void 0,\n    e = void 0,\n    g = void 0,\n    m = void 0,\n    n = void 0;\n\nexports.unstable_now = void 0;\nexports.unstable_forceFrameRate = void 0;\n\nif (\"undefined\" === typeof window || \"function\" !== typeof MessageChannel) {\n  var p = null,\n      q = null,\n      r = function r() {\n    if (null !== p) try {\n      var a = exports.unstable_now();\n      p(!0, a);\n      p = null;\n    } catch (b) {\n      throw setTimeout(r, 0), b;\n    }\n  };\n\n  exports.unstable_now = function () {\n    return Date.now();\n  };\n\n  _d = function d(a) {\n    null !== p ? setTimeout(_d, 0, a) : (p = a, setTimeout(r, 0));\n  };\n\n  e = function e(a, b) {\n    q = setTimeout(a, b);\n  };\n\n  g = function g() {\n    clearTimeout(q);\n  };\n\n  m = function m() {\n    return !1;\n  };\n\n  n = exports.unstable_forceFrameRate = function () {};\n} else {\n  var t = window.performance,\n      u = window.Date,\n      v = window.setTimeout,\n      w = window.clearTimeout,\n      x = window.requestAnimationFrame,\n      y = window.cancelAnimationFrame;\n  \"undefined\" !== typeof console && (\"function\" !== typeof x && console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"), \"function\" !== typeof y && console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"));\n  exports.unstable_now = \"object\" === typeof t && \"function\" === typeof t.now ? function () {\n    return t.now();\n  } : function () {\n    return u.now();\n  };\n  var z = !1,\n      A = null,\n      B = -1,\n      C = -1,\n      D = 33.33,\n      E = -1,\n      F = -1,\n      G = 0,\n      H = !1;\n\n  m = function m() {\n    return exports.unstable_now() >= G;\n  };\n\n  n = function n() {};\n\n  exports.unstable_forceFrameRate = function (a) {\n    0 > a || 125 < a ? console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\") : 0 < a ? (D = Math.floor(1E3 / a), H = !0) : (D = 33.33, H = !1);\n  };\n\n  var J = function J() {\n    if (null !== A) {\n      var a = exports.unstable_now(),\n          b = 0 < G - a;\n\n      try {\n        A(b, a) || (A = null);\n      } catch (c) {\n        throw I.postMessage(null), c;\n      }\n    }\n  },\n      K = new MessageChannel(),\n      I = K.port2;\n\n  K.port1.onmessage = J;\n\n  var L = function L(a) {\n    if (null === A) F = E = -1, z = !1;else {\n      z = !0;\n      x(function (a) {\n        w(B);\n        L(a);\n      });\n\n      var b = function b() {\n        G = exports.unstable_now() + D / 2;\n        J();\n        B = v(b, 3 * D);\n      };\n\n      B = v(b, 3 * D);\n\n      if (-1 !== E && .1 < a - E) {\n        var c = a - E;\n        !H && -1 !== F && c < D && F < D && (D = c < F ? F : c, 8.33 > D && (D = 8.33));\n        F = c;\n      }\n\n      E = a;\n      G = a + D;\n      I.postMessage(null);\n    }\n  };\n\n  _d = function _d(a) {\n    A = a;\n    z || (z = !0, x(function (a) {\n      L(a);\n    }));\n  };\n\n  e = function e(a, b) {\n    C = v(function () {\n      a(exports.unstable_now());\n    }, b);\n  };\n\n  g = function g() {\n    w(C);\n    C = -1;\n  };\n}\n\nvar M = null,\n    N = null,\n    O = null,\n    P = 3,\n    Q = !1,\n    R = !1,\n    S = !1;\n\nfunction T(a, b) {\n  var c = a.next;\n  if (c === a) M = null;else {\n    a === M && (M = c);\n    var f = a.previous;\n    f.next = c;\n    c.previous = f;\n  }\n  a.next = a.previous = null;\n  c = a.callback;\n  f = P;\n  var l = O;\n  P = a.priorityLevel;\n  O = a;\n\n  try {\n    var h = a.expirationTime <= b;\n\n    switch (P) {\n      case 1:\n        var k = c(h);\n        break;\n\n      case 2:\n        k = c(h);\n        break;\n\n      case 3:\n        k = c(h);\n        break;\n\n      case 4:\n        k = c(h);\n        break;\n\n      case 5:\n        k = c(h);\n    }\n  } catch (Z) {\n    throw Z;\n  } finally {\n    P = f, O = l;\n  }\n\n  if (\"function\" === typeof k) if (b = a.expirationTime, a.callback = k, null === M) M = a.next = a.previous = a;else {\n    k = null;\n    h = M;\n\n    do {\n      if (b <= h.expirationTime) {\n        k = h;\n        break;\n      }\n\n      h = h.next;\n    } while (h !== M);\n\n    null === k ? k = M : k === M && (M = a);\n    b = k.previous;\n    b.next = k.previous = a;\n    a.next = k;\n    a.previous = b;\n  }\n}\n\nfunction U(a) {\n  if (null !== N && N.startTime <= a) {\n    do {\n      var b = N,\n          c = b.next;\n      if (b === c) N = null;else {\n        N = c;\n        var f = b.previous;\n        f.next = c;\n        c.previous = f;\n      }\n      b.next = b.previous = null;\n      V(b, b.expirationTime);\n    } while (null !== N && N.startTime <= a);\n  }\n}\n\nfunction W(a) {\n  S = !1;\n  U(a);\n  R || (null !== M ? (R = !0, _d(X)) : null !== N && e(W, N.startTime - a));\n}\n\nfunction X(a, b) {\n  R = !1;\n  S && (S = !1, g());\n  U(b);\n  Q = !0;\n\n  try {\n    if (!a) for (; null !== M && M.expirationTime <= b;) {\n      T(M, b), b = exports.unstable_now(), U(b);\n    } else if (null !== M) {\n      do {\n        T(M, b), b = exports.unstable_now(), U(b);\n      } while (null !== M && !m());\n    }\n    if (null !== M) return !0;\n    null !== N && e(W, N.startTime - b);\n    return !1;\n  } finally {\n    Q = !1;\n  }\n}\n\nfunction Y(a) {\n  switch (a) {\n    case 1:\n      return -1;\n\n    case 2:\n      return 250;\n\n    case 5:\n      return 1073741823;\n\n    case 4:\n      return 1E4;\n\n    default:\n      return 5E3;\n  }\n}\n\nfunction V(a, b) {\n  if (null === M) M = a.next = a.previous = a;else {\n    var c = null,\n        f = M;\n\n    do {\n      if (b < f.expirationTime) {\n        c = f;\n        break;\n      }\n\n      f = f.next;\n    } while (f !== M);\n\n    null === c ? c = M : c === M && (M = a);\n    b = c.previous;\n    b.next = c.previous = a;\n    a.next = c;\n    a.previous = b;\n  }\n}\n\nvar aa = n;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_NormalPriority = 3;\nexports.unstable_IdlePriority = 5;\nexports.unstable_LowPriority = 4;\n\nexports.unstable_runWithPriority = function (a, b) {\n  switch (a) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n\n    default:\n      a = 3;\n  }\n\n  var c = P;\n  P = a;\n\n  try {\n    return b();\n  } finally {\n    P = c;\n  }\n};\n\nexports.unstable_next = function (a) {\n  switch (P) {\n    case 1:\n    case 2:\n    case 3:\n      var b = 3;\n      break;\n\n    default:\n      b = P;\n  }\n\n  var c = P;\n  P = b;\n\n  try {\n    return a();\n  } finally {\n    P = c;\n  }\n};\n\nexports.unstable_scheduleCallback = function (a, b, c) {\n  var f = exports.unstable_now();\n\n  if (\"object\" === typeof c && null !== c) {\n    var l = c.delay;\n    l = \"number\" === typeof l && 0 < l ? f + l : f;\n    c = \"number\" === typeof c.timeout ? c.timeout : Y(a);\n  } else c = Y(a), l = f;\n\n  c = l + c;\n  a = {\n    callback: b,\n    priorityLevel: a,\n    startTime: l,\n    expirationTime: c,\n    next: null,\n    previous: null\n  };\n\n  if (l > f) {\n    c = l;\n    if (null === N) N = a.next = a.previous = a;else {\n      b = null;\n      var h = N;\n\n      do {\n        if (c < h.startTime) {\n          b = h;\n          break;\n        }\n\n        h = h.next;\n      } while (h !== N);\n\n      null === b ? b = N : b === N && (N = a);\n      c = b.previous;\n      c.next = b.previous = a;\n      a.next = b;\n      a.previous = c;\n    }\n    null === M && N === a && (S ? g() : S = !0, e(W, l - f));\n  } else V(a, c), R || Q || (R = !0, _d(X));\n\n  return a;\n};\n\nexports.unstable_cancelCallback = function (a) {\n  var b = a.next;\n\n  if (null !== b) {\n    if (a === b) a === M ? M = null : a === N && (N = null);else {\n      a === M ? M = b : a === N && (N = b);\n      var c = a.previous;\n      c.next = b;\n      b.previous = c;\n    }\n    a.next = a.previous = null;\n  }\n};\n\nexports.unstable_wrapCallback = function (a) {\n  var b = P;\n  return function () {\n    var c = P;\n    P = b;\n\n    try {\n      return a.apply(this, arguments);\n    } finally {\n      P = c;\n    }\n  };\n};\n\nexports.unstable_getCurrentPriorityLevel = function () {\n  return P;\n};\n\nexports.unstable_shouldYield = function () {\n  var a = exports.unstable_now();\n  U(a);\n  return null !== O && null !== M && M.startTime <= a && M.expirationTime < O.expirationTime || m();\n};\n\nexports.unstable_requestPaint = aa;\n\nexports.unstable_continueExecution = function () {\n  R || Q || (R = !0, _d(X));\n};\n\nexports.unstable_pauseExecution = function () {};\n\nexports.unstable_getFirstCallbackNode = function () {\n  return M;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _keymaster = _interopRequireDefault(require(\"keymaster\"));\n\nvar _Store = _interopRequireDefault(require(\"./Store\"));\n\nvar _Header = _interopRequireDefault(require(\"./Header.react\"));\n\nvar _Footer = _interopRequireDefault(require(\"./Footer.react\"));\n\nvar _Constants = _interopRequireDefault(require(\"./Constants\"));\n\nvar _Bem = require(\"./Bem\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defaultKeyFilter = _keymaster.default.filter;\nvar Store = new _Store.default();\n\nvar handleClose = function handleClose() {\n  _keymaster.default.deleteScope('react-popup');\n\n  _keymaster.default.filter = defaultKeyFilter;\n  Store.close();\n};\n\nvar initialState = {\n  id: null,\n  title: null,\n  buttons: null,\n  content: null,\n  visible: false,\n  className: null,\n  noOverlay: false,\n  position: false,\n  closeOnOutsideClick: true,\n  onClose: function onClose() {},\n  onOpen: function onOpen() {}\n};\n\nvar Popup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _createClass(Popup, null, [{\n    key: \"addShowListener\",\n    value: function addShowListener(callback) {\n      Store.on(_Constants.default.SHOW, callback);\n    }\n  }, {\n    key: \"removeShowListener\",\n    value: function removeShowListener(callback) {\n      Store.removeListener(_Constants.default.SHOW, callback);\n    }\n  }, {\n    key: \"addCloseListener\",\n    value: function addCloseListener(callback) {\n      Store.on(_Constants.default.CLOSE, callback);\n    }\n  }, {\n    key: \"removeCloseListener\",\n    value: function removeCloseListener(callback) {\n      Store.removeListener(_Constants.default.CLOSE, callback);\n    }\n  }, {\n    key: \"register\",\n    value: function register(data) {\n      var id = Store.getId();\n      Store.popups[id] = Object.assign({}, initialState, data);\n      return id;\n    }\n  }, {\n    key: \"queue\",\n    value: function queue(id) {\n      if (!Object.prototype.hasOwnProperty.call(Store.popups, id)) {\n        return false;\n      }\n      /** Add popup to queue */\n\n\n      Store.queue.push(id);\n      /** Dispatch queue */\n\n      Store.dispatch();\n      return id;\n    }\n  }, {\n    key: \"create\",\n    value: function create(data, bringToFront) {\n      /** Register popup */\n      var id = this.register(data);\n      /** Queue popup */\n\n      if (bringToFront === true) {\n        var currentlyActive = Store.active;\n        Store.active = null;\n        this.queue(id);\n        this.queue(currentlyActive);\n        Store.dispatch();\n      } else {\n        this.queue(id);\n      }\n\n      return id;\n    }\n  }, {\n    key: \"alert\",\n    value: function alert(text, title, bringToFront) {\n      var data = {\n        title: title,\n        content: text,\n        buttons: {\n          right: ['ok']\n        }\n      };\n      return this.create(data, bringToFront);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      Store.close();\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(name, callback) {\n      Store.plugins[name] = callback.bind(this);\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return Store.plugins;\n    }\n  }, {\n    key: \"refreshPosition\",\n    value: function refreshPosition(position) {\n      return Store.refreshPosition(position);\n    }\n  }, {\n    key: \"clearQueue\",\n    value: function clearQueue() {\n      return Store.clearQueue();\n    }\n  }]);\n\n  function Popup(props) {\n    var _this;\n\n    _classCallCheck(this, Popup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Popup).call(this, props));\n    initialState.closeOnOutsideClick = _this.props.closeOnOutsideClick;\n    _this.state = initialState;\n    _this.bound = {\n      onShow: _this.onShow.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n      onClose: _this.onClose.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n      onRefresh: _this.onRefresh.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n      containerClick: _this.containerClick.bind(_assertThisInitialized(_assertThisInitialized(_this))),\n      handleButtonClick: _this.handleButtonClick.bind(_assertThisInitialized(_assertThisInitialized(_this)))\n    };\n    _this.boxRef = null;\n    _this.defaultKeyBindings = {\n      ok: _this.props.defaultOkKey,\n      cancel: _this.props.defaultCancelKey\n    };\n    return _this;\n  }\n\n  _createClass(Popup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      Store.on(_Constants.default.SHOW, this.bound.onShow);\n      Store.on(_Constants.default.CLOSE, this.bound.onClose);\n      Store.on(_Constants.default.REFRESH, this.bound.onRefresh);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.boxRef) {\n        this.boxRef.focus();\n      }\n\n      this.setPosition(this.state.position);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Store.removeListener(_Constants.default.SHOW, this.bound.onShow);\n      Store.removeListener(_Constants.default.CLOSE, this.bound.onClose);\n      Store.removeListener(_Constants.default.REFRESH, this.bound.onRefresh);\n\n      _keymaster.default.deleteScope('react-popup');\n\n      _keymaster.default.filter = defaultKeyFilter;\n    }\n    /**\n     * Refresh popup position\n     * @param position\n     * @private\n     */\n\n  }, {\n    key: \"onRefresh\",\n    value: function onRefresh(position) {\n      this.setPosition(position);\n    }\n    /**\n     * On popup close\n     * @private\n     */\n\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      _keymaster.default.deleteScope('react-popup');\n\n      _keymaster.default.filter = defaultKeyFilter;\n      this.state.onClose(this.state.id, this.state.title);\n      this.setState(initialState);\n    }\n    /**\n     * On popup show\n     * @private\n     */\n\n  }, {\n    key: \"onShow\",\n    value: function onShow(id) {\n      var _this2 = this;\n\n      _keymaster.default.deleteScope('react-popup');\n\n      _keymaster.default.filter = function () {\n        return true;\n      };\n\n      var popup = Store.activePopup();\n\n      if (popup.buttons && !Object.prototype.hasOwnProperty.call(popup.buttons, 'left')) {\n        popup.buttons.left = [];\n      }\n\n      if (popup.buttons && !Object.prototype.hasOwnProperty.call(popup.buttons, 'right')) {\n        popup.buttons.right = [];\n      }\n\n      this.setState({\n        id: id,\n        title: popup.title,\n        content: popup.content,\n        buttons: popup.buttons,\n        visible: true,\n        className: popup.className,\n        noOverlay: popup.noOverlay,\n        position: popup.position,\n        closeOnOutsideClick: popup.closeOnOutsideClick,\n        onClose: popup.onClose,\n        onOpen: popup.onOpen\n      }, function () {\n        _keymaster.default.setScope('react-popup');\n\n        _this2.state.onOpen(_this2.state.id, _this2.state.title);\n\n        if (_this2.props.escToClose) {\n          (0, _keymaster.default)('esc', 'react-popup', _this2.handleKeyEvent.bind(_this2, 'cancel', _this2.state.id));\n        }\n\n        if (_this2.state.buttons) {\n          if (_this2.state.buttons.left.length) {\n            _this2.state.buttons.left.forEach(function (button) {\n              return _this2.bindKeyEvents(button);\n            });\n          }\n\n          if (_this2.state.buttons.right.length) {\n            _this2.state.buttons.right.forEach(function (button) {\n              return _this2.bindKeyEvents(button);\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(position) {\n      var box = this.boxRef;\n      var boxPosition = position;\n\n      if (!box) {\n        return;\n      }\n\n      if (!boxPosition) {\n        boxPosition = this.state.position;\n      }\n\n      if (!boxPosition) {\n        box.style.opacity = 1;\n        box.style.top = null;\n        box.style.left = null;\n        box.style.margin = null;\n        return;\n      }\n\n      if (typeof boxPosition === 'function') {\n        boxPosition.call(null, box);\n        return;\n      }\n\n      box.style.top = \"\".concat(parseInt(boxPosition.y, 10), \"px\");\n      box.style.left = \"\".concat(parseInt(boxPosition.x, 10), \"px\");\n      box.style.margin = 0;\n      box.style.opacity = 1;\n    }\n    /**\n     * Handle container click\n     * @param e\n     * @private\n     */\n\n  }, {\n    key: \"containerClick\",\n    value: function containerClick() {\n      if (this.state.closeOnOutsideClick) {\n        handleClose();\n      }\n    }\n  }, {\n    key: \"bindKeyEvents\",\n    value: function bindKeyEvents(button) {\n      var code = null;\n\n      if (typeof button === 'string') {\n        code = this.defaultKeyBindings[button];\n      } else if (Object.prototype.hasOwnProperty.call(button, 'key')) {\n        code = button.key;\n      }\n\n      if (this.props.escToClose && code === 'esc') {\n        return;\n      }\n\n      if (code) {\n        (0, _keymaster.default)(code, 'react-popup', this.handleKeyEvent.bind(this, button, this.state.id));\n      }\n    }\n  }, {\n    key: \"handleKeyEvent\",\n    value: function handleKeyEvent(button, id, e) {\n      var excludeTags = ['INPUT', 'TEXTAREA', 'BUTTON'];\n\n      if (this.state.id !== id || button.key === 'enter' && excludeTags.indexOf(e.target.tagName) >= 0) {\n        return true;\n      }\n\n      if (typeof button === 'string') {\n        handleClose();\n      } else if (Object.prototype.hasOwnProperty.call(button, 'action')) {\n        this.handleButtonClick(button.action);\n      }\n\n      return false;\n    }\n    /**\n     * Handle button clicks\n     * @param action\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: \"handleButtonClick\",\n    value: function handleButtonClick(action) {\n      if (typeof action === 'function') {\n        return action.call(this, Store);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"className\",\n    value: function className(_className) {\n      return (0, _Bem.element)(_className, this.props.className);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var className = this.props.className;\n      var box = null;\n      var overlayStyle = {};\n\n      if (this.state.visible) {\n        var closeBtn = null;\n        className += \" \".concat(this.props.className, \"--visible\");\n\n        if (this.props.closeBtn) {\n          closeBtn = _react.default.createElement(\"button\", {\n            onClick: handleClose,\n            className: \"\".concat(this.props.className, \"__close\")\n          }, this.props.closeHtml);\n        }\n\n        var boxClass = this.className('box');\n\n        if (this.state.className) {\n          boxClass += \" \".concat((0, _Bem.modifier)(this.state.className, boxClass));\n        }\n\n        box = _react.default.createElement(\"article\", {\n          role: \"dialog\",\n          tabIndex: \"-1\",\n          ref: function ref(el) {\n            _this3.boxRef = el;\n          },\n          style: {\n            opacity: 0,\n            outline: 'none'\n          },\n          className: boxClass\n        }, closeBtn, _react.default.createElement(_Header.default, {\n          title: this.state.title,\n          className: this.className('box__header')\n        }), _react.default.createElement(\"div\", {\n          className: this.className('box__body')\n        }, this.state.content), _react.default.createElement(_Footer.default, {\n          className: this.className('box__footer'),\n          btnClass: this.props.btnClass,\n          buttonClick: this.bound.handleButtonClick,\n          onClose: handleClose,\n          onOk: handleClose,\n          defaultOk: this.props.defaultOk,\n          defaultCancel: this.props.defaultCancel,\n          buttons: this.state.buttons\n        }));\n      }\n\n      if (this.state.noOverlay) {\n        overlayStyle.background = 'transparent';\n      }\n\n      return _react.default.createElement(\"div\", {\n        className: className\n      }, _react.default.createElement(\"div\", {\n        role: \"presentation\",\n        onClick: this.bound.containerClick,\n        className: this.className('overlay'),\n        style: overlayStyle\n      }), box);\n    }\n  }]);\n\n  _inherits(Popup, _React$Component);\n\n  return Popup;\n}(_react.default.Component);\n\n_defineProperty(Popup, \"defaultProps\", {\n  className: 'mm-popup',\n  btnClass: 'mm-popup__btn',\n  closeBtn: true,\n  closeHtml: null,\n  defaultOk: 'Ok',\n  defaultOkKey: 'enter',\n  defaultCancel: 'Cancel',\n  defaultCancelKey: 'esc',\n  closeOnOutsideClick: true,\n  escToClose: true,\n  onClose: function onClose() {},\n  onOpen: function onOpen() {}\n});\n\nPopup.propTypes = {\n  className: _propTypes.default.string,\n  btnClass: _propTypes.default.string,\n  closeBtn: _propTypes.default.bool,\n  closeHtml: _propTypes.default.node,\n  defaultOk: _propTypes.default.string,\n  defaultOkKey: _propTypes.default.string,\n  defaultCancel: _propTypes.default.string,\n  defaultCancelKey: _propTypes.default.string,\n  closeOnOutsideClick: _propTypes.default.bool,\n  escToClose: _propTypes.default.bool,\n  onClose: _propTypes.default.func,\n  onOpen: _propTypes.default.func\n};\nvar _default = Popup;\nexports.default = _default;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  ;\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n\n  ; // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;","//     keymaster.js\n//     (c) 2011-2013 Thomas Fuchs\n//     keymaster.js may be freely distributed under the MIT license.\n;\n\n(function (global) {\n  var k,\n      _handlers = {},\n      _mods = {\n    16: false,\n    18: false,\n    17: false,\n    91: false\n  },\n      _scope = 'all',\n      // modifier keys\n  _MODIFIERS = {\n    '': 16,\n    shift: 16,\n    '': 18,\n    alt: 18,\n    option: 18,\n    '': 17,\n    ctrl: 17,\n    control: 17,\n    '': 91,\n    command: 91\n  },\n      // special keys\n  _MAP = {\n    backspace: 8,\n    tab: 9,\n    clear: 12,\n    enter: 13,\n    'return': 13,\n    esc: 27,\n    escape: 27,\n    space: 32,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    del: 46,\n    'delete': 46,\n    home: 36,\n    end: 35,\n    pageup: 33,\n    pagedown: 34,\n    ',': 188,\n    '.': 190,\n    '/': 191,\n    '`': 192,\n    '-': 189,\n    '=': 187,\n    ';': 186,\n    '\\'': 222,\n    '[': 219,\n    ']': 221,\n    '\\\\': 220\n  },\n      code = function code(x) {\n    return _MAP[x] || x.toUpperCase().charCodeAt(0);\n  },\n      _downKeys = [];\n\n  for (k = 1; k < 20; k++) {\n    _MAP['f' + k] = 111 + k;\n  } // IE doesn't support Array#indexOf, so have a simple replacement\n\n\n  function index(array, item) {\n    var i = array.length;\n\n    while (i--) {\n      if (array[i] === item) return i;\n    }\n\n    return -1;\n  } // for comparing mods before unassignment\n\n\n  function compareArray(a1, a2) {\n    if (a1.length != a2.length) return false;\n\n    for (var i = 0; i < a1.length; i++) {\n      if (a1[i] !== a2[i]) return false;\n    }\n\n    return true;\n  }\n\n  var modifierMap = {\n    16: 'shiftKey',\n    18: 'altKey',\n    17: 'ctrlKey',\n    91: 'metaKey'\n  };\n\n  function updateModifierKey(event) {\n    for (k in _mods) {\n      _mods[k] = event[modifierMap[k]];\n    }\n  }\n\n  ; // handle keydown event\n\n  function dispatch(event) {\n    var key, handler, k, i, modifiersMatch, scope;\n    key = event.keyCode;\n\n    if (index(_downKeys, key) == -1) {\n      _downKeys.push(key);\n    } // if a modifier key, set the key.<modifierkeyname> property to true and return\n\n\n    if (key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\n\n    if (key in _mods) {\n      _mods[key] = true; // 'assignKey' from inside this closure is exported to window.key\n\n      for (k in _MODIFIERS) {\n        if (_MODIFIERS[k] == key) assignKey[k] = true;\n      }\n\n      return;\n    }\n\n    updateModifierKey(event); // see if we need to ignore the keypress (filter() can can be overridden)\n    // by default ignore key presses if a select, textarea, or input is focused\n\n    if (!assignKey.filter.call(this, event)) return; // abort if no potentially matching shortcuts found\n\n    if (!(key in _handlers)) return;\n    scope = getScope(); // for each potential shortcut\n\n    for (i = 0; i < _handlers[key].length; i++) {\n      handler = _handlers[key][i]; // see if it's in the current scope\n\n      if (handler.scope == scope || handler.scope == 'all') {\n        // check if modifiers match if any\n        modifiersMatch = handler.mods.length > 0;\n\n        for (k in _mods) {\n          if (!_mods[k] && index(handler.mods, +k) > -1 || _mods[k] && index(handler.mods, +k) == -1) modifiersMatch = false;\n        } // call the handler and stop the event if neccessary\n\n\n        if (handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch) {\n          if (handler.method(event, handler) === false) {\n            if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n            if (event.stopPropagation) event.stopPropagation();\n            if (event.cancelBubble) event.cancelBubble = true;\n          }\n        }\n      }\n    }\n  }\n\n  ; // unset modifier keys on keyup\n\n  function clearModifier(event) {\n    var key = event.keyCode,\n        k,\n        i = index(_downKeys, key); // remove key from _downKeys\n\n    if (i >= 0) {\n      _downKeys.splice(i, 1);\n    }\n\n    if (key == 93 || key == 224) key = 91;\n\n    if (key in _mods) {\n      _mods[key] = false;\n\n      for (k in _MODIFIERS) {\n        if (_MODIFIERS[k] == key) assignKey[k] = false;\n      }\n    }\n  }\n\n  ;\n\n  function resetModifiers() {\n    for (k in _mods) {\n      _mods[k] = false;\n    }\n\n    for (k in _MODIFIERS) {\n      assignKey[k] = false;\n    }\n  }\n\n  ; // parse and assign shortcut\n\n  function assignKey(key, scope, method) {\n    var keys, mods;\n    keys = getKeys(key);\n\n    if (method === undefined) {\n      method = scope;\n      scope = 'all';\n    } // for each shortcut\n\n\n    for (var i = 0; i < keys.length; i++) {\n      // set modifier keys if any\n      mods = [];\n      key = keys[i].split('+');\n\n      if (key.length > 1) {\n        mods = getMods(key);\n        key = [key[key.length - 1]];\n      } // convert to keycode and...\n\n\n      key = key[0];\n      key = code(key); // ...store handler\n\n      if (!(key in _handlers)) _handlers[key] = [];\n\n      _handlers[key].push({\n        shortcut: keys[i],\n        scope: scope,\n        method: method,\n        key: keys[i],\n        mods: mods\n      });\n    }\n  }\n\n  ; // unbind all handlers for given key in current scope\n\n  function unbindKey(key, scope) {\n    var multipleKeys,\n        keys,\n        mods = [],\n        i,\n        j,\n        obj;\n    multipleKeys = getKeys(key);\n\n    for (j = 0; j < multipleKeys.length; j++) {\n      keys = multipleKeys[j].split('+');\n\n      if (keys.length > 1) {\n        mods = getMods(keys);\n        key = keys[keys.length - 1];\n      }\n\n      key = code(key);\n\n      if (scope === undefined) {\n        scope = getScope();\n      }\n\n      if (!_handlers[key]) {\n        return;\n      }\n\n      for (i = 0; i < _handlers[key].length; i++) {\n        obj = _handlers[key][i]; // only clear handlers if correct scope and mods match\n\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\n          _handlers[key][i] = {};\n        }\n      }\n    }\n  }\n\n  ; // Returns true if the key with code 'keyCode' is currently down\n  // Converts strings into key codes.\n\n  function isPressed(keyCode) {\n    if (typeof keyCode == 'string') {\n      keyCode = code(keyCode);\n    }\n\n    return index(_downKeys, keyCode) != -1;\n  }\n\n  function getPressedKeyCodes() {\n    return _downKeys.slice(0);\n  }\n\n  function filter(event) {\n    var tagName = (event.target || event.srcElement).tagName; // ignore keypressed in any elements that support keyboard data input\n\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\n  } // initialize key.<modifier> to false\n\n\n  for (k in _MODIFIERS) {\n    assignKey[k] = false;\n  } // set current scope (default 'all')\n\n\n  function setScope(scope) {\n    _scope = scope || 'all';\n  }\n\n  ;\n\n  function getScope() {\n    return _scope || 'all';\n  }\n\n  ; // delete all handlers for a given scope\n\n  function deleteScope(scope) {\n    var key, handlers, i;\n\n    for (key in _handlers) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  }\n\n  ; // abstract key logic for assign and unassign\n\n  function getKeys(key) {\n    var keys;\n    key = key.replace(/\\s/g, '');\n    keys = key.split(',');\n\n    if (keys[keys.length - 1] == '') {\n      keys[keys.length - 2] += ',';\n    }\n\n    return keys;\n  } // abstract mods logic for assign and unassign\n\n\n  function getMods(key) {\n    var mods = key.slice(0, key.length - 1);\n\n    for (var mi = 0; mi < mods.length; mi++) {\n      mods[mi] = _MODIFIERS[mods[mi]];\n    }\n\n    return mods;\n  } // cross-browser events\n\n\n  function addEvent(object, event, method) {\n    if (object.addEventListener) object.addEventListener(event, method, false);else if (object.attachEvent) object.attachEvent('on' + event, function () {\n      method(window.event);\n    });\n  }\n\n  ; // set the handlers globally on document\n\n  addEvent(document, 'keydown', function (event) {\n    dispatch(event);\n  }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\n\n  addEvent(document, 'keyup', clearModifier); // reset modifiers to false whenever the window is (re)focused.\n\n  addEvent(window, 'focus', resetModifiers); // store previously defined key\n\n  var previousKey = global.key; // restore previously defined key and return reference to our key object\n\n  function noConflict() {\n    var k = global.key;\n    global.key = previousKey;\n    return k;\n  } // set window.key and window.key.set/get/deleteScope, and the default filter\n\n\n  global.key = assignKey;\n  global.key.setScope = setScope;\n  global.key.getScope = getScope;\n  global.key.deleteScope = deleteScope;\n  global.key.filter = filter;\n  global.key.isPressed = isPressed;\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\n  global.key.noConflict = noConflict;\n  global.key.unbind = unbindKey;\n  if (typeof module !== 'undefined') module.exports = assignKey;\n})(this);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _events = require(\"events\");\n\nvar _Constants = _interopRequireDefault(require(\"./Constants\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nvar PopupStore =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  function PopupStore(props) {\n    var _this;\n\n    _classCallCheck(this, PopupStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PopupStore).call(this, props));\n    _this.id = 1;\n    _this.popups = {};\n    _this.queue = [];\n    _this.active = null;\n    _this.plugins = {};\n    return _this;\n  }\n  /**\n   * Get popup ID\n   */\n\n\n  _createClass(PopupStore, [{\n    key: \"getId\",\n    value: function getId() {\n      return \"id_\".concat(this.id++);\n    }\n    /**\n     * Get active popup\n     * @returns {*}\n     */\n\n  }, {\n    key: \"activePopup\",\n    value: function activePopup() {\n      return this.popups[this.active];\n    }\n    /**\n     * Close current popup\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (!this.active) {\n        return false;\n      }\n\n      var id = this.active;\n      this.active = null;\n      this.emit(_Constants.default.CLOSE, id);\n      this.dispatch();\n      this.value = null;\n      return id;\n    }\n    /**\n     * Dispatch next popup in queue\n     */\n\n  }, {\n    key: \"dispatch\",\n    value: function dispatch() {\n      if (this.active || this.queue.length < 1) {\n        return false;\n      }\n\n      var id = this.queue.shift();\n      /** Set active */\n\n      this.active = id;\n      this.emit(_Constants.default.SHOW, id);\n      return true;\n    }\n    /**\n     * Refresh popup position\n     * @param position\n     */\n\n  }, {\n    key: \"refreshPosition\",\n    value: function refreshPosition(position) {\n      this.emit(_Constants.default.REFRESH, position);\n    }\n    /**\n     * Clear queue\n     */\n\n  }, {\n    key: \"clearQueue\",\n    value: function clearQueue() {\n      this.queue = [];\n    }\n  }]);\n\n  _inherits(PopupStore, _EventEmitter);\n\n  return PopupStore;\n}(_events.EventEmitter);\n\nexports.default = PopupStore;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = $getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  var args = [];\n\n  for (var i = 0; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar PopupHeader = function PopupHeader(props) {\n  if (!props.title) {\n    return null;\n  }\n\n  return _react.default.createElement(\"header\", {\n    className: props.className\n  }, _react.default.createElement(\"h1\", {\n    className: \"\".concat(props.className, \"__title\")\n  }, props.title));\n};\n\nPopupHeader.defaultProps = {\n  title: null,\n  className: null\n};\nPopupHeader.propTypes = {\n  title: _propTypes.default.string,\n  className: _propTypes.default.string\n};\nvar _default = PopupHeader;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ButtonsSpace = _interopRequireDefault(require(\"./ButtonsSpace.react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar PopupFooter = function PopupFooter(props) {\n  if (!props.buttons) {\n    return null;\n  }\n\n  return _react.default.createElement(\"footer\", {\n    className: props.className\n  }, _react.default.createElement(_ButtonsSpace.default, {\n    buttonClick: props.buttonClick,\n    onOk: props.onOk,\n    onClose: props.onClose,\n    className: \"\".concat(props.className, \"__left-space\"),\n    btnClass: props.btnClass,\n    defaultOk: props.defaultOk,\n    defaultCancel: props.defaultCancel,\n    buttons: props.buttons.left\n  }), _react.default.createElement(_ButtonsSpace.default, {\n    buttonClick: props.buttonClick,\n    onOk: props.onOk,\n    onClose: props.onClose,\n    className: \"\".concat(props.className, \"__right-space\"),\n    btnClass: props.btnClass,\n    defaultOk: props.defaultOk,\n    defaultCancel: props.defaultCancel,\n    buttons: props.buttons.right\n  }));\n};\n\nPopupFooter.propTypes = {\n  buttons: _propTypes.default.shape({\n    left: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n    right: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]))\n  }),\n  className: _propTypes.default.string,\n  btnClass: _propTypes.default.string,\n  onOk: _propTypes.default.func,\n  onClose: _propTypes.default.func,\n  buttonClick: _propTypes.default.func,\n  defaultOk: _propTypes.default.string,\n  defaultCancel: _propTypes.default.string\n};\nPopupFooter.defaultProps = {\n  buttons: null,\n  className: null,\n  btnClass: null,\n  defaultOk: null,\n  defaultCancel: null,\n  buttonClick: function buttonClick() {},\n  onOk: function onOk() {},\n  onClose: function onClose() {}\n};\nvar _default = PopupFooter;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ActionButton = _interopRequireDefault(require(\"./ActionButton.react\"));\n\nvar _Bem = require(\"./Bem\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar PopupFooterButtons =\n/*#__PURE__*/\nfunction (_React$Component) {\n  function PopupFooterButtons() {\n    _classCallCheck(this, PopupFooterButtons);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PopupFooterButtons).apply(this, arguments));\n  }\n\n  _createClass(PopupFooterButtons, [{\n    key: \"onOk\",\n    value: function onOk() {\n      return this.props.onOk();\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      return this.props.onClose();\n    }\n  }, {\n    key: \"buttonClick\",\n    value: function buttonClick(action) {\n      return this.props.buttonClick(action);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      if (!this.props.buttons) {\n        return null;\n      }\n\n      var btns = [];\n      this.props.buttons.forEach(function (btn, i) {\n        var url = btn.url ? btn.url : null;\n        var key = i;\n\n        if (typeof btn === 'string') {\n          if (btn === 'ok') {\n            btns.push(_react.default.createElement(_ActionButton.default, {\n              className: \"\".concat(_this.props.btnClass, \" \").concat(_this.props.btnClass, \"--ok\"),\n              key: key,\n              onClick: function onClick() {\n                return _this.onOk();\n              }\n            }, _this.props.defaultOk));\n          } else if (btn === 'cancel') {\n            btns.push(_react.default.createElement(_ActionButton.default, {\n              className: \"\".concat(_this.props.btnClass, \" \").concat(_this.props.btnClass, \"--cancel\"),\n              key: key,\n              onClick: function onClick() {\n                return _this.onClose();\n              }\n            }, _this.props.defaultCancel));\n          }\n        } else if (_react.default.isValidElement(btn)) {\n          btns.push(btn);\n        } else {\n          var className = \"\".concat(_this.props.btnClass, \" \").concat((0, _Bem.modifier)(btn.className, _this.props.btnClass));\n\n          var btnComponent = _react.default.createElement(_ActionButton.default, {\n            className: className,\n            key: key,\n            url: url,\n            onClick: function onClick() {\n              return _this.buttonClick(btn.action);\n            }\n          }, btn.text);\n\n          btns.push(btnComponent);\n        }\n      });\n      return _react.default.createElement(\"div\", {\n        className: this.props.className\n      }, btns);\n    }\n  }]);\n\n  _inherits(PopupFooterButtons, _React$Component);\n\n  return PopupFooterButtons;\n}(_react.default.Component);\n\nexports.default = PopupFooterButtons;\n\n_defineProperty(PopupFooterButtons, \"defaultProps\", {\n  buttons: null,\n  className: null,\n  onOk: function onOk() {},\n  onClose: function onClose() {},\n  buttonClick: function buttonClick() {},\n  btnClass: null,\n  defaultOk: null,\n  defaultCancel: null\n});\n\nPopupFooterButtons.propTypes = {\n  buttons: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n  className: _propTypes.default.string,\n  onOk: _propTypes.default.func,\n  onClose: _propTypes.default.func,\n  buttonClick: _propTypes.default.func,\n  btnClass: _propTypes.default.string,\n  defaultOk: _propTypes.default.string,\n  defaultCancel: _propTypes.default.string\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  _setPrototypeOf(subClass.prototype, superClass && superClass.prototype);\n\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.getPrototypeOf || function _getPrototypeOf(o) {\n    return o.__proto__;\n  };\n\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar PopupAction =\n/*#__PURE__*/\nfunction (_React$Component) {\n  function PopupAction() {\n    _classCallCheck(this, PopupAction);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PopupAction).apply(this, arguments));\n  }\n\n  _createClass(PopupAction, [{\n    key: \"handleClick\",\n    value: function handleClick() {\n      return this.props.onClick();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var className = this.props.className;\n\n      if (this.props.url && this.props.url !== '#') {\n        return _react.default.createElement(\"a\", {\n          href: this.props.url,\n          target: \"_blank\",\n          className: className\n        }, this.props.children);\n      }\n\n      return _react.default.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this.handleClick();\n        },\n        className: className\n      }, this.props.children);\n    }\n  }]);\n\n  _inherits(PopupAction, _React$Component);\n\n  return PopupAction;\n}(_react.default.Component);\n\n_defineProperty(PopupAction, \"defaultProps\", {\n  onClick: function onClick() {},\n  className: 'btn',\n  url: null\n});\n\nPopupAction.propTypes = {\n  onClick: _propTypes.default.func,\n  className: _propTypes.default.string,\n  children: _propTypes.default.node.isRequired,\n  url: _propTypes.default.string\n};\nvar _default = PopupAction;\nexports.default = _default;","module.exports = isFunction;\nvar toString = Object.prototype.toString;\n\nfunction isFunction(fn) {\n  var string = toString.call(fn);\n  return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n  fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n}\n\n;","var trim = require('string.prototype.trim'),\n    forEach = require('for-each'),\n    isArray = function isArray(arg) {\n  return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\nmodule.exports = function (headers) {\n  if (!headers) return {};\n  var result = {};\n  forEach(trim(headers).split('\\n'), function (row) {\n    var index = row.indexOf(':'),\n        key = trim(row.slice(0, index)).toLowerCase(),\n        value = trim(row.slice(index + 1));\n\n    if (typeof result[key] === 'undefined') {\n      result[key] = value;\n    } else if (isArray(result[key])) {\n      result[key].push(value);\n    } else {\n      result[key] = [result[key], value];\n    }\n  });\n  return result;\n};","'use strict';\n\nvar bind = require('function-bind');\n\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\n\nvar getPolyfill = require('./polyfill');\n\nvar shim = require('./shim');\n\nvar boundTrim = bind.call(Function.call, getPolyfill());\ndefine(boundTrim, {\n  getPolyfill: getPolyfill,\n  implementation: implementation,\n  shim: shim\n});\nmodule.exports = boundTrim;","'use strict';\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n  var target = this;\n\n  if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n    throw new TypeError(ERROR_MESSAGE + target);\n  }\n\n  var args = slice.call(arguments, 1);\n  var bound;\n\n  var binder = function binder() {\n    if (this instanceof bound) {\n      var result = target.apply(this, args.concat(slice.call(arguments)));\n\n      if (Object(result) === result) {\n        return result;\n      }\n\n      return this;\n    } else {\n      return target.apply(that, args.concat(slice.call(arguments)));\n    }\n  };\n\n  var boundLength = Math.max(0, target.length - args.length);\n  var boundArgs = [];\n\n  for (var i = 0; i < boundLength; i++) {\n    boundArgs.push('$' + i);\n  }\n\n  bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n  if (target.prototype) {\n    var Empty = function Empty() {};\n\n    Empty.prototype = target.prototype;\n    bound.prototype = new Empty();\n    Empty.prototype = null;\n  }\n\n  return bound;\n};","'use strict';\n\nvar slice = Array.prototype.slice;\n\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) {\n  return origKeys(o);\n} : require('./implementation');\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n  if (Object.keys) {\n    var keysWorksWithArguments = function () {\n      // Safari 5.0 bug\n      var args = Object.keys(arguments);\n      return args && args.length === arguments.length;\n    }(1, 2);\n\n    if (!keysWorksWithArguments) {\n      Object.keys = function keys(object) {\n        // eslint-disable-line func-name-matching\n        if (isArgs(object)) {\n          return originalKeys(slice.call(object));\n        }\n\n        return originalKeys(object);\n      };\n    }\n  } else {\n    Object.keys = keysShim;\n  }\n\n  return Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;","'use strict';\n\nvar keysShim;\n\nif (!Object.keys) {\n  // modified from https://github.com/es-shims/es5-shim\n  var has = Object.prototype.hasOwnProperty;\n  var toStr = Object.prototype.toString;\n\n  var isArgs = require('./isArguments'); // eslint-disable-line global-require\n\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var hasDontEnumBug = !isEnumerable.call({\n    toString: null\n  }, 'toString');\n  var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n  var dontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\n\n  var equalsConstructorPrototype = function equalsConstructorPrototype(o) {\n    var ctor = o.constructor;\n    return ctor && ctor.prototype === o;\n  };\n\n  var excludedKeys = {\n    $applicationCache: true,\n    $console: true,\n    $external: true,\n    $frame: true,\n    $frameElement: true,\n    $frames: true,\n    $innerHeight: true,\n    $innerWidth: true,\n    $onmozfullscreenchange: true,\n    $onmozfullscreenerror: true,\n    $outerHeight: true,\n    $outerWidth: true,\n    $pageXOffset: true,\n    $pageYOffset: true,\n    $parent: true,\n    $scrollLeft: true,\n    $scrollTop: true,\n    $scrollX: true,\n    $scrollY: true,\n    $self: true,\n    $webkitIndexedDB: true,\n    $webkitStorageInfo: true,\n    $window: true\n  };\n\n  var hasAutomationEqualityBug = function () {\n    /* global window */\n    if (typeof window === 'undefined') {\n      return false;\n    }\n\n    for (var k in window) {\n      try {\n        if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n          try {\n            equalsConstructorPrototype(window[k]);\n          } catch (e) {\n            return true;\n          }\n        }\n      } catch (e) {\n        return true;\n      }\n    }\n\n    return false;\n  }();\n\n  var equalsConstructorPrototypeIfNotBuggy = function equalsConstructorPrototypeIfNotBuggy(o) {\n    /* global window */\n    if (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n      return equalsConstructorPrototype(o);\n    }\n\n    try {\n      return equalsConstructorPrototype(o);\n    } catch (e) {\n      return false;\n    }\n  };\n\n  keysShim = function keys(object) {\n    var isObject = object !== null && typeof object === 'object';\n    var isFunction = toStr.call(object) === '[object Function]';\n    var isArguments = isArgs(object);\n    var isString = isObject && toStr.call(object) === '[object String]';\n    var theKeys = [];\n\n    if (!isObject && !isFunction && !isArguments) {\n      throw new TypeError('Object.keys called on a non-object');\n    }\n\n    var skipProto = hasProtoEnumBug && isFunction;\n\n    if (isString && object.length > 0 && !has.call(object, 0)) {\n      for (var i = 0; i < object.length; ++i) {\n        theKeys.push(String(i));\n      }\n    }\n\n    if (isArguments && object.length > 0) {\n      for (var j = 0; j < object.length; ++j) {\n        theKeys.push(String(j));\n      }\n    } else {\n      for (var name in object) {\n        if (!(skipProto && name === 'prototype') && has.call(object, name)) {\n          theKeys.push(String(name));\n        }\n      }\n    }\n\n    if (hasDontEnumBug) {\n      var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n      for (var k = 0; k < dontEnums.length; ++k) {\n        if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n          theKeys.push(dontEnums[k]);\n        }\n      }\n    }\n\n    return theKeys;\n  };\n}\n\nmodule.exports = keysShim;","'use strict';\n\nvar GetIntrinsic = require('./GetIntrinsic');\n\nvar $Object = GetIntrinsic('%Object%');\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $String = GetIntrinsic('%String%');\n\nvar assertRecord = require('./helpers/assertRecord');\n\nvar $isNaN = require('./helpers/isNaN');\n\nvar $isFinite = require('./helpers/isFinite');\n\nvar sign = require('./helpers/sign');\n\nvar mod = require('./helpers/mod');\n\nvar IsCallable = require('is-callable');\n\nvar toPrimitive = require('es-to-primitive/es5');\n\nvar has = require('has'); // https://es5.github.io/#x9\n\n\nvar ES5 = {\n  ToPrimitive: toPrimitive,\n  ToBoolean: function ToBoolean(value) {\n    return !!value;\n  },\n  ToNumber: function ToNumber(value) {\n    return +value; // eslint-disable-line no-implicit-coercion\n  },\n  ToInteger: function ToInteger(value) {\n    var number = this.ToNumber(value);\n\n    if ($isNaN(number)) {\n      return 0;\n    }\n\n    if (number === 0 || !$isFinite(number)) {\n      return number;\n    }\n\n    return sign(number) * Math.floor(Math.abs(number));\n  },\n  ToInt32: function ToInt32(x) {\n    return this.ToNumber(x) >> 0;\n  },\n  ToUint32: function ToUint32(x) {\n    return this.ToNumber(x) >>> 0;\n  },\n  ToUint16: function ToUint16(value) {\n    var number = this.ToNumber(value);\n\n    if ($isNaN(number) || number === 0 || !$isFinite(number)) {\n      return 0;\n    }\n\n    var posInt = sign(number) * Math.floor(Math.abs(number));\n    return mod(posInt, 0x10000);\n  },\n  ToString: function ToString(value) {\n    return $String(value);\n  },\n  ToObject: function ToObject(value) {\n    this.CheckObjectCoercible(value);\n    return $Object(value);\n  },\n  CheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {\n    /* jshint eqnull:true */\n    if (value == null) {\n      throw new $TypeError(optMessage || 'Cannot call method on ' + value);\n    }\n\n    return value;\n  },\n  IsCallable: IsCallable,\n  SameValue: function SameValue(x, y) {\n    if (x === y) {\n      // 0 === -0, but they are not identical.\n      if (x === 0) {\n        return 1 / x === 1 / y;\n      }\n\n      return true;\n    }\n\n    return $isNaN(x) && $isNaN(y);\n  },\n  // https://www.ecma-international.org/ecma-262/5.1/#sec-8\n  Type: function Type(x) {\n    if (x === null) {\n      return 'Null';\n    }\n\n    if (typeof x === 'undefined') {\n      return 'Undefined';\n    }\n\n    if (typeof x === 'function' || typeof x === 'object') {\n      return 'Object';\n    }\n\n    if (typeof x === 'number') {\n      return 'Number';\n    }\n\n    if (typeof x === 'boolean') {\n      return 'Boolean';\n    }\n\n    if (typeof x === 'string') {\n      return 'String';\n    }\n  },\n  // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n  IsPropertyDescriptor: function IsPropertyDescriptor(Desc) {\n    if (this.Type(Desc) !== 'Object') {\n      return false;\n    }\n\n    var allowed = {\n      '[[Configurable]]': true,\n      '[[Enumerable]]': true,\n      '[[Get]]': true,\n      '[[Set]]': true,\n      '[[Value]]': true,\n      '[[Writable]]': true\n    };\n\n    for (var key in Desc) {\n      // eslint-disable-line\n      if (has(Desc, key) && !allowed[key]) {\n        return false;\n      }\n    }\n\n    var isData = has(Desc, '[[Value]]');\n    var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\n    if (isData && IsAccessor) {\n      throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n    }\n\n    return true;\n  },\n  // https://ecma-international.org/ecma-262/5.1/#sec-8.10.1\n  IsAccessorDescriptor: function IsAccessorDescriptor(Desc) {\n    if (typeof Desc === 'undefined') {\n      return false;\n    }\n\n    assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n    if (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {\n      return false;\n    }\n\n    return true;\n  },\n  // https://ecma-international.org/ecma-262/5.1/#sec-8.10.2\n  IsDataDescriptor: function IsDataDescriptor(Desc) {\n    if (typeof Desc === 'undefined') {\n      return false;\n    }\n\n    assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n    if (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {\n      return false;\n    }\n\n    return true;\n  },\n  // https://ecma-international.org/ecma-262/5.1/#sec-8.10.3\n  IsGenericDescriptor: function IsGenericDescriptor(Desc) {\n    if (typeof Desc === 'undefined') {\n      return false;\n    }\n\n    assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n    if (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {\n      return true;\n    }\n\n    return false;\n  },\n  // https://ecma-international.org/ecma-262/5.1/#sec-8.10.4\n  FromPropertyDescriptor: function FromPropertyDescriptor(Desc) {\n    if (typeof Desc === 'undefined') {\n      return Desc;\n    }\n\n    assertRecord(this, 'Property Descriptor', 'Desc', Desc);\n\n    if (this.IsDataDescriptor(Desc)) {\n      return {\n        value: Desc['[[Value]]'],\n        writable: !!Desc['[[Writable]]'],\n        enumerable: !!Desc['[[Enumerable]]'],\n        configurable: !!Desc['[[Configurable]]']\n      };\n    } else if (this.IsAccessorDescriptor(Desc)) {\n      return {\n        get: Desc['[[Get]]'],\n        set: Desc['[[Set]]'],\n        enumerable: !!Desc['[[Enumerable]]'],\n        configurable: !!Desc['[[Configurable]]']\n      };\n    } else {\n      throw new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');\n    }\n  },\n  // https://ecma-international.org/ecma-262/5.1/#sec-8.10.5\n  ToPropertyDescriptor: function ToPropertyDescriptor(Obj) {\n    if (this.Type(Obj) !== 'Object') {\n      throw new $TypeError('ToPropertyDescriptor requires an object');\n    }\n\n    var desc = {};\n\n    if (has(Obj, 'enumerable')) {\n      desc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);\n    }\n\n    if (has(Obj, 'configurable')) {\n      desc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);\n    }\n\n    if (has(Obj, 'value')) {\n      desc['[[Value]]'] = Obj.value;\n    }\n\n    if (has(Obj, 'writable')) {\n      desc['[[Writable]]'] = this.ToBoolean(Obj.writable);\n    }\n\n    if (has(Obj, 'get')) {\n      var getter = Obj.get;\n\n      if (typeof getter !== 'undefined' && !this.IsCallable(getter)) {\n        throw new TypeError('getter must be a function');\n      }\n\n      desc['[[Get]]'] = getter;\n    }\n\n    if (has(Obj, 'set')) {\n      var setter = Obj.set;\n\n      if (typeof setter !== 'undefined' && !this.IsCallable(setter)) {\n        throw new $TypeError('setter must be a function');\n      }\n\n      desc['[[Set]]'] = setter;\n    }\n\n    if ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {\n      throw new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');\n    }\n\n    return desc;\n  }\n};\nmodule.exports = ES5;","'use strict';\n\nvar GetIntrinsic = require('../GetIntrinsic');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $SyntaxError = GetIntrinsic('%SyntaxError%');\n\nvar has = require('has');\n\nvar predicates = {\n  // https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type\n  'Property Descriptor': function isPropertyDescriptor(ES, Desc) {\n    if (ES.Type(Desc) !== 'Object') {\n      return false;\n    }\n\n    var allowed = {\n      '[[Configurable]]': true,\n      '[[Enumerable]]': true,\n      '[[Get]]': true,\n      '[[Set]]': true,\n      '[[Value]]': true,\n      '[[Writable]]': true\n    };\n\n    for (var key in Desc) {\n      // eslint-disable-line\n      if (has(Desc, key) && !allowed[key]) {\n        return false;\n      }\n    }\n\n    var isData = has(Desc, '[[Value]]');\n    var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');\n\n    if (isData && IsAccessor) {\n      throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');\n    }\n\n    return true;\n  }\n};\n\nmodule.exports = function assertRecord(ES, recordType, argumentName, value) {\n  var predicate = predicates[recordType];\n\n  if (typeof predicate !== 'function') {\n    throw new $SyntaxError('unknown record type: ' + recordType);\n  }\n\n  if (!predicate(ES, value)) {\n    throw new $TypeError(argumentName + ' must be a ' + recordType);\n  }\n\n  console.log(predicate(ES, value), value);\n};","module.exports = Number.isNaN || function isNaN(a) {\n  return a !== a;\n};","var $isNaN = Number.isNaN || function (a) {\n  return a !== a;\n};\n\nmodule.exports = Number.isFinite || function (x) {\n  return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity;\n};","module.exports = function sign(number) {\n  return number >= 0 ? 1 : -1;\n};","module.exports = function mod(number, modulo) {\n  var remain = number % modulo;\n  return Math.floor(remain >= 0 ? remain : remain + modulo);\n};","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nvar isPrimitive = require('./helpers/isPrimitive');\n\nvar isCallable = require('is-callable'); // http://ecma-international.org/ecma-262/5.1/#sec-8.12.8\n\n\nvar ES5internalSlots = {\n  '[[DefaultValue]]': function DefaultValue(O) {\n    var actualHint;\n\n    if (arguments.length > 1) {\n      actualHint = arguments[1];\n    } else {\n      actualHint = toStr.call(O) === '[object Date]' ? String : Number;\n    }\n\n    if (actualHint === String || actualHint === Number) {\n      var methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];\n      var value, i;\n\n      for (i = 0; i < methods.length; ++i) {\n        if (isCallable(O[methods[i]])) {\n          value = O[methods[i]]();\n\n          if (isPrimitive(value)) {\n            return value;\n          }\n        }\n      }\n\n      throw new TypeError('No default value');\n    }\n\n    throw new TypeError('invalid [[DefaultValue]] hint supplied');\n  }\n}; // http://ecma-international.org/ecma-262/5.1/#sec-9.1\n\nmodule.exports = function ToPrimitive(input) {\n  if (isPrimitive(input)) {\n    return input;\n  }\n\n  if (arguments.length > 1) {\n    return ES5internalSlots['[[DefaultValue]]'](input, arguments[1]);\n  }\n\n  return ES5internalSlots['[[DefaultValue]]'](input);\n};","module.exports = function isPrimitive(value) {\n  return value === null || typeof value !== 'function' && typeof value !== 'object';\n};","'use strict';\n\nvar define = require('define-properties');\n\nvar getPolyfill = require('./polyfill');\n\nmodule.exports = function shimStringTrim() {\n  var polyfill = getPolyfill();\n  define(String.prototype, {\n    trim: polyfill\n  }, {\n    trim: function testTrim() {\n      return String.prototype.trim !== polyfill;\n    }\n  });\n  return polyfill;\n};","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n  for (var i = 0, len = array.length; i < len; i++) {\n    if (hasOwnProperty.call(array, i)) {\n      if (receiver == null) {\n        iterator(array[i], i, array);\n      } else {\n        iterator.call(receiver, array[i], i, array);\n      }\n    }\n  }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n  for (var i = 0, len = string.length; i < len; i++) {\n    // no such thing as a sparse string.\n    if (receiver == null) {\n      iterator(string.charAt(i), i, string);\n    } else {\n      iterator.call(receiver, string.charAt(i), i, string);\n    }\n  }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n  for (var k in object) {\n    if (hasOwnProperty.call(object, k)) {\n      if (receiver == null) {\n        iterator(object[k], k, object);\n      } else {\n        iterator.call(receiver, object[k], k, object);\n      }\n    }\n  }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n  if (!isCallable(iterator)) {\n    throw new TypeError('iterator must be a function');\n  }\n\n  var receiver;\n\n  if (arguments.length >= 3) {\n    receiver = thisArg;\n  }\n\n  if (toStr.call(list) === '[object Array]') {\n    forEachArray(list, iterator, receiver);\n  } else if (typeof list === 'string') {\n    forEachString(list, iterator, receiver);\n  } else {\n    forEachObject(list, iterator, receiver);\n  }\n};\n\nmodule.exports = forEach;","module.exports = extend;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n  var target = {};\n\n  for (var i = 0; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n}","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\nvar _objCreate = Object.create || function () {\n  function F() {}\n\n  return function (o) {\n    if (arguments.length !== 1) {\n      throw new Error('Object.create shim only accepts one parameter.');\n    }\n\n    F.prototype = o;\n    return new F();\n  };\n}(); // Creates a new ParserError object from an errorData object. The errorData\n// object should have default code and message properties. The default message\n// property can be overriden by passing in a message parameter.\n// See ParsingError.Errors below for acceptable errors.\n\n\nfunction ParsingError(errorData, message) {\n  this.name = \"ParsingError\";\n  this.code = errorData.code;\n  this.message = message || errorData.message;\n}\n\nParsingError.prototype = _objCreate(Error.prototype);\nParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\nParsingError.Errors = {\n  BadSignature: {\n    code: 0,\n    message: \"Malformed WebVTT signature.\"\n  },\n  BadTimeStamp: {\n    code: 1,\n    message: \"Malformed time stamp.\"\n  }\n}; // Try to parse input as a time stamp.\n\nfunction parseTimeStamp(input) {\n  function computeSeconds(h, m, s, f) {\n    return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n  }\n\n  var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n\n  if (!m) {\n    return null;\n  }\n\n  if (m[3]) {\n    // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n    return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n  } else if (m[1] > 59) {\n    // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n    // First position is hours as it's over 59.\n    return computeSeconds(m[1], m[2], 0, m[4]);\n  } else {\n    // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n    return computeSeconds(0, m[1], m[2], m[4]);\n  }\n} // A settings object holds key/value pairs and will ignore anything but the first\n// assignment to a specific key.\n\n\nfunction Settings() {\n  this.values = _objCreate(null);\n}\n\nSettings.prototype = {\n  // Only accept the first assignment to any key.\n  set: function set(k, v) {\n    if (!this.get(k) && v !== \"\") {\n      this.values[k] = v;\n    }\n  },\n  // Return the value for a key, or a default value.\n  // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n  // a number of possible default values as properties where 'defaultKey' is\n  // the key of the property that will be chosen; otherwise it's assumed to be\n  // a single value.\n  get: function get(k, dflt, defaultKey) {\n    if (defaultKey) {\n      return this.has(k) ? this.values[k] : dflt[defaultKey];\n    }\n\n    return this.has(k) ? this.values[k] : dflt;\n  },\n  // Check whether we have a value for a key.\n  has: function has(k) {\n    return k in this.values;\n  },\n  // Accept a setting if its one of the given alternatives.\n  alt: function alt(k, v, a) {\n    for (var n = 0; n < a.length; ++n) {\n      if (v === a[n]) {\n        this.set(k, v);\n        break;\n      }\n    }\n  },\n  // Accept a setting if its a valid (signed) integer.\n  integer: function integer(k, v) {\n    if (/^-?\\d+$/.test(v)) {\n      // integer\n      this.set(k, parseInt(v, 10));\n    }\n  },\n  // Accept a setting if its a valid percentage.\n  percent: function percent(k, v) {\n    var m;\n\n    if (m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n      v = parseFloat(v);\n\n      if (v >= 0 && v <= 100) {\n        this.set(k, v);\n        return true;\n      }\n    }\n\n    return false;\n  }\n}; // Helper function to parse input into groups separated by 'groupDelim', and\n// interprete each group as a key/value pair separated by 'keyValueDelim'.\n\nfunction parseOptions(input, callback, keyValueDelim, groupDelim) {\n  var groups = groupDelim ? input.split(groupDelim) : [input];\n\n  for (var i in groups) {\n    if (typeof groups[i] !== \"string\") {\n      continue;\n    }\n\n    var kv = groups[i].split(keyValueDelim);\n\n    if (kv.length !== 2) {\n      continue;\n    }\n\n    var k = kv[0];\n    var v = kv[1];\n    callback(k, v);\n  }\n}\n\nfunction parseCue(input, cue, regionList) {\n  // Remember the original input if we need to throw an error.\n  var oInput = input; // 4.1 WebVTT timestamp\n\n  function consumeTimeStamp() {\n    var ts = parseTimeStamp(input);\n\n    if (ts === null) {\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n    } // Remove time stamp from input.\n\n\n    input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n    return ts;\n  } // 4.4.2 WebVTT cue settings\n\n\n  function consumeCueSettings(input, cue) {\n    var settings = new Settings();\n    parseOptions(input, function (k, v) {\n      switch (k) {\n        case \"region\":\n          // Find the last region we parsed with the same region id.\n          for (var i = regionList.length - 1; i >= 0; i--) {\n            if (regionList[i].id === v) {\n              settings.set(k, regionList[i].region);\n              break;\n            }\n          }\n\n          break;\n\n        case \"vertical\":\n          settings.alt(k, v, [\"rl\", \"lr\"]);\n          break;\n\n        case \"line\":\n          var vals = v.split(\",\"),\n              vals0 = vals[0];\n          settings.integer(k, vals0);\n          settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n          settings.alt(k, vals0, [\"auto\"]);\n\n          if (vals.length === 2) {\n            settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n          }\n\n          break;\n\n        case \"position\":\n          vals = v.split(\",\");\n          settings.percent(k, vals[0]);\n\n          if (vals.length === 2) {\n            settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n          }\n\n          break;\n\n        case \"size\":\n          settings.percent(k, v);\n          break;\n\n        case \"align\":\n          settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n          break;\n      }\n    }, /:/, /\\s/); // Apply default values for any missing fields.\n\n    cue.region = settings.get(\"region\", null);\n    cue.vertical = settings.get(\"vertical\", \"\");\n    cue.line = settings.get(\"line\", \"auto\");\n    cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n    cue.snapToLines = settings.get(\"snapToLines\", true);\n    cue.size = settings.get(\"size\", 100);\n    cue.align = settings.get(\"align\", \"middle\");\n    cue.position = settings.get(\"position\", {\n      start: 0,\n      left: 0,\n      middle: 50,\n      end: 100,\n      right: 100\n    }, cue.align);\n    cue.positionAlign = settings.get(\"positionAlign\", {\n      start: \"start\",\n      left: \"start\",\n      middle: \"middle\",\n      end: \"end\",\n      right: \"end\"\n    }, cue.align);\n  }\n\n  function skipWhitespace() {\n    input = input.replace(/^\\s+/, \"\");\n  } // 4.1 WebVTT cue timings.\n\n\n  skipWhitespace();\n  cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n  skipWhitespace();\n\n  if (input.substr(0, 3) !== \"-->\") {\n    // (3) next characters must match \"-->\"\n    throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n  }\n\n  input = input.substr(3);\n  skipWhitespace();\n  cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n  // 4.1 WebVTT cue settings list.\n\n  skipWhitespace();\n  consumeCueSettings(input, cue);\n}\n\nvar ESCAPE = {\n  \"&amp;\": \"&\",\n  \"&lt;\": \"<\",\n  \"&gt;\": \">\",\n  \"&lrm;\": \"\\u200E\",\n  \"&rlm;\": \"\\u200F\",\n  \"&nbsp;\": \"\\xA0\"\n};\nvar TAG_NAME = {\n  c: \"span\",\n  i: \"i\",\n  b: \"b\",\n  u: \"u\",\n  ruby: \"ruby\",\n  rt: \"rt\",\n  v: \"span\",\n  lang: \"span\"\n};\nvar TAG_ANNOTATION = {\n  v: \"title\",\n  lang: \"lang\"\n};\nvar NEEDS_PARENT = {\n  rt: \"ruby\"\n}; // Parse content into a document fragment.\n\nfunction parseContent(window, input) {\n  function nextToken() {\n    // Check for end-of-string.\n    if (!input) {\n      return null;\n    } // Consume 'n' characters from the input.\n\n\n    function consume(result) {\n      input = input.substr(result.length);\n      return result;\n    }\n\n    var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n    // the tag.\n\n    return consume(m[1] ? m[1] : m[2]);\n  } // Unescape a string 's'.\n\n\n  function unescape1(e) {\n    return ESCAPE[e];\n  }\n\n  function unescape(s) {\n    while (m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)) {\n      s = s.replace(m[0], unescape1);\n    }\n\n    return s;\n  }\n\n  function shouldAdd(current, element) {\n    return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n  } // Create an element for this tag.\n\n\n  function createElement(type, annotation) {\n    var tagName = TAG_NAME[type];\n\n    if (!tagName) {\n      return null;\n    }\n\n    var element = window.document.createElement(tagName);\n    element.localName = tagName;\n    var name = TAG_ANNOTATION[type];\n\n    if (name && annotation) {\n      element[name] = annotation.trim();\n    }\n\n    return element;\n  }\n\n  var rootDiv = window.document.createElement(\"div\"),\n      current = rootDiv,\n      t,\n      tagStack = [];\n\n  while ((t = nextToken()) !== null) {\n    if (t[0] === '<') {\n      if (t[1] === \"/\") {\n        // If the closing tag matches, move back up to the parent node.\n        if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n          tagStack.pop();\n          current = current.parentNode;\n        } // Otherwise just ignore the end tag.\n\n\n        continue;\n      }\n\n      var ts = parseTimeStamp(t.substr(1, t.length - 2));\n      var node;\n\n      if (ts) {\n        // Timestamps are lead nodes as well.\n        node = window.document.createProcessingInstruction(\"timestamp\", ts);\n        current.appendChild(node);\n        continue;\n      }\n\n      var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n      if (!m) {\n        continue;\n      } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n      node = createElement(m[1], m[3]);\n\n      if (!node) {\n        continue;\n      } // Determine if the tag should be added based on the context of where it\n      // is placed in the cuetext.\n\n\n      if (!shouldAdd(current, node)) {\n        continue;\n      } // Set the class list (as a list of classes, separated by space).\n\n\n      if (m[2]) {\n        node.className = m[2].substr(1).replace('.', ' ');\n      } // Append the node to the current node, and enter the scope of the new\n      // node.\n\n\n      tagStack.push(m[1]);\n      current.appendChild(node);\n      current = node;\n      continue;\n    } // Text nodes are leaf nodes.\n\n\n    current.appendChild(window.document.createTextNode(unescape(t)));\n  }\n\n  return rootDiv;\n} // This is a list of all the Unicode characters that have a strong\n// right-to-left category. What this means is that these characters are\n// written right-to-left for sure. It was generated by pulling all the strong\n// right-to-left characters out of the Unicode data table. That table can\n// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\nvar strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\nfunction isStrongRTLChar(charCode) {\n  for (var i = 0; i < strongRTLRanges.length; i++) {\n    var currentRange = strongRTLRanges[i];\n\n    if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction determineBidi(cueDiv) {\n  var nodeStack = [],\n      text = \"\",\n      charCode;\n\n  if (!cueDiv || !cueDiv.childNodes) {\n    return \"ltr\";\n  }\n\n  function pushNodes(nodeStack, node) {\n    for (var i = node.childNodes.length - 1; i >= 0; i--) {\n      nodeStack.push(node.childNodes[i]);\n    }\n  }\n\n  function nextTextNode(nodeStack) {\n    if (!nodeStack || !nodeStack.length) {\n      return null;\n    }\n\n    var node = nodeStack.pop(),\n        text = node.textContent || node.innerText;\n\n    if (text) {\n      // TODO: This should match all unicode type B characters (paragraph\n      // separator characters). See issue #115.\n      var m = text.match(/^.*(\\n|\\r)/);\n\n      if (m) {\n        nodeStack.length = 0;\n        return m[0];\n      }\n\n      return text;\n    }\n\n    if (node.tagName === \"ruby\") {\n      return nextTextNode(nodeStack);\n    }\n\n    if (node.childNodes) {\n      pushNodes(nodeStack, node);\n      return nextTextNode(nodeStack);\n    }\n  }\n\n  pushNodes(nodeStack, cueDiv);\n\n  while (text = nextTextNode(nodeStack)) {\n    for (var i = 0; i < text.length; i++) {\n      charCode = text.charCodeAt(i);\n\n      if (isStrongRTLChar(charCode)) {\n        return \"rtl\";\n      }\n    }\n  }\n\n  return \"ltr\";\n}\n\nfunction computeLinePos(cue) {\n  if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n    return cue.line;\n  }\n\n  if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n    return -1;\n  }\n\n  var track = cue.track,\n      trackList = track.textTrackList,\n      count = 0;\n\n  for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n    if (trackList[i].mode === \"showing\") {\n      count++;\n    }\n  }\n\n  return ++count * -1;\n}\n\nfunction StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n// div on 'this'.\n\n\nStyleBox.prototype.applyStyles = function (styles, div) {\n  div = div || this.div;\n\n  for (var prop in styles) {\n    if (styles.hasOwnProperty(prop)) {\n      div.style[prop] = styles[prop];\n    }\n  }\n};\n\nStyleBox.prototype.formatStyle = function (val, unit) {\n  return val === 0 ? 0 : val + unit;\n}; // Constructs the computed display state of the cue (a div). Places the div\n// into the overlay which should be a block level element (usually a div).\n\n\nfunction CueStyleBox(window, cue, styleOptions) {\n  StyleBox.call(this);\n  this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n  // have inline positioning and will function as the cue background box.\n\n  this.cueDiv = parseContent(window, cue.text);\n  var styles = {\n    color: \"rgba(255, 255, 255, 1)\",\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n    position: \"relative\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"inline\",\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\"\n  };\n  this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n  // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n  // mirrors of them except \"middle\" which is \"center\" in CSS.\n\n  this.div = window.document.createElement(\"div\");\n  styles = {\n    direction: determineBidi(this.cueDiv),\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\",\n    textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n    font: styleOptions.font,\n    whiteSpace: \"pre-line\",\n    position: \"absolute\"\n  };\n  this.applyStyles(styles);\n  this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n  // position of the cue box. The reference edge will be resolved later when\n  // the box orientation styles are applied.\n\n  var textPos = 0;\n\n  switch (cue.positionAlign) {\n    case \"start\":\n      textPos = cue.position;\n      break;\n\n    case \"middle\":\n      textPos = cue.position - cue.size / 2;\n      break;\n\n    case \"end\":\n      textPos = cue.position - cue.size;\n      break;\n  } // Horizontal box orientation; textPos is the distance from the left edge of the\n  // area to the left edge of the box and cue.size is the distance extending to\n  // the right from there.\n\n\n  if (cue.vertical === \"\") {\n    this.applyStyles({\n      left: this.formatStyle(textPos, \"%\"),\n      width: this.formatStyle(cue.size, \"%\")\n    }); // Vertical box orientation; textPos is the distance from the top edge of the\n    // area to the top edge of the box and cue.size is the height extending\n    // downwards from there.\n  } else {\n    this.applyStyles({\n      top: this.formatStyle(textPos, \"%\"),\n      height: this.formatStyle(cue.size, \"%\")\n    });\n  }\n\n  this.move = function (box) {\n    this.applyStyles({\n      top: this.formatStyle(box.top, \"px\"),\n      bottom: this.formatStyle(box.bottom, \"px\"),\n      left: this.formatStyle(box.left, \"px\"),\n      right: this.formatStyle(box.right, \"px\"),\n      height: this.formatStyle(box.height, \"px\"),\n      width: this.formatStyle(box.width, \"px\")\n    });\n  };\n}\n\nCueStyleBox.prototype = _objCreate(StyleBox.prototype);\nCueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n// compute things with such as if it overlaps or intersects with another Element.\n// Can initialize it with either a StyleBox or another BoxPosition.\n\nfunction BoxPosition(obj) {\n  // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n  // was passed in and we need to copy the results of 'getBoundingClientRect'\n  // as the object returned is readonly. All co-ordinate values are in reference\n  // to the viewport origin (top left).\n  var lh, height, width, top;\n\n  if (obj.div) {\n    height = obj.div.offsetHeight;\n    width = obj.div.offsetWidth;\n    top = obj.div.offsetTop;\n    var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n    obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n    // the inner div's lines. This could be due to bold text, etc, on some platforms.\n    // In this case we should get the average line height and use that. This will\n    // result in the desired behaviour.\n\n    lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n  }\n\n  this.left = obj.left;\n  this.right = obj.right;\n  this.top = obj.top || top;\n  this.height = obj.height || height;\n  this.bottom = obj.bottom || top + (obj.height || height);\n  this.width = obj.width || width;\n  this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n} // Move the box along a particular axis. Optionally pass in an amount to move\n// the box. If no amount is passed then the default is the line height of the\n// box.\n\n\nBoxPosition.prototype.move = function (axis, toMove) {\n  toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n  switch (axis) {\n    case \"+x\":\n      this.left += toMove;\n      this.right += toMove;\n      break;\n\n    case \"-x\":\n      this.left -= toMove;\n      this.right -= toMove;\n      break;\n\n    case \"+y\":\n      this.top += toMove;\n      this.bottom += toMove;\n      break;\n\n    case \"-y\":\n      this.top -= toMove;\n      this.bottom -= toMove;\n      break;\n  }\n}; // Check if this box overlaps another box, b2.\n\n\nBoxPosition.prototype.overlaps = function (b2) {\n  return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n}; // Check if this box overlaps any other boxes in boxes.\n\n\nBoxPosition.prototype.overlapsAny = function (boxes) {\n  for (var i = 0; i < boxes.length; i++) {\n    if (this.overlaps(boxes[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // Check if this box is within another box.\n\n\nBoxPosition.prototype.within = function (container) {\n  return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n}; // Check if this box is entirely within the container or it is overlapping\n// on the edge opposite of the axis direction passed. For example, if \"+x\" is\n// passed and the box is overlapping on the left edge of the container, then\n// return true.\n\n\nBoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n  switch (axis) {\n    case \"+x\":\n      return this.left < container.left;\n\n    case \"-x\":\n      return this.right > container.right;\n\n    case \"+y\":\n      return this.top < container.top;\n\n    case \"-y\":\n      return this.bottom > container.bottom;\n  }\n}; // Find the percentage of the area that this box is overlapping with another\n// box.\n\n\nBoxPosition.prototype.intersectPercentage = function (b2) {\n  var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n      y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n      intersectArea = x * y;\n  return intersectArea / (this.height * this.width);\n}; // Convert the positions from this box to CSS compatible positions using\n// the reference container's positions. This has to be done because this\n// box's positions are in reference to the viewport origin, whereas, CSS\n// values are in referecne to their respective edges.\n\n\nBoxPosition.prototype.toCSSCompatValues = function (reference) {\n  return {\n    top: this.top - reference.top,\n    bottom: reference.bottom - this.bottom,\n    left: this.left - reference.left,\n    right: reference.right - this.right,\n    height: this.height,\n    width: this.width\n  };\n}; // Get an object that represents the box's position without anything extra.\n// Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\nBoxPosition.getSimpleBoxPosition = function (obj) {\n  var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n  var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n  var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n  obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n  var ret = {\n    left: obj.left,\n    right: obj.right,\n    top: obj.top || top,\n    height: obj.height || height,\n    bottom: obj.bottom || top + (obj.height || height),\n    width: obj.width || width\n  };\n  return ret;\n}; // Move a StyleBox to its specified, or next best, position. The containerBox\n// is the box that contains the StyleBox, such as a div. boxPositions are\n// a list of other boxes that the styleBox can't overlap with.\n\n\nfunction moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n  // Find the best position for a cue box, b, on the video. The axis parameter\n  // is a list of axis, the order of which, it will move the box along. For example:\n  // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n  // direction. If it doesn't find a good position for it there it will then move\n  // it along the x axis in the negative direction.\n  function findBestPosition(b, axis) {\n    var bestPosition,\n        specifiedPosition = new BoxPosition(b),\n        percentage = 1; // Highest possible so the first thing we get is better.\n\n    for (var i = 0; i < axis.length; i++) {\n      while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n        b.move(axis[i]);\n      } // We found a spot where we aren't overlapping anything. This is our\n      // best position.\n\n\n      if (b.within(containerBox)) {\n        return b;\n      }\n\n      var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n      // then remember this position as the best position.\n\n      if (percentage > p) {\n        bestPosition = new BoxPosition(b);\n        percentage = p;\n      } // Reset the box position to the specified position.\n\n\n      b = new BoxPosition(specifiedPosition);\n    }\n\n    return bestPosition || specifiedPosition;\n  }\n\n  var boxPosition = new BoxPosition(styleBox),\n      cue = styleBox.cue,\n      linePos = computeLinePos(cue),\n      axis = []; // If we have a line number to align the cue to.\n\n  if (cue.snapToLines) {\n    var size;\n\n    switch (cue.vertical) {\n      case \"\":\n        axis = [\"+y\", \"-y\"];\n        size = \"height\";\n        break;\n\n      case \"rl\":\n        axis = [\"+x\", \"-x\"];\n        size = \"width\";\n        break;\n\n      case \"lr\":\n        axis = [\"-x\", \"+x\"];\n        size = \"width\";\n        break;\n    }\n\n    var step = boxPosition.lineHeight,\n        position = step * Math.round(linePos),\n        maxPosition = containerBox[size] + step,\n        initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n    // clamp the box to the amount of steps it would take for the box to\n    // reach the max position.\n\n    if (Math.abs(position) > maxPosition) {\n      position = position < 0 ? -1 : 1;\n      position *= Math.ceil(maxPosition / step) * step;\n    } // If computed line position returns negative then line numbers are\n    // relative to the bottom of the video instead of the top. Therefore, we\n    // need to increase our initial position by the length or width of the\n    // video, depending on the writing direction, and reverse our axis directions.\n\n\n    if (linePos < 0) {\n      position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n      axis = axis.reverse();\n    } // Move the box to the specified position. This may not be its best\n    // position.\n\n\n    boxPosition.move(initialAxis, position);\n  } else {\n    // If we have a percentage line value for the cue.\n    var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n    switch (cue.lineAlign) {\n      case \"middle\":\n        linePos -= calculatedPercentage / 2;\n        break;\n\n      case \"end\":\n        linePos -= calculatedPercentage;\n        break;\n    } // Apply initial line position to the cue box.\n\n\n    switch (cue.vertical) {\n      case \"\":\n        styleBox.applyStyles({\n          top: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"rl\":\n        styleBox.applyStyles({\n          left: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"lr\":\n        styleBox.applyStyles({\n          right: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n    }\n\n    axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n    // to it.\n\n    boxPosition = new BoxPosition(styleBox);\n  }\n\n  var bestPosition = findBestPosition(boxPosition, axis);\n  styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n}\n\nfunction WebVTT() {} // Nothing\n// Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\nWebVTT.StringDecoder = function () {\n  return {\n    decode: function decode(data) {\n      if (!data) {\n        return \"\";\n      }\n\n      if (typeof data !== \"string\") {\n        throw new Error(\"Error - expected string data.\");\n      }\n\n      return decodeURIComponent(encodeURIComponent(data));\n    }\n  };\n};\n\nWebVTT.convertCueToDOMTree = function (window, cuetext) {\n  if (!window || !cuetext) {\n    return null;\n  }\n\n  return parseContent(window, cuetext);\n};\n\nvar FONT_SIZE_PERCENT = 0.05;\nvar FONT_STYLE = \"sans-serif\";\nvar CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n// @param overlay A block level element (usually a div) that the computed cues\n//                and regions will be placed into.\n\nWebVTT.processCues = function (window, cues, overlay) {\n  if (!window || !cues || !overlay) {\n    return null;\n  } // Remove all previous children.\n\n\n  while (overlay.firstChild) {\n    overlay.removeChild(overlay.firstChild);\n  }\n\n  var paddedOverlay = window.document.createElement(\"div\");\n  paddedOverlay.style.position = \"absolute\";\n  paddedOverlay.style.left = \"0\";\n  paddedOverlay.style.right = \"0\";\n  paddedOverlay.style.top = \"0\";\n  paddedOverlay.style.bottom = \"0\";\n  paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n  overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n  // be the case if a cue's state has been changed since the last computation or\n  // if it has not been computed yet.\n\n  function shouldCompute(cues) {\n    for (var i = 0; i < cues.length; i++) {\n      if (cues[i].hasBeenReset || !cues[i].displayState) {\n        return true;\n      }\n    }\n\n    return false;\n  } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n  if (!shouldCompute(cues)) {\n    for (var i = 0; i < cues.length; i++) {\n      paddedOverlay.appendChild(cues[i].displayState);\n    }\n\n    return;\n  }\n\n  var boxPositions = [],\n      containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n      fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n  var styleOptions = {\n    font: fontSize + \"px \" + FONT_STYLE\n  };\n\n  (function () {\n    var styleBox, cue;\n\n    for (var i = 0; i < cues.length; i++) {\n      cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n      styleBox = new CueStyleBox(window, cue, styleOptions);\n      paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n      moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n      // if we don't have too.\n\n      cue.displayState = styleBox.div;\n      boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n    }\n  })();\n};\n\nWebVTT.Parser = function (window, vttjs, decoder) {\n  if (!decoder) {\n    decoder = vttjs;\n    vttjs = {};\n  }\n\n  if (!vttjs) {\n    vttjs = {};\n  }\n\n  this.window = window;\n  this.vttjs = vttjs;\n  this.state = \"INITIAL\";\n  this.buffer = \"\";\n  this.decoder = decoder || new TextDecoder(\"utf8\");\n  this.regionList = [];\n};\n\nWebVTT.Parser.prototype = {\n  // If the error is a ParsingError then report it to the consumer if\n  // possible. If it's not a ParsingError then throw it like normal.\n  reportOrThrowError: function reportOrThrowError(e) {\n    if (e instanceof ParsingError) {\n      this.onparsingerror && this.onparsingerror(e);\n    } else {\n      throw e;\n    }\n  },\n  parse: function parse(data) {\n    var self = this; // If there is no data then we won't decode it, but will just try to parse\n    // whatever is in buffer already. This may occur in circumstances, for\n    // example when flush() is called.\n\n    if (data) {\n      // Try to decode the data that we received.\n      self.buffer += self.decoder.decode(data, {\n        stream: true\n      });\n    }\n\n    function collectNextLine() {\n      var buffer = self.buffer;\n      var pos = 0;\n\n      while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n        ++pos;\n      }\n\n      var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n      if (buffer[pos] === '\\r') {\n        ++pos;\n      }\n\n      if (buffer[pos] === '\\n') {\n        ++pos;\n      }\n\n      self.buffer = buffer.substr(pos);\n      return line;\n    } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n    function parseRegion(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"id\":\n            settings.set(k, v);\n            break;\n\n          case \"width\":\n            settings.percent(k, v);\n            break;\n\n          case \"lines\":\n            settings.integer(k, v);\n            break;\n\n          case \"regionanchor\":\n          case \"viewportanchor\":\n            var xy = v.split(',');\n\n            if (xy.length !== 2) {\n              break;\n            } // We have to make sure both x and y parse, so use a temporary\n            // settings object here.\n\n\n            var anchor = new Settings();\n            anchor.percent(\"x\", xy[0]);\n            anchor.percent(\"y\", xy[1]);\n\n            if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n              break;\n            }\n\n            settings.set(k + \"X\", anchor.get(\"x\"));\n            settings.set(k + \"Y\", anchor.get(\"y\"));\n            break;\n\n          case \"scroll\":\n            settings.alt(k, v, [\"up\"]);\n            break;\n        }\n      }, /=/, /\\s/); // Create the region, using default values for any values that were not\n      // specified.\n\n      if (settings.has(\"id\")) {\n        var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n        region.width = settings.get(\"width\", 100);\n        region.lines = settings.get(\"lines\", 3);\n        region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n        region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n        region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n        region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n        region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n        self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n        // reference it.\n\n        self.regionList.push({\n          id: settings.get(\"id\"),\n          region: region\n        });\n      }\n    } // draft-pantos-http-live-streaming-20\n    // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n    // 3.5 WebVTT\n\n\n    function parseTimestampMap(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"MPEGT\":\n            settings.integer(k + 'S', v);\n            break;\n\n          case \"LOCA\":\n            settings.set(k + 'L', parseTimeStamp(v));\n            break;\n        }\n      }, /[^\\d]:/, /,/);\n      self.ontimestampmap && self.ontimestampmap({\n        \"MPEGTS\": settings.get(\"MPEGTS\"),\n        \"LOCAL\": settings.get(\"LOCAL\")\n      });\n    } // 3.2 WebVTT metadata header syntax\n\n\n    function parseHeader(input) {\n      if (input.match(/X-TIMESTAMP-MAP/)) {\n        // This line contains HLS X-TIMESTAMP-MAP metadata\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"X-TIMESTAMP-MAP\":\n              parseTimestampMap(v);\n              break;\n          }\n        }, /=/);\n      } else {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"Region\":\n              // 3.3 WebVTT region metadata header syntax\n              parseRegion(v);\n              break;\n          }\n        }, /:/);\n      }\n    } // 5.1 WebVTT file parsing.\n\n\n    try {\n      var line;\n\n      if (self.state === \"INITIAL\") {\n        // We can't start parsing until we have the first line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        line = collectNextLine();\n        var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n        if (!m || !m[0]) {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n\n        self.state = \"HEADER\";\n      }\n\n      var alreadyCollectedLine = false;\n\n      while (self.buffer) {\n        // We can't parse a line until we have the full line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        if (!alreadyCollectedLine) {\n          line = collectNextLine();\n        } else {\n          alreadyCollectedLine = false;\n        }\n\n        switch (self.state) {\n          case \"HEADER\":\n            // 13-18 - Allow a header (metadata) under the WEBVTT line.\n            if (/:/.test(line)) {\n              parseHeader(line);\n            } else if (!line) {\n              // An empty line terminates the header and starts the body (cues).\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"NOTE\":\n            // Ignore NOTE blocks.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"ID\":\n            // Check for the start of NOTE blocks.\n            if (/^NOTE($|[ \\t])/.test(line)) {\n              self.state = \"NOTE\";\n              break;\n            } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n            if (!line) {\n              continue;\n            }\n\n            self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n            self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n            if (line.indexOf(\"-->\") === -1) {\n              self.cue.id = line;\n              continue;\n            }\n\n          // Process line as start of a cue.\n\n          /*falls through*/\n\n          case \"CUE\":\n            // 40 - Collect cue timings and settings.\n            try {\n              parseCue(line, self.cue, self.regionList);\n            } catch (e) {\n              self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n              self.cue = null;\n              self.state = \"BADCUE\";\n              continue;\n            }\n\n            self.state = \"CUETEXT\";\n            continue;\n\n          case \"CUETEXT\":\n            var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n            // 35 - If we have the special substring '-->' then report the cue,\n            // but do not collect the line as we need to process the current\n            // one as a new cue.\n\n            if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n              // We are done parsing self cue.\n              self.oncue && self.oncue(self.cue);\n              self.cue = null;\n              self.state = \"ID\";\n              continue;\n            }\n\n            if (self.cue.text) {\n              self.cue.text += \"\\n\";\n            }\n\n            self.cue.text += line;\n            continue;\n\n          case \"BADCUE\":\n            // BADCUE\n            // 54-62 - Collect and discard the remaining cue.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n        }\n      }\n    } catch (e) {\n      self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n      if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n        self.oncue(self.cue);\n      }\n\n      self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n      // another exception occurred so enter BADCUE state.\n\n      self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n    }\n\n    return this;\n  },\n  flush: function flush() {\n    var self = this;\n\n    try {\n      // Finish decoding the stream.\n      self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n      if (self.cue || self.state === \"HEADER\") {\n        self.buffer += \"\\n\\n\";\n        self.parse();\n      } // If we've flushed, parsed, and we're still on the INITIAL state then\n      // that means we don't have enough of the stream to parse the first\n      // line.\n\n\n      if (self.state === \"INITIAL\") {\n        throw new ParsingError(ParsingError.Errors.BadSignature);\n      }\n    } catch (e) {\n      self.reportOrThrowError(e);\n    }\n\n    self.onflush && self.onflush();\n    return this;\n  }\n};\nmodule.exports = WebVTT;","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar autoKeyword = \"auto\";\nvar directionSetting = {\n  \"\": 1,\n  \"lr\": 1,\n  \"rl\": 1\n};\nvar alignSetting = {\n  \"start\": 1,\n  \"middle\": 1,\n  \"end\": 1,\n  \"left\": 1,\n  \"right\": 1\n};\n\nfunction findDirectionSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var dir = directionSetting[value.toLowerCase()];\n  return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var align = alignSetting[value.toLowerCase()];\n  return align ? value.toLowerCase() : false;\n}\n\nfunction VTTCue(startTime, endTime, text) {\n  /**\n   * Shim implementation specific properties. These properties are not in\n   * the spec.\n   */\n  // Lets us know when the VTTCue's data has changed in such a way that we need\n  // to recompute its display state. This lets us compute its display state\n  // lazily.\n  this.hasBeenReset = false;\n  /**\n   * VTTCue and TextTrackCue properties\n   * http://dev.w3.org/html5/webvtt/#vttcue-interface\n   */\n\n  var _id = \"\";\n  var _pauseOnExit = false;\n  var _startTime = startTime;\n  var _endTime = endTime;\n  var _text = text;\n  var _region = null;\n  var _vertical = \"\";\n  var _snapToLines = true;\n  var _line = \"auto\";\n  var _lineAlign = \"start\";\n  var _position = 50;\n  var _positionAlign = \"middle\";\n  var _size = 50;\n  var _align = \"middle\";\n  Object.defineProperties(this, {\n    \"id\": {\n      enumerable: true,\n      get: function get() {\n        return _id;\n      },\n      set: function set(value) {\n        _id = \"\" + value;\n      }\n    },\n    \"pauseOnExit\": {\n      enumerable: true,\n      get: function get() {\n        return _pauseOnExit;\n      },\n      set: function set(value) {\n        _pauseOnExit = !!value;\n      }\n    },\n    \"startTime\": {\n      enumerable: true,\n      get: function get() {\n        return _startTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Start time must be set to a number.\");\n        }\n\n        _startTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"endTime\": {\n      enumerable: true,\n      get: function get() {\n        return _endTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"End time must be set to a number.\");\n        }\n\n        _endTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"text\": {\n      enumerable: true,\n      get: function get() {\n        return _text;\n      },\n      set: function set(value) {\n        _text = \"\" + value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"region\": {\n      enumerable: true,\n      get: function get() {\n        return _region;\n      },\n      set: function set(value) {\n        _region = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"vertical\": {\n      enumerable: true,\n      get: function get() {\n        return _vertical;\n      },\n      set: function set(value) {\n        var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n        if (setting === false) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n\n        _vertical = setting;\n        this.hasBeenReset = true;\n      }\n    },\n    \"snapToLines\": {\n      enumerable: true,\n      get: function get() {\n        return _snapToLines;\n      },\n      set: function set(value) {\n        _snapToLines = !!value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"line\": {\n      enumerable: true,\n      get: function get() {\n        return _line;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\" && value !== autoKeyword) {\n          throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n        }\n\n        _line = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"lineAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _lineAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n\n        _lineAlign = setting;\n        this.hasBeenReset = true;\n      }\n    },\n    \"position\": {\n      enumerable: true,\n      get: function get() {\n        return _position;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Position must be between 0 and 100.\");\n        }\n\n        _position = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"positionAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _positionAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n\n        _positionAlign = setting;\n        this.hasBeenReset = true;\n      }\n    },\n    \"size\": {\n      enumerable: true,\n      get: function get() {\n        return _size;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Size must be between 0 and 100.\");\n        }\n\n        _size = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"align\": {\n      enumerable: true,\n      get: function get() {\n        return _align;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n\n        _align = setting;\n        this.hasBeenReset = true;\n      }\n    }\n  });\n  /**\n   * Other <track> spec defined properties\n   */\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n  this.displayState = undefined;\n}\n/**\n * VTTCue methods\n */\n\n\nVTTCue.prototype.getCueAsHTML = function () {\n  // Assume WebVTT.convertCueToDOMTree is on the global.\n  return WebVTT.convertCueToDOMTree(window, this.text);\n};\n\nmodule.exports = VTTCue;","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar scrollSetting = {\n  \"\": true,\n  \"up\": true\n};\n\nfunction findScrollSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var scroll = scrollSetting[value.toLowerCase()];\n  return scroll ? value.toLowerCase() : false;\n}\n\nfunction isValidPercentValue(value) {\n  return typeof value === \"number\" && value >= 0 && value <= 100;\n} // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\nfunction VTTRegion() {\n  var _width = 100;\n  var _lines = 3;\n  var _regionAnchorX = 0;\n  var _regionAnchorY = 100;\n  var _viewportAnchorX = 0;\n  var _viewportAnchorY = 100;\n  var _scroll = \"\";\n  Object.defineProperties(this, {\n    \"width\": {\n      enumerable: true,\n      get: function get() {\n        return _width;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"Width must be between 0 and 100.\");\n        }\n\n        _width = value;\n      }\n    },\n    \"lines\": {\n      enumerable: true,\n      get: function get() {\n        return _lines;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Lines must be set to a number.\");\n        }\n\n        _lines = value;\n      }\n    },\n    \"regionAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n        }\n\n        _regionAnchorY = value;\n      }\n    },\n    \"regionAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n        }\n\n        _regionAnchorX = value;\n      }\n    },\n    \"viewportAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n        }\n\n        _viewportAnchorY = value;\n      }\n    },\n    \"viewportAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n        }\n\n        _viewportAnchorX = value;\n      }\n    },\n    \"scroll\": {\n      enumerable: true,\n      get: function get() {\n        return _scroll;\n      },\n      set: function set(value) {\n        var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n        if (setting === false) {\n          throw new SyntaxError(\"An invalid or illegal string was specified.\");\n        }\n\n        _scroll = setting;\n      }\n    }\n  });\n}\n\nmodule.exports = VTTRegion;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar toUnsigned = function toUnsigned(value) {\n  return value >>> 0;\n};\n\nmodule.exports = {\n  toUnsigned: toUnsigned\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n// Convert an array of nal units into an array of frames with each frame being\n// composed of the nal units that make up that frame\n// Also keep track of cummulative data about the frame from the nal units such\n// as the frame duration, starting pts, etc.\nvar groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n  var i,\n      currentNal,\n      currentFrame = [],\n      frames = [];\n  currentFrame.byteLength = 0;\n\n  for (i = 0; i < nalUnits.length; i++) {\n    currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n    if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n      // Since the very first nal unit is expected to be an AUD\n      // only push to the frames array when currentFrame is not empty\n      if (currentFrame.length) {\n        currentFrame.duration = currentNal.dts - currentFrame.dts;\n        frames.push(currentFrame);\n      }\n\n      currentFrame = [currentNal];\n      currentFrame.byteLength = currentNal.data.byteLength;\n      currentFrame.pts = currentNal.pts;\n      currentFrame.dts = currentNal.dts;\n    } else {\n      // Specifically flag key frames for ease of use later\n      if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n        currentFrame.keyFrame = true;\n      }\n\n      currentFrame.duration = currentNal.dts - currentFrame.dts;\n      currentFrame.byteLength += currentNal.data.byteLength;\n      currentFrame.push(currentNal);\n    }\n  } // For the last frame, use the duration of the previous frame if we\n  // have nothing better to go on\n\n\n  if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n    currentFrame.duration = frames[frames.length - 1].duration;\n  } // Push the final frame\n\n\n  frames.push(currentFrame);\n  return frames;\n}; // Convert an array of frames into an array of Gop with each Gop being composed\n// of the frames that make up that Gop\n// Also keep track of cummulative data about the Gop from the frames such as the\n// Gop duration, starting pts, etc.\n\n\nvar groupFramesIntoGops = function groupFramesIntoGops(frames) {\n  var i,\n      currentFrame,\n      currentGop = [],\n      gops = []; // We must pre-set some of the values on the Gop since we\n  // keep running totals of these values\n\n  currentGop.byteLength = 0;\n  currentGop.nalCount = 0;\n  currentGop.duration = 0;\n  currentGop.pts = frames[0].pts;\n  currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n  gops.byteLength = 0;\n  gops.nalCount = 0;\n  gops.duration = 0;\n  gops.pts = frames[0].pts;\n  gops.dts = frames[0].dts;\n\n  for (i = 0; i < frames.length; i++) {\n    currentFrame = frames[i];\n\n    if (currentFrame.keyFrame) {\n      // Since the very first frame is expected to be an keyframe\n      // only push to the gops array when currentGop is not empty\n      if (currentGop.length) {\n        gops.push(currentGop);\n        gops.byteLength += currentGop.byteLength;\n        gops.nalCount += currentGop.nalCount;\n        gops.duration += currentGop.duration;\n      }\n\n      currentGop = [currentFrame];\n      currentGop.nalCount = currentFrame.length;\n      currentGop.byteLength = currentFrame.byteLength;\n      currentGop.pts = currentFrame.pts;\n      currentGop.dts = currentFrame.dts;\n      currentGop.duration = currentFrame.duration;\n    } else {\n      currentGop.duration += currentFrame.duration;\n      currentGop.nalCount += currentFrame.length;\n      currentGop.byteLength += currentFrame.byteLength;\n      currentGop.push(currentFrame);\n    }\n  }\n\n  if (gops.length && currentGop.duration <= 0) {\n    currentGop.duration = gops[gops.length - 1].duration;\n  }\n\n  gops.byteLength += currentGop.byteLength;\n  gops.nalCount += currentGop.nalCount;\n  gops.duration += currentGop.duration; // push the final Gop\n\n  gops.push(currentGop);\n  return gops;\n};\n/*\n * Search for the first keyframe in the GOPs and throw away all frames\n * until that keyframe. Then extend the duration of the pulled keyframe\n * and pull the PTS and DTS of the keyframe so that it covers the time\n * range of the frames that were disposed.\n *\n * @param {Array} gops video GOPs\n * @returns {Array} modified video GOPs\n */\n\n\nvar extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n  var currentGop;\n\n  if (!gops[0][0].keyFrame && gops.length > 1) {\n    // Remove the first GOP\n    currentGop = gops.shift();\n    gops.byteLength -= currentGop.byteLength;\n    gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n    // first gop to cover the time period of the\n    // frames we just removed\n\n    gops[0][0].dts = currentGop.dts;\n    gops[0][0].pts = currentGop.pts;\n    gops[0][0].duration += currentGop.duration;\n  }\n\n  return gops;\n};\n/**\n * Default sample object\n * see ISO/IEC 14496-12:2012, section 8.6.4.3\n */\n\n\nvar createDefaultSample = function createDefaultSample() {\n  return {\n    size: 0,\n    flags: {\n      isLeading: 0,\n      dependsOn: 1,\n      isDependedOn: 0,\n      hasRedundancy: 0,\n      degradationPriority: 0,\n      isNonSyncSample: 1\n    }\n  };\n};\n/*\n * Collates information from a video frame into an object for eventual\n * entry into an MP4 sample table.\n *\n * @param {Object} frame the video frame\n * @param {Number} dataOffset the byte offset to position the sample\n * @return {Object} object containing sample table info for a frame\n */\n\n\nvar sampleForFrame = function sampleForFrame(frame, dataOffset) {\n  var sample = createDefaultSample();\n  sample.dataOffset = dataOffset;\n  sample.compositionTimeOffset = frame.pts - frame.dts;\n  sample.duration = frame.duration;\n  sample.size = 4 * frame.length; // Space for nal unit size\n\n  sample.size += frame.byteLength;\n\n  if (frame.keyFrame) {\n    sample.flags.dependsOn = 2;\n    sample.flags.isNonSyncSample = 0;\n  }\n\n  return sample;\n}; // generate the track's sample table from an array of gops\n\n\nvar generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n  var h,\n      i,\n      sample,\n      currentGop,\n      currentFrame,\n      dataOffset = baseDataOffset || 0,\n      samples = [];\n\n  for (h = 0; h < gops.length; h++) {\n    currentGop = gops[h];\n\n    for (i = 0; i < currentGop.length; i++) {\n      currentFrame = currentGop[i];\n      sample = sampleForFrame(currentFrame, dataOffset);\n      dataOffset += sample.size;\n      samples.push(sample);\n    }\n  }\n\n  return samples;\n}; // generate the track's raw mdat data from an array of gops\n\n\nvar concatenateNalData = function concatenateNalData(gops) {\n  var h,\n      i,\n      j,\n      currentGop,\n      currentFrame,\n      currentNal,\n      dataOffset = 0,\n      nalsByteLength = gops.byteLength,\n      numberOfNals = gops.nalCount,\n      totalByteLength = nalsByteLength + 4 * numberOfNals,\n      data = new Uint8Array(totalByteLength),\n      view = new DataView(data.buffer); // For each Gop..\n\n  for (h = 0; h < gops.length; h++) {\n    currentGop = gops[h]; // For each Frame..\n\n    for (i = 0; i < currentGop.length; i++) {\n      currentFrame = currentGop[i]; // For each NAL..\n\n      for (j = 0; j < currentFrame.length; j++) {\n        currentNal = currentFrame[j];\n        view.setUint32(dataOffset, currentNal.data.byteLength);\n        dataOffset += 4;\n        data.set(currentNal.data, dataOffset);\n        dataOffset += currentNal.data.byteLength;\n      }\n    }\n  }\n\n  return data;\n};\n\nmodule.exports = {\n  groupNalsIntoFrames: groupNalsIntoFrames,\n  groupFramesIntoGops: groupFramesIntoGops,\n  extendFirstKeyFrame: extendFirstKeyFrame,\n  generateSampleTable: generateSampleTable,\n  concatenateNalData: concatenateNalData\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar coneOfSilence = require('../data/silence');\n\nvar clock = require('../utils/clock');\n\nvar ONE_SECOND_IN_TS = 90000; // 90kHz clock\n\n/**\n * Sum the `byteLength` properties of the data in each AAC frame\n */\n\nvar sumFrameByteLengths = function sumFrameByteLengths(array) {\n  var i,\n      currentObj,\n      sum = 0; // sum the byteLength's all each nal unit in the frame\n\n  for (i = 0; i < array.length; i++) {\n    currentObj = array[i];\n    sum += currentObj.data.byteLength;\n  }\n\n  return sum;\n}; // Possibly pad (prefix) the audio track with silence if appending this track\n// would lead to the introduction of a gap in the audio buffer\n\n\nvar prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n  var baseMediaDecodeTimeTs,\n      frameDuration = 0,\n      audioGapDuration = 0,\n      audioFillFrameCount = 0,\n      audioFillDuration = 0,\n      silentFrame,\n      i;\n\n  if (!frames.length) {\n    return;\n  }\n\n  baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n  frameDuration = Math.ceil(ONE_SECOND_IN_TS / (track.samplerate / 1024));\n\n  if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n    // insert the shortest possible amount (audio gap or audio to video gap)\n    audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n    audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n    audioFillDuration = audioFillFrameCount * frameDuration;\n  } // don't attempt to fill gaps smaller than a single frame or larger\n  // than a half second\n\n\n  if (audioFillFrameCount < 1 || audioFillDuration > ONE_SECOND_IN_TS / 2) {\n    return;\n  }\n\n  silentFrame = coneOfSilence[track.samplerate];\n\n  if (!silentFrame) {\n    // we don't have a silent frame pregenerated for the sample rate, so use a frame\n    // from the content instead\n    silentFrame = frames[0].data;\n  }\n\n  for (i = 0; i < audioFillFrameCount; i++) {\n    frames.splice(i, 0, {\n      data: silentFrame\n    });\n  }\n\n  track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n}; // If the audio segment extends before the earliest allowed dts\n// value, remove AAC frames until starts at or after the earliest\n// allowed DTS so that we don't end up with a negative baseMedia-\n// DecodeTime for the audio track\n\n\nvar trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n  if (track.minSegmentDts >= earliestAllowedDts) {\n    return adtsFrames;\n  } // We will need to recalculate the earliest segment Dts\n\n\n  track.minSegmentDts = Infinity;\n  return adtsFrames.filter(function (currentFrame) {\n    // If this is an allowed frame, keep it and record it's Dts\n    if (currentFrame.dts >= earliestAllowedDts) {\n      track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n      track.minSegmentPts = track.minSegmentDts;\n      return true;\n    } // Otherwise, discard it\n\n\n    return false;\n  });\n}; // generate the track's raw mdat data from an array of frames\n\n\nvar generateSampleTable = function generateSampleTable(frames) {\n  var i,\n      currentFrame,\n      samples = [];\n\n  for (i = 0; i < frames.length; i++) {\n    currentFrame = frames[i];\n    samples.push({\n      size: currentFrame.data.byteLength,\n      duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n    });\n  }\n\n  return samples;\n}; // generate the track's sample table from an array of frames\n\n\nvar concatenateFrameData = function concatenateFrameData(frames) {\n  var i,\n      currentFrame,\n      dataOffset = 0,\n      data = new Uint8Array(sumFrameByteLengths(frames));\n\n  for (i = 0; i < frames.length; i++) {\n    currentFrame = frames[i];\n    data.set(currentFrame.data, dataOffset);\n    dataOffset += currentFrame.data.byteLength;\n  }\n\n  return data;\n};\n\nmodule.exports = {\n  prefixWithSilence: prefixWithSilence,\n  trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n  generateSampleTable: generateSampleTable,\n  concatenateFrameData: concatenateFrameData\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar highPrefix = [33, 16, 5, 32, 164, 27];\nvar lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\nvar zeroFill = function zeroFill(count) {\n  var a = [];\n\n  while (count--) {\n    a.push(0);\n  }\n\n  return a;\n};\n\nvar makeTable = function makeTable(metaTable) {\n  return Object.keys(metaTable).reduce(function (obj, key) {\n    obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n      return arr.concat(part);\n    }, []));\n    return obj;\n  }, {});\n}; // Frames-of-silence to use for filling in missing AAC frames\n\n\nvar coneOfSilence = {\n  96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n  88200: [highPrefix, [231], zeroFill(170), [56]],\n  64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n  48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n  44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n  32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n  24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n  16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n  12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n  11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n  8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n};\nmodule.exports = makeTable(coneOfSilence);","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar ONE_SECOND_IN_TS = 90000,\n    // 90kHz clock\nsecondsToVideoTs,\n    secondsToAudioTs,\n    videoTsToSeconds,\n    audioTsToSeconds,\n    audioTsToVideoTs,\n    videoTsToAudioTs;\n\nsecondsToVideoTs = function secondsToVideoTs(seconds) {\n  return seconds * ONE_SECOND_IN_TS;\n};\n\nsecondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n  return seconds * sampleRate;\n};\n\nvideoTsToSeconds = function videoTsToSeconds(timestamp) {\n  return timestamp / ONE_SECOND_IN_TS;\n};\n\naudioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n  return timestamp / sampleRate;\n};\n\naudioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n  return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n};\n\nvideoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n  return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n};\n\nmodule.exports = {\n  secondsToVideoTs: secondsToVideoTs,\n  secondsToAudioTs: secondsToAudioTs,\n  videoTsToSeconds: videoTsToSeconds,\n  audioTsToSeconds: audioTsToSeconds,\n  audioTsToVideoTs: audioTsToVideoTs,\n  videoTsToAudioTs: videoTsToAudioTs\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar ONE_SECOND_IN_TS = 90000; // 90kHz clock\n\n/**\n * Store information about the start and end of the track and the\n * duration for each frame/sample we process in order to calculate\n * the baseMediaDecodeTime\n */\n\nvar collectDtsInfo = function collectDtsInfo(track, data) {\n  if (typeof data.pts === 'number') {\n    if (track.timelineStartInfo.pts === undefined) {\n      track.timelineStartInfo.pts = data.pts;\n    }\n\n    if (track.minSegmentPts === undefined) {\n      track.minSegmentPts = data.pts;\n    } else {\n      track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n    }\n\n    if (track.maxSegmentPts === undefined) {\n      track.maxSegmentPts = data.pts;\n    } else {\n      track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n    }\n  }\n\n  if (typeof data.dts === 'number') {\n    if (track.timelineStartInfo.dts === undefined) {\n      track.timelineStartInfo.dts = data.dts;\n    }\n\n    if (track.minSegmentDts === undefined) {\n      track.minSegmentDts = data.dts;\n    } else {\n      track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n    }\n\n    if (track.maxSegmentDts === undefined) {\n      track.maxSegmentDts = data.dts;\n    } else {\n      track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n    }\n  }\n};\n/**\n * Clear values used to calculate the baseMediaDecodeTime between\n * tracks\n */\n\n\nvar clearDtsInfo = function clearDtsInfo(track) {\n  delete track.minSegmentDts;\n  delete track.maxSegmentDts;\n  delete track.minSegmentPts;\n  delete track.maxSegmentPts;\n};\n/**\n * Calculate the track's baseMediaDecodeTime based on the earliest\n * DTS the transmuxer has ever seen and the minimum DTS for the\n * current track\n * @param track {object} track metadata configuration\n * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n *        in the source; false to adjust the first segment to start at 0.\n */\n\n\nvar calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n  var baseMediaDecodeTime,\n      scale,\n      minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n  if (!keepOriginalTimestamps) {\n    minSegmentDts -= track.timelineStartInfo.dts;\n  } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n  // we want the start of the first segment to be placed\n\n\n  baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n  baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n  baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n  if (track.type === 'audio') {\n    // Audio has a different clock equal to the sampling_rate so we need to\n    // scale the PTS values into the clock rate of the track\n    scale = track.samplerate / ONE_SECOND_IN_TS;\n    baseMediaDecodeTime *= scale;\n    baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n  }\n\n  return baseMediaDecodeTime;\n};\n\nmodule.exports = {\n  clearDtsInfo: clearDtsInfo,\n  calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n  collectDtsInfo: collectDtsInfo\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A stream-based mp2t to mp4 converter. This utility can be used to\n * deliver mp4s to a SourceBuffer on platforms that support native\n * Media Source Extensions.\n */\n'use strict';\n\nvar Stream = require('../utils/stream.js'),\n    CaptionStream = require('./caption-stream'),\n    StreamTypes = require('./stream-types'),\n    TimestampRolloverStream = require('./timestamp-rollover-stream').TimestampRolloverStream;\n\nvar m2tsStreamTypes = require('./stream-types.js'); // object types\n\n\nvar _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\nvar MP2T_PACKET_LENGTH = 188,\n    // bytes\nSYNC_BYTE = 0x47;\n/**\n * Splits an incoming stream of binary data into MPEG-2 Transport\n * Stream packets.\n */\n\n_TransportPacketStream = function TransportPacketStream() {\n  var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n      bytesInBuffer = 0;\n\n  _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n  /**\n   * Split a stream of data into M2TS packets\n  **/\n\n\n  this.push = function (bytes) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH,\n        everything; // If there are bytes remaining from the last segment, prepend them to the\n    // bytes that were pushed in\n\n    if (bytesInBuffer) {\n      everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n      everything.set(buffer.subarray(0, bytesInBuffer));\n      everything.set(bytes, bytesInBuffer);\n      bytesInBuffer = 0;\n    } else {\n      everything = bytes;\n    } // While we have enough data for a packet\n\n\n    while (endIndex < everything.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n        // We found a packet so emit it and jump one whole packet forward in\n        // the stream\n        this.trigger('data', everything.subarray(startIndex, endIndex));\n        startIndex += MP2T_PACKET_LENGTH;\n        endIndex += MP2T_PACKET_LENGTH;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    } // If there was some data left over at the end of the segment that couldn't\n    // possibly be a whole packet, keep it because it might be the start of a packet\n    // that continues in the next segment\n\n\n    if (startIndex < everything.byteLength) {\n      buffer.set(everything.subarray(startIndex), 0);\n      bytesInBuffer = everything.byteLength - startIndex;\n    }\n  };\n  /**\n   * Passes identified M2TS packets to the TransportParseStream to be parsed\n  **/\n\n\n  this.flush = function () {\n    // If the buffer contains a whole packet when we are being flushed, emit it\n    // and empty the buffer. Otherwise hold onto the data because it may be\n    // important for decoding the next segment\n    if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n      this.trigger('data', buffer);\n      bytesInBuffer = 0;\n    }\n\n    this.trigger('done');\n  };\n};\n\n_TransportPacketStream.prototype = new Stream();\n/**\n * Accepts an MP2T TransportPacketStream and emits data events with parsed\n * forms of the individual transport stream packets.\n */\n\n_TransportParseStream = function TransportParseStream() {\n  var parsePsi, parsePat, parsePmt, self;\n\n  _TransportParseStream.prototype.init.call(this);\n\n  self = this;\n  this.packetsWaitingForPmt = [];\n  this.programMapTable = undefined;\n\n  parsePsi = function parsePsi(payload, psi) {\n    var offset = 0; // PSI packets may be split into multiple sections and those\n    // sections may be split into multiple packets. If a PSI\n    // section starts in this packet, the payload_unit_start_indicator\n    // will be true and the first byte of the payload will indicate\n    // the offset from the current position to the start of the\n    // section.\n\n    if (psi.payloadUnitStartIndicator) {\n      offset += payload[offset] + 1;\n    }\n\n    if (psi.type === 'pat') {\n      parsePat(payload.subarray(offset), psi);\n    } else {\n      parsePmt(payload.subarray(offset), psi);\n    }\n  };\n\n  parsePat = function parsePat(payload, pat) {\n    pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n    pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n    // skip the PSI header and parse the first PMT entry\n\n    self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n    pat.pmtPid = self.pmtPid;\n  };\n  /**\n   * Parse out the relevant fields of a Program Map Table (PMT).\n   * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n   * packet. The first byte in this array should be the table_id\n   * field.\n   * @param pmt {object} the object that should be decorated with\n   * fields parsed from the PMT.\n   */\n\n\n  parsePmt = function parsePmt(payload, pmt) {\n    var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n    // take effect. We don't believe this should ever be the case\n    // for HLS but we'll ignore \"forward\" PMT declarations if we see\n    // them. Future PMT declarations have the current_next_indicator\n    // set to zero.\n\n    if (!(payload[5] & 0x01)) {\n      return;\n    } // overwrite any existing program map table\n\n\n    self.programMapTable = {\n      video: null,\n      audio: null,\n      'timed-metadata': {}\n    }; // the mapping table ends at the end of the current section\n\n    sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n    tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n    // long the program info descriptors are\n\n    programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n    offset = 12 + programInfoLength;\n\n    while (offset < tableEnd) {\n      var streamType = payload[offset];\n      var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n      // TODO: should this be done for metadata too? for now maintain behavior of\n      //       multiple metadata streams\n\n      if (streamType === StreamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n        self.programMapTable.video = pid;\n      } else if (streamType === StreamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n        self.programMapTable.audio = pid;\n      } else if (streamType === StreamTypes.METADATA_STREAM_TYPE) {\n        // map pid to stream type for metadata streams\n        self.programMapTable['timed-metadata'][pid] = streamType;\n      } // move to the next table entry\n      // skip past the elementary stream descriptors, if present\n\n\n      offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n    } // record the map on the packet as well\n\n\n    pmt.programMapTable = self.programMapTable;\n  };\n  /**\n   * Deliver a new MP2T packet to the next stream in the pipeline.\n   */\n\n\n  this.push = function (packet) {\n    var result = {},\n        offset = 4;\n    result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n    result.pid = packet[1] & 0x1f;\n    result.pid <<= 8;\n    result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n    // fifth byte of the TS packet header. The adaptation field is\n    // used to add stuffing to PES packets that don't fill a complete\n    // TS packet, and to specify some forms of timing and control data\n    // that we do not currently use.\n\n    if ((packet[3] & 0x30) >>> 4 > 0x01) {\n      offset += packet[offset] + 1;\n    } // parse the rest of the packet based on the type\n\n\n    if (result.pid === 0) {\n      result.type = 'pat';\n      parsePsi(packet.subarray(offset), result);\n      this.trigger('data', result);\n    } else if (result.pid === this.pmtPid) {\n      result.type = 'pmt';\n      parsePsi(packet.subarray(offset), result);\n      this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n      while (this.packetsWaitingForPmt.length) {\n        this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n      }\n    } else if (this.programMapTable === undefined) {\n      // When we have not seen a PMT yet, defer further processing of\n      // PES packets until one has been parsed\n      this.packetsWaitingForPmt.push([packet, offset, result]);\n    } else {\n      this.processPes_(packet, offset, result);\n    }\n  };\n\n  this.processPes_ = function (packet, offset, result) {\n    // set the appropriate stream type\n    if (result.pid === this.programMapTable.video) {\n      result.streamType = StreamTypes.H264_STREAM_TYPE;\n    } else if (result.pid === this.programMapTable.audio) {\n      result.streamType = StreamTypes.ADTS_STREAM_TYPE;\n    } else {\n      // if not video or audio, it is timed-metadata or unknown\n      // if unknown, streamType will be undefined\n      result.streamType = this.programMapTable['timed-metadata'][result.pid];\n    }\n\n    result.type = 'pes';\n    result.data = packet.subarray(offset);\n    this.trigger('data', result);\n  };\n};\n\n_TransportParseStream.prototype = new Stream();\n_TransportParseStream.STREAM_TYPES = {\n  h264: 0x1b,\n  adts: 0x0f\n};\n/**\n * Reconsistutes program elementary stream (PES) packets from parsed\n * transport stream packets. That is, if you pipe an\n * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n * events will be events which capture the bytes for individual PES\n * packets plus relevant metadata that has been extracted from the\n * container.\n */\n\n_ElementaryStream = function ElementaryStream() {\n  var self = this,\n      // PES packet fragments\n  video = {\n    data: [],\n    size: 0\n  },\n      audio = {\n    data: [],\n    size: 0\n  },\n      timedMetadata = {\n    data: [],\n    size: 0\n  },\n      parsePes = function parsePes(payload, pes) {\n    var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n    pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n    pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n    // and a DTS value. Determine what combination of values is\n    // available to work with.\n\n    ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n    // performs all bitwise operations on 32-bit integers but javascript\n    // supports a much greater range (52-bits) of integer using standard\n    // mathematical operations.\n    // We construct a 31-bit value using bitwise operators over the 31\n    // most significant bits and then multiply by 4 (equal to a left-shift\n    // of 2) before we add the final 2 least significant bits of the\n    // timestamp (equal to an OR.)\n\n    if (ptsDtsFlags & 0xC0) {\n      // the PTS and DTS are not written out directly. For information\n      // on how they are encoded, see\n      // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n      pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n      pes.pts *= 4; // Left shift by 2\n\n      pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n      pes.dts = pes.pts;\n\n      if (ptsDtsFlags & 0x40) {\n        pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n        pes.dts *= 4; // Left shift by 2\n\n        pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n      }\n    } // the data section starts immediately after the PES header.\n    // pes_header_data_length specifies the number of header bytes\n    // that follow the last byte of the field.\n\n\n    pes.data = payload.subarray(9 + payload[8]);\n  },\n\n  /**\n    * Pass completely parsed PES packets to the next stream in the pipeline\n   **/\n  flushStream = function flushStream(stream, type, forceFlush) {\n    var packetData = new Uint8Array(stream.size),\n        event = {\n      type: type\n    },\n        i = 0,\n        offset = 0,\n        packetFlushable = false,\n        fragment; // do nothing if there is not enough buffered data for a complete\n    // PES header\n\n    if (!stream.data.length || stream.size < 9) {\n      return;\n    }\n\n    event.trackId = stream.data[0].pid; // reassemble the packet\n\n    for (i = 0; i < stream.data.length; i++) {\n      fragment = stream.data[i];\n      packetData.set(fragment.data, offset);\n      offset += fragment.data.byteLength;\n    } // parse assembled packet's PES header\n\n\n    parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n    // check that there is enough stream data to fill the packet\n\n    packetFlushable = type === 'video' || event.packetLength <= stream.size; // flush pending packets if the conditions are right\n\n    if (forceFlush || packetFlushable) {\n      stream.size = 0;\n      stream.data.length = 0;\n    } // only emit packets that are complete. this is to avoid assembling\n    // incomplete PES packets due to poor segmentation\n\n\n    if (packetFlushable) {\n      self.trigger('data', event);\n    }\n  };\n\n  _ElementaryStream.prototype.init.call(this);\n  /**\n   * Identifies M2TS packet types and parses PES packets using metadata\n   * parsed from the PMT\n   **/\n\n\n  this.push = function (data) {\n    ({\n      pat: function pat() {// we have to wait for the PMT to arrive as well before we\n        // have any meaningful metadata\n      },\n      pes: function pes() {\n        var stream, streamType;\n\n        switch (data.streamType) {\n          case StreamTypes.H264_STREAM_TYPE:\n          case m2tsStreamTypes.H264_STREAM_TYPE:\n            stream = video;\n            streamType = 'video';\n            break;\n\n          case StreamTypes.ADTS_STREAM_TYPE:\n            stream = audio;\n            streamType = 'audio';\n            break;\n\n          case StreamTypes.METADATA_STREAM_TYPE:\n            stream = timedMetadata;\n            streamType = 'timed-metadata';\n            break;\n\n          default:\n            // ignore unknown stream types\n            return;\n        } // if a new packet is starting, we can flush the completed\n        // packet\n\n\n        if (data.payloadUnitStartIndicator) {\n          flushStream(stream, streamType, true);\n        } // buffer this fragment until we are sure we've received the\n        // complete payload\n\n\n        stream.data.push(data);\n        stream.size += data.data.byteLength;\n      },\n      pmt: function pmt() {\n        var event = {\n          type: 'metadata',\n          tracks: []\n        },\n            programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n        if (programMapTable.video !== null) {\n          event.tracks.push({\n            timelineStartInfo: {\n              baseMediaDecodeTime: 0\n            },\n            id: +programMapTable.video,\n            codec: 'avc',\n            type: 'video'\n          });\n        }\n\n        if (programMapTable.audio !== null) {\n          event.tracks.push({\n            timelineStartInfo: {\n              baseMediaDecodeTime: 0\n            },\n            id: +programMapTable.audio,\n            codec: 'adts',\n            type: 'audio'\n          });\n        }\n\n        self.trigger('data', event);\n      }\n    })[data.type]();\n  };\n  /**\n   * Flush any remaining input. Video PES packets may be of variable\n   * length. Normally, the start of a new video packet can trigger the\n   * finalization of the previous packet. That is not possible if no\n   * more video is forthcoming, however. In that case, some other\n   * mechanism (like the end of the file) has to be employed. When it is\n   * clear that no additional data is forthcoming, calling this method\n   * will flush the buffered packets.\n   */\n\n\n  this.flush = function () {\n    // !!THIS ORDER IS IMPORTANT!!\n    // video first then audio\n    flushStream(video, 'video');\n    flushStream(audio, 'audio');\n    flushStream(timedMetadata, 'timed-metadata');\n    this.trigger('done');\n  };\n};\n\n_ElementaryStream.prototype = new Stream();\nvar m2ts = {\n  PAT_PID: 0x0000,\n  MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n  TransportPacketStream: _TransportPacketStream,\n  TransportParseStream: _TransportParseStream,\n  ElementaryStream: _ElementaryStream,\n  TimestampRolloverStream: TimestampRolloverStream,\n  CaptionStream: CaptionStream.CaptionStream,\n  Cea608Stream: CaptionStream.Cea608Stream,\n  MetadataStream: require('./metadata-stream')\n};\n\nfor (var type in StreamTypes) {\n  if (StreamTypes.hasOwnProperty(type)) {\n    m2ts[type] = StreamTypes[type];\n  }\n}\n\nmodule.exports = m2ts;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Accepts program elementary stream (PES) data events and parses out\n * ID3 metadata from them, if present.\n * @see http://id3.org/id3v2.3.0\n */\n'use strict';\n\nvar Stream = require('../utils/stream'),\n    StreamTypes = require('./stream-types'),\n    // return a percent-encoded representation of the specified byte range\n// @see http://en.wikipedia.org/wiki/Percent-encoding\npercentEncode = function percentEncode(bytes, start, end) {\n  var i,\n      result = '';\n\n  for (i = start; i < end; i++) {\n    result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n  }\n\n  return result;\n},\n    // return the string representation of the specified byte range,\n// interpreted as UTf-8.\nparseUtf8 = function parseUtf8(bytes, start, end) {\n  return decodeURIComponent(percentEncode(bytes, start, end));\n},\n    // return the string representation of the specified byte range,\n// interpreted as ISO-8859-1.\nparseIso88591 = function parseIso88591(bytes, start, end) {\n  return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n},\n    parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n  return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n},\n    tagParsers = {\n  TXXX: function TXXX(tag) {\n    var i;\n\n    if (tag.data[0] !== 3) {\n      // ignore frames with unrecognized character encodings\n      return;\n    }\n\n    for (i = 1; i < tag.data.length; i++) {\n      if (tag.data[i] === 0) {\n        // parse the text fields\n        tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n        tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n        break;\n      }\n    }\n\n    tag.data = tag.value;\n  },\n  WXXX: function WXXX(tag) {\n    var i;\n\n    if (tag.data[0] !== 3) {\n      // ignore frames with unrecognized character encodings\n      return;\n    }\n\n    for (i = 1; i < tag.data.length; i++) {\n      if (tag.data[i] === 0) {\n        // parse the description and URL fields\n        tag.description = parseUtf8(tag.data, 1, i);\n        tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n        break;\n      }\n    }\n  },\n  PRIV: function PRIV(tag) {\n    var i;\n\n    for (i = 0; i < tag.data.length; i++) {\n      if (tag.data[i] === 0) {\n        // parse the description and URL fields\n        tag.owner = parseIso88591(tag.data, 0, i);\n        break;\n      }\n    }\n\n    tag.privateData = tag.data.subarray(i + 1);\n    tag.data = tag.privateData;\n  }\n},\n    _MetadataStream;\n\n_MetadataStream = function MetadataStream(options) {\n  var settings = {\n    debug: !!(options && options.debug),\n    // the bytes of the program-level descriptor field in MP2T\n    // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n    // program element descriptors\"\n    descriptor: options && options.descriptor\n  },\n      // the total size in bytes of the ID3 tag being parsed\n  tagSize = 0,\n      // tag data that is not complete enough to be parsed\n  buffer = [],\n      // the total number of bytes currently in the buffer\n  bufferSize = 0,\n      i;\n\n  _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n  // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n  this.dispatchType = StreamTypes.METADATA_STREAM_TYPE.toString(16);\n\n  if (settings.descriptor) {\n    for (i = 0; i < settings.descriptor.length; i++) {\n      this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n    }\n  }\n\n  this.push = function (chunk) {\n    var tag, frameStart, frameSize, frame, i, frameHeader;\n\n    if (chunk.type !== 'timed-metadata') {\n      return;\n    } // if data_alignment_indicator is set in the PES header,\n    // we must have the start of a new ID3 tag. Assume anything\n    // remaining in the buffer was malformed and throw it out\n\n\n    if (chunk.dataAlignmentIndicator) {\n      bufferSize = 0;\n      buffer.length = 0;\n    } // ignore events that don't look like ID3 data\n\n\n    if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n      if (settings.debug) {\n        // eslint-disable-next-line no-console\n        console.log('Skipping unrecognized metadata packet');\n      }\n\n      return;\n    } // add this chunk to the data we've collected so far\n\n\n    buffer.push(chunk);\n    bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n    if (buffer.length === 1) {\n      // the frame size is transmitted as a 28-bit integer in the\n      // last four bytes of the ID3 header.\n      // The most significant bit of each byte is dropped and the\n      // results concatenated to recover the actual value.\n      tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n      // convenient for our comparisons to include it\n\n      tagSize += 10;\n    } // if the entire frame has not arrived, wait for more data\n\n\n    if (bufferSize < tagSize) {\n      return;\n    } // collect the entire frame so it can be parsed\n\n\n    tag = {\n      data: new Uint8Array(tagSize),\n      frames: [],\n      pts: buffer[0].pts,\n      dts: buffer[0].dts\n    };\n\n    for (i = 0; i < tagSize;) {\n      tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n      i += buffer[0].data.byteLength;\n      bufferSize -= buffer[0].data.byteLength;\n      buffer.shift();\n    } // find the start of the first frame and the end of the tag\n\n\n    frameStart = 10;\n\n    if (tag.data[5] & 0x40) {\n      // advance the frame start past the extended header\n      frameStart += 4; // header size field\n\n      frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n      tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n    } // parse one or more ID3 frames\n    // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n    do {\n      // determine the number of bytes in this frame\n      frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n      if (frameSize < 1) {\n        // eslint-disable-next-line no-console\n        return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n      }\n\n      frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n      frame = {\n        id: frameHeader,\n        data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n      };\n      frame.key = frame.id;\n\n      if (tagParsers[frame.id]) {\n        tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n        // time for raw AAC data\n\n        if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n          var d = frame.data,\n              size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n          size *= 4;\n          size += d[7] & 0x03;\n          frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n          // on the value of this frame\n          // we couldn't have known the appropriate pts and dts before\n          // parsing this ID3 tag so set those values now\n\n          if (tag.pts === undefined && tag.dts === undefined) {\n            tag.pts = frame.timeStamp;\n            tag.dts = frame.timeStamp;\n          }\n\n          this.trigger('timestamp', frame);\n        }\n      }\n\n      tag.frames.push(frame);\n      frameStart += 10; // advance past the frame header\n\n      frameStart += frameSize; // advance past the frame body\n    } while (frameStart < tagSize);\n\n    this.trigger('data', tag);\n  };\n};\n\n_MetadataStream.prototype = new Stream();\nmodule.exports = _MetadataStream;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nvar Stream = require('../utils/stream.js');\n\nvar _AdtsStream;\n\nvar ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n/*\n * Accepts a ElementaryStream and emits data events with parsed\n * AAC Audio Frames of the individual packets. Input audio in ADTS\n * format is unpacked and re-emitted as AAC frames.\n *\n * @see http://wiki.multimedia.cx/index.php?title=ADTS\n * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n */\n\n_AdtsStream = function AdtsStream() {\n  var buffer;\n\n  _AdtsStream.prototype.init.call(this);\n\n  this.push = function (packet) {\n    var i = 0,\n        frameNum = 0,\n        frameLength,\n        protectionSkipBytes,\n        frameEnd,\n        oldBuffer,\n        sampleCount,\n        adtsFrameDuration;\n\n    if (packet.type !== 'audio') {\n      // ignore non-audio data\n      return;\n    } // Prepend any data in the buffer to the input data so that we can parse\n    // aac frames the cross a PES packet boundary\n\n\n    if (buffer) {\n      oldBuffer = buffer;\n      buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n      buffer.set(oldBuffer);\n      buffer.set(packet.data, oldBuffer.byteLength);\n    } else {\n      buffer = packet.data;\n    } // unpack any ADTS frames which have been fully received\n    // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n    while (i + 5 < buffer.length) {\n      // Loook for the start of an ADTS header..\n      if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n        // If a valid header was not found,  jump one forward and attempt to\n        // find a valid ADTS header starting at the next byte\n        i++;\n        continue;\n      } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n      // end of the ADTS header\n\n\n      protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n      // end of the sync sequence\n\n      frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n      sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n      adtsFrameDuration = sampleCount * 90000 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n      frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n      // and wait for more data\n\n      if (buffer.byteLength < frameEnd) {\n        return;\n      } // Otherwise, deliver the complete AAC frame\n\n\n      this.trigger('data', {\n        pts: packet.pts + frameNum * adtsFrameDuration,\n        dts: packet.dts + frameNum * adtsFrameDuration,\n        sampleCount: sampleCount,\n        audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n        channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n        samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n        samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n        // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n        samplesize: 16,\n        data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n      }); // If the buffer is empty, clear it and return\n\n      if (buffer.byteLength === frameEnd) {\n        buffer = undefined;\n        return;\n      }\n\n      frameNum++; // Remove the finished frame from the buffer and start the process again\n\n      buffer = buffer.subarray(frameEnd);\n    }\n  };\n\n  this.flush = function () {\n    this.trigger('done');\n  };\n};\n\n_AdtsStream.prototype = new Stream();\nmodule.exports = _AdtsStream;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nvar Stream = require('../utils/stream.js');\n\nvar ExpGolomb = require('../utils/exp-golomb.js');\n\nvar _H264Stream, _NalByteStream;\n\nvar PROFILES_WITH_OPTIONAL_SPS_DATA;\n/**\n * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n */\n\n_NalByteStream = function NalByteStream() {\n  var syncPoint = 0,\n      i,\n      buffer;\n\n  _NalByteStream.prototype.init.call(this);\n  /*\n   * Scans a byte stream and triggers a data event with the NAL units found.\n   * @param {Object} data Event received from H264Stream\n   * @param {Uint8Array} data.data The h264 byte stream to be scanned\n   *\n   * @see H264Stream.push\n   */\n\n\n  this.push = function (data) {\n    var swapBuffer;\n\n    if (!buffer) {\n      buffer = data.data;\n    } else {\n      swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n      swapBuffer.set(buffer);\n      swapBuffer.set(data.data, buffer.byteLength);\n      buffer = swapBuffer;\n    } // Rec. ITU-T H.264, Annex B\n    // scan for NAL unit boundaries\n    // a match looks like this:\n    // 0 0 1 .. NAL .. 0 0 1\n    // ^ sync point        ^ i\n    // or this:\n    // 0 0 1 .. NAL .. 0 0 0\n    // ^ sync point        ^ i\n    // advance the sync point to a NAL start, if necessary\n\n\n    for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\n      if (buffer[syncPoint + 2] === 1) {\n        // the sync point is properly aligned\n        i = syncPoint + 5;\n        break;\n      }\n    }\n\n    while (i < buffer.byteLength) {\n      // look at the current byte to determine if we've hit the end of\n      // a NAL unit boundary\n      switch (buffer[i]) {\n        case 0:\n          // skip past non-sync sequences\n          if (buffer[i - 1] !== 0) {\n            i += 2;\n            break;\n          } else if (buffer[i - 2] !== 0) {\n            i++;\n            break;\n          } // deliver the NAL unit if it isn't empty\n\n\n          if (syncPoint + 3 !== i - 2) {\n            this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n          } // drop trailing zeroes\n\n\n          do {\n            i++;\n          } while (buffer[i] !== 1 && i < buffer.length);\n\n          syncPoint = i - 2;\n          i += 3;\n          break;\n\n        case 1:\n          // skip past non-sync sequences\n          if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n            i += 3;\n            break;\n          } // deliver the NAL unit\n\n\n          this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n          syncPoint = i - 2;\n          i += 3;\n          break;\n\n        default:\n          // the current byte isn't a one or zero, so it cannot be part\n          // of a sync sequence\n          i += 3;\n          break;\n      }\n    } // filter out the NAL units that were delivered\n\n\n    buffer = buffer.subarray(syncPoint);\n    i -= syncPoint;\n    syncPoint = 0;\n  };\n\n  this.flush = function () {\n    // deliver the last buffered NAL unit\n    if (buffer && buffer.byteLength > 3) {\n      this.trigger('data', buffer.subarray(syncPoint + 3));\n    } // reset the stream state\n\n\n    buffer = null;\n    syncPoint = 0;\n    this.trigger('done');\n  };\n};\n\n_NalByteStream.prototype = new Stream(); // values of profile_idc that indicate additional fields are included in the SPS\n// see Recommendation ITU-T H.264 (4/2013),\n// 7.3.2.1.1 Sequence parameter set data syntax\n\nPROFILES_WITH_OPTIONAL_SPS_DATA = {\n  100: true,\n  110: true,\n  122: true,\n  244: true,\n  44: true,\n  83: true,\n  86: true,\n  118: true,\n  128: true,\n  138: true,\n  139: true,\n  134: true\n};\n/**\n * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n * events.\n */\n\n_H264Stream = function H264Stream() {\n  var nalByteStream = new _NalByteStream(),\n      self,\n      trackId,\n      currentPts,\n      currentDts,\n      discardEmulationPreventionBytes,\n      readSequenceParameterSet,\n      skipScalingList;\n\n  _H264Stream.prototype.init.call(this);\n\n  self = this;\n  /*\n   * Pushes a packet from a stream onto the NalByteStream\n   *\n   * @param {Object} packet - A packet received from a stream\n   * @param {Uint8Array} packet.data - The raw bytes of the packet\n   * @param {Number} packet.dts - Decode timestamp of the packet\n   * @param {Number} packet.pts - Presentation timestamp of the packet\n   * @param {Number} packet.trackId - The id of the h264 track this packet came from\n   * @param {('video'|'audio')} packet.type - The type of packet\n   *\n   */\n\n  this.push = function (packet) {\n    if (packet.type !== 'video') {\n      return;\n    }\n\n    trackId = packet.trackId;\n    currentPts = packet.pts;\n    currentDts = packet.dts;\n    nalByteStream.push(packet);\n  };\n  /*\n   * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n   * for the NALUs to the next stream component.\n   * Also, preprocess caption and sequence parameter NALUs.\n   *\n   * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n   * @see NalByteStream.push\n   */\n\n\n  nalByteStream.on('data', function (data) {\n    var event = {\n      trackId: trackId,\n      pts: currentPts,\n      dts: currentDts,\n      data: data\n    };\n\n    switch (data[0] & 0x1f) {\n      case 0x05:\n        event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n        break;\n\n      case 0x06:\n        event.nalUnitType = 'sei_rbsp';\n        event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n        break;\n\n      case 0x07:\n        event.nalUnitType = 'seq_parameter_set_rbsp';\n        event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n        event.config = readSequenceParameterSet(event.escapedRBSP);\n        break;\n\n      case 0x08:\n        event.nalUnitType = 'pic_parameter_set_rbsp';\n        break;\n\n      case 0x09:\n        event.nalUnitType = 'access_unit_delimiter_rbsp';\n        break;\n\n      default:\n        break;\n    } // This triggers data on the H264Stream\n\n\n    self.trigger('data', event);\n  });\n  nalByteStream.on('done', function () {\n    self.trigger('done');\n  });\n\n  this.flush = function () {\n    nalByteStream.flush();\n  };\n  /**\n   * Advance the ExpGolomb decoder past a scaling list. The scaling\n   * list is optionally transmitted as part of a sequence parameter\n   * set and is not relevant to transmuxing.\n   * @param count {number} the number of entries in this scaling list\n   * @param expGolombDecoder {object} an ExpGolomb pointed to the\n   * start of a scaling list\n   * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n   */\n\n\n  skipScalingList = function skipScalingList(count, expGolombDecoder) {\n    var lastScale = 8,\n        nextScale = 8,\n        j,\n        deltaScale;\n\n    for (j = 0; j < count; j++) {\n      if (nextScale !== 0) {\n        deltaScale = expGolombDecoder.readExpGolomb();\n        nextScale = (lastScale + deltaScale + 256) % 256;\n      }\n\n      lastScale = nextScale === 0 ? lastScale : nextScale;\n    }\n  };\n  /**\n   * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n   * Sequence Payload\"\n   * @param data {Uint8Array} the bytes of a RBSP from a NAL\n   * unit\n   * @return {Uint8Array} the RBSP without any Emulation\n   * Prevention Bytes\n   */\n\n\n  discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n    var length = data.byteLength,\n        emulationPreventionBytesPositions = [],\n        i = 1,\n        newLength,\n        newData; // Find all `Emulation Prevention Bytes`\n\n    while (i < length - 2) {\n      if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n        emulationPreventionBytesPositions.push(i + 2);\n        i += 2;\n      } else {\n        i++;\n      }\n    } // If no Emulation Prevention Bytes were found just return the original\n    // array\n\n\n    if (emulationPreventionBytesPositions.length === 0) {\n      return data;\n    } // Create a new array to hold the NAL unit data\n\n\n    newLength = length - emulationPreventionBytesPositions.length;\n    newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n\n    for (i = 0; i < newLength; sourceIndex++, i++) {\n      if (sourceIndex === emulationPreventionBytesPositions[0]) {\n        // Skip this byte\n        sourceIndex++; // Remove this position index\n\n        emulationPreventionBytesPositions.shift();\n      }\n\n      newData[i] = data[sourceIndex];\n    }\n\n    return newData;\n  };\n  /**\n   * Read a sequence parameter set and return some interesting video\n   * properties. A sequence parameter set is the H264 metadata that\n   * describes the properties of upcoming video frames.\n   * @param data {Uint8Array} the bytes of a sequence parameter set\n   * @return {object} an object with configuration parsed from the\n   * sequence parameter set, including the dimensions of the\n   * associated video frames.\n   */\n\n\n  readSequenceParameterSet = function readSequenceParameterSet(data) {\n    var frameCropLeftOffset = 0,\n        frameCropRightOffset = 0,\n        frameCropTopOffset = 0,\n        frameCropBottomOffset = 0,\n        sarScale = 1,\n        expGolombDecoder,\n        profileIdc,\n        levelIdc,\n        profileCompatibility,\n        chromaFormatIdc,\n        picOrderCntType,\n        numRefFramesInPicOrderCntCycle,\n        picWidthInMbsMinus1,\n        picHeightInMapUnitsMinus1,\n        frameMbsOnlyFlag,\n        scalingListCount,\n        sarRatio,\n        aspectRatioIdc,\n        i;\n    expGolombDecoder = new ExpGolomb(data);\n    profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n    profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n    levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n    expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n    // some profiles have more optional data we don't need\n\n    if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n      chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n      if (chromaFormatIdc === 3) {\n        expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n      }\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n      expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n      if (expGolombDecoder.readBoolean()) {\n        // seq_scaling_matrix_present_flag\n        scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n        for (i = 0; i < scalingListCount; i++) {\n          if (expGolombDecoder.readBoolean()) {\n            // seq_scaling_list_present_flag[ i ]\n            if (i < 6) {\n              skipScalingList(16, expGolombDecoder);\n            } else {\n              skipScalingList(64, expGolombDecoder);\n            }\n          }\n        }\n      }\n    }\n\n    expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n    picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n    if (picOrderCntType === 0) {\n      expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n    } else if (picOrderCntType === 1) {\n      expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n      expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n      expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n      numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n      for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n        expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n      }\n    }\n\n    expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n    expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n    picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n    picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n    frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n    if (frameMbsOnlyFlag === 0) {\n      expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n    }\n\n    expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n    if (expGolombDecoder.readBoolean()) {\n      // frame_cropping_flag\n      frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n      frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n      frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n      frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n    }\n\n    if (expGolombDecoder.readBoolean()) {\n      // vui_parameters_present_flag\n      if (expGolombDecoder.readBoolean()) {\n        // aspect_ratio_info_present_flag\n        aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n        switch (aspectRatioIdc) {\n          case 1:\n            sarRatio = [1, 1];\n            break;\n\n          case 2:\n            sarRatio = [12, 11];\n            break;\n\n          case 3:\n            sarRatio = [10, 11];\n            break;\n\n          case 4:\n            sarRatio = [16, 11];\n            break;\n\n          case 5:\n            sarRatio = [40, 33];\n            break;\n\n          case 6:\n            sarRatio = [24, 11];\n            break;\n\n          case 7:\n            sarRatio = [20, 11];\n            break;\n\n          case 8:\n            sarRatio = [32, 11];\n            break;\n\n          case 9:\n            sarRatio = [80, 33];\n            break;\n\n          case 10:\n            sarRatio = [18, 11];\n            break;\n\n          case 11:\n            sarRatio = [15, 11];\n            break;\n\n          case 12:\n            sarRatio = [64, 33];\n            break;\n\n          case 13:\n            sarRatio = [160, 99];\n            break;\n\n          case 14:\n            sarRatio = [4, 3];\n            break;\n\n          case 15:\n            sarRatio = [3, 2];\n            break;\n\n          case 16:\n            sarRatio = [2, 1];\n            break;\n\n          case 255:\n            {\n              sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n              break;\n            }\n        }\n\n        if (sarRatio) {\n          sarScale = sarRatio[0] / sarRatio[1];\n        }\n      }\n    }\n\n    return {\n      profileIdc: profileIdc,\n      levelIdc: levelIdc,\n      profileCompatibility: profileCompatibility,\n      width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n      height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2\n    };\n  };\n};\n\n_H264Stream.prototype = new Stream();\nmodule.exports = {\n  H264Stream: _H264Stream,\n  NalByteStream: _NalByteStream\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nvar ExpGolomb;\n/**\n * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n * scheme used by h264.\n */\n\nExpGolomb = function ExpGolomb(workingData) {\n  var // the number of bytes left to examine in workingData\n  workingBytesAvailable = workingData.byteLength,\n      // the current word being examined\n  workingWord = 0,\n      // :uint\n  // the number of bits left to examine in the current word\n  workingBitsAvailable = 0; // :uint;\n  // ():uint\n\n  this.length = function () {\n    return 8 * workingBytesAvailable;\n  }; // ():uint\n\n\n  this.bitsAvailable = function () {\n    return 8 * workingBytesAvailable + workingBitsAvailable;\n  }; // ():void\n\n\n  this.loadWord = function () {\n    var position = workingData.byteLength - workingBytesAvailable,\n        workingBytes = new Uint8Array(4),\n        availableBytes = Math.min(4, workingBytesAvailable);\n\n    if (availableBytes === 0) {\n      throw new Error('no bytes available');\n    }\n\n    workingBytes.set(workingData.subarray(position, position + availableBytes));\n    workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n    workingBitsAvailable = availableBytes * 8;\n    workingBytesAvailable -= availableBytes;\n  }; // (count:int):void\n\n\n  this.skipBits = function (count) {\n    var skipBytes; // :int\n\n    if (workingBitsAvailable > count) {\n      workingWord <<= count;\n      workingBitsAvailable -= count;\n    } else {\n      count -= workingBitsAvailable;\n      skipBytes = Math.floor(count / 8);\n      count -= skipBytes * 8;\n      workingBytesAvailable -= skipBytes;\n      this.loadWord();\n      workingWord <<= count;\n      workingBitsAvailable -= count;\n    }\n  }; // (size:int):uint\n\n\n  this.readBits = function (size) {\n    var bits = Math.min(workingBitsAvailable, size),\n        // :uint\n    valu = workingWord >>> 32 - bits; // :uint\n    // if size > 31, handle error\n\n    workingBitsAvailable -= bits;\n\n    if (workingBitsAvailable > 0) {\n      workingWord <<= bits;\n    } else if (workingBytesAvailable > 0) {\n      this.loadWord();\n    }\n\n    bits = size - bits;\n\n    if (bits > 0) {\n      return valu << bits | this.readBits(bits);\n    }\n\n    return valu;\n  }; // ():uint\n\n\n  this.skipLeadingZeros = function () {\n    var leadingZeroCount; // :uint\n\n    for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n      if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n        // the first bit of working word is 1\n        workingWord <<= leadingZeroCount;\n        workingBitsAvailable -= leadingZeroCount;\n        return leadingZeroCount;\n      }\n    } // we exhausted workingWord and still have not found a 1\n\n\n    this.loadWord();\n    return leadingZeroCount + this.skipLeadingZeros();\n  }; // ():void\n\n\n  this.skipUnsignedExpGolomb = function () {\n    this.skipBits(1 + this.skipLeadingZeros());\n  }; // ():void\n\n\n  this.skipExpGolomb = function () {\n    this.skipBits(1 + this.skipLeadingZeros());\n  }; // ():uint\n\n\n  this.readUnsignedExpGolomb = function () {\n    var clz = this.skipLeadingZeros(); // :uint\n\n    return this.readBits(clz + 1) - 1;\n  }; // ():int\n\n\n  this.readExpGolomb = function () {\n    var valu = this.readUnsignedExpGolomb(); // :int\n\n    if (0x01 & valu) {\n      // the number is odd if the low order bit is set\n      return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n    }\n\n    return -1 * (valu >>> 1); // divide by two then make it negative\n  }; // Some convenience functions\n  // :Boolean\n\n\n  this.readBoolean = function () {\n    return this.readBits(1) === 1;\n  }; // ():int\n\n\n  this.readUnsignedByte = function () {\n    return this.readBits(8);\n  };\n\n  this.loadWord();\n};\n\nmodule.exports = ExpGolomb;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A stream-based aac to mp4 converter. This utility can be used to\n * deliver mp4s to a SourceBuffer on platforms that support native\n * Media Source Extensions.\n */\n'use strict';\n\nvar Stream = require('../utils/stream.js');\n\nvar aacUtils = require('./utils'); // Constants\n\n\nvar _AacStream;\n/**\n * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n */\n\n\n_AacStream = function AacStream() {\n  var everything = new Uint8Array(),\n      timeStamp = 0;\n\n  _AacStream.prototype.init.call(this);\n\n  this.setTimestamp = function (timestamp) {\n    timeStamp = timestamp;\n  };\n\n  this.push = function (bytes) {\n    var frameSize = 0,\n        byteIndex = 0,\n        bytesLeft,\n        chunk,\n        packet,\n        tempLength; // If there are bytes remaining from the last segment, prepend them to the\n    // bytes that were pushed in\n\n    if (everything.length) {\n      tempLength = everything.length;\n      everything = new Uint8Array(bytes.byteLength + tempLength);\n      everything.set(everything.subarray(0, tempLength));\n      everything.set(bytes, tempLength);\n    } else {\n      everything = bytes;\n    }\n\n    while (everything.length - byteIndex >= 3) {\n      if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n        // Exit early because we don't have enough to parse\n        // the ID3 tag header\n        if (everything.length - byteIndex < 10) {\n          break;\n        } // check framesize\n\n\n        frameSize = aacUtils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n        // Add to byteIndex to support multiple ID3 tags in sequence\n\n        if (byteIndex + frameSize > everything.length) {\n          break;\n        }\n\n        chunk = {\n          type: 'timed-metadata',\n          data: everything.subarray(byteIndex, byteIndex + frameSize)\n        };\n        this.trigger('data', chunk);\n        byteIndex += frameSize;\n        continue;\n      } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n        // Exit early because we don't have enough to parse\n        // the ADTS frame header\n        if (everything.length - byteIndex < 7) {\n          break;\n        }\n\n        frameSize = aacUtils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (byteIndex + frameSize > everything.length) {\n          break;\n        }\n\n        packet = {\n          type: 'audio',\n          data: everything.subarray(byteIndex, byteIndex + frameSize),\n          pts: timeStamp,\n          dts: timeStamp\n        };\n        this.trigger('data', packet);\n        byteIndex += frameSize;\n        continue;\n      }\n\n      byteIndex++;\n    }\n\n    bytesLeft = everything.length - byteIndex;\n\n    if (bytesLeft > 0) {\n      everything = everything.subarray(byteIndex);\n    } else {\n      everything = new Uint8Array();\n    }\n  };\n};\n\n_AacStream.prototype = new Stream();\nmodule.exports = _AacStream;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band CEA-708 captions out of FMP4 segments.\n * @see https://en.wikipedia.org/wiki/CEA-708\n */\n'use strict';\n\nvar discardEmulationPreventionBytes = require('../tools/caption-packet-parser').discardEmulationPreventionBytes;\n\nvar CaptionStream = require('../m2ts/caption-stream').CaptionStream;\n\nvar probe = require('./probe');\n\nvar inspect = require('../tools/mp4-inspector');\n/**\n  * Maps an offset in the mdat to a sample based on the the size of the samples.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Number} offset - The offset into the mdat\n  * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n  * @return {?Object} The matching sample, or null if no match was found.\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\n\n\nvar mapToSample = function mapToSample(offset, samples) {\n  var approximateOffset = offset;\n\n  for (var i = 0; i < samples.length; i++) {\n    var sample = samples[i];\n\n    if (approximateOffset < sample.size) {\n      return sample;\n    }\n\n    approximateOffset -= sample.size;\n  }\n\n  return null;\n};\n/**\n  * Finds SEI nal units contained in a Media Data Box.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Uint8Array} avcStream - The bytes of the mdat\n  * @param {Object[]} samples - The samples parsed out by `parseSamples`\n  * @param {Number} trackId - The trackId of this video track\n  * @return {Object[]} seiNals - the parsed SEI NALUs found.\n  *   The contents of the seiNal should match what is expected by\n  *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n  *\n  * @see ISO-BMFF-12/2015, Section 8.1.1\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n **/\n\n\nvar findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n  var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n      result = [],\n      seiNal,\n      i,\n      length,\n      lastMatchedSample;\n\n  for (i = 0; i + 4 < avcStream.length; i += length) {\n    length = avcView.getUint32(i);\n    i += 4; // Bail if this doesn't appear to be an H264 stream\n\n    if (length <= 0) {\n      continue;\n    }\n\n    switch (avcStream[i] & 0x1F) {\n      case 0x06:\n        var data = avcStream.subarray(i + 1, i + 1 + length);\n        var matchingSample = mapToSample(i, samples);\n        seiNal = {\n          nalUnitType: 'sei_rbsp',\n          size: length,\n          data: data,\n          escapedRBSP: discardEmulationPreventionBytes(data),\n          trackId: trackId\n        };\n\n        if (matchingSample) {\n          seiNal.pts = matchingSample.pts;\n          seiNal.dts = matchingSample.dts;\n          lastMatchedSample = matchingSample;\n        } else {\n          // If a matching sample cannot be found, use the last\n          // sample's values as they should be as close as possible\n          seiNal.pts = lastMatchedSample.pts;\n          seiNal.dts = lastMatchedSample.dts;\n        }\n\n        result.push(seiNal);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return result;\n};\n/**\n  * Parses sample information out of Track Run Boxes and calculates\n  * the absolute presentation and decode timestamps of each sample.\n  *\n  * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n  * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n      @see ISO-BMFF-12/2015, Section 8.8.12\n  * @param {Object} tfhd - The parsed Track Fragment Header\n  *   @see inspect.parseTfhd\n  * @return {Object[]} the parsed samples\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\n\n\nvar parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n  var currentDts = baseMediaDecodeTime;\n  var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n  var defaultSampleSize = tfhd.defaultSampleSize || 0;\n  var trackId = tfhd.trackId;\n  var allSamples = [];\n  truns.forEach(function (trun) {\n    // Note: We currently do not parse the sample table as well\n    // as the trun. It's possible some sources will require this.\n    // moov > trak > mdia > minf > stbl\n    var trackRun = inspect.parseTrun(trun);\n    var samples = trackRun.samples;\n    samples.forEach(function (sample) {\n      if (sample.duration === undefined) {\n        sample.duration = defaultSampleDuration;\n      }\n\n      if (sample.size === undefined) {\n        sample.size = defaultSampleSize;\n      }\n\n      sample.trackId = trackId;\n      sample.dts = currentDts;\n\n      if (sample.compositionTimeOffset === undefined) {\n        sample.compositionTimeOffset = 0;\n      }\n\n      sample.pts = currentDts + sample.compositionTimeOffset;\n      currentDts += sample.duration;\n    });\n    allSamples = allSamples.concat(samples);\n  });\n  return allSamples;\n};\n/**\n  * Parses out caption nals from an FMP4 segment's video tracks.\n  *\n  * @param {Uint8Array} segment - The bytes of a single segment\n  * @param {Number} videoTrackId - The trackId of a video track in the segment\n  * @return {Object.<Number, Object[]>} A mapping of video trackId to\n  *   a list of seiNals found in that track\n **/\n\n\nvar parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n  // To get the samples\n  var trafs = probe.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n  var mdats = probe.findBox(segment, ['mdat']);\n  var captionNals = {};\n  var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n  mdats.forEach(function (mdat, index) {\n    var matchingTraf = trafs[index];\n    mdatTrafPairs.push({\n      mdat: mdat,\n      traf: matchingTraf\n    });\n  });\n  mdatTrafPairs.forEach(function (pair) {\n    var mdat = pair.mdat;\n    var traf = pair.traf;\n    var tfhd = probe.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n    var headerInfo = inspect.parseTfhd(tfhd[0]);\n    var trackId = headerInfo.trackId;\n    var tfdt = probe.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n    var baseMediaDecodeTime = tfdt.length > 0 ? inspect.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n    var truns = probe.findBox(traf, ['trun']);\n    var samples;\n    var seiNals; // Only parse video data for the chosen video track\n\n    if (videoTrackId === trackId && truns.length > 0) {\n      samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n      seiNals = findSeiNals(mdat, samples, trackId);\n\n      if (!captionNals[trackId]) {\n        captionNals[trackId] = [];\n      }\n\n      captionNals[trackId] = captionNals[trackId].concat(seiNals);\n    }\n  });\n  return captionNals;\n};\n/**\n  * Parses out inband captions from an MP4 container and returns\n  * caption objects that can be used by WebVTT and the TextTrack API.\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n  * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n  *\n  * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n  * @param {Number} trackId - The id of the video track to parse\n  * @param {Number} timescale - The timescale for the video track from the init segment\n  *\n  * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n  * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n  * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n  * @return {String} parsedCaptions[].text - The visible content of the caption\n **/\n\n\nvar parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n  var seiNals;\n\n  if (!trackId) {\n    return null;\n  }\n\n  seiNals = parseCaptionNals(segment, trackId);\n  return {\n    seiNals: seiNals[trackId],\n    timescale: timescale\n  };\n};\n/**\n  * Converts SEI NALUs into captions that can be used by video.js\n **/\n\n\nvar CaptionParser = function CaptionParser() {\n  var isInitialized = false;\n  var captionStream; // Stores segments seen before trackId and timescale are set\n\n  var segmentCache; // Stores video track ID of the track being parsed\n\n  var trackId; // Stores the timescale of the track being parsed\n\n  var timescale; // Stores captions parsed so far\n\n  var parsedCaptions;\n  /**\n    * A method to indicate whether a CaptionParser has been initalized\n    * @returns {Boolean}\n   **/\n\n  this.isInitialized = function () {\n    return isInitialized;\n  };\n  /**\n    * Initializes the underlying CaptionStream, SEI NAL parsing\n    * and management, and caption collection\n   **/\n\n\n  this.init = function () {\n    captionStream = new CaptionStream();\n    isInitialized = true; // Collect dispatched captions\n\n    captionStream.on('data', function (event) {\n      // Convert to seconds in the source's timescale\n      event.startTime = event.startPts / timescale;\n      event.endTime = event.endPts / timescale;\n      parsedCaptions.captions.push(event);\n      parsedCaptions.captionStreams[event.stream] = true;\n    });\n  };\n  /**\n    * Determines if a new video track will be selected\n    * or if the timescale changed\n    * @return {Boolean}\n   **/\n\n\n  this.isNewInit = function (videoTrackIds, timescales) {\n    if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n      return false;\n    }\n\n    return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n  };\n  /**\n    * Parses out SEI captions and interacts with underlying\n    * CaptionStream to return dispatched captions\n    *\n    * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n    * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n    * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n    * @see parseEmbeddedCaptions\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.parse = function (segment, videoTrackIds, timescales) {\n    var parsedData;\n\n    if (!this.isInitialized()) {\n      return null; // This is not likely to be a video segment\n    } else if (!videoTrackIds || !timescales) {\n      return null;\n    } else if (this.isNewInit(videoTrackIds, timescales)) {\n      // Use the first video track only as there is no\n      // mechanism to switch to other video tracks\n      trackId = videoTrackIds[0];\n      timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n      // data until we have one\n    } else if (!trackId || !timescale) {\n      segmentCache.push(segment);\n      return null;\n    } // Now that a timescale and trackId is set, parse cached segments\n\n\n    while (segmentCache.length > 0) {\n      var cachedSegment = segmentCache.shift();\n      this.parse(cachedSegment, videoTrackIds, timescales);\n    }\n\n    parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n    if (parsedData === null || !parsedData.seiNals) {\n      return null;\n    }\n\n    this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n    this.flushStream();\n    return parsedCaptions;\n  };\n  /**\n    * Pushes SEI NALUs onto CaptionStream\n    * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n    * Assumes that `parseCaptionNals` has been called first\n    * @see m2ts/caption-stream.js\n    **/\n\n\n  this.pushNals = function (nals) {\n    if (!this.isInitialized() || !nals || nals.length === 0) {\n      return null;\n    }\n\n    nals.forEach(function (nal) {\n      captionStream.push(nal);\n    });\n  };\n  /**\n    * Flushes underlying CaptionStream to dispatch processed, displayable captions\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.flushStream = function () {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    captionStream.flush();\n  };\n  /**\n    * Reset caption buckets for new data\n   **/\n\n\n  this.clearParsedCaptions = function () {\n    parsedCaptions.captions = [];\n    parsedCaptions.captionStreams = {};\n  };\n  /**\n    * Resets underlying CaptionStream\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.resetCaptionStream = function () {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    captionStream.reset();\n  };\n  /**\n    * Convenience method to clear all captions flushed from the\n    * CaptionStream and still being parsed\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.clearAllCaptions = function () {\n    this.clearParsedCaptions();\n    this.resetCaptionStream();\n  };\n  /**\n    * Reset caption parser\n   **/\n\n\n  this.reset = function () {\n    segmentCache = [];\n    trackId = null;\n    timescale = null;\n\n    if (!parsedCaptions) {\n      parsedCaptions = {\n        captions: [],\n        // CC1, CC2, CC3, CC4\n        captionStreams: {}\n      };\n    } else {\n      this.clearParsedCaptions();\n    }\n\n    this.resetCaptionStream();\n  };\n\n  this.reset();\n};\n\nmodule.exports = CaptionParser;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about TS Segments.\n */\n'use strict';\n\nvar StreamTypes = require('./stream-types.js');\n\nvar parsePid = function parsePid(packet) {\n  var pid = packet[1] & 0x1f;\n  pid <<= 8;\n  pid |= packet[2];\n  return pid;\n};\n\nvar parsePayloadUnitStartIndicator = function parsePayloadUnitStartIndicator(packet) {\n  return !!(packet[1] & 0x40);\n};\n\nvar parseAdaptionField = function parseAdaptionField(packet) {\n  var offset = 0; // if an adaption field is present, its length is specified by the\n  // fifth byte of the TS packet header. The adaptation field is\n  // used to add stuffing to PES packets that don't fill a complete\n  // TS packet, and to specify some forms of timing and control data\n  // that we do not currently use.\n\n  if ((packet[3] & 0x30) >>> 4 > 0x01) {\n    offset += packet[4] + 1;\n  }\n\n  return offset;\n};\n\nvar parseType = function parseType(packet, pmtPid) {\n  var pid = parsePid(packet);\n\n  if (pid === 0) {\n    return 'pat';\n  } else if (pid === pmtPid) {\n    return 'pmt';\n  } else if (pmtPid) {\n    return 'pes';\n  }\n\n  return null;\n};\n\nvar parsePat = function parsePat(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    offset += packet[offset] + 1;\n  }\n\n  return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n};\n\nvar parsePmt = function parsePmt(packet) {\n  var programMapTable = {};\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var payloadOffset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    payloadOffset += packet[payloadOffset] + 1;\n  } // PMTs can be sent ahead of the time when they should actually\n  // take effect. We don't believe this should ever be the case\n  // for HLS but we'll ignore \"forward\" PMT declarations if we see\n  // them. Future PMT declarations have the current_next_indicator\n  // set to zero.\n\n\n  if (!(packet[payloadOffset + 5] & 0x01)) {\n    return;\n  }\n\n  var sectionLength, tableEnd, programInfoLength; // the mapping table ends at the end of the current section\n\n  sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n  tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n  // long the program info descriptors are\n\n  programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11]; // advance the offset to the first entry in the mapping table\n\n  var offset = 12 + programInfoLength;\n\n  while (offset < tableEnd) {\n    var i = payloadOffset + offset; // add an entry that maps the elementary_pid to the stream_type\n\n    programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i]; // move to the next table entry\n    // skip past the elementary stream descriptors, if present\n\n    offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n  }\n\n  return programMapTable;\n};\n\nvar parsePesType = function parsePesType(packet, programMapTable) {\n  var pid = parsePid(packet);\n  var type = programMapTable[pid];\n\n  switch (type) {\n    case StreamTypes.H264_STREAM_TYPE:\n      return 'video';\n\n    case StreamTypes.ADTS_STREAM_TYPE:\n      return 'audio';\n\n    case StreamTypes.METADATA_STREAM_TYPE:\n      return 'timed-metadata';\n\n    default:\n      return null;\n  }\n};\n\nvar parsePesTime = function parsePesTime(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n\n  if (!pusi) {\n    return null;\n  }\n\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (offset >= packet.byteLength) {\n    // From the H 222.0 MPEG-TS spec\n    // \"For transport stream packets carrying PES packets, stuffing is needed when there\n    //  is insufficient PES packet data to completely fill the transport stream packet\n    //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n    //  the sum of the lengths of the data elements in it, so that the payload bytes\n    //  remaining after the adaptation field exactly accommodates the available PES packet\n    //  data.\"\n    //\n    // If the offset is >= the length of the packet, then the packet contains no data\n    // and instead is just adaption field stuffing bytes\n    return null;\n  }\n\n  var pes = null;\n  var ptsDtsFlags; // PES packets may be annotated with a PTS value, or a PTS value\n  // and a DTS value. Determine what combination of values is\n  // available to work with.\n\n  ptsDtsFlags = packet[offset + 7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n  // performs all bitwise operations on 32-bit integers but javascript\n  // supports a much greater range (52-bits) of integer using standard\n  // mathematical operations.\n  // We construct a 31-bit value using bitwise operators over the 31\n  // most significant bits and then multiply by 4 (equal to a left-shift\n  // of 2) before we add the final 2 least significant bits of the\n  // timestamp (equal to an OR.)\n\n  if (ptsDtsFlags & 0xC0) {\n    pes = {}; // the PTS and DTS are not written out directly. For information\n    // on how they are encoded, see\n    // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n\n    pes.pts = (packet[offset + 9] & 0x0E) << 27 | (packet[offset + 10] & 0xFF) << 20 | (packet[offset + 11] & 0xFE) << 12 | (packet[offset + 12] & 0xFF) << 5 | (packet[offset + 13] & 0xFE) >>> 3;\n    pes.pts *= 4; // Left shift by 2\n\n    pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n\n    pes.dts = pes.pts;\n\n    if (ptsDtsFlags & 0x40) {\n      pes.dts = (packet[offset + 14] & 0x0E) << 27 | (packet[offset + 15] & 0xFF) << 20 | (packet[offset + 16] & 0xFE) << 12 | (packet[offset + 17] & 0xFF) << 5 | (packet[offset + 18] & 0xFE) >>> 3;\n      pes.dts *= 4; // Left shift by 2\n\n      pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n    }\n  }\n\n  return pes;\n};\n\nvar parseNalUnitType = function parseNalUnitType(type) {\n  switch (type) {\n    case 0x05:\n      return 'slice_layer_without_partitioning_rbsp_idr';\n\n    case 0x06:\n      return 'sei_rbsp';\n\n    case 0x07:\n      return 'seq_parameter_set_rbsp';\n\n    case 0x08:\n      return 'pic_parameter_set_rbsp';\n\n    case 0x09:\n      return 'access_unit_delimiter_rbsp';\n\n    default:\n      return null;\n  }\n};\n\nvar videoPacketContainsKeyFrame = function videoPacketContainsKeyFrame(packet) {\n  var offset = 4 + parseAdaptionField(packet);\n  var frameBuffer = packet.subarray(offset);\n  var frameI = 0;\n  var frameSyncPoint = 0;\n  var foundKeyFrame = false;\n  var nalType; // advance the sync point to a NAL start, if necessary\n\n  for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n    if (frameBuffer[frameSyncPoint + 2] === 1) {\n      // the sync point is properly aligned\n      frameI = frameSyncPoint + 5;\n      break;\n    }\n  }\n\n  while (frameI < frameBuffer.byteLength) {\n    // look at the current byte to determine if we've hit the end of\n    // a NAL unit boundary\n    switch (frameBuffer[frameI]) {\n      case 0:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0) {\n          frameI += 2;\n          break;\n        } else if (frameBuffer[frameI - 2] !== 0) {\n          frameI++;\n          break;\n        }\n\n        if (frameSyncPoint + 3 !== frameI - 2) {\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n            foundKeyFrame = true;\n          }\n        } // drop trailing zeroes\n\n\n        do {\n          frameI++;\n        } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      case 1:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0 || frameBuffer[frameI - 2] !== 0) {\n          frameI += 3;\n          break;\n        }\n\n        nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n        if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n          foundKeyFrame = true;\n        }\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      default:\n        // the current byte isn't a one or zero, so it cannot be part\n        // of a sync sequence\n        frameI += 3;\n        break;\n    }\n  }\n\n  frameBuffer = frameBuffer.subarray(frameSyncPoint);\n  frameI -= frameSyncPoint;\n  frameSyncPoint = 0; // parse the final nal\n\n  if (frameBuffer && frameBuffer.byteLength > 3) {\n    nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n    if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n      foundKeyFrame = true;\n    }\n  }\n\n  return foundKeyFrame;\n};\n\nmodule.exports = {\n  parseType: parseType,\n  parsePat: parsePat,\n  parsePmt: parsePmt,\n  parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n  parsePesType: parsePesType,\n  parsePesTime: parsePesTime,\n  videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n};","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}","/** @license React v16.9.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.fundamental\") : 60117,\n    w = b ? Symbol.for(\"react.responder\") : 60118;\n\nfunction x(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case t:\n      case r:\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction y(a) {\n  return x(a) === m;\n}\n\nexports.typeOf = x;\nexports.AsyncMode = l;\nexports.ConcurrentMode = m;\nexports.ContextConsumer = k;\nexports.ContextProvider = h;\nexports.Element = c;\nexports.ForwardRef = n;\nexports.Fragment = e;\nexports.Lazy = t;\nexports.Memo = r;\nexports.Portal = d;\nexports.Profiler = g;\nexports.StrictMode = f;\nexports.Suspense = p;\n\nexports.isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === v || a.$$typeof === w);\n};\n\nexports.isAsyncMode = function (a) {\n  return y(a) || x(a) === l;\n};\n\nexports.isConcurrentMode = y;\n\nexports.isContextConsumer = function (a) {\n  return x(a) === k;\n};\n\nexports.isContextProvider = function (a) {\n  return x(a) === h;\n};\n\nexports.isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nexports.isForwardRef = function (a) {\n  return x(a) === n;\n};\n\nexports.isFragment = function (a) {\n  return x(a) === e;\n};\n\nexports.isLazy = function (a) {\n  return x(a) === t;\n};\n\nexports.isMemo = function (a) {\n  return x(a) === r;\n};\n\nexports.isPortal = function (a) {\n  return x(a) === d;\n};\n\nexports.isProfiler = function (a) {\n  return x(a) === g;\n};\n\nexports.isStrictMode = function (a) {\n  return x(a) === f;\n};\n\nexports.isSuspense = function (a) {\n  return x(a) === p;\n};","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      width: '1em',\n      height: '1em',\n      display: 'inline-block',\n      fill: 'currentColor',\n      flexShrink: 0,\n      fontSize: theme.typography.pxToRem(24),\n      transition: theme.transitions.create('fill', {\n        duration: theme.transitions.duration.shorter\n      })\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(35)\n    }\n  };\n};\nvar SvgIcon = React.forwardRef(function SvgIcon(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'svg' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      htmlColor = props.htmlColor,\n      titleAccess = props.titleAccess,\n      _props$viewBox = props.viewBox,\n      viewBox = _props$viewBox === void 0 ? '0 0 24 24' : _props$viewBox,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"fontSize\", \"htmlColor\", \"titleAccess\", \"viewBox\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    focusable: \"false\",\n    viewBox: viewBox,\n    color: htmlColor,\n    \"aria-hidden\": titleAccess ? 'false' : 'true',\n    role: titleAccess ? 'img' : 'presentation',\n    ref: ref\n  }, other), children, titleAccess ? React.createElement(\"title\", null, titleAccess) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? SvgIcon.propTypes = {\n  /**\n   * Node passed into the SVG element.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * You can use the `htmlColor` prop to apply a color attribute to the SVG element.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large']),\n\n  /**\n   * Applies a color attribute to the SVG element.\n   */\n  htmlColor: PropTypes.string,\n\n  /**\n   * The shape-rendering attribute. The behavior of the different options is described on the\n   * [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering).\n   * If you are having issues with blurry icons you should investigate this property.\n   */\n  shapeRendering: PropTypes.string,\n\n  /**\n   * Provides a human-readable title for the element that contains it.\n   * https://www.w3.org/TR/SVG-access/#Equivalent\n   */\n  titleAccess: PropTypes.string,\n\n  /**\n   * Allows you to redefine what the coordinates without units mean inside an SVG element.\n   * For example, if the SVG element is 500 (width) by 200 (height),\n   * and you pass viewBox=\"0 0 50 20\",\n   * this means that the coordinates inside the SVG will go from the top left corner (0,0)\n   * to bottom right (50,20) and each unit will be worth 10px.\n   */\n  viewBox: PropTypes.string\n} : void 0;\nSvgIcon.muiName = 'SvgIcon';\nexport default withStyles(styles, {\n  name: 'MuiSvgIcon'\n})(SvgIcon);","export { default } from './SvgIcon';","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexport var isBrowser = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\" && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && document.nodeType === 9;\nexport default isBrowser;","var isProduction = process.env.NODE_ENV === 'production';\n\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport isInBrowser from 'is-in-browser';\nimport warning from 'tiny-warning';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nvar plainObjectConstrurctor = {}.constructor;\n\nfunction cloneStyle(style) {\n  if (style == null || typeof style !== 'object') return style;\n  if (Array.isArray(style)) return style.map(cloneStyle);\n  if (style.constructor !== plainObjectConstrurctor) return style;\n  var newStyle = {};\n\n  for (var name in style) {\n    newStyle[name] = cloneStyle(style[name]);\n  }\n\n  return newStyle;\n}\n/**\n * Create a rule instance.\n */\n\n\nfunction createRule(name, decl, options) {\n  if (name === void 0) {\n    name = 'unnamed';\n  }\n\n  var jss = options.jss;\n  var declCopy = cloneStyle(decl);\n  var rule = jss.plugins.onCreateRule(name, declCopy, options);\n  if (rule) return rule; // It is an at-rule and it has no instance.\n\n  if (name[0] === '@') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown rule \" + name) : void 0;\n  }\n\n  return null;\n}\n\nvar join = function join(value, by) {\n  var result = '';\n\n  for (var i = 0; i < value.length; i++) {\n    // Remove !important from the value, it will be readded later.\n    if (value[i] === '!important') break;\n    if (result) result += by;\n    result += value[i];\n  }\n\n  return result;\n};\n/**\n * Converts array values to string.\n *\n * `margin: [['5px', '10px']]` > `margin: 5px 10px;`\n * `border: ['1px', '2px']` > `border: 1px, 2px;`\n * `margin: [['5px', '10px'], '!important']` > `margin: 5px 10px !important;`\n * `color: ['red', !important]` > `color: red !important;`\n */\n\n\nfunction toCssValue(value, ignoreImportant) {\n  if (ignoreImportant === void 0) {\n    ignoreImportant = false;\n  }\n\n  if (!Array.isArray(value)) return value;\n  var cssValue = ''; // Support space separated values via `[['5px', '10px']]`.\n\n  if (Array.isArray(value[0])) {\n    for (var i = 0; i < value.length; i++) {\n      if (value[i] === '!important') break;\n      if (cssValue) cssValue += ', ';\n      cssValue += join(value[i], ' ');\n    }\n  } else cssValue = join(value, ', '); // Add !important, because it was ignored.\n\n\n  if (!ignoreImportant && value[value.length - 1] === '!important') {\n    cssValue += ' !important';\n  }\n\n  return cssValue;\n}\n/**\n * Indent a string.\n * http://jsperf.com/array-join-vs-for\n */\n\n\nfunction indentStr(str, indent) {\n  var result = '';\n\n  for (var index = 0; index < indent; index++) {\n    result += '  ';\n  }\n\n  return result + str;\n}\n/**\n * Converts a Rule to CSS string.\n */\n\n\nfunction toCss(selector, style, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var result = '';\n  if (!style) return result;\n  var _options = options,\n      _options$indent = _options.indent,\n      indent = _options$indent === void 0 ? 0 : _options$indent;\n  var fallbacks = style.fallbacks;\n  if (selector) indent++; // Apply fallbacks first.\n\n  if (fallbacks) {\n    // Array syntax {fallbacks: [{prop: value}]}\n    if (Array.isArray(fallbacks)) {\n      for (var index = 0; index < fallbacks.length; index++) {\n        var fallback = fallbacks[index];\n\n        for (var prop in fallback) {\n          var value = fallback[prop];\n\n          if (value != null) {\n            if (result) result += '\\n';\n            result += \"\" + indentStr(prop + \": \" + toCssValue(value) + \";\", indent);\n          }\n        }\n      }\n    } else {\n      // Object syntax {fallbacks: {prop: value}}\n      for (var _prop in fallbacks) {\n        var _value = fallbacks[_prop];\n\n        if (_value != null) {\n          if (result) result += '\\n';\n          result += \"\" + indentStr(_prop + \": \" + toCssValue(_value) + \";\", indent);\n        }\n      }\n    }\n  }\n\n  for (var _prop2 in style) {\n    var _value2 = style[_prop2];\n\n    if (_value2 != null && _prop2 !== 'fallbacks') {\n      if (result) result += '\\n';\n      result += \"\" + indentStr(_prop2 + \": \" + toCssValue(_value2) + \";\", indent);\n    }\n  } // Allow empty style in this case, because properties will be added dynamically.\n\n\n  if (!result && !options.allowEmpty) return result; // When rule is being stringified before selector was defined.\n\n  if (!selector) return result;\n  indent--;\n  if (result) result = \"\\n\" + result + \"\\n\";\n  return indentStr(selector + \" {\" + result, indent) + indentStr('}', indent);\n}\n\nvar escapeRegex = /([[\\].#*$><+~=|^:(),\"'`\\s])/g;\nvar nativeEscape = typeof CSS !== 'undefined' && CSS.escape;\n\nvar escape = function escape(str) {\n  return nativeEscape ? nativeEscape(str) : str.replace(escapeRegex, '\\\\$1');\n};\n\nvar BaseStyleRule =\n/*#__PURE__*/\nfunction () {\n  function BaseStyleRule(key, style, options) {\n    this.type = 'style';\n    this.key = void 0;\n    this.isProcessed = false;\n    this.style = void 0;\n    this.renderer = void 0;\n    this.renderable = void 0;\n    this.options = void 0;\n    var sheet = options.sheet,\n        Renderer = options.Renderer;\n    this.key = key;\n    this.options = options;\n    this.style = style;\n    if (sheet) this.renderer = sheet.renderer;else if (Renderer) this.renderer = new Renderer();\n  }\n  /**\n   * Get or set a style property.\n   */\n\n\n  var _proto = BaseStyleRule.prototype;\n\n  _proto.prop = function prop(name, value, options) {\n    // It's a getter.\n    if (value === undefined) return this.style[name]; // Don't do anything if the value has not changed.\n\n    var force = options ? options.force : false;\n    if (!force && this.style[name] === value) return this;\n    var newValue = value;\n\n    if (!options || options.process !== false) {\n      newValue = this.options.jss.plugins.onChangeValue(value, name, this);\n    }\n\n    var isEmpty = newValue == null || newValue === false;\n    var isDefined = name in this.style; // Value is empty and wasn't defined before.\n\n    if (isEmpty && !isDefined && !force) return this; // We are going to remove this value.\n\n    var remove = isEmpty && isDefined;\n    if (remove) delete this.style[name];else this.style[name] = newValue; // Renderable is defined if StyleSheet option `link` is true.\n\n    if (this.renderable && this.renderer) {\n      if (remove) this.renderer.removeProperty(this.renderable, name);else this.renderer.setProperty(this.renderable, name, newValue);\n      return this;\n    }\n\n    var sheet = this.options.sheet;\n\n    if (sheet && sheet.attached) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Rule is not linked. Missing sheet option \"link: true\".') : void 0;\n    }\n\n    return this;\n  };\n\n  return BaseStyleRule;\n}();\n\nvar StyleRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(StyleRule, _BaseStyleRule);\n\n  function StyleRule(key, style, options) {\n    var _this;\n\n    _this = _BaseStyleRule.call(this, key, style, options) || this;\n    _this.selectorText = void 0;\n    _this.id = void 0;\n    _this.renderable = void 0;\n    var selector = options.selector,\n        scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n\n    if (selector) {\n      _this.selectorText = selector;\n    } else if (scoped !== false) {\n      _this.id = generateId(_assertThisInitialized(_assertThisInitialized(_this)), sheet);\n      _this.selectorText = \".\" + escape(_this.id);\n    }\n\n    return _this;\n  }\n  /**\n   * Set selector string.\n   * Attention: use this with caution. Most browsers didn't implement\n   * selectorText setter, so this may result in rerendering of entire Style Sheet.\n   */\n\n\n  var _proto2 = StyleRule.prototype;\n  /**\n   * Apply rule to an element inline.\n   */\n\n  _proto2.applyTo = function applyTo(renderable) {\n    var renderer = this.renderer;\n\n    if (renderer) {\n      var json = this.toJSON();\n\n      for (var prop in json) {\n        renderer.setProperty(renderable, prop, json[prop]);\n      }\n    }\n\n    return this;\n  }\n  /**\n   * Returns JSON representation of the rule.\n   * Fallbacks are not supported.\n   * Useful for inline styles.\n   */\n  ;\n\n  _proto2.toJSON = function toJSON() {\n    var json = {};\n\n    for (var prop in this.style) {\n      var value = this.style[prop];\n      if (typeof value !== 'object') json[prop] = value;else if (Array.isArray(value)) json[prop] = toCssValue(value);\n    }\n\n    return json;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto2.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.selectorText, this.style, opts);\n  };\n\n  _createClass(StyleRule, [{\n    key: \"selector\",\n    set: function set(selector) {\n      if (selector === this.selectorText) return;\n      this.selectorText = selector;\n      var renderer = this.renderer,\n          renderable = this.renderable;\n      if (!renderable || !renderer) return;\n      var hasChanged = renderer.setSelector(renderable, selector); // If selector setter is not implemented, rerender the rule.\n\n      if (!hasChanged) {\n        renderer.replaceRule(renderable, this);\n      }\n    }\n    /**\n     * Get selector string.\n     */\n    ,\n    get: function get() {\n      return this.selectorText;\n    }\n  }]);\n\n  return StyleRule;\n}(BaseStyleRule);\n\nvar pluginStyleRule = {\n  onCreateRule: function onCreateRule(name, style, options) {\n    if (name[0] === '@' || options.parent && options.parent.type === 'keyframes') {\n      return null;\n    }\n\n    return new StyleRule(name, style, options);\n  }\n};\nvar defaultToStringOptions = {\n  indent: 1,\n  children: true\n};\nvar atRegExp = /@([\\w-]+)/;\n/**\n * Conditional rule for @media, @supports\n */\n\nvar ConditionalRule =\n/*#__PURE__*/\nfunction () {\n  function ConditionalRule(key, styles, options) {\n    this.type = 'conditional';\n    this.at = void 0;\n    this.key = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    var atMatch = key.match(atRegExp);\n    this.at = atMatch ? atMatch[1] : 'unknown';\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = ConditionalRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions.indent;\n    if (options.children == null) options.children = defaultToStringOptions.children;\n\n    if (options.children === false) {\n      return this.key + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    return children ? this.key + \" {\\n\" + children + \"\\n}\" : '';\n  };\n\n  return ConditionalRule;\n}();\n\nvar keyRegExp = /@media|@supports\\s+/;\nvar pluginConditionalRule = {\n  onCreateRule: function onCreateRule(key, styles, options) {\n    return keyRegExp.test(key) ? new ConditionalRule(key, styles, options) : null;\n  }\n};\nvar defaultToStringOptions$1 = {\n  indent: 1,\n  children: true\n};\nvar nameRegExp = /@keyframes\\s+([\\w-]+)/;\n/**\n * Rule for @keyframes\n */\n\nvar KeyframesRule =\n/*#__PURE__*/\nfunction () {\n  function KeyframesRule(key, frames, options) {\n    this.type = 'keyframes';\n    this.at = '@keyframes';\n    this.key = void 0;\n    this.name = void 0;\n    this.id = void 0;\n    this.rules = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    var nameMatch = key.match(nameRegExp);\n\n    if (nameMatch && nameMatch[1]) {\n      this.name = nameMatch[1];\n    } else {\n      this.name = 'noname';\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Bad keyframes name \" + key) : void 0;\n    }\n\n    this.key = this.type + \"-\" + this.name;\n    this.options = options;\n    var scoped = options.scoped,\n        sheet = options.sheet,\n        generateId = options.generateId;\n    this.id = scoped === false ? this.name : escape(generateId(this, sheet));\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var name in frames) {\n      this.rules.add(name, frames[name], _extends({}, options, {\n        parent: this\n      }));\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = KeyframesRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (options === void 0) {\n      options = defaultToStringOptions$1;\n    }\n\n    if (options.indent == null) options.indent = defaultToStringOptions$1.indent;\n    if (options.children == null) options.children = defaultToStringOptions$1.children;\n\n    if (options.children === false) {\n      return this.at + \" \" + this.id + \" {}\";\n    }\n\n    var children = this.rules.toString(options);\n    if (children) children = \"\\n\" + children + \"\\n\";\n    return this.at + \" \" + this.id + \" {\" + children + \"}\";\n  };\n\n  return KeyframesRule;\n}();\n\nvar keyRegExp$1 = /@keyframes\\s+/;\nvar refRegExp = /\\$([\\w-]+)/g;\n\nvar findReferencedKeyframe = function findReferencedKeyframe(val, keyframes) {\n  if (typeof val === 'string') {\n    return val.replace(refRegExp, function (match, name) {\n      if (name in keyframes) {\n        return keyframes[name];\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Referenced keyframes rule \\\"\" + name + \"\\\" is not defined.\") : void 0;\n      return match;\n    });\n  }\n\n  return val;\n};\n/**\n * Replace the reference for a animation name.\n */\n\n\nvar replaceRef = function replaceRef(style, prop, keyframes) {\n  var value = style[prop];\n  var refKeyframe = findReferencedKeyframe(value, keyframes);\n\n  if (refKeyframe !== value) {\n    style[prop] = refKeyframe;\n  }\n};\n\nvar plugin = {\n  onCreateRule: function onCreateRule(key, frames, options) {\n    return typeof key === 'string' && keyRegExp$1.test(key) ? new KeyframesRule(key, frames, options) : null;\n  },\n  // Animation name ref replacer.\n  onProcessStyle: function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style' || !sheet) return style;\n    if ('animation-name' in style) replaceRef(style, 'animation-name', sheet.keyframes);\n    if ('animation' in style) replaceRef(style, 'animation', sheet.keyframes);\n    return style;\n  },\n  onChangeValue: function onChangeValue(val, prop, rule) {\n    var sheet = rule.options.sheet;\n\n    if (!sheet) {\n      return val;\n    }\n\n    switch (prop) {\n      case 'animation':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      case 'animation-name':\n        return findReferencedKeyframe(val, sheet.keyframes);\n\n      default:\n        return val;\n    }\n  }\n};\n\nvar KeyframeRule =\n/*#__PURE__*/\nfunction (_BaseStyleRule) {\n  _inheritsLoose(KeyframeRule, _BaseStyleRule);\n\n  function KeyframeRule() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _BaseStyleRule.call.apply(_BaseStyleRule, [this].concat(args)) || this;\n    _this.renderable = void 0;\n    return _this;\n  }\n\n  var _proto = KeyframeRule.prototype;\n  /**\n   * Generates a CSS string.\n   */\n\n  _proto.toString = function toString(options) {\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n    var opts = link ? _extends({}, options, {\n      allowEmpty: true\n    }) : options;\n    return toCss(this.key, this.style, opts);\n  };\n\n  return KeyframeRule;\n}(BaseStyleRule);\n\nvar pluginKeyframeRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    if (options.parent && options.parent.type === 'keyframes') {\n      return new KeyframeRule(key, style, options);\n    }\n\n    return null;\n  }\n};\n\nvar FontFaceRule =\n/*#__PURE__*/\nfunction () {\n  function FontFaceRule(key, style, options) {\n    this.type = 'font-face';\n    this.at = '@font-face';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = FontFaceRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.style)) {\n      var str = '';\n\n      for (var index = 0; index < this.style.length; index++) {\n        str += toCss(this.key, this.style[index]);\n        if (this.style[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return toCss(this.key, this.style, options);\n  };\n\n  return FontFaceRule;\n}();\n\nvar pluginFontFaceRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@font-face' ? new FontFaceRule(key, style, options) : null;\n  }\n};\n\nvar ViewportRule =\n/*#__PURE__*/\nfunction () {\n  function ViewportRule(key, style, options) {\n    this.type = 'viewport';\n    this.at = '@viewport';\n    this.key = void 0;\n    this.style = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.style = style;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n\n\n  var _proto = ViewportRule.prototype;\n\n  _proto.toString = function toString(options) {\n    return toCss(this.key, this.style, options);\n  };\n\n  return ViewportRule;\n}();\n\nvar pluginViewportRule = {\n  onCreateRule: function onCreateRule(key, style, options) {\n    return key === '@viewport' || key === '@-ms-viewport' ? new ViewportRule(key, style, options) : null;\n  }\n};\n\nvar SimpleRule =\n/*#__PURE__*/\nfunction () {\n  function SimpleRule(key, value, options) {\n    this.type = 'simple';\n    this.key = void 0;\n    this.value = void 0;\n    this.options = void 0;\n    this.isProcessed = false;\n    this.renderable = void 0;\n    this.key = key;\n    this.value = value;\n    this.options = options;\n  }\n  /**\n   * Generates a CSS string.\n   */\n  // eslint-disable-next-line no-unused-vars\n\n\n  var _proto = SimpleRule.prototype;\n\n  _proto.toString = function toString(options) {\n    if (Array.isArray(this.value)) {\n      var str = '';\n\n      for (var index = 0; index < this.value.length; index++) {\n        str += this.key + \" \" + this.value[index] + \";\";\n        if (this.value[index + 1]) str += '\\n';\n      }\n\n      return str;\n    }\n\n    return this.key + \" \" + this.value + \";\";\n  };\n\n  return SimpleRule;\n}();\n\nvar keysMap = {\n  '@charset': true,\n  '@import': true,\n  '@namespace': true\n};\nvar pluginSimpleRule = {\n  onCreateRule: function onCreateRule(key, value, options) {\n    return key in keysMap ? new SimpleRule(key, value, options) : null;\n  }\n};\nvar plugins = [pluginStyleRule, pluginConditionalRule, plugin, pluginKeyframeRule, pluginFontFaceRule, pluginViewportRule, pluginSimpleRule];\nvar defaultUpdateOptions = {\n  process: true\n};\nvar forceUpdateOptions = {\n  force: true,\n  process: true\n  /**\n   * Contains rules objects and allows adding/removing etc.\n   * Is used for e.g. by `StyleSheet` or `ConditionalRule`.\n   */\n\n};\n\nvar RuleList =\n/*#__PURE__*/\nfunction () {\n  // Rules registry for access by .get() method.\n  // It contains the same rule registered by name and by selector.\n  // Original styles object.\n  // Used to ensure correct rules order.\n  function RuleList(options) {\n    this.map = {};\n    this.raw = {};\n    this.index = [];\n    this.options = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.options = options;\n    this.classes = options.classes;\n    this.keyframes = options.keyframes;\n  }\n  /**\n   * Create and register rule.\n   *\n   * Will not render after Style Sheet was rendered the first time.\n   */\n\n\n  var _proto = RuleList.prototype;\n\n  _proto.add = function add(key, decl, ruleOptions) {\n    var _this$options = this.options,\n        parent = _this$options.parent,\n        sheet = _this$options.sheet,\n        jss = _this$options.jss,\n        Renderer = _this$options.Renderer,\n        generateId = _this$options.generateId,\n        scoped = _this$options.scoped;\n\n    var options = _extends({\n      classes: this.classes,\n      parent: parent,\n      sheet: sheet,\n      jss: jss,\n      Renderer: Renderer,\n      generateId: generateId,\n      scoped: scoped\n    }, ruleOptions); // We need to save the original decl before creating the rule\n    // because cache plugin needs to use it as a key to return a cached rule.\n\n\n    this.raw[key] = decl;\n\n    if (key in this.classes) {\n      // For e.g. rules inside of @media container\n      options.selector = \".\" + escape(this.classes[key]);\n    }\n\n    var rule = createRule(key, decl, options);\n    if (!rule) return null;\n    this.register(rule);\n    var index = options.index === undefined ? this.index.length : options.index;\n    this.index.splice(index, 0, rule);\n    return rule;\n  }\n  /**\n   * Get a rule.\n   */\n  ;\n\n  _proto.get = function get(name) {\n    return this.map[name];\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.remove = function remove(rule) {\n    this.unregister(rule);\n    delete this.raw[rule.key];\n    this.index.splice(this.indexOf(rule), 1);\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.index.indexOf(rule);\n  }\n  /**\n   * Run `onProcessRule()` plugins on every rule.\n   */\n  ;\n\n  _proto.process = function process() {\n    var plugins$$1 = this.options.jss.plugins; // We need to clone array because if we modify the index somewhere else during a loop\n    // we end up with very hard-to-track-down side effects.\n\n    this.index.slice(0).forEach(plugins$$1.onProcessRule, plugins$$1);\n  }\n  /**\n   * Register a rule in `.map` and `.classes` maps.\n   */\n  ;\n\n  _proto.register = function register(rule) {\n    this.map[rule.key] = rule;\n\n    if (rule instanceof StyleRule) {\n      this.map[rule.selector] = rule;\n      if (rule.id) this.classes[rule.key] = rule.id;\n    } else if (rule instanceof KeyframesRule && this.keyframes) {\n      this.keyframes[rule.name] = rule.id;\n    }\n  }\n  /**\n   * Unregister a rule.\n   */\n  ;\n\n  _proto.unregister = function unregister(rule) {\n    delete this.map[rule.key];\n\n    if (rule instanceof StyleRule) {\n      delete this.map[rule.selector];\n      delete this.classes[rule.key];\n    } else if (rule instanceof KeyframesRule) {\n      delete this.keyframes[rule.name];\n    }\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var name;\n    var data;\n    var options;\n\n    if (typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {\n      name = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe\n\n      data = arguments.length <= 1 ? undefined : arguments[1]; // $FlowFixMe\n\n      options = arguments.length <= 2 ? undefined : arguments[2];\n    } else {\n      data = arguments.length <= 0 ? undefined : arguments[0]; // $FlowFixMe\n\n      options = arguments.length <= 1 ? undefined : arguments[1];\n      name = null;\n    }\n\n    if (name) {\n      this.onUpdate(data, this.get(name), options);\n    } else {\n      for (var index = 0; index < this.index.length; index++) {\n        this.onUpdate(data, this.index[index], options);\n      }\n    }\n  }\n  /**\n   * Execute plugins, update rule props.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, options) {\n    if (options === void 0) {\n      options = defaultUpdateOptions;\n    }\n\n    var _this$options2 = this.options,\n        plugins$$1 = _this$options2.jss.plugins,\n        sheet = _this$options2.sheet; // It is a rules container like for e.g. ConditionalRule.\n\n    if (rule.rules instanceof RuleList) {\n      rule.rules.update(data, options);\n      return;\n    }\n\n    var styleRule = rule;\n    var style = styleRule.style;\n    plugins$$1.onUpdate(data, rule, sheet, options); // We rely on a new `style` ref in case it was mutated during onUpdate hook.\n\n    if (options.process && style && style !== styleRule.style) {\n      // We need to run the plugins in case new `style` relies on syntax plugins.\n      plugins$$1.onProcessStyle(styleRule.style, styleRule, sheet); // Update and add props.\n\n      for (var prop in styleRule.style) {\n        var nextValue = styleRule.style[prop];\n        var prevValue = style[prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (nextValue !== prevValue) {\n          styleRule.prop(prop, nextValue, forceUpdateOptions);\n        }\n      } // Remove props.\n\n\n      for (var _prop in style) {\n        var _nextValue = styleRule.style[_prop];\n        var _prevValue = style[_prop]; // We need to use `force: true` because `rule.style` has been updated during onUpdate hook, so `rule.prop()` will not update the CSSOM rule.\n        // We do this comparison to avoid unneeded `rule.prop()` calls, since we have the old `style` object here.\n\n        if (_nextValue == null && _nextValue !== _prevValue) {\n          styleRule.prop(_prop, null, forceUpdateOptions);\n        }\n      }\n    }\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    var str = '';\n    var sheet = this.options.sheet;\n    var link = sheet ? sheet.options.link : false;\n\n    for (var index = 0; index < this.index.length; index++) {\n      var rule = this.index[index];\n      var css = rule.toString(options); // No need to render an empty rule.\n\n      if (!css && !link) continue;\n      if (str) str += '\\n';\n      str += css;\n    }\n\n    return str;\n  };\n\n  return RuleList;\n}();\n\nvar StyleSheet =\n/*#__PURE__*/\nfunction () {\n  function StyleSheet(styles, options) {\n    this.options = void 0;\n    this.deployed = void 0;\n    this.attached = void 0;\n    this.rules = void 0;\n    this.renderer = void 0;\n    this.classes = void 0;\n    this.keyframes = void 0;\n    this.queue = void 0;\n    this.attached = false;\n    this.deployed = false;\n    this.classes = {};\n    this.keyframes = {};\n    this.options = _extends({}, options, {\n      sheet: this,\n      parent: this,\n      classes: this.classes,\n      keyframes: this.keyframes\n    });\n\n    if (options.Renderer) {\n      this.renderer = new options.Renderer(this);\n    }\n\n    this.rules = new RuleList(this.options);\n\n    for (var name in styles) {\n      this.rules.add(name, styles[name]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Attach renderable to the render tree.\n   */\n\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.attach = function attach() {\n    if (this.attached) return this;\n    if (this.renderer) this.renderer.attach();\n    this.attached = true; // Order is important, because we can't use insertRule API if style element is not attached.\n\n    if (!this.deployed) this.deploy();\n    return this;\n  }\n  /**\n   * Remove renderable from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    if (!this.attached) return this;\n    if (this.renderer) this.renderer.detach();\n    this.attached = false;\n    return this;\n  }\n  /**\n   * Add a rule to the current stylesheet.\n   * Will insert a rule also after the stylesheet has been rendered first time.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, decl, options) {\n    var queue = this.queue; // Plugins can create rules.\n    // In order to preserve the right order, we need to queue all `.addRule` calls,\n    // which happen after the first `rules.add()` call.\n\n    if (this.attached && !queue) this.queue = [];\n    var rule = this.rules.add(name, decl, options);\n    if (!rule) return null;\n    this.options.jss.plugins.onProcessRule(rule);\n\n    if (this.attached) {\n      if (!this.deployed) return rule; // Don't insert rule directly if there is no stringified version yet.\n      // It will be inserted all together when .attach is called.\n\n      if (queue) queue.push(rule);else {\n        this.insertRule(rule);\n\n        if (this.queue) {\n          this.queue.forEach(this.insertRule, this);\n          this.queue = undefined;\n        }\n      }\n      return rule;\n    } // We can't add rules to a detached style node.\n    // We will redeploy the sheet once user will attach it.\n\n\n    this.deployed = false;\n    return rule;\n  }\n  /**\n   * Insert rule into the StyleSheet\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule) {\n    if (this.renderer) {\n      this.renderer.insertRule(rule);\n    }\n  }\n  /**\n   * Create and add rules.\n   * Will render also after Style Sheet was rendered the first time.\n   */\n  ;\n\n  _proto.addRules = function addRules(styles, options) {\n    var added = [];\n\n    for (var name in styles) {\n      var rule = this.addRule(name, styles[name], options);\n      if (rule) added.push(rule);\n    }\n\n    return added;\n  }\n  /**\n   * Get a rule by name.\n   */\n  ;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Delete a rule by name.\n   * Returns `true`: if rule has been deleted from the DOM.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(name) {\n    var rule = this.rules.get(name);\n    if (!rule) return false;\n    this.rules.remove(rule);\n\n    if (this.attached && rule.renderable && this.renderer) {\n      return this.renderer.deleteRule(rule.renderable);\n    }\n\n    return true;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Deploy pure CSS string to a renderable.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    if (this.renderer) this.renderer.deploy();\n    this.deployed = true;\n    return this;\n  }\n  /**\n   * Update the function values with a new data.\n   */\n  ;\n\n  _proto.update = function update() {\n    var _this$rules;\n\n    (_this$rules = this.rules).update.apply(_this$rules, arguments);\n\n    return this;\n  }\n  /**\n   * Convert rules to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(options) {\n    return this.rules.toString(options);\n  };\n\n  return StyleSheet;\n}();\n\nvar PluginsRegistry =\n/*#__PURE__*/\nfunction () {\n  function PluginsRegistry() {\n    this.plugins = {\n      internal: [],\n      external: []\n    };\n    this.registry = void 0;\n  }\n\n  var _proto = PluginsRegistry.prototype;\n  /**\n   * Call `onCreateRule` hooks and return an object if returned by a hook.\n   */\n\n  _proto.onCreateRule = function onCreateRule(name, decl, options) {\n    for (var i = 0; i < this.registry.onCreateRule.length; i++) {\n      var rule = this.registry.onCreateRule[i](name, decl, options);\n      if (rule) return rule;\n    }\n\n    return null;\n  }\n  /**\n   * Call `onProcessRule` hooks.\n   */\n  ;\n\n  _proto.onProcessRule = function onProcessRule(rule) {\n    if (rule.isProcessed) return;\n    var sheet = rule.options.sheet;\n\n    for (var i = 0; i < this.registry.onProcessRule.length; i++) {\n      this.registry.onProcessRule[i](rule, sheet);\n    }\n\n    if (rule.style) this.onProcessStyle(rule.style, rule, sheet);\n    rule.isProcessed = true;\n  }\n  /**\n   * Call `onProcessStyle` hooks.\n   */\n  ;\n\n  _proto.onProcessStyle = function onProcessStyle(style, rule, sheet) {\n    for (var i = 0; i < this.registry.onProcessStyle.length; i++) {\n      // $FlowFixMe\n      rule.style = this.registry.onProcessStyle[i](rule.style, rule, sheet);\n    }\n  }\n  /**\n   * Call `onProcessSheet` hooks.\n   */\n  ;\n\n  _proto.onProcessSheet = function onProcessSheet(sheet) {\n    for (var i = 0; i < this.registry.onProcessSheet.length; i++) {\n      this.registry.onProcessSheet[i](sheet);\n    }\n  }\n  /**\n   * Call `onUpdate` hooks.\n   */\n  ;\n\n  _proto.onUpdate = function onUpdate(data, rule, sheet, options) {\n    for (var i = 0; i < this.registry.onUpdate.length; i++) {\n      this.registry.onUpdate[i](data, rule, sheet, options);\n    }\n  }\n  /**\n   * Call `onChangeValue` hooks.\n   */\n  ;\n\n  _proto.onChangeValue = function onChangeValue(value, prop, rule) {\n    var processedValue = value;\n\n    for (var i = 0; i < this.registry.onChangeValue.length; i++) {\n      processedValue = this.registry.onChangeValue[i](processedValue, prop, rule);\n    }\n\n    return processedValue;\n  }\n  /**\n   * Register a plugin.\n   */\n  ;\n\n  _proto.use = function use(newPlugin, options) {\n    if (options === void 0) {\n      options = {\n        queue: 'external'\n      };\n    }\n\n    var plugins = this.plugins[options.queue]; // Avoids applying same plugin twice, at least based on ref.\n\n    if (plugins.indexOf(newPlugin) !== -1) {\n      return;\n    }\n\n    plugins.push(newPlugin);\n    this.registry = [].concat(this.plugins.external, this.plugins.internal).reduce(function (registry, plugin) {\n      for (var name in plugin) {\n        if (name in registry) {\n          registry[name].push(plugin[name]);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Unknown hook \\\"\" + name + \"\\\".\") : void 0;\n        }\n      }\n\n      return registry;\n    }, {\n      onCreateRule: [],\n      onProcessRule: [],\n      onProcessStyle: [],\n      onProcessSheet: [],\n      onChangeValue: [],\n      onUpdate: []\n    });\n  };\n\n  return PluginsRegistry;\n}();\n/**\n * Sheets registry to access them all at one place.\n */\n\n\nvar SheetsRegistry =\n/*#__PURE__*/\nfunction () {\n  function SheetsRegistry() {\n    this.registry = [];\n  }\n\n  var _proto = SheetsRegistry.prototype;\n  /**\n   * Register a Style Sheet.\n   */\n\n  _proto.add = function add(sheet) {\n    var registry = this.registry;\n    var index = sheet.options.index;\n    if (registry.indexOf(sheet) !== -1) return;\n\n    if (registry.length === 0 || index >= this.index) {\n      registry.push(sheet);\n      return;\n    } // Find a position.\n\n\n    for (var i = 0; i < registry.length; i++) {\n      if (registry[i].options.index > index) {\n        registry.splice(i, 0, sheet);\n        return;\n      }\n    }\n  }\n  /**\n   * Reset the registry.\n   */\n  ;\n\n  _proto.reset = function reset() {\n    this.registry = [];\n  }\n  /**\n   * Remove a Style Sheet.\n   */\n  ;\n\n  _proto.remove = function remove(sheet) {\n    var index = this.registry.indexOf(sheet);\n    this.registry.splice(index, 1);\n  }\n  /**\n   * Convert all attached sheets to a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        attached = _ref.attached,\n        options = _objectWithoutPropertiesLoose(_ref, [\"attached\"]);\n\n    var css = '';\n\n    for (var i = 0; i < this.registry.length; i++) {\n      var sheet = this.registry[i];\n\n      if (attached != null && sheet.attached !== attached) {\n        continue;\n      }\n\n      if (css) css += '\\n';\n      css += sheet.toString(options);\n    }\n\n    return css;\n  };\n\n  _createClass(SheetsRegistry, [{\n    key: \"index\",\n\n    /**\n     * Current highest index number.\n     */\n    get: function get() {\n      return this.registry.length === 0 ? 0 : this.registry[this.registry.length - 1].options.index;\n    }\n  }]);\n\n  return SheetsRegistry;\n}();\n/**\n * This is a global sheets registry. Only DomRenderer will add sheets to it.\n * On the server one should use an own SheetsRegistry instance and add the\n * sheets to it, because you need to make sure to create a new registry for\n * each request in order to not leak sheets across requests.\n */\n\n\nvar sheets = new SheetsRegistry();\n/* eslint-disable */\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\nvar globalThis = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nvar ns = '2f1acc6c3a606b082e5eef5e54414ffb';\nif (globalThis[ns] == null) globalThis[ns] = 0; // Bundle may contain multiple JSS versions at the same time. In order to identify\n// the current version with just one short number and use it for classes generation\n// we use a counter. Also it is more accurate, because user can manually reevaluate\n// the module.\n\nvar moduleId = globalThis[ns]++;\nvar maxRules = 1e10;\n/**\n * Returns a function which generates unique class names based on counters.\n * When new generator function is created, rule counter is reseted.\n * We need to reset the rule counter for SSR for each request.\n */\n\nvar createGenerateId = function createGenerateId(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var ruleCounter = 0;\n  return function (rule, sheet) {\n    ruleCounter += 1;\n\n    if (ruleCounter > maxRules) {\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] You might have a memory leak. Rule counter is at \" + ruleCounter + \".\") : void 0;\n    }\n\n    var jssId = '';\n    var prefix = '';\n\n    if (sheet) {\n      if (sheet.options.classNamePrefix) {\n        prefix = sheet.options.classNamePrefix;\n      }\n\n      if (sheet.options.jss.id != null) {\n        jssId = String(sheet.options.jss.id);\n      }\n    }\n\n    if (options.minify) {\n      // Using \"c\" because a number can't be the first char in a class name.\n      return \"\" + (prefix || 'c') + moduleId + jssId + ruleCounter;\n    }\n\n    return prefix + rule.key + \"-\" + moduleId + (jssId ? \"-\" + jssId : '') + \"-\" + ruleCounter;\n  };\n};\n/**\n * Cache the value from the first time a function is called.\n */\n\n\nvar memoize = function memoize(fn) {\n  var value;\n  return function () {\n    if (!value) value = fn();\n    return value;\n  };\n};\n/**\n * Get a style property value.\n */\n\n\nfunction getPropertyValue(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      return cssRule.attributeStyleMap.get(prop);\n    }\n\n    return cssRule.style.getPropertyValue(prop);\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return '';\n  }\n}\n/**\n * Set a style property.\n */\n\n\nfunction setProperty(cssRule, prop, value) {\n  try {\n    var cssValue = value;\n\n    if (Array.isArray(value)) {\n      cssValue = toCssValue(value, true);\n\n      if (value[value.length - 1] === '!important') {\n        cssRule.style.setProperty(prop, cssValue, 'important');\n        return true;\n      }\n    } // Support CSSTOM.\n\n\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.set(prop, cssValue);\n    } else {\n      cssRule.style.setProperty(prop, cssValue);\n    }\n  } catch (err) {\n    // IE may throw if property is unknown.\n    return false;\n  }\n\n  return true;\n}\n/**\n * Remove a style property.\n */\n\n\nfunction removeProperty(cssRule, prop) {\n  try {\n    // Support CSSTOM.\n    if (cssRule.attributeStyleMap) {\n      cssRule.attributeStyleMap.delete(prop);\n    } else {\n      cssRule.style.removeProperty(prop);\n    }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] DOMException \\\"\" + err.message + \"\\\" was thrown. Tried to remove property \\\"\" + prop + \"\\\".\") : void 0;\n  }\n}\n/**\n * Set the selector.\n */\n\n\nfunction setSelector(cssRule, selectorText) {\n  cssRule.selectorText = selectorText; // Return false if setter was not successful.\n  // Currently works in chrome only.\n\n  return cssRule.selectorText === selectorText;\n}\n/**\n * Gets the `head` element upon the first call and caches it.\n * We assume it can't be null.\n */\n\n\nvar getHead = memoize(function () {\n  return document.querySelector('head');\n});\n/**\n * Find attached sheet with an index higher than the passed one.\n */\n\nfunction findHigherSheet(registry, options) {\n  for (var i = 0; i < registry.length; i++) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.index > options.index && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find attached sheet with the highest index.\n */\n\n\nfunction findHighestSheet(registry, options) {\n  for (var i = registry.length - 1; i >= 0; i--) {\n    var sheet = registry[i];\n\n    if (sheet.attached && sheet.options.insertionPoint === options.insertionPoint) {\n      return sheet;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a comment with \"jss\" inside.\n */\n\n\nfunction findCommentNode(text) {\n  var head = getHead();\n\n  for (var i = 0; i < head.childNodes.length; i++) {\n    var node = head.childNodes[i];\n\n    if (node.nodeType === 8 && node.nodeValue.trim() === text) {\n      return node;\n    }\n  }\n\n  return null;\n}\n/**\n * Find a node before which we can insert the sheet.\n */\n\n\nfunction findPrevNode(options) {\n  var registry = sheets.registry;\n\n  if (registry.length > 0) {\n    // Try to insert before the next higher sheet.\n    var sheet = findHigherSheet(registry, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element\n      };\n    } // Otherwise insert after the last attached.\n\n\n    sheet = findHighestSheet(registry, options);\n\n    if (sheet && sheet.renderer) {\n      return {\n        parent: sheet.renderer.element.parentNode,\n        node: sheet.renderer.element.nextSibling\n      };\n    }\n  } // Try to find a comment placeholder if registry is empty.\n\n\n  var insertionPoint = options.insertionPoint;\n\n  if (insertionPoint && typeof insertionPoint === 'string') {\n    var comment = findCommentNode(insertionPoint);\n\n    if (comment) {\n      return {\n        parent: comment.parentNode,\n        node: comment.nextSibling\n      };\n    } // If user specifies an insertion point and it can't be found in the document -\n    // bad specificity issues may appear.\n\n\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Insertion point \\\"\" + insertionPoint + \"\\\" not found.\") : void 0;\n  }\n\n  return false;\n}\n/**\n * Insert style element into the DOM.\n */\n\n\nfunction insertStyle(style, options) {\n  var insertionPoint = options.insertionPoint;\n  var nextNode = findPrevNode(options);\n\n  if (nextNode !== false && nextNode.parent) {\n    nextNode.parent.insertBefore(style, nextNode.node);\n    return;\n  } // Works with iframes and any node types.\n\n\n  if (insertionPoint && typeof insertionPoint.nodeType === 'number') {\n    // https://stackoverflow.com/questions/41328728/force-casting-in-flow\n    var insertionPointElement = insertionPoint;\n    var parentNode = insertionPointElement.parentNode;\n    if (parentNode) parentNode.insertBefore(style, insertionPointElement.nextSibling);else process.env.NODE_ENV !== \"production\" ? warning(false, '[JSS] Insertion point is not in the DOM.') : void 0;\n    return;\n  }\n\n  getHead().appendChild(style);\n}\n/**\n * Read jss nonce setting from the page if the user has set it.\n */\n\n\nvar getNonce = memoize(function () {\n  var node = document.querySelector('meta[property=\"csp-nonce\"]');\n  return node ? node.getAttribute('content') : null;\n});\n\nvar _insertRule = function insertRule(container, rule, index) {\n  var maxIndex = container.cssRules.length; // In case previous insertion fails, passed index might be wrong\n\n  if (index === undefined || index > maxIndex) {\n    // eslint-disable-next-line no-param-reassign\n    index = maxIndex;\n  }\n\n  try {\n    if ('insertRule' in container) {\n      var c = container;\n      c.insertRule(rule, index);\n    } // Keyframes rule.\n    else if ('appendRule' in container) {\n        var _c = container;\n\n        _c.appendRule(rule);\n      }\n  } catch (err) {\n    process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] \" + err.message) : void 0;\n    return false;\n  }\n\n  return container.cssRules[index];\n};\n\nvar createStyle = function createStyle() {\n  var el = document.createElement('style'); // Without it, IE will have a broken source order specificity if we\n  // insert rules after we insert the style tag.\n  // It seems to kick-off the source order specificity algorithm.\n\n  el.textContent = '\\n';\n  return el;\n};\n\nvar DomRenderer =\n/*#__PURE__*/\nfunction () {\n  // HTMLStyleElement needs fixing https://github.com/facebook/flow/issues/2696\n  function DomRenderer(sheet) {\n    this.getPropertyValue = getPropertyValue;\n    this.setProperty = setProperty;\n    this.removeProperty = removeProperty;\n    this.setSelector = setSelector;\n    this.element = void 0;\n    this.sheet = void 0;\n    this.hasInsertedRules = false; // There is no sheet when the renderer is used from a standalone StyleRule.\n\n    if (sheet) sheets.add(sheet);\n    this.sheet = sheet;\n\n    var _ref = this.sheet ? this.sheet.options : {},\n        media = _ref.media,\n        meta = _ref.meta,\n        element = _ref.element;\n\n    this.element = element || createStyle();\n    this.element.setAttribute('data-jss', '');\n    if (media) this.element.setAttribute('media', media);\n    if (meta) this.element.setAttribute('data-meta', meta);\n    var nonce = getNonce();\n    if (nonce) this.element.setAttribute('nonce', nonce);\n  }\n  /**\n   * Insert style element into render tree.\n   */\n\n\n  var _proto = DomRenderer.prototype;\n\n  _proto.attach = function attach() {\n    // In the case the element node is external and it is already in the DOM.\n    if (this.element.parentNode || !this.sheet) return;\n    insertStyle(this.element, this.sheet.options); // When rules are inserted using `insertRule` API, after `sheet.detach().attach()`\n    // browsers remove those rules.\n    // TODO figure out if its a bug and if it is known.\n    // Workaround is to redeploy the sheet.\n\n    if (this.hasInsertedRules) {\n      this.hasInsertedRules = false;\n      this.deploy();\n    }\n  }\n  /**\n   * Remove style element from render tree.\n   */\n  ;\n\n  _proto.detach = function detach() {\n    var parentNode = this.element.parentNode;\n    if (parentNode) parentNode.removeChild(this.element);\n  }\n  /**\n   * Inject CSS string into element.\n   */\n  ;\n\n  _proto.deploy = function deploy() {\n    var sheet = this.sheet;\n    if (!sheet) return;\n\n    if (sheet.options.link) {\n      this.insertRules(sheet.rules);\n      return;\n    }\n\n    this.element.textContent = \"\\n\" + sheet.toString() + \"\\n\";\n  }\n  /**\n   * Insert RuleList into an element.\n   */\n  ;\n\n  _proto.insertRules = function insertRules(rules, nativeParent) {\n    for (var i = 0; i < rules.index.length; i++) {\n      this.insertRule(rules.index[i], i, nativeParent);\n    }\n  }\n  /**\n   * Insert a rule into element.\n   */\n  ;\n\n  _proto.insertRule = function insertRule(rule, index, nativeParent) {\n    if (nativeParent === void 0) {\n      nativeParent = this.element.sheet;\n    }\n\n    if (rule.rules) {\n      var parent = rule;\n      var latestNativeParent = nativeParent;\n\n      if (rule.type === 'conditional' || rule.type === 'keyframes') {\n        // We need to render the container without children first.\n        latestNativeParent = _insertRule(nativeParent, parent.toString({\n          children: false\n        }), index);\n\n        if (latestNativeParent === false) {\n          return false;\n        }\n      }\n\n      this.insertRules(parent.rules, latestNativeParent);\n      return latestNativeParent;\n    }\n\n    var ruleStr = rule.toString();\n    if (!ruleStr) return false;\n\n    var nativeRule = _insertRule(nativeParent, ruleStr, index);\n\n    if (nativeRule === false) {\n      return false;\n    }\n\n    this.hasInsertedRules = true;\n    rule.renderable = nativeRule;\n    return nativeRule;\n  }\n  /**\n   * Delete a rule.\n   */\n  ;\n\n  _proto.deleteRule = function deleteRule(cssRule) {\n    var sheet = this.element.sheet;\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    sheet.deleteRule(index);\n    return true;\n  }\n  /**\n   * Get index of a CSS Rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(cssRule) {\n    var cssRules = this.element.sheet.cssRules;\n\n    for (var index = 0; index < cssRules.length; index++) {\n      if (cssRule === cssRules[index]) return index;\n    }\n\n    return -1;\n  }\n  /**\n   * Generate a new CSS rule and replace the existing one.\n   *\n   * Only used for some old browsers because they can't set a selector.\n   */\n  ;\n\n  _proto.replaceRule = function replaceRule(cssRule, rule) {\n    var index = this.indexOf(cssRule);\n    if (index === -1) return false;\n    this.element.sheet.deleteRule(index);\n    return this.insertRule(rule, index);\n  }\n  /**\n   * Get all rules elements.\n   */\n  ;\n\n  _proto.getRules = function getRules() {\n    return this.element.sheet.cssRules;\n  };\n\n  return DomRenderer;\n}();\n\nvar instanceCounter = 0;\n\nvar Jss =\n/*#__PURE__*/\nfunction () {\n  function Jss(options) {\n    this.id = instanceCounter++;\n    this.version = \"10.0.0-alpha.23\";\n    this.plugins = new PluginsRegistry();\n    this.options = {\n      id: {\n        minify: false\n      },\n      createGenerateId: createGenerateId,\n      Renderer: isInBrowser ? DomRenderer : null,\n      plugins: []\n    };\n    this.generateId = createGenerateId({\n      minify: false\n    });\n\n    for (var i = 0; i < plugins.length; i++) {\n      this.plugins.use(plugins[i], {\n        queue: 'internal'\n      });\n    }\n\n    this.setup(options);\n  }\n  /**\n   * Prepares various options, applies plugins.\n   * Should not be used twice on the same instance, because there is no plugins\n   * deduplication logic.\n   */\n\n\n  var _proto = Jss.prototype;\n\n  _proto.setup = function setup(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (options.createGenerateId) {\n      this.options.createGenerateId = options.createGenerateId;\n    }\n\n    if (options.id) {\n      this.options.id = _extends({}, this.options.id, options.id);\n    }\n\n    if (options.createGenerateId || options.id) {\n      this.generateId = this.options.createGenerateId(this.options.id);\n    }\n\n    if (options.insertionPoint != null) this.options.insertionPoint = options.insertionPoint;\n\n    if ('Renderer' in options) {\n      this.options.Renderer = options.Renderer;\n    } // eslint-disable-next-line prefer-spread\n\n\n    if (options.plugins) this.use.apply(this, options.plugins);\n    return this;\n  }\n  /**\n   * Create a Style Sheet.\n   */\n  ;\n\n  _proto.createStyleSheet = function createStyleSheet(styles, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        index = _options.index;\n\n    if (typeof index !== 'number') {\n      index = sheets.index === 0 ? 0 : sheets.index + 1;\n    }\n\n    var sheet = new StyleSheet(styles, _extends({}, options, {\n      jss: this,\n      generateId: options.generateId || this.generateId,\n      insertionPoint: this.options.insertionPoint,\n      Renderer: this.options.Renderer,\n      index: index\n    }));\n    this.plugins.onProcessSheet(sheet);\n    return sheet;\n  }\n  /**\n   * Detach the Style Sheet and remove it from the registry.\n   */\n  ;\n\n  _proto.removeStyleSheet = function removeStyleSheet(sheet) {\n    sheet.detach();\n    sheets.remove(sheet);\n    return this;\n  }\n  /**\n   * Create a rule without a Style Sheet.\n   */\n  ;\n\n  _proto.createRule = function createRule$$1(name, style, options) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    if (options === void 0) {\n      options = {};\n    } // Enable rule without name for inline styles.\n\n\n    if (typeof name === 'object') {\n      return this.createRule(undefined, name, style);\n    }\n\n    var ruleOptions = _extends({}, options, {\n      jss: this,\n      Renderer: this.options.Renderer\n    });\n\n    if (!ruleOptions.generateId) ruleOptions.generateId = this.generateId;\n    if (!ruleOptions.classes) ruleOptions.classes = {};\n    if (!ruleOptions.keyframes) ruleOptions.keyframes = {};\n    var rule = createRule(name, style, ruleOptions);\n    if (rule) this.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Register plugin. Passed function will be invoked with a rule instance.\n   */\n  ;\n\n  _proto.use = function use() {\n    var _this = this;\n\n    for (var _len = arguments.length, plugins$$1 = new Array(_len), _key = 0; _key < _len; _key++) {\n      plugins$$1[_key] = arguments[_key];\n    }\n\n    plugins$$1.forEach(function (plugin) {\n      _this.plugins.use(plugin);\n    });\n    return this;\n  };\n\n  return Jss;\n}();\n/**\n * Extracts a styles object with only props that contain function values.\n */\n\n\nfunction getDynamicStyles(styles) {\n  var to = null;\n\n  for (var key in styles) {\n    var value = styles[key];\n    var type = typeof value;\n\n    if (type === 'function') {\n      if (!to) to = {};\n      to[key] = value;\n    } else if (type === 'object' && value !== null && !Array.isArray(value)) {\n      var extracted = getDynamicStyles(value);\n\n      if (extracted) {\n        if (!to) to = {};\n        to[key] = extracted;\n      }\n    }\n  }\n\n  return to;\n}\n/**\n * SheetsManager is like a WeakMap which is designed to count StyleSheet\n * instances and attach/detach automatically.\n */\n\n\nvar SheetsManager =\n/*#__PURE__*/\nfunction () {\n  function SheetsManager() {\n    this.length = 0;\n    this.sheets = new WeakMap();\n  }\n\n  var _proto = SheetsManager.prototype;\n\n  _proto.get = function get(key) {\n    var entry = this.sheets.get(key);\n    return entry && entry.sheet;\n  };\n\n  _proto.add = function add(key, sheet) {\n    if (this.sheets.has(key)) return;\n    this.length++;\n    this.sheets.set(key, {\n      sheet: sheet,\n      refs: 0\n    });\n  };\n\n  _proto.manage = function manage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs === 0) {\n        entry.sheet.attach();\n      }\n\n      entry.refs++;\n      return entry.sheet;\n    }\n\n    warning(false, \"[JSS] SheetsManager: can't find sheet to manage\");\n    return undefined;\n  };\n\n  _proto.unmanage = function unmanage(key) {\n    var entry = this.sheets.get(key);\n\n    if (entry) {\n      if (entry.refs > 0) {\n        entry.refs--;\n        if (entry.refs === 0) entry.sheet.detach();\n      }\n    } else {\n      warning(false, \"SheetsManager: can't find sheet to unmanage\");\n    }\n  };\n\n  _createClass(SheetsManager, [{\n    key: \"size\",\n    get: function get() {\n      return this.length;\n    }\n  }]);\n\n  return SheetsManager;\n}();\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n\n/**\n * Export a constant indicating if this browser has CSSTOM support.\n * https://developers.google.com/web/updates/2018/03/cssom\n */\n\n\nvar hasCSSTOMSupport = typeof CSS !== 'undefined' && CSS && 'number' in CSS;\n/**\n * Creates a new instance of Jss.\n */\n\nvar create = function create(options) {\n  return new Jss(options);\n};\n/**\n * A global Jss instance.\n */\n\n\nvar index = create();\nexport default index;\nexport { hasCSSTOMSupport, create, getDynamicStyles, toCssValue, createRule, SheetsRegistry, SheetsManager, RuleList, sheets, createGenerateId };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport warning from 'warning';\nimport { getDisplayName } from '@material-ui/utils';\n\nfunction mergeClasses() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var baseClasses = options.baseClasses,\n      newClasses = options.newClasses,\n      Component = options.Component;\n\n  if (!newClasses) {\n    return baseClasses;\n  }\n\n  var nextClasses = _extends({}, baseClasses);\n\n  if (process.env.NODE_ENV !== 'production' && typeof newClasses === 'string') {\n    process.env.NODE_ENV !== \"production\" ? warning(false, [\"Material-UI: the value `\".concat(newClasses, \"` \") + \"provided to the classes prop of \".concat(getDisplayName(Component), \" is incorrect.\"), 'You might want to use the className prop instead.'].join('\\n')) : void 0;\n    return baseClasses;\n  }\n\n  Object.keys(newClasses).forEach(function (key) {\n    process.env.NODE_ENV !== \"production\" ? warning(baseClasses[key] || !newClasses[key], [\"Material-UI: the key `\".concat(key, \"` \") + \"provided to the classes prop is not implemented in \".concat(getDisplayName(Component), \".\"), \"You can only override one of the following: \".concat(Object.keys(baseClasses).join(','), \".\")].join('\\n')) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(!newClasses[key] || typeof newClasses[key] === 'string', [\"Material-UI: the key `\".concat(key, \"` \") + \"provided to the classes prop is not valid for \".concat(getDisplayName(Component), \".\"), \"You need to provide a non empty string instead of: \".concat(newClasses[key], \".\")].join('\\n')) : void 0;\n\n    if (newClasses[key]) {\n      nextClasses[key] = \"\".concat(baseClasses[key], \" \").concat(newClasses[key]);\n    }\n  });\n  return nextClasses;\n}\n\nexport default mergeClasses;","// Used https://github.com/thinkloop/multi-key-cache as inspiration\nvar multiKeyStore = {\n  set: function set(cache, key1, key2, value) {\n    var subCache = cache.get(key1);\n\n    if (!subCache) {\n      subCache = new Map();\n      cache.set(key1, subCache);\n    }\n\n    subCache.set(key2, value);\n  },\n  get: function get(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    return subCache ? subCache.get(key2) : undefined;\n  },\n  delete: function _delete(cache, key1, key2) {\n    var subCache = cache.get(key1);\n    subCache.delete(key2);\n  }\n};\nexport default multiKeyStore;","var hasSymbol = typeof Symbol === 'function';\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import warning from 'warning';\nimport nested from '../ThemeProvider/nested';\n/**\n * This is the list of the style rule name we use as drop in replacement for the built-in\n * pseudo classes (:checked, :disabled, :focused, etc.).\n *\n * Why do they exist in the first place?\n * These classes are used at a specificity of 2.\n * It allows them to override previously definied styles as well as\n * being untouched by simple user overrides.\n */\n\nvar pseudoClasses = ['checked', 'disabled', 'error', 'focused', 'focusVisible', 'required', 'expanded', 'selected']; // Returns a function which generates unique class names based on counters.\n// When new generator function is created, rule counter is reset.\n// We need to reset the rule counter for SSR for each request.\n//\n// It's inspired by\n// https://github.com/cssinjs/jss/blob/4e6a05dd3f7b6572fdd3ab216861d9e446c20331/src/utils/createGenerateClassName.js\n\nexport default function createGenerateClassName() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$disableGloba = options.disableGlobal,\n      disableGlobal = _options$disableGloba === void 0 ? false : _options$disableGloba,\n      _options$productionPr = options.productionPrefix,\n      productionPrefix = _options$productionPr === void 0 ? 'jss' : _options$productionPr,\n      _options$seed = options.seed,\n      seed = _options$seed === void 0 ? '' : _options$seed;\n  var seedPrefix = seed === '' ? '' : \"\".concat(seed, \"-\");\n  var ruleCounter = 0;\n  return function (rule, styleSheet) {\n    ruleCounter += 1;\n    process.env.NODE_ENV !== \"production\" ? warning(ruleCounter < 1e10, ['Material-UI: you might have a memory leak.', 'The ruleCounter is not supposed to grow that much.'].join('')) : void 0;\n    var name = styleSheet.options.name; // Is a global static MUI style?\n\n    if (name && name.indexOf('Mui') === 0 && !styleSheet.options.link && !disableGlobal) {\n      // We can use a shorthand class name, we never use the keys to style the components.\n      if (pseudoClasses.indexOf(rule.key) !== -1) {\n        return \"Mui-\".concat(rule.key);\n      }\n\n      var prefix = \"\".concat(seedPrefix).concat(name, \"-\").concat(rule.key);\n\n      if (!styleSheet.options.theme[nested] || seed !== '') {\n        return prefix;\n      }\n\n      return \"\".concat(prefix, \"-\").concat(ruleCounter);\n    }\n\n    if (process.env.NODE_ENV === 'production') {\n      return \"\".concat(seedPrefix).concat(productionPrefix).concat(ruleCounter);\n    }\n\n    var suffix = \"\".concat(rule.key, \"-\").concat(ruleCounter); // Help with debuggability.\n\n    if (styleSheet.options.classNamePrefix) {\n      return \"\".concat(seedPrefix).concat(styleSheet.options.classNamePrefix, \"-\").concat(suffix);\n    }\n\n    return \"\".concat(seedPrefix).concat(suffix);\n  };\n}","import { createRule } from 'jss';\nvar now = Date.now();\nvar fnValuesNs = \"fnValues\" + now;\nvar fnRuleNs = \"fnStyle\" + ++now;\n\nfunction functionPlugin() {\n  return {\n    onCreateRule: function onCreateRule(name, decl, options) {\n      if (typeof decl !== 'function') return null;\n      var rule = createRule(name, {}, options);\n      rule[fnRuleNs] = decl;\n      return rule;\n    },\n    onProcessStyle: function onProcessStyle(style, rule) {\n      // We need to extract function values from the declaration, so that we can keep core unaware of them.\n      // We need to do that only once.\n      // We don't need to extract functions on each style update, since this can happen only once.\n      // We don't support function values inside of function rules.\n      if (fnValuesNs in rule || fnRuleNs in rule) return style;\n      var fnValues = {};\n\n      for (var prop in style) {\n        var value = style[prop];\n        if (typeof value !== 'function') continue;\n        delete style[prop];\n        fnValues[prop] = value;\n      } // $FlowFixMe\n\n\n      rule[fnValuesNs] = fnValues;\n      return style;\n    },\n    onUpdate: function onUpdate(data, rule, sheet, options) {\n      var styleRule = rule;\n      var fnRule = styleRule[fnRuleNs]; // If we have a style function, the entire rule is dynamic and style object\n      // will be returned from that function.\n\n      if (fnRule) {\n        // Empty object will remove all currently defined props\n        // in case function rule returns a falsy value.\n        styleRule.style = fnRule(data) || {};\n      }\n\n      var fnValues = styleRule[fnValuesNs]; // If we have a fn values map, it is a rule with function values.\n\n      if (fnValues) {\n        for (var prop in fnValues) {\n          styleRule.prop(prop, fnValues[prop](data), options);\n        }\n      }\n    }\n  };\n}\n\nexport default functionPlugin;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { RuleList } from 'jss';\nvar at = '@global';\nvar atPrefix = '@global ';\n\nvar GlobalContainerRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalContainerRule(key, styles, options) {\n    this.type = 'global';\n    this.at = at;\n    this.rules = void 0;\n    this.options = void 0;\n    this.key = void 0;\n    this.isProcessed = false;\n    this.key = key;\n    this.options = options;\n    this.rules = new RuleList(_extends({}, options, {\n      parent: this\n    }));\n\n    for (var selector in styles) {\n      this.rules.add(selector, styles[selector]);\n    }\n\n    this.rules.process();\n  }\n  /**\n   * Get a rule.\n   */\n\n\n  var _proto = GlobalContainerRule.prototype;\n\n  _proto.getRule = function getRule(name) {\n    return this.rules.get(name);\n  }\n  /**\n   * Create and register rule, run plugins.\n   */\n  ;\n\n  _proto.addRule = function addRule(name, style, options) {\n    var rule = this.rules.add(name, style, options);\n    this.options.jss.plugins.onProcessRule(rule);\n    return rule;\n  }\n  /**\n   * Get index of a rule.\n   */\n  ;\n\n  _proto.indexOf = function indexOf(rule) {\n    return this.rules.indexOf(rule);\n  }\n  /**\n   * Generates a CSS string.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return this.rules.toString();\n  };\n\n  return GlobalContainerRule;\n}();\n\nvar GlobalPrefixedRule =\n/*#__PURE__*/\nfunction () {\n  function GlobalPrefixedRule(key, style, options) {\n    this.type = 'global';\n    this.at = at;\n    this.options = void 0;\n    this.rule = void 0;\n    this.isProcessed = false;\n    this.key = void 0;\n    this.key = key;\n    this.options = options;\n    var selector = key.substr(atPrefix.length);\n    this.rule = options.jss.createRule(selector, style, _extends({}, options, {\n      parent: this\n    }));\n  }\n\n  var _proto2 = GlobalPrefixedRule.prototype;\n\n  _proto2.toString = function toString(options) {\n    return this.rule ? this.rule.toString(options) : '';\n  };\n\n  return GlobalPrefixedRule;\n}();\n\nvar separatorRegExp = /\\s*,\\s*/g;\n\nfunction addScope(selector, scope) {\n  var parts = selector.split(separatorRegExp);\n  var scoped = '';\n\n  for (var i = 0; i < parts.length; i++) {\n    scoped += scope + \" \" + parts[i].trim();\n    if (parts[i + 1]) scoped += ', ';\n  }\n\n  return scoped;\n}\n\nfunction handleNestedGlobalContainerRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n  var rules = style ? style[at] : null;\n  if (!rules) return;\n\n  for (var name in rules) {\n    options.sheet.addRule(name, rules[name], _extends({}, options, {\n      selector: addScope(name, rule.selector)\n    }));\n  }\n\n  delete style[at];\n}\n\nfunction handlePrefixedGlobalRule(rule) {\n  var options = rule.options,\n      style = rule.style;\n\n  for (var prop in style) {\n    if (prop[0] !== '@' || prop.substr(0, at.length) !== at) continue;\n    var selector = addScope(prop.substr(at.length), rule.selector);\n    options.sheet.addRule(selector, style[prop], _extends({}, options, {\n      selector: selector\n    }));\n    delete style[prop];\n  }\n}\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\n\nfunction jssGlobal() {\n  function onCreateRule(name, styles, options) {\n    if (!name) return null;\n\n    if (name === at) {\n      return new GlobalContainerRule(name, styles, options);\n    }\n\n    if (name[0] === '@' && name.substr(0, atPrefix.length) === atPrefix) {\n      return new GlobalPrefixedRule(name, styles, options);\n    }\n\n    var parent = options.parent;\n\n    if (parent) {\n      if (parent.type === 'global' || parent.options.parent && parent.options.parent.type === 'global') {\n        options.scoped = false;\n      }\n    }\n\n    if (options.scoped === false) {\n      options.selector = name;\n    }\n\n    return null;\n  }\n\n  function onProcessRule(rule) {\n    if (rule.type !== 'style') return;\n    handleNestedGlobalContainerRule(rule);\n    handlePrefixedGlobalRule(rule);\n  }\n\n  return {\n    onCreateRule: onCreateRule,\n    onProcessRule: onProcessRule\n  };\n}\n\nexport default jssGlobal;","import _extends from '@babel/runtime/helpers/esm/extends';\nimport warning from 'tiny-warning';\nvar separatorRegExp = /\\s*,\\s*/g;\nvar parentRegExp = /&/g;\nvar refRegExp = /\\$([\\w-]+)/g;\n/**\n * Convert nested rules to separate, remove them from original styles.\n *\n * @param {Rule} rule\n * @api public\n */\n\nfunction jssNested() {\n  // Get a function to be used for $ref replacement.\n  function getReplaceRef(container, sheet) {\n    return function (match, key) {\n      var rule = container.getRule(key) || sheet && sheet.getRule(key);\n\n      if (rule) {\n        rule = rule;\n        return rule.selector;\n      }\n\n      process.env.NODE_ENV !== \"production\" ? warning(false, \"[JSS] Could not find the referenced rule \" + key + \" in \" + (container.options.meta || container.toString()) + \".\") : void 0;\n      return key;\n    };\n  }\n\n  function replaceParentRefs(nestedProp, parentProp) {\n    var parentSelectors = parentProp.split(separatorRegExp);\n    var nestedSelectors = nestedProp.split(separatorRegExp);\n    var result = '';\n\n    for (var i = 0; i < parentSelectors.length; i++) {\n      var parent = parentSelectors[i];\n\n      for (var j = 0; j < nestedSelectors.length; j++) {\n        var nested = nestedSelectors[j];\n        if (result) result += ', '; // Replace all & by the parent or prefix & with the parent.\n\n        result += nested.indexOf('&') !== -1 ? nested.replace(parentRegExp, parent) : parent + \" \" + nested;\n      }\n    }\n\n    return result;\n  }\n\n  function getOptions(rule, container, options) {\n    // Options has been already created, now we only increase index.\n    if (options) return _extends({}, options, {\n      index: options.index + 1\n    });\n    var nestingLevel = rule.options.nestingLevel;\n    nestingLevel = nestingLevel === undefined ? 1 : nestingLevel + 1;\n    return _extends({}, rule.options, {\n      nestingLevel: nestingLevel,\n      index: container.indexOf(rule) + 1\n    });\n  }\n\n  function onProcessStyle(style, rule, sheet) {\n    if (rule.type !== 'style') return style;\n    var styleRule = rule;\n    var container = styleRule.options.parent;\n    var options;\n    var replaceRef;\n\n    for (var prop in style) {\n      var isNested = prop.indexOf('&') !== -1;\n      var isNestedConditional = prop[0] === '@';\n      if (!isNested && !isNestedConditional) continue;\n      options = getOptions(styleRule, container, options);\n\n      if (isNested) {\n        var selector = replaceParentRefs(prop, styleRule.selector); // Lazily create the ref replacer function just once for\n        // all nested rules within the sheet.\n\n        if (!replaceRef) replaceRef = getReplaceRef(container, sheet); // Replace all $refs.\n\n        selector = selector.replace(refRegExp, replaceRef);\n        container.addRule(selector, style[prop], _extends({}, options, {\n          selector: selector\n        }));\n      } else if (isNestedConditional) {\n        // Place conditional right after the parent rule to ensure right ordering.\n        container.addRule(prop, {}, options) // Flow expects more options but they aren't required\n        // And flow doesn't know this will always be a StyleRule which has the addRule method\n        // $FlowFixMe\n        .addRule(styleRule.key, style[prop], {\n          selector: styleRule.selector\n        });\n      }\n\n      delete style[prop];\n    }\n\n    return style;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle\n  };\n}\n\nexport default jssNested;","/* eslint-disable no-var, prefer-template */\nvar uppercasePattern = /[A-Z]/g;\nvar msPattern = /^ms-/;\nvar cache = {};\n\nfunction toHyphenLower(match) {\n  return '-' + match.toLowerCase();\n}\n\nfunction hyphenateStyleName(name) {\n  if (cache.hasOwnProperty(name)) {\n    return cache[name];\n  }\n\n  var hName = name.replace(uppercasePattern, toHyphenLower);\n  return cache[name] = msPattern.test(hName) ? '-' + hName : hName;\n}\n\nexport default hyphenateStyleName;","import hyphenate from 'hyphenate-style-name';\n/**\n * Convert camel cased property names to dash separated.\n *\n * @param {Object} style\n * @return {Object}\n */\n\nfunction convertCase(style) {\n  var converted = {};\n\n  for (var prop in style) {\n    var key = prop.indexOf('--') === 0 ? prop : hyphenate(prop);\n    converted[key] = style[prop];\n  }\n\n  if (style.fallbacks) {\n    if (Array.isArray(style.fallbacks)) converted.fallbacks = style.fallbacks.map(convertCase);else converted.fallbacks = convertCase(style.fallbacks);\n  }\n\n  return converted;\n}\n/**\n * Allow camel cased property names by converting them back to dasherized.\n *\n * @param {Rule} rule\n */\n\n\nfunction camelCase() {\n  function onProcessStyle(style) {\n    if (Array.isArray(style)) {\n      // Handle rules like @font-face, which can have multiple styles in an array\n      for (var index = 0; index < style.length; index++) {\n        style[index] = convertCase(style[index]);\n      }\n\n      return style;\n    }\n\n    return convertCase(style);\n  }\n\n  function onChangeValue(value, prop, rule) {\n    if (prop.indexOf('--') === 0) {\n      return value;\n    }\n\n    var hyphenatedProp = hyphenate(prop); // There was no camel case in place\n\n    if (prop === hyphenatedProp) return value;\n    rule.prop(hyphenatedProp, value); // Core will ignore that property value we set the proper one above.\n\n    return null;\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default camelCase;","import { hasCSSTOMSupport } from 'jss';\nvar px = hasCSSTOMSupport ? window.CSS.px : 'px';\nvar ms = hasCSSTOMSupport ? window.CSS.ms : 'ms';\nvar percent = hasCSSTOMSupport ? window.CSS.percent : '%';\n/**\n * Generated jss-plugin-default-unit CSS property units\n *\n * @type object\n */\n\nvar defaultUnits = {\n  // Animation properties\n  'animation-delay': ms,\n  'animation-duration': ms,\n  // Background properties\n  'background-position': px,\n  'background-position-x': px,\n  'background-position-y': px,\n  'background-size': px,\n  // Border Properties\n  border: px,\n  'border-bottom': px,\n  'border-bottom-left-radius': px,\n  'border-bottom-right-radius': px,\n  'border-bottom-width': px,\n  'border-left': px,\n  'border-left-width': px,\n  'border-radius': px,\n  'border-right': px,\n  'border-right-width': px,\n  'border-top': px,\n  'border-top-left-radius': px,\n  'border-top-right-radius': px,\n  'border-top-width': px,\n  'border-width': px,\n  // Margin properties\n  margin: px,\n  'margin-bottom': px,\n  'margin-left': px,\n  'margin-right': px,\n  'margin-top': px,\n  // Padding properties\n  padding: px,\n  'padding-bottom': px,\n  'padding-left': px,\n  'padding-right': px,\n  'padding-top': px,\n  // Mask properties\n  'mask-position-x': px,\n  'mask-position-y': px,\n  'mask-size': px,\n  // Width and height properties\n  height: px,\n  width: px,\n  'min-height': px,\n  'max-height': px,\n  'min-width': px,\n  'max-width': px,\n  // Position properties\n  bottom: px,\n  left: px,\n  top: px,\n  right: px,\n  // Shadow properties\n  'box-shadow': px,\n  'text-shadow': px,\n  // Column properties\n  'column-gap': px,\n  'column-rule': px,\n  'column-rule-width': px,\n  'column-width': px,\n  // Font and text properties\n  'font-size': px,\n  'font-size-delta': px,\n  'letter-spacing': px,\n  'text-indent': px,\n  'text-stroke': px,\n  'text-stroke-width': px,\n  'word-spacing': px,\n  // Motion properties\n  motion: px,\n  'motion-offset': px,\n  // Outline properties\n  outline: px,\n  'outline-offset': px,\n  'outline-width': px,\n  // Perspective properties\n  perspective: px,\n  'perspective-origin-x': percent,\n  'perspective-origin-y': percent,\n  // Transform properties\n  'transform-origin': percent,\n  'transform-origin-x': percent,\n  'transform-origin-y': percent,\n  'transform-origin-z': percent,\n  // Transition properties\n  'transition-delay': ms,\n  'transition-duration': ms,\n  // Alignment properties\n  'vertical-align': px,\n  'flex-basis': px,\n  // Some random properties\n  'shape-margin': px,\n  size: px,\n  // Grid properties\n  grid: px,\n  'grid-gap': px,\n  'grid-row-gap': px,\n  'grid-column-gap': px,\n  'grid-template-rows': px,\n  'grid-template-columns': px,\n  'grid-auto-rows': px,\n  'grid-auto-columns': px,\n  // Not existing properties.\n  // Used to avoid issues with jss-plugin-expand integration.\n  'box-shadow-x': px,\n  'box-shadow-y': px,\n  'box-shadow-blur': px,\n  'box-shadow-spread': px,\n  'font-line-height': px,\n  'text-shadow-x': px,\n  'text-shadow-y': px,\n  'text-shadow-blur': px\n};\n/**\n * Clones the object and adds a camel cased property version.\n */\n\nfunction addCamelCasedVersion(obj) {\n  var regExp = /(-[a-z])/g;\n\n  var replace = function replace(str) {\n    return str[1].toUpperCase();\n  };\n\n  var newObj = {};\n\n  for (var _key in obj) {\n    newObj[_key] = obj[_key];\n    newObj[_key.replace(regExp, replace)] = obj[_key];\n  }\n\n  return newObj;\n}\n\nvar units = addCamelCasedVersion(defaultUnits);\n/**\n * Recursive deep style passing function\n */\n\nfunction iterate(prop, value, options) {\n  if (!value) return value;\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = iterate(prop, value[i], options);\n    }\n  } else if (typeof value === 'object') {\n    if (prop === 'fallbacks') {\n      for (var innerProp in value) {\n        value[innerProp] = iterate(innerProp, value[innerProp], options);\n      }\n    } else {\n      for (var _innerProp in value) {\n        value[_innerProp] = iterate(prop + \"-\" + _innerProp, value[_innerProp], options);\n      }\n    }\n  } else if (typeof value === 'number') {\n    if (options[prop]) {\n      return \"\" + value + options[prop];\n    }\n\n    if (units[prop]) {\n      return typeof units[prop] === 'function' ? units[prop](value).toString() : \"\" + value + units[prop];\n    }\n\n    return value.toString();\n  }\n\n  return value;\n}\n/**\n * Add unit to numeric values.\n */\n\n\nfunction defaultUnit(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var camelCasedOptions = addCamelCasedVersion(options);\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      style[prop] = iterate(prop, style[prop], camelCasedOptions);\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return iterate(prop, value, camelCasedOptions);\n  }\n\n  return {\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default defaultUnit;","import isInBrowser from 'is-in-browser';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray'; // Export javascript style and css style vendor prefixes.\n\nvar js = '';\nvar css = '';\nvar vendor = '';\nvar browser = '';\nvar isTouch = isInBrowser && 'ontouchstart' in document.documentElement; // We should not do anything if required serverside.\n\nif (isInBrowser) {\n  // Order matters. We need to check Webkit the last one because\n  // other vendors use to add Webkit prefixes to some properties\n  var jsCssMap = {\n    Moz: '-moz-',\n    ms: '-ms-',\n    O: '-o-',\n    Webkit: '-webkit-'\n  };\n\n  var _document$createEleme = document.createElement('p'),\n      style = _document$createEleme.style;\n\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      js = key;\n      css = jsCssMap[key];\n      break;\n    }\n  } // Correctly detect the Edge browser.\n\n\n  if (js === 'Webkit' && 'msHyphens' in style) {\n    js = 'ms';\n    css = jsCssMap.ms;\n    browser = 'edge';\n  } // Correctly detect the Safari browser.\n\n\n  if (js === 'Webkit' && '-apple-trailing-word' in style) {\n    vendor = 'apple';\n  }\n}\n/**\n * Vendor prefix string for the current browser.\n *\n * @type {{js: String, css: String, vendor: String, browser: String}}\n * @api public\n */\n\n\nvar prefix = {\n  js: js,\n  css: css,\n  vendor: vendor,\n  browser: browser,\n  isTouch: isTouch\n};\n/**\n * Test if a keyframe at-rule should be prefixed or not\n *\n * @param {String} vendor prefix string for the current browser.\n * @return {String}\n * @api public\n */\n\nfunction supportedKeyframes(key) {\n  // Keyframes is already prefixed. e.g. key = '@-webkit-keyframes a'\n  if (key[1] === '-') return key; // No need to prefix IE/Edge. Older browsers will ignore unsupported rules.\n  // https://caniuse.com/#search=keyframes\n\n  if (prefix.js === 'ms') return key;\n  return \"@\" + prefix.css + \"keyframes\" + key.substr(10);\n} // https://caniuse.com/#search=appearance\n\n\nvar appearence = {\n  noPrefill: ['appearance'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'appearance') return false;\n    if (prefix.js === 'ms') return \"-webkit-\" + prop;\n    return prefix.css + prop;\n  }\n};\nvar regExp = /[-\\s]+(.)?/g;\n/**\n * Replaces the letter with the capital letter\n *\n * @param {String} match\n * @param {String} c\n * @return {String}\n * @api private\n */\n\nfunction toUpper(match, c) {\n  return c ? c.toUpperCase() : '';\n}\n/**\n * Convert dash separated strings to camel-cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction camelize(str) {\n  return str.replace(regExp, toUpper);\n}\n/**\n * Convert dash separated strings to pascal cased.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\n\nfunction pascalize(str) {\n  return camelize(\"-\" + str);\n} // https://caniuse.com/#search=multicolumn\n// https://github.com/postcss/autoprefixer/issues/491\n// https://github.com/postcss/autoprefixer/issues/177\n\n\nvar breakPropsOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^break-/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var jsProp = \"WebkitColumn\" + pascalize(prop);\n      return jsProp in style ? prefix.css + \"column-\" + prop : false;\n    }\n\n    if (prefix.js === 'Moz') {\n      var _jsProp = \"page\" + pascalize(prop);\n\n      return _jsProp in style ? \"page-\" + prop : false;\n    }\n\n    return false;\n  }\n}; // https://caniuse.com/#search=color-adjust\n\nvar colorAdjust = {\n  noPrefill: ['color-adjust'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'color-adjust') return false;\n    if (prefix.js === 'Webkit') return prefix.css + \"print-\" + prop;\n    return prop;\n  }\n};\nvar propMap = {\n  flex: 'box-flex',\n  'flex-grow': 'box-flex',\n  'flex-direction': ['box-orient', 'box-direction'],\n  order: 'box-ordinal-group',\n  'align-items': 'box-align',\n  'flex-flow': ['box-orient', 'box-direction'],\n  'justify-content': 'box-pack'\n};\nvar propKeys = Object.keys(propMap);\n\nvar prefixCss = function prefixCss(p) {\n  return prefix.css + p;\n}; // Support old flex spec from 2009.\n\n\nvar flex2009 = {\n  supportedProperty: function supportedProperty(prop, style, _ref) {\n    var multiple = _ref.multiple;\n\n    if (propKeys.indexOf(prop) > -1) {\n      var newProp = propMap[prop];\n\n      if (!Array.isArray(newProp)) {\n        return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n      }\n\n      if (!multiple) return false;\n\n      for (var i = 0; i < newProp.length; i++) {\n        if (!(prefix.js + pascalize(newProp[0]) in style)) {\n          return false;\n        }\n      }\n\n      return newProp.map(prefixCss);\n    }\n\n    return false;\n  }\n};\nvar propMap$1 = {\n  'flex-grow': 'flex-positive',\n  'flex-shrink': 'flex-negative',\n  'flex-basis': 'flex-preferred-size',\n  'justify-content': 'flex-pack',\n  order: 'flex-order',\n  'align-items': 'flex-align',\n  'align-content': 'flex-line-pack' // 'align-self' is handled by 'align-self' plugin.\n  // Support old flex spec from 2012.\n\n};\nvar flex2012 = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var newProp = propMap$1[prop];\n    if (!newProp) return false;\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n}; // See https://github.com/postcss/autoprefixer/issues/324.\n\nvar inlineLogicalOld = {\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^(border|margin|padding)-inline/.test(prop)) return false;\n    if (prefix.js === 'Moz') return prop;\n    var newProp = prop.replace('-inline', '');\n    return prefix.js + pascalize(newProp) in style ? prefix.css + newProp : false;\n  }\n}; // but we can use a longhand property instead.\n// https://caniuse.com/#search=mask\n\nvar mask = {\n  noPrefill: ['mask'],\n  supportedProperty: function supportedProperty(prop, style) {\n    if (!/^mask/.test(prop)) return false;\n\n    if (prefix.js === 'Webkit') {\n      var longhand = 'mask-image';\n\n      if (camelize(longhand) in style) {\n        return prop;\n      }\n\n      if (prefix.js + pascalize(longhand) in style) {\n        return prefix.css + prop;\n      }\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=overscroll-behavior\n\nvar overscrollBehavior = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'overscroll-behavior') return false;\n\n    if (prefix.js === 'ms') {\n      return prefix.css + \"scroll-chaining\";\n    }\n\n    return prop;\n  }\n};\nvar prefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    var pascalized = pascalize(prop); // Return custom CSS variable without prefixing.\n\n    if (prop[0] === '-') return prop; // Return already prefixed value without prefixing.\n\n    if (prop[0] === '-' && prop[1] === '-') return prop;\n    if (prefix.js + pascalized in style) return prefix.css + prop; // Try webkit fallback.\n\n    if (prefix.js !== 'Webkit' && \"Webkit\" + pascalized in style) return \"-webkit-\" + prop;\n    return false;\n  }\n}; // https://caniuse.com/#search=scroll-snap\n\nvar scrollSnap = {\n  supportedProperty: function supportedProperty(prop) {\n    if (prop.substring(0, 11) !== 'scroll-snap') return false;\n\n    if (prefix.js === 'ms') {\n      return \"\" + prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=text-orientation\n\nvar textOrientation = {\n  noPrefill: ['text-orientation'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'text-orientation') return false;\n\n    if (prefix.vendor === 'apple' && !prefix.isTouch) {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // https://caniuse.com/#search=transform\n\nvar transform = {\n  noPrefill: ['transform'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transform') return false;\n\n    if (options.transform) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // https://caniuse.com/#search=transition\n\nvar transition = {\n  noPrefill: ['transition'],\n  supportedProperty: function supportedProperty(prop, style, options) {\n    if (prop !== 'transition') return false;\n\n    if (options.transition) {\n      return prop;\n    }\n\n    return prefix.css + prop;\n  }\n}; // Camelization is required because we can't test using.\n// CSS syntax for e.g. in FF.\n\nvar unprefixed = {\n  supportedProperty: function supportedProperty(prop, style) {\n    return camelize(prop) in style ? prop : false;\n  }\n}; // https://caniuse.com/#search=writing-mode\n\nvar writingMode = {\n  noPrefill: ['writing-mode'],\n  supportedProperty: function supportedProperty(prop) {\n    if (prop !== 'writing-mode') return false;\n\n    if (prefix.js === 'Webkit' || prefix.js === 'ms') {\n      return prefix.css + prop;\n    }\n\n    return prop;\n  }\n}; // plugins = [\n//   ...plugins,\n//    breakPropsOld,\n//    inlineLogicalOld,\n//    unprefixed,\n//    prefixed,\n//    scrollSnap,\n//    flex2012,\n//    flex2009\n// ]\n// Plugins without 'noPrefill' value, going last.\n// 'flex-*' plugins should be at the bottom.\n// 'flex2009' going after 'flex2012'.\n// 'prefixed' going after 'unprefixed'\n\nvar plugins = [appearence, colorAdjust, mask, textOrientation, transform, transition, writingMode, breakPropsOld, inlineLogicalOld, unprefixed, prefixed, scrollSnap, overscrollBehavior, flex2012, flex2009];\nvar propertyDetectors = plugins.filter(function (p) {\n  return p.supportedProperty;\n}).map(function (p) {\n  return p.supportedProperty;\n});\nvar noPrefill = plugins.filter(function (p) {\n  return p.noPrefill;\n}).reduce(function (a, p) {\n  a.push.apply(a, _toConsumableArray(p.noPrefill));\n  return a;\n}, []);\nvar el;\nvar cache = {};\n\nif (isInBrowser) {\n  el = document.createElement('p'); // We test every property on vendor prefix requirement.\n  // Once tested, result is cached. It gives us up to 70% perf boost.\n  // http://jsperf.com/element-style-object-access-vs-plain-object\n  //\n  // Prefill cache with known css properties to reduce amount of\n  // properties we need to feature test at runtime.\n  // http://davidwalsh.name/vendor-prefix\n\n  var computed = window.getComputedStyle(document.documentElement, '');\n\n  for (var key$1 in computed) {\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(key$1)) cache[computed[key$1]] = computed[key$1];\n  } // Properties that cannot be correctly detected using the\n  // cache prefill method.\n\n\n  noPrefill.forEach(function (x) {\n    return delete cache[x];\n  });\n}\n/**\n * Test if a property is supported, returns supported property with vendor\n * prefix if required. Returns `false` if not supported.\n *\n * @param {String} prop dash separated\n * @param {Object} [options]\n * @return {String|Boolean}\n * @api public\n */\n\n\nfunction supportedProperty(prop, options) {\n  if (options === void 0) {\n    options = {};\n  } // For server-side rendering.\n\n\n  if (!el) return prop; // Remove cache for benchmark tests or return property from the cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache[prop] != null) {\n    return cache[prop];\n  } // Check if 'transition' or 'transform' natively supported in browser.\n\n\n  if (prop === 'transition' || prop === 'transform') {\n    options[prop] = prop in el.style;\n  } // Find a plugin for current prefix property.\n\n\n  for (var i = 0; i < propertyDetectors.length; i++) {\n    cache[prop] = propertyDetectors[i](prop, el.style, options); // Break loop, if value found.\n\n    if (cache[prop]) break;\n  } // Reset styles for current property.\n  // Firefox can even throw an error for invalid properties, e.g., \"0\".\n\n\n  try {\n    el.style[prop] = '';\n  } catch (err) {\n    return false;\n  }\n\n  return cache[prop];\n}\n\nvar cache$1 = {};\nvar transitionProperties = {\n  transition: 1,\n  'transition-property': 1,\n  '-webkit-transition': 1,\n  '-webkit-transition-property': 1\n};\nvar transPropsRegExp = /(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g;\nvar el$1;\n/**\n * Returns prefixed value transition/transform if needed.\n *\n * @param {String} match\n * @param {String} p1\n * @param {String} p2\n * @return {String}\n * @api private\n */\n\nfunction prefixTransitionCallback(match, p1, p2) {\n  if (p1 === 'var') return 'var';\n  if (p1 === 'all') return 'all';\n  if (p2 === 'all') return ', all';\n  return p1 ? supportedProperty(p1) : \", \" + supportedProperty(p2);\n}\n\nif (isInBrowser) el$1 = document.createElement('p');\n/**\n * Returns prefixed value if needed. Returns `false` if value is not supported.\n *\n * @param {String} property\n * @param {String} value\n * @return {String|Boolean}\n * @api public\n */\n\nfunction supportedValue(property, value) {\n  // For server-side rendering.\n  var prefixedValue = value;\n  if (!el$1 || property === 'content') return value; // It is a string or a number as a string like '1'.\n  // We want only prefixable values here.\n  // eslint-disable-next-line no-restricted-globals\n\n  if (typeof prefixedValue !== 'string' || !isNaN(parseInt(prefixedValue, 10))) {\n    return prefixedValue;\n  } // Create cache key for current value.\n\n\n  var cacheKey = property + prefixedValue; // Remove cache for benchmark tests or return value from cache.\n\n  if (process.env.NODE_ENV !== 'benchmark' && cache$1[cacheKey] != null) {\n    return cache$1[cacheKey];\n  } // IE can even throw an error in some cases, for e.g. style.content = 'bar'.\n\n\n  try {\n    // Test value as it is.\n    el$1.style[property] = prefixedValue;\n  } catch (err) {\n    // Return false if value not supported.\n    cache$1[cacheKey] = false;\n    return false;\n  } // If 'transition' or 'transition-property' property.\n\n\n  if (transitionProperties[property]) {\n    prefixedValue = prefixedValue.replace(transPropsRegExp, prefixTransitionCallback);\n  } else if (el$1.style[property] === '') {\n    // Value with a vendor prefix.\n    prefixedValue = prefix.css + prefixedValue; // Hardcode test to convert \"flex\" to \"-ms-flexbox\" for IE10.\n\n    if (prefixedValue === '-ms-flex') el$1.style[property] = '-ms-flexbox'; // Test prefixed value.\n\n    el$1.style[property] = prefixedValue; // Return false if value not supported.\n\n    if (el$1.style[property] === '') {\n      cache$1[cacheKey] = false;\n      return false;\n    }\n  } // Reset styles for current property.\n\n\n  el$1.style[property] = ''; // Write current value to cache.\n\n  cache$1[cacheKey] = prefixedValue;\n  return cache$1[cacheKey];\n}\n\nexport { prefix, supportedKeyframes, supportedProperty, supportedValue };","import { supportedKeyframes, supportedProperty, supportedValue } from 'css-vendor';\nimport { toCssValue } from 'jss';\n/**\n * Add vendor prefix to a property name when needed.\n *\n * @api public\n */\n\nfunction jssVendorPrefixer() {\n  function onProcessRule(rule) {\n    if (rule.type === 'keyframes') {\n      var atRule = rule;\n      atRule.at = supportedKeyframes(atRule.at);\n    }\n  }\n\n  function onProcessStyle(style, rule) {\n    if (rule.type !== 'style') return style;\n\n    for (var prop in style) {\n      var value = style[prop];\n      var changeProp = false;\n      var supportedProp = supportedProperty(prop);\n      if (supportedProp && supportedProp !== prop) changeProp = true;\n      var changeValue = false;\n      var supportedValue$$1 = supportedValue(supportedProp, toCssValue(value));\n      if (supportedValue$$1 && supportedValue$$1 !== value) changeValue = true;\n\n      if (changeProp || changeValue) {\n        if (changeProp) delete style[prop];\n        style[supportedProp || prop] = supportedValue$$1 || value;\n      }\n    }\n\n    return style;\n  }\n\n  function onChangeValue(value, prop) {\n    return supportedValue(prop, toCssValue(value)) || value;\n  }\n\n  return {\n    onProcessRule: onProcessRule,\n    onProcessStyle: onProcessStyle,\n    onChangeValue: onChangeValue\n  };\n}\n\nexport default jssVendorPrefixer;","/**\n * Sort props by length.\n */\nfunction jssPropsSort() {\n  var sort = function sort(prop0, prop1) {\n    if (prop0.length === prop1.length) {\n      return prop0 > prop1 ? 1 : -1;\n    }\n\n    return prop0.length - prop1.length;\n  };\n\n  return {\n    onProcessStyle: function onProcessStyle(style, rule) {\n      if (rule.type !== 'style') return style;\n      var newStyle = {};\n      var props = Object.keys(style).sort(sort);\n\n      for (var i = 0; i < props.length; i++) {\n        newStyle[props[i]] = style[props[i]];\n      }\n\n      return newStyle;\n    }\n  };\n}\n\nexport default jssPropsSort;","import functions from 'jss-plugin-rule-value-function';\nimport global from 'jss-plugin-global';\nimport nested from 'jss-plugin-nested';\nimport camelCase from 'jss-plugin-camel-case';\nimport defaultUnit from 'jss-plugin-default-unit';\nimport vendorPrefixer from 'jss-plugin-vendor-prefixer';\nimport propsSort from 'jss-plugin-props-sort'; // Subset of jss-preset-default with only the plugins the Material-UI components are using.\n\nfunction jssPreset() {\n  return {\n    plugins: [functions(), global(), nested(), camelCase(), defaultUnit(), // Disable the vendor prefixer server-side, it does nothing.\n    // This way, we can get a performance boost.\n    // In the documentation, we are using `autoprefixer` to solve this problem.\n    typeof window === 'undefined' ? null : vendorPrefixer(), propsSort()]\n  };\n}\n\nexport default jssPreset;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport { exactProp } from '@material-ui/utils';\nimport createGenerateClassName from '../createGenerateClassName';\nimport { create } from 'jss';\nimport jssPreset from '../jssPreset'; // Default JSS instance.\n\nvar jss = create(jssPreset()); // Use a singleton or the provided one by the context.\n//\n// The counter-based approach doesn't tolerate any mistake.\n// It's much safer to use the same counter everywhere.\n\nvar generateClassName = createGenerateClassName(); // Exported for test purposes\n\nexport var sheetsManager = new Map();\nvar defaultOptions = {\n  disableGeneration: false,\n  generateClassName: generateClassName,\n  jss: jss,\n  sheetsCache: null,\n  sheetsManager: sheetsManager,\n  sheetsRegistry: null\n};\nexport var StylesContext = React.createContext(defaultOptions);\nvar injectFirstNode;\n\nfunction StylesProvider(props) {\n  var children = props.children,\n      _props$injectFirst = props.injectFirst,\n      injectFirst = _props$injectFirst === void 0 ? false : _props$injectFirst,\n      _props$disableGenerat = props.disableGeneration,\n      disableGeneration = _props$disableGenerat === void 0 ? false : _props$disableGenerat,\n      localOptions = _objectWithoutProperties(props, [\"children\", \"injectFirst\", \"disableGeneration\"]);\n\n  var outerOptions = React.useContext(StylesContext);\n\n  var context = _extends({}, outerOptions, {\n    disableGeneration: disableGeneration\n  }, localOptions);\n\n  process.env.NODE_ENV !== \"production\" ? warning(typeof window !== 'undefined' || context.sheetsManager, 'Material-UI: you need to use the ServerStyleSheets API when rendering on the server.') : void 0;\n  process.env.NODE_ENV !== \"production\" ? warning(!context.jss.options.insertionPoint || !injectFirst, 'Material-UI: you cannot use a custom insertionPoint and <StylesContext injectFirst> at the same time.') : void 0;\n  process.env.NODE_ENV !== \"production\" ? warning(!injectFirst || !localOptions.jss, 'Material-UI: you cannot use the jss and injectFirst props at the same time.') : void 0;\n\n  if (!context.jss.options.insertionPoint && injectFirst && typeof window !== 'undefined') {\n    if (!injectFirstNode) {\n      var head = document.head;\n      injectFirstNode = document.createComment('mui-inject-first');\n      head.insertBefore(injectFirstNode, head.firstChild);\n    }\n\n    context.jss = create({\n      plugins: jssPreset().plugins,\n      insertionPoint: injectFirstNode\n    });\n  }\n\n  return React.createElement(StylesContext.Provider, {\n    value: context\n  }, children);\n}\n\nprocess.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * You can disable the generation of the styles with this option.\n   * It can be useful when traversing the React tree outside of the HTML\n   * rendering step on the server.\n   * Let's say you are using react-apollo to extract all\n   * the queries made by the interface server-side - you can significantly speed up the traversal with this prop.\n   */\n  disableGeneration: PropTypes.bool,\n\n  /**\n   * JSS's class name generator.\n   */\n  generateClassName: PropTypes.func,\n\n  /**\n   * By default, the styles are injected last in the <head> element of the page.\n   * As a result, they gain more specificity than any other style sheet.\n   * If you want to override Material-UI's styles, set this prop.\n   */\n  injectFirst: PropTypes.bool,\n\n  /**\n   * JSS's instance.\n   */\n  jss: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  serverGenerateClassName: PropTypes.func,\n\n  /**\n   * @ignore\n   *\n   * Beta feature.\n   *\n   * Cache for the sheets.\n   */\n  sheetsCache: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * The sheetsManager is used to deduplicate style sheet injection in the page.\n   * It's deduplicating using the (theme, styles) couple.\n   * On the server, you should provide a new instance for each request.\n   */\n  sheetsManager: PropTypes.object,\n\n  /**\n   * @ignore\n   *\n   * Collect the sheets.\n   */\n  sheetsRegistry: PropTypes.object\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? StylesProvider.propTypes = exactProp(StylesProvider.propTypes) : void 0;\n}\n\nexport default StylesProvider;","/* eslint-disable import/prefer-default-export */\nimport warning from 'warning'; // Global index counter to preserve source order.\n// We create the style sheet during at the creation of the component,\n// children are handled after the parents, so the order of style elements would be parent->child.\n// It is a problem though when a parent passes a className\n// which needs to override any child's styles.\n// StyleSheet of the child has a higher specificity, because of the source order.\n// So our solution is to render sheets them in the reverse order child->sheet, so\n// that parent has a higher specificity.\n\nvar indexCounter = -1e9;\nexport function increment() {\n  indexCounter += 1;\n  process.env.NODE_ENV !== \"production\" ? warning(indexCounter < 0, ['Material-UI: you might have a memory leak.', 'The indexCounter is not supposed to grow that much.'].join('\\n')) : void 0;\n  return indexCounter;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport warning from 'warning';\nimport deepmerge from 'deepmerge'; // < 1kb payload overhead when lodash/merge is > 3kb.\n\nimport noopTheme from './noopTheme'; // Support for the jss-expand plugin.\n\nfunction arrayMerge(destination, source) {\n  return source;\n}\n\nfunction getStylesCreator(stylesOrCreator) {\n  var themingEnabled = typeof stylesOrCreator === 'function';\n  process.env.NODE_ENV !== \"production\" ? warning(_typeof(stylesOrCreator) === 'object' || themingEnabled, ['Material-UI: the `styles` argument provided is invalid.', 'You need to provide a function generating the styles or a styles object.'].join('\\n')) : void 0;\n  return {\n    create: function create(theme, name) {\n      var styles;\n\n      try {\n        styles = themingEnabled ? stylesOrCreator(theme) : stylesOrCreator;\n      } catch (err) {\n        process.env.NODE_ENV !== \"production\" ? warning(!themingEnabled || theme !== noopTheme, ['Material-UI: the `styles` argument provided is invalid.', 'You are providing a function without a theme in the context.', 'One of the parent elements needs to use a ThemeProvider.'].join('\\n')) : void 0;\n        throw err;\n      }\n\n      if (!name || !theme.overrides || !theme.overrides[name]) {\n        return styles;\n      }\n\n      var overrides = theme.overrides[name];\n\n      var stylesWithOverrides = _extends({}, styles);\n\n      Object.keys(overrides).forEach(function (key) {\n        process.env.NODE_ENV !== \"production\" ? warning(stylesWithOverrides[key], ['Material-UI: you are trying to override a style that does not exist.', \"Fix the `\".concat(key, \"` key of `theme.overrides.\").concat(name, \"`.\")].join('\\n')) : void 0;\n        stylesWithOverrides[key] = deepmerge(stylesWithOverrides[key], overrides[key], {\n          arrayMerge: arrayMerge\n        });\n      });\n      return stylesWithOverrides;\n    },\n    options: {},\n    themingEnabled: themingEnabled\n  };\n}\n\nexport default getStylesCreator;","// We use the same empty object to ref count the styles that don't need a theme object.\nvar noopTheme = {};\nexport default noopTheme;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport warning from 'warning';\nimport { getDynamicStyles } from 'jss';\nimport mergeClasses from '../mergeClasses';\nimport multiKeyStore from './multiKeyStore';\nimport useTheme from '../useTheme';\nimport { StylesContext } from '../StylesProvider';\nimport { increment } from './indexCounter';\nimport getStylesCreator from '../getStylesCreator';\nimport noopTheme from '../getStylesCreator/noopTheme';\n\nfunction getClasses(_ref, classes, Component) {\n  var state = _ref.state,\n      stylesOptions = _ref.stylesOptions;\n\n  if (stylesOptions.disableGeneration) {\n    return classes || {};\n  }\n\n  if (!state.cacheClasses) {\n    state.cacheClasses = {\n      // Cache for the finalized classes value.\n      value: null,\n      // Cache for the last used classes prop pointer.\n      lastProp: null,\n      // Cache for the last used rendered classes pointer.\n      lastJSS: {}\n    };\n  } // Tracks if either the rendered classes or classes prop has changed,\n  // requiring the generation of a new finalized classes object.\n\n\n  var generate = false;\n\n  if (state.classes !== state.cacheClasses.lastJSS) {\n    state.cacheClasses.lastJSS = state.classes;\n    generate = true;\n  }\n\n  if (classes !== state.cacheClasses.lastProp) {\n    state.cacheClasses.lastProp = classes;\n    generate = true;\n  }\n\n  if (generate) {\n    state.cacheClasses.value = mergeClasses({\n      baseClasses: state.cacheClasses.lastJSS,\n      newClasses: classes,\n      Component: Component\n    });\n  }\n\n  return state.cacheClasses.value;\n}\n\nfunction attach(_ref2, props) {\n  var state = _ref2.state,\n      theme = _ref2.theme,\n      stylesOptions = _ref2.stylesOptions,\n      stylesCreator = _ref2.stylesCreator,\n      name = _ref2.name;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n\n  if (!sheetManager) {\n    sheetManager = {\n      refs: 0,\n      staticSheet: null,\n      dynamicStyles: null\n    };\n    multiKeyStore.set(stylesOptions.sheetsManager, stylesCreator, theme, sheetManager);\n  }\n\n  var options = _extends({}, stylesCreator.options, {}, stylesOptions, {\n    theme: theme,\n    flip: typeof stylesOptions.flip === 'boolean' ? stylesOptions.flip : theme.direction === 'rtl'\n  });\n\n  options.generateId = options.serverGenerateClassName || options.generateClassName;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    var staticSheet;\n\n    if (stylesOptions.sheetsCache) {\n      staticSheet = multiKeyStore.get(stylesOptions.sheetsCache, stylesCreator, theme);\n    }\n\n    var styles = stylesCreator.create(theme, name);\n\n    if (!staticSheet) {\n      staticSheet = stylesOptions.jss.createStyleSheet(styles, _extends({\n        link: false\n      }, options));\n      staticSheet.attach();\n\n      if (stylesOptions.sheetsCache) {\n        multiKeyStore.set(stylesOptions.sheetsCache, stylesCreator, theme, staticSheet);\n      }\n    }\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(staticSheet);\n    }\n\n    sheetManager.staticSheet = staticSheet;\n    sheetManager.dynamicStyles = getDynamicStyles(styles);\n  }\n\n  if (sheetManager.dynamicStyles) {\n    var dynamicSheet = stylesOptions.jss.createStyleSheet(sheetManager.dynamicStyles, _extends({\n      link: true\n    }, options));\n    process.env.NODE_ENV !== \"production\" ? warning(props, 'Material-UI: props missing.') : void 0;\n    dynamicSheet.update(props).attach();\n    state.dynamicSheet = dynamicSheet;\n    state.classes = mergeClasses({\n      baseClasses: sheetManager.staticSheet.classes,\n      newClasses: dynamicSheet.classes\n    });\n\n    if (sheetsRegistry) {\n      sheetsRegistry.add(dynamicSheet);\n    }\n  } else {\n    state.classes = sheetManager.staticSheet.classes;\n  }\n\n  sheetManager.refs += 1;\n}\n\nfunction update(_ref3, props) {\n  var state = _ref3.state;\n\n  if (state.dynamicSheet) {\n    state.dynamicSheet.update(props);\n  }\n}\n\nfunction detach(_ref4) {\n  var state = _ref4.state,\n      theme = _ref4.theme,\n      stylesOptions = _ref4.stylesOptions,\n      stylesCreator = _ref4.stylesCreator;\n\n  if (stylesOptions.disableGeneration) {\n    return;\n  }\n\n  var sheetManager = multiKeyStore.get(stylesOptions.sheetsManager, stylesCreator, theme);\n  sheetManager.refs -= 1;\n  var sheetsRegistry = stylesOptions.sheetsRegistry;\n\n  if (sheetManager.refs === 0) {\n    multiKeyStore.delete(stylesOptions.sheetsManager, stylesCreator, theme);\n    stylesOptions.jss.removeStyleSheet(sheetManager.staticSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(sheetManager.staticSheet);\n    }\n  }\n\n  if (state.dynamicSheet) {\n    stylesOptions.jss.removeStyleSheet(state.dynamicSheet);\n\n    if (sheetsRegistry) {\n      sheetsRegistry.remove(state.dynamicSheet);\n    }\n  }\n}\n\nfunction useSynchronousEffect(func, values) {\n  var key = React.useRef([]);\n  var output; // Store \"generation\" key. Just returns a new object every time\n\n  var currentKey = React.useMemo(function () {\n    return {};\n  }, values); // eslint-disable-line react-hooks/exhaustive-deps\n  // \"the first render\", or \"memo dropped the value\"\n\n  if (key.current !== currentKey) {\n    key.current = currentKey;\n    output = func();\n  }\n\n  React.useEffect(function () {\n    return function () {\n      if (output) {\n        output();\n      }\n    };\n  }, [currentKey] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n}\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var name = options.name,\n      classNamePrefixOption = options.classNamePrefix,\n      Component = options.Component,\n      _options$defaultTheme = options.defaultTheme,\n      defaultTheme = _options$defaultTheme === void 0 ? noopTheme : _options$defaultTheme,\n      stylesOptions2 = _objectWithoutProperties(options, [\"name\", \"classNamePrefix\", \"Component\", \"defaultTheme\"]);\n\n  var stylesCreator = getStylesCreator(stylesOrCreator);\n  var classNamePrefix = name || classNamePrefixOption || 'makeStyles';\n  stylesCreator.options = {\n    index: increment(),\n    name: name,\n    meta: classNamePrefix,\n    classNamePrefix: classNamePrefix\n  };\n  var listenToTheme = stylesCreator.themingEnabled || typeof name === 'string';\n  return function () {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var theme = (listenToTheme ? useTheme() : null) || defaultTheme;\n\n    var stylesOptions = _extends({}, React.useContext(StylesContext), {}, stylesOptions2);\n\n    var instance = React.useRef();\n    var shouldUpdate = React.useRef();\n    useSynchronousEffect(function () {\n      var current = {\n        name: name,\n        state: {},\n        stylesCreator: stylesCreator,\n        stylesOptions: stylesOptions,\n        theme: theme\n      };\n      attach(current, props);\n      shouldUpdate.current = false;\n      instance.current = current;\n      return function () {\n        detach(current);\n      };\n    }, [theme, stylesCreator]);\n    React.useEffect(function () {\n      if (shouldUpdate.current) {\n        update(instance.current, props);\n      }\n\n      shouldUpdate.current = true;\n    });\n    return getClasses(instance.current, props.classes, Component);\n  };\n}\n\nexport default makeStyles;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nvar useEnhancedEffect = typeof window !== 'undefined' && process.env.NODE_ENV !== 'test' ? React.useLayoutEffect : React.useEffect;\n/**\n * NoSsr purposely removes components from the subject of Server Side Rendering (SSR).\n *\n * This component can be useful in a variety of situations:\n * - Escape hatch for broken dependencies not supporting SSR.\n * - Improve the time-to-first paint on the client by only rendering above the fold.\n * - Reduce the rendering time on the server.\n * - Under too heavy server load, you can turn on service degradation.\n */\n\nfunction NoSsr(props) {\n  var children = props.children,\n      _props$defer = props.defer,\n      defer = _props$defer === void 0 ? false : _props$defer,\n      _props$fallback = props.fallback,\n      fallback = _props$fallback === void 0 ? null : _props$fallback;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mountedState = _React$useState2[0],\n      setMountedState = _React$useState2[1];\n\n  useEnhancedEffect(function () {\n    if (!defer) {\n      setMountedState(true);\n    }\n  }, [defer]);\n  React.useEffect(function () {\n    if (defer) {\n      setMountedState(true);\n    }\n  }, [defer]); // We need the Fragment here to force react-docgen to recognise NoSsr as a component.\n\n  return React.createElement(React.Fragment, null, mountedState ? children : fallback);\n}\n\nprocess.env.NODE_ENV !== \"production\" ? NoSsr.propTypes = {\n  /**\n   * You can wrap a node.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * If `true`, the component will not only prevent server-side rendering.\n   * It will also defer the rendering of the children into a different screen frame.\n   */\n  defer: PropTypes.bool,\n\n  /**\n   * The fallback content to display.\n   */\n  fallback: PropTypes.node\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  NoSsr['propTypes' + ''] = exactProp(NoSsr.propTypes);\n}\n\nexport default NoSsr;","// based on https://github.com/WICG/focus-visible/blob/v4.1.5/src/focus-visible.js\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nvar hadKeyboardEvent = true;\nvar hadFocusVisibleRecently = false;\nvar hadFocusVisibleRecentlyTimeout = null;\nvar inputTypesWhitelist = {\n  text: true,\n  search: true,\n  url: true,\n  tel: true,\n  email: true,\n  password: true,\n  number: true,\n  date: true,\n  month: true,\n  week: true,\n  time: true,\n  datetime: true,\n  'datetime-local': true\n};\n/**\n * Computes whether the given element should automatically trigger the\n * `focus-visible` class being added, i.e. whether it should always match\n * `:focus-visible` when focused.\n * @param {Element} node\n * @return {boolean}\n */\n\nfunction focusTriggersKeyboardModality(node) {\n  var type = node.type,\n      tagName = node.tagName;\n\n  if (tagName === 'INPUT' && inputTypesWhitelist[type] && !node.readOnly) {\n    return true;\n  }\n\n  if (tagName === 'TEXTAREA' && !node.readOnly) {\n    return true;\n  }\n\n  if (node.isContentEditable) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction handleKeyDown() {\n  hadKeyboardEvent = true;\n}\n/**\n * If at any point a user clicks with a pointing device, ensure that we change\n * the modality away from keyboard.\n * This avoids the situation where a user presses a key on an already focused\n * element, and then clicks on a different element, focusing it with a\n * pointing device, while we still think we're in keyboard modality.\n * @param {Event} e\n */\n\n\nfunction handlePointerDown() {\n  hadKeyboardEvent = false;\n}\n\nfunction handleVisibilityChange() {\n  if (this.visibilityState === 'hidden') {\n    // If the tab becomes active again, the browser will handle calling focus\n    // on the element (Safari actually calls it twice).\n    // If this tab change caused a blur on an element with focus-visible,\n    // re-apply the class when the user switches back to the tab.\n    if (hadFocusVisibleRecently) {\n      hadKeyboardEvent = true;\n    }\n  }\n}\n\nfunction prepare(ownerDocument) {\n  ownerDocument.addEventListener('keydown', handleKeyDown, true);\n  ownerDocument.addEventListener('mousedown', handlePointerDown, true);\n  ownerDocument.addEventListener('pointerdown', handlePointerDown, true);\n  ownerDocument.addEventListener('touchstart', handlePointerDown, true);\n  ownerDocument.addEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nexport function teardown(ownerDocument) {\n  ownerDocument.removeEventListener('keydown', handleKeyDown, true);\n  ownerDocument.removeEventListener('mousedown', handlePointerDown, true);\n  ownerDocument.removeEventListener('pointerdown', handlePointerDown, true);\n  ownerDocument.removeEventListener('touchstart', handlePointerDown, true);\n  ownerDocument.removeEventListener('visibilitychange', handleVisibilityChange, true);\n}\n\nfunction isFocusVisible(event) {\n  var target = event.target;\n\n  try {\n    return target.matches(':focus-visible');\n  } catch (error) {} // browsers not implementing :focus-visible will throw a SyntaxError\n  // we use our own heuristic for those browsers\n  // rethrow might be better if it's not the expected error but do we really\n  // want to crash if focus-visible malfunctioned?\n  // no need for validFocusTarget check. the user does that by attaching it to\n  // focusable events only\n\n\n  return hadKeyboardEvent || focusTriggersKeyboardModality(target);\n}\n/**\n * Should be called if a blur event is fired on a focus-visible element\n */\n\n\nfunction handleBlurVisible() {\n  // To detect a tab/window switch, we look for a blur event followed\n  // rapidly by a visibility change.\n  // If we don't see a visibility change within 100ms, it's probably a\n  // regular focus change.\n  hadFocusVisibleRecently = true;\n  window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n  hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n    hadFocusVisibleRecently = false;\n    window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n  }, 100);\n}\n\nexport function useIsFocusVisible() {\n  var ref = React.useCallback(function (instance) {\n    var node = ReactDOM.findDOMNode(instance);\n\n    if (node != null) {\n      prepare(node.ownerDocument);\n    }\n  }, []);\n  return {\n    isFocusVisible: isFocusVisible,\n    onBlurVisible: handleBlurVisible,\n    ref: ref\n  };\n}","import React from 'react';\nexport default React.createContext(null);","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = key in prevChildMapping;\n    var hasNext = key in nextChildMapping;\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n  /**\n   * The `<TransitionGroup>` component manages a set of transition components\n   * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n   * components, `<TransitionGroup>` is a state machine for managing the mounting\n   * and unmounting of components over time.\n   *\n   * Consider the example below. As items are removed or added to the TodoList the\n   * `in` prop is toggled automatically by the `<TransitionGroup>`.\n   *\n   * Note that `<TransitionGroup>`  does not define any animation behavior!\n   * Exactly _how_ a list item animates is up to the individual transition\n   * component. This means you can mix and match animations across different list\n   * items.\n   */\n\n};\n\nvar TransitionGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_assertThisInitialized(_this))); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  };\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport useEventCallback from '../utils/useEventCallback';\nvar useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n/**\n * @ignore - internal component.\n */\n\nfunction Ripple(props) {\n  var classes = props.classes,\n      _props$pulsate = props.pulsate,\n      pulsate = _props$pulsate === void 0 ? false : _props$pulsate,\n      rippleX = props.rippleX,\n      rippleY = props.rippleY,\n      rippleSize = props.rippleSize,\n      inProp = props.in,\n      _props$onExited = props.onExited,\n      onExited = _props$onExited === void 0 ? function () {} : _props$onExited,\n      timeout = props.timeout;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      leaving = _React$useState2[0],\n      setLeaving = _React$useState2[1];\n\n  var rippleClassName = clsx(classes.ripple, classes.rippleVisible, pulsate && classes.ripplePulsate);\n  var rippleStyles = {\n    width: rippleSize,\n    height: rippleSize,\n    top: -(rippleSize / 2) + rippleY,\n    left: -(rippleSize / 2) + rippleX\n  };\n  var childClassName = clsx(classes.child, leaving && classes.childLeaving, pulsate && classes.childPulsate);\n  var handleExited = useEventCallback(onExited); // Ripple is used for user feedback (e.g. click or press) so we want to apply styles with the highest priority\n\n  useEnhancedEffect(function () {\n    if (!inProp) {\n      // react-transition-group#onExit\n      setLeaving(true); // react-transition-group#onExited\n\n      var timeoutId = setTimeout(handleExited, timeout);\n      return function () {\n        clearTimeout(timeoutId);\n      };\n    }\n\n    return undefined;\n  }, [handleExited, inProp, timeout]);\n  return React.createElement(\"span\", {\n    className: rippleClassName,\n    style: rippleStyles\n  }, React.createElement(\"span\", {\n    className: childClassName\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Ripple.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore - injected from TransitionGroup\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore - injected from TransitionGroup\n   */\n  onExited: PropTypes.func,\n\n  /**\n   * If `true`, the ripple pulsates, typically indicating the keyboard focus state of an element.\n   */\n  pulsate: PropTypes.bool,\n\n  /**\n   * Diameter of the ripple.\n   */\n  rippleSize: PropTypes.number,\n\n  /**\n   * Horizontal position of the ripple center.\n   */\n  rippleX: PropTypes.number,\n\n  /**\n   * Vertical position of the ripple center.\n   */\n  rippleY: PropTypes.number,\n\n  /**\n   * exit delay\n   */\n  timeout: PropTypes.number.isRequired\n} : void 0;\nexport default Ripple;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { TransitionGroup } from 'react-transition-group';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Ripple from './Ripple';\nvar DURATION = 550;\nexport var DELAY_RIPPLE = 80;\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'block',\n      position: 'absolute',\n      overflow: 'hidden',\n      borderRadius: 'inherit',\n      width: '100%',\n      height: '100%',\n      left: 0,\n      top: 0,\n      pointerEvents: 'none',\n      zIndex: 0\n    },\n\n    /* Styles applied to the internal `Ripple` components `ripple` class. */\n    ripple: {\n      opacity: 0,\n      position: 'absolute'\n    },\n\n    /* Styles applied to the internal `Ripple` components `rippleVisible` class. */\n    rippleVisible: {\n      opacity: 0.3,\n      transform: 'scale(1)',\n      animation: \"$mui-ripple-enter \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n\n    /* Styles applied to the internal `Ripple` components `ripplePulsate` class. */\n    ripplePulsate: {\n      animationDuration: \"\".concat(theme.transitions.duration.shorter, \"ms\")\n    },\n\n    /* Styles applied to the internal `Ripple` components `child` class. */\n    child: {\n      opacity: 1,\n      display: 'block',\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      backgroundColor: 'currentColor'\n    },\n\n    /* Styles applied to the internal `Ripple` components `childLeaving` class. */\n    childLeaving: {\n      opacity: 0,\n      animation: \"$mui-ripple-exit \".concat(DURATION, \"ms \").concat(theme.transitions.easing.easeInOut)\n    },\n\n    /* Styles applied to the internal `Ripple` components `childPulsate` class. */\n    childPulsate: {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      animation: \"$mui-ripple-pulsate 2500ms \".concat(theme.transitions.easing.easeInOut, \" 200ms infinite\")\n    },\n    '@keyframes mui-ripple-enter': {\n      '0%': {\n        transform: 'scale(0)',\n        opacity: 0.1\n      },\n      '100%': {\n        transform: 'scale(1)',\n        opacity: 0.3\n      }\n    },\n    '@keyframes mui-ripple-exit': {\n      '0%': {\n        opacity: 1\n      },\n      '100%': {\n        opacity: 0\n      }\n    },\n    '@keyframes mui-ripple-pulsate': {\n      '0%': {\n        transform: 'scale(1)'\n      },\n      '50%': {\n        transform: 'scale(0.92)'\n      },\n      '100%': {\n        transform: 'scale(1)'\n      }\n    }\n  };\n}; // TODO v5: Make private\n\nvar TouchRipple = React.forwardRef(function TouchRipple(props, ref) {\n  var _props$center = props.center,\n      centerProp = _props$center === void 0 ? false : _props$center,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"center\", \"classes\", \"className\"]);\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      ripples = _React$useState2[0],\n      setRipples = _React$useState2[1];\n\n  var nextKey = React.useRef(0);\n  var rippleCallback = React.useRef(null);\n  React.useEffect(function () {\n    if (rippleCallback.current) {\n      rippleCallback.current();\n      rippleCallback.current = null;\n    }\n  }, [ripples]); // Used to filter out mouse emulated events on mobile.\n\n  var ignoringMouseDown = React.useRef(false); // We use a timer in order to only show the ripples for touch \"click\" like events.\n  // We don't want to display the ripple for touch scroll events.\n\n  var startTimer = React.useRef(null); // This is the hook called once the previous timeout is ready.\n\n  var startTimerCommit = React.useRef(null);\n  var container = React.useRef(null);\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(startTimer.current);\n    };\n  }, []);\n  var startCommit = React.useCallback(function (params) {\n    var pulsate = params.pulsate,\n        rippleX = params.rippleX,\n        rippleY = params.rippleY,\n        rippleSize = params.rippleSize,\n        cb = params.cb;\n    setRipples(function (oldRipples) {\n      return [].concat(_toConsumableArray(oldRipples), [React.createElement(Ripple, {\n        key: nextKey.current,\n        classes: classes,\n        timeout: DURATION,\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize\n      })]);\n    });\n    nextKey.current += 1;\n    rippleCallback.current = cb;\n  }, [classes]);\n  var start = React.useCallback(function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var cb = arguments.length > 2 ? arguments[2] : undefined;\n    var _options$pulsate = options.pulsate,\n        pulsate = _options$pulsate === void 0 ? false : _options$pulsate,\n        _options$center = options.center,\n        center = _options$center === void 0 ? centerProp || options.pulsate : _options$center,\n        _options$fakeElement = options.fakeElement,\n        fakeElement = _options$fakeElement === void 0 ? false : _options$fakeElement;\n\n    if (event.type === 'mousedown' && ignoringMouseDown.current) {\n      ignoringMouseDown.current = false;\n      return;\n    }\n\n    if (event.type === 'touchstart') {\n      ignoringMouseDown.current = true;\n    }\n\n    var element = fakeElement ? null : container.current;\n    var rect = element ? element.getBoundingClientRect() : {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    }; // Get the size of the ripple\n\n    var rippleX;\n    var rippleY;\n    var rippleSize;\n\n    if (center || event.clientX === 0 && event.clientY === 0 || !event.clientX && !event.touches) {\n      rippleX = Math.round(rect.width / 2);\n      rippleY = Math.round(rect.height / 2);\n    } else {\n      var clientX = event.clientX ? event.clientX : event.touches[0].clientX;\n      var clientY = event.clientY ? event.clientY : event.touches[0].clientY;\n      rippleX = Math.round(clientX - rect.left);\n      rippleY = Math.round(clientY - rect.top);\n    }\n\n    if (center) {\n      rippleSize = Math.sqrt((2 * Math.pow(rect.width, 2) + Math.pow(rect.height, 2)) / 3); // For some reason the animation is broken on Mobile Chrome if the size if even.\n\n      if (rippleSize % 2 === 0) {\n        rippleSize += 1;\n      }\n    } else {\n      var sizeX = Math.max(Math.abs((element ? element.clientWidth : 0) - rippleX), rippleX) * 2 + 2;\n      var sizeY = Math.max(Math.abs((element ? element.clientHeight : 0) - rippleY), rippleY) * 2 + 2;\n      rippleSize = Math.sqrt(Math.pow(sizeX, 2) + Math.pow(sizeY, 2));\n    } // Touche devices\n\n\n    if (event.touches) {\n      // Prepare the ripple effect.\n      startTimerCommit.current = function () {\n        startCommit({\n          pulsate: pulsate,\n          rippleX: rippleX,\n          rippleY: rippleY,\n          rippleSize: rippleSize,\n          cb: cb\n        });\n      }; // Delay the execution of the ripple effect.\n\n\n      startTimer.current = setTimeout(function () {\n        if (startTimerCommit.current) {\n          startTimerCommit.current();\n          startTimerCommit.current = null;\n        }\n      }, DELAY_RIPPLE); // We have to make a tradeoff with this value.\n    } else {\n      startCommit({\n        pulsate: pulsate,\n        rippleX: rippleX,\n        rippleY: rippleY,\n        rippleSize: rippleSize,\n        cb: cb\n      });\n    }\n  }, [centerProp, startCommit]);\n  var pulsate = React.useCallback(function () {\n    start({}, {\n      pulsate: true\n    });\n  }, [start]);\n  var stop = React.useCallback(function (event, cb) {\n    clearTimeout(startTimer.current); // The touch interaction occurs too quickly.\n    // We still want to show ripple effect.\n\n    if (event.type === 'touchend' && startTimerCommit.current) {\n      event.persist();\n      startTimerCommit.current();\n      startTimerCommit.current = null;\n      startTimer.current = setTimeout(function () {\n        stop(event, cb);\n      });\n      return;\n    }\n\n    startTimerCommit.current = null;\n    setRipples(function (oldRipples) {\n      if (oldRipples.length > 0) {\n        return oldRipples.slice(1);\n      }\n\n      return oldRipples;\n    });\n    rippleCallback.current = cb;\n  }, []);\n  React.useImperativeHandle(ref, function () {\n    return {\n      pulsate: pulsate,\n      start: start,\n      stop: stop\n    };\n  }, [pulsate, start, stop]);\n  return React.createElement(\"span\", _extends({\n    className: clsx(classes.root, className),\n    ref: container\n  }, other), React.createElement(TransitionGroup, {\n    component: null,\n    exit: true\n  }, ripples));\n}); // TODO cleanup after https://github.com/reactjs/react-docgen/pull/378 is released\n\nfunction withMuiName(Component) {\n  Component.muiName = 'MuiTouchRipple';\n  return Component;\n}\n\nprocess.env.NODE_ENV !== \"production\" ? TouchRipple.propTypes = {\n  /**\n   * If `true`, the ripple starts at the center of the component\n   * rather than at the point of interaction.\n   */\n  center: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  flip: false,\n  name: 'MuiTouchRipple'\n})(withMuiName(React.memo(TouchRipple)));","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport clsx from 'clsx';\nimport { elementTypeAcceptingRef } from '@material-ui/utils';\nimport { useForkRef } from '../utils/reactHelpers';\nimport useEventCallback from '../utils/useEventCallback';\nimport withStyles from '../styles/withStyles';\nimport NoSsr from '../NoSsr';\nimport { useIsFocusVisible } from '../utils/focusVisible';\nimport TouchRipple from './TouchRipple';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    // Remove grey highlight\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    '-moz-appearance': 'none',\n    // Reset\n    '-webkit-appearance': 'none',\n    // Reset\n    textDecoration: 'none',\n    // So we take precedent over the style of a native <a /> element.\n    color: 'inherit',\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n\n    },\n    '&$disabled': {\n      pointerEvents: 'none',\n      // Disable link interactions\n      cursor: 'default'\n    }\n  },\n\n  /* Pseudo-class applied to the root element if `disabled={true}`. */\n  disabled: {},\n\n  /* Pseudo-class applied to the root element if keyboard focused. */\n  focusVisible: {}\n};\n/**\n * `ButtonBase` contains as few styles as possible.\n * It aims to be a simple building block for creating a button.\n * It contains a load of style reset and some focus/ripple logic.\n */\n\nvar ButtonBase = React.forwardRef(function ButtonBase(props, ref) {\n  var action = props.action,\n      buttonRefProp = props.buttonRef,\n      _props$centerRipple = props.centerRipple,\n      centerRipple = _props$centerRipple === void 0 ? false : _props$centerRipple,\n      children = props.children,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      disabled = props.disabled,\n      _props$disableRipple = props.disableRipple,\n      disableRipple = _props$disableRipple === void 0 ? false : _props$disableRipple,\n      _props$disableTouchRi = props.disableTouchRipple,\n      disableTouchRipple = _props$disableTouchRi === void 0 ? false : _props$disableTouchRi,\n      _props$focusRipple = props.focusRipple,\n      focusRipple = _props$focusRipple === void 0 ? false : _props$focusRipple,\n      focusVisibleClassName = props.focusVisibleClassName,\n      onBlur = props.onBlur,\n      onClick = props.onClick,\n      onFocus = props.onFocus,\n      onFocusVisible = props.onFocusVisible,\n      onKeyDown = props.onKeyDown,\n      onKeyUp = props.onKeyUp,\n      onMouseDown = props.onMouseDown,\n      onMouseLeave = props.onMouseLeave,\n      onMouseUp = props.onMouseUp,\n      onTouchEnd = props.onTouchEnd,\n      onTouchMove = props.onTouchMove,\n      onTouchStart = props.onTouchStart,\n      onDragLeave = props.onDragLeave,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      TouchRippleProps = props.TouchRippleProps,\n      _props$type = props.type,\n      type = _props$type === void 0 ? 'button' : _props$type,\n      other = _objectWithoutProperties(props, [\"action\", \"buttonRef\", \"centerRipple\", \"children\", \"classes\", \"className\", \"component\", \"disabled\", \"disableRipple\", \"disableTouchRipple\", \"focusRipple\", \"focusVisibleClassName\", \"onBlur\", \"onClick\", \"onFocus\", \"onFocusVisible\", \"onKeyDown\", \"onKeyUp\", \"onMouseDown\", \"onMouseLeave\", \"onMouseUp\", \"onTouchEnd\", \"onTouchMove\", \"onTouchStart\", \"onDragLeave\", \"tabIndex\", \"TouchRippleProps\", \"type\"]);\n\n  var buttonRef = React.useRef(null);\n\n  function getButtonNode() {\n    // #StrictMode ready\n    return ReactDOM.findDOMNode(buttonRef.current);\n  }\n\n  var rippleRef = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      focusVisible = _React$useState2[0],\n      setFocusVisible = _React$useState2[1];\n\n  if (disabled && focusVisible) {\n    setFocusVisible(false);\n  }\n\n  var _useIsFocusVisible = useIsFocusVisible(),\n      isFocusVisible = _useIsFocusVisible.isFocusVisible,\n      onBlurVisible = _useIsFocusVisible.onBlurVisible,\n      focusVisibleRef = _useIsFocusVisible.ref;\n\n  React.useImperativeHandle(action, function () {\n    return {\n      focusVisible: function focusVisible() {\n        setFocusVisible(true);\n        buttonRef.current.focus();\n      }\n    };\n  }, []);\n  React.useEffect(function () {\n    if (focusVisible && focusRipple && !disableRipple) {\n      rippleRef.current.pulsate();\n    }\n  }, [disableRipple, focusRipple, focusVisible]);\n\n  function useRippleHandler(rippleAction, eventCallback) {\n    var skipRippleAction = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : disableTouchRipple;\n    return useEventCallback(function (event) {\n      if (eventCallback) {\n        eventCallback(event);\n      }\n\n      var ignore = event.defaultPrevented || skipRippleAction;\n\n      if (!ignore && rippleRef.current) {\n        rippleRef.current[rippleAction](event);\n      }\n\n      return true;\n    });\n  }\n\n  var handleMouseDown = useRippleHandler('start', onMouseDown);\n  var handleDragLeave = useRippleHandler('stop', onDragLeave);\n  var handleMouseUp = useRippleHandler('stop', onMouseUp);\n  var handleMouseLeave = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      event.preventDefault();\n    }\n\n    if (onMouseLeave) {\n      onMouseLeave(event);\n    }\n  });\n  var handleTouchStart = useRippleHandler('start', onTouchStart);\n  var handleTouchEnd = useRippleHandler('stop', onTouchEnd);\n  var handleTouchMove = useRippleHandler('stop', onTouchMove);\n  var handleBlur = useRippleHandler('stop', function (event) {\n    if (focusVisible) {\n      onBlurVisible(event);\n      setFocusVisible(false);\n    }\n\n    if (onBlur) {\n      onBlur(event);\n    }\n  }, false);\n  var handleFocus = useEventCallback(function (event) {\n    if (disabled) {\n      return;\n    } // Fix for https://github.com/facebook/react/issues/7769\n\n\n    if (!buttonRef.current) {\n      buttonRef.current = event.currentTarget;\n    }\n\n    if (isFocusVisible(event)) {\n      setFocusVisible(true);\n\n      if (onFocusVisible) {\n        onFocusVisible(event);\n      }\n    }\n\n    if (onFocus) {\n      onFocus(event);\n    }\n  });\n  /**\n   * IE 11 shim for https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/repeat\n   */\n\n  var keydownRef = React.useRef(false);\n  var handleKeyDown = useEventCallback(function (event) {\n    // Check if key is already down to avoid repeats being counted as multiple activations\n    if (focusRipple && !keydownRef.current && focusVisible && rippleRef.current && event.key === ' ') {\n      keydownRef.current = true;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.start(event);\n      });\n    }\n\n    if (onKeyDown) {\n      onKeyDown(event);\n    }\n\n    var button = getButtonNode(); // Keyboard accessibility for non interactive elements\n\n    if (event.target === event.currentTarget && component && component !== 'button' && (event.key === ' ' || event.key === 'Enter') && !(button.tagName === 'A' && button.href)) {\n      event.preventDefault();\n\n      if (onClick) {\n        onClick(event);\n      }\n    }\n  });\n  var handleKeyUp = useEventCallback(function (event) {\n    if (focusRipple && event.key === ' ' && rippleRef.current && focusVisible) {\n      keydownRef.current = false;\n      event.persist();\n      rippleRef.current.stop(event, function () {\n        rippleRef.current.pulsate(event);\n      });\n    }\n\n    if (onKeyUp) {\n      onKeyUp(event);\n    }\n  });\n  var className = clsx(classes.root, classNameProp, focusVisible && [classes.focusVisible, focusVisibleClassName], disabled && classes.disabled);\n  var ComponentProp = component;\n\n  if (ComponentProp === 'button' && other.href) {\n    ComponentProp = 'a';\n  }\n\n  var buttonProps = {};\n\n  if (ComponentProp === 'button') {\n    buttonProps.type = type;\n    buttonProps.disabled = disabled;\n  } else {\n    if (ComponentProp !== 'a' || !other.href) {\n      buttonProps.role = 'button';\n    }\n\n    buttonProps['aria-disabled'] = disabled;\n  }\n\n  var handleUserRef = useForkRef(buttonRefProp, ref);\n  var handleOwnRef = useForkRef(focusVisibleRef, buttonRef);\n  var handleRef = useForkRef(handleUserRef, handleOwnRef);\n  return React.createElement(ComponentProp, _extends({\n    className: className,\n    onBlur: handleBlur,\n    onClick: onClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    onMouseDown: handleMouseDown,\n    onMouseLeave: handleMouseLeave,\n    onMouseUp: handleMouseUp,\n    onDragLeave: handleDragLeave,\n    onTouchEnd: handleTouchEnd,\n    onTouchMove: handleTouchMove,\n    onTouchStart: handleTouchStart,\n    ref: handleRef,\n    tabIndex: disabled ? -1 : tabIndex\n  }, buttonProps, other), children, !disableRipple && !disabled ? React.createElement(NoSsr, null, React.createElement(TouchRipple, _extends({\n    ref: rippleRef,\n    center: centerRipple\n  }, TouchRippleProps))) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? ButtonBase.propTypes = {\n  /**\n   * A ref for imperative actions.\n   * It currently only supports `focusVisible()` action.\n   */\n  action: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * Use that prop to pass a ref callback to the native button component.\n   * @deprecated Use `ref` instead\n   */\n  buttonRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * If `true`, the ripples will be centered.\n   * They won't start at the cursor interaction position.\n   */\n  centerRipple: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: elementTypeAcceptingRef,\n\n  /**\n   * If `true`, the base button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   *\n   *  Without a ripple there is no styling for :focus-visible by default. Be sure\n   * to highlight the element by applying separate styles with the `focusVisibleClassName`.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the touch ripple effect will be disabled.\n   */\n  disableTouchRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the base button will have a keyboard focus ripple.\n   * `disableRipple` must also be `false`.\n   */\n  focusRipple: PropTypes.bool,\n\n  /**\n   * This prop can help a person know which element has the keyboard focus.\n   * The class name will be applied when the element gain the focus through a keyboard interaction.\n   * It's a polyfill for the [CSS :focus-visible selector](https://drafts.csswg.org/selectors-4/#the-focus-visible-pseudo).\n   * The rationale for using this feature [is explained here](https://github.com/WICG/focus-visible/blob/master/explainer.md).\n   * A [polyfill can be used](https://github.com/WICG/focus-visible) to apply a `focus-visible` class to other components\n   * if needed.\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Callback fired when the component is focused with a keyboard.\n   * We trigger a `onFocus` callback too.\n   */\n  onFocusVisible: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onKeyUp: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseDown: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseLeave: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onMouseUp: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onTouchEnd: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onTouchMove: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onTouchStart: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  role: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * Props applied to the `TouchRipple` element.\n   */\n  TouchRippleProps: PropTypes.object,\n\n  /**\n   * Used to control the button's purpose.\n   * This prop passes the value to the `type` attribute of the native button component.\n   */\n  type: PropTypes.oneOf(['submit', 'reset', 'button'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiButtonBase'\n})(ButtonBase);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { makeStyles as makeStylesWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nfunction makeStyles(stylesOrCreator) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return makeStylesWithoutDefault(stylesOrCreator, _extends({\n    defaultTheme: defaultTheme\n  }, options));\n}\n\nexport default makeStyles;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      fontSize: theme.typography.pxToRem(24),\n      width: '1em',\n      height: '1em',\n      // Chrome fix for https://bugs.chromium.org/p/chromium/issues/detail?id=820541\n      // To remove at some point.\n      overflow: 'hidden',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(36)\n    }\n  };\n};\nvar Icon = React.forwardRef(function Icon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"fontSize\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx('material-icons', classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    \"aria-hidden\": true,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Icon.propTypes = {\n  /**\n   * The name of the icon font ligature.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large'])\n} : void 0;\nIcon.muiName = 'Icon';\nexport default withStyles(styles, {\n  name: 'MuiIcon'\n})(Icon);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      margin: 0\n    },\n\n    /* Styles applied to the root element if `variant=\"body2\"`. */\n    body2: theme.typography.body2,\n\n    /* Styles applied to the root element if `variant=\"body1\"`. */\n    body1: theme.typography.body1,\n\n    /* Styles applied to the root element if `variant=\"caption\"`. */\n    caption: theme.typography.caption,\n\n    /* Styles applied to the root element if `variant=\"button\"`. */\n    button: theme.typography.button,\n\n    /* Styles applied to the root element if `variant=\"h1\"`. */\n    h1: theme.typography.h1,\n\n    /* Styles applied to the root element if `variant=\"h2\"`. */\n    h2: theme.typography.h2,\n\n    /* Styles applied to the root element if `variant=\"h3\"`. */\n    h3: theme.typography.h3,\n\n    /* Styles applied to the root element if `variant=\"h4\"`. */\n    h4: theme.typography.h4,\n\n    /* Styles applied to the root element if `variant=\"h5\"`. */\n    h5: theme.typography.h5,\n\n    /* Styles applied to the root element if `variant=\"h6\"`. */\n    h6: theme.typography.h6,\n\n    /* Styles applied to the root element if `variant=\"subtitle1\"`. */\n    subtitle1: theme.typography.subtitle1,\n\n    /* Styles applied to the root element if `variant=\"subtitle2\"`. */\n    subtitle2: theme.typography.subtitle2,\n\n    /* Styles applied to the root element if `variant=\"overline\"`. */\n    overline: theme.typography.overline,\n\n    /* Styles applied to the root element if `variant=\"srOnly\"`. Only accessible to screen readers. */\n    srOnly: {\n      position: 'absolute',\n      height: 1,\n      width: 1,\n      overflow: 'hidden'\n    },\n\n    /* Styles applied to the root element if `align=\"left\"`. */\n    alignLeft: {\n      textAlign: 'left'\n    },\n\n    /* Styles applied to the root element if `align=\"center\"`. */\n    alignCenter: {\n      textAlign: 'center'\n    },\n\n    /* Styles applied to the root element if `align=\"right\"`. */\n    alignRight: {\n      textAlign: 'right'\n    },\n\n    /* Styles applied to the root element if `align=\"justify\"`. */\n    alignJustify: {\n      textAlign: 'justify'\n    },\n\n    /* Styles applied to the root element if `align=\"nowrap\"`. */\n    noWrap: {\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `gutterBottom={true}`. */\n    gutterBottom: {\n      marginBottom: '0.35em'\n    },\n\n    /* Styles applied to the root element if `paragraph={true}`. */\n    paragraph: {\n      marginBottom: 16\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"textPrimary\"`. */\n    colorTextPrimary: {\n      color: theme.palette.text.primary\n    },\n\n    /* Styles applied to the root element if `color=\"textSecondary\"`. */\n    colorTextSecondary: {\n      color: theme.palette.text.secondary\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `display=\"inline\"`. */\n    displayInline: {\n      display: 'inline'\n    },\n\n    /* Styles applied to the root element if `display=\"block\"`. */\n    displayBlock: {\n      display: 'block'\n    }\n  };\n};\nvar defaultVariantMapping = {\n  h1: 'h1',\n  h2: 'h2',\n  h3: 'h3',\n  h4: 'h4',\n  h5: 'h5',\n  h6: 'h6',\n  subtitle1: 'h6',\n  subtitle2: 'h6',\n  body1: 'p',\n  body2: 'p'\n};\nvar Typography = React.forwardRef(function Typography(props, ref) {\n  var _props$align = props.align,\n      align = _props$align === void 0 ? 'inherit' : _props$align,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'initial' : _props$color,\n      component = props.component,\n      _props$display = props.display,\n      display = _props$display === void 0 ? 'initial' : _props$display,\n      _props$gutterBottom = props.gutterBottom,\n      gutterBottom = _props$gutterBottom === void 0 ? false : _props$gutterBottom,\n      _props$noWrap = props.noWrap,\n      noWrap = _props$noWrap === void 0 ? false : _props$noWrap,\n      _props$paragraph = props.paragraph,\n      paragraph = _props$paragraph === void 0 ? false : _props$paragraph,\n      theme = props.theme,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'body1' : _props$variant,\n      _props$variantMapping = props.variantMapping,\n      variantMapping = _props$variantMapping === void 0 ? defaultVariantMapping : _props$variantMapping,\n      other = _objectWithoutProperties(props, [\"align\", \"classes\", \"className\", \"color\", \"component\", \"display\", \"gutterBottom\", \"noWrap\", \"paragraph\", \"theme\", \"variant\", \"variantMapping\"]);\n\n  var Component = component || (paragraph ? 'p' : variantMapping[variant] || defaultVariantMapping[variant]) || 'span';\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, variant !== 'inherit' && classes[variant], color !== 'initial' && classes[\"color\".concat(capitalize(color))], noWrap && classes.noWrap, gutterBottom && classes.gutterBottom, paragraph && classes.paragraph, align !== 'inherit' && classes[\"align\".concat(capitalize(align))], display !== 'initial' && classes[\"display\".concat(capitalize(display))]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Typography.propTypes = {\n  /**\n   * Set the text-align on the component.\n   */\n  align: PropTypes.oneOf(['inherit', 'left', 'center', 'right', 'justify']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   * By default, it maps the variant to a good default headline component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Controls the display type\n   */\n  display: PropTypes.oneOf(['initial', 'block', 'inline']),\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  gutterBottom: PropTypes.bool,\n\n  /**\n   * If `true`, the text will not wrap, but instead will truncate with an ellipsis.\n   */\n  noWrap: PropTypes.bool,\n\n  /**\n   * If `true`, the text will have a bottom margin.\n   */\n  paragraph: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  theme: PropTypes.object.isRequired,\n\n  /**\n   * Applies the theme typography styles.\n   */\n  variant: PropTypes.oneOf(['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'subtitle1', 'subtitle2', 'body1', 'body2', 'caption', 'button', 'overline', 'srOnly', 'inherit']),\n\n  /**\n   * We are empirically mapping the variant prop to a range of different DOM element types.\n   * For instance, subtitle1 to `<h6>`.\n   * If you wish to change that mapping, you can provide your own.\n   * Alternatively, you can use the `component` prop.\n   */\n  variantMapping: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTypography',\n  withTheme: true\n})(Typography);","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { keys as breakpointKeys } from '../styles/createBreakpoints';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: -themeSpacing / 2,\n      width: \"calc(100% + \".concat(themeSpacing, \"px)\"),\n      '& > $item': {\n        padding: themeSpacing / 2\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"rwo-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), {}, breakpointKeys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = React.forwardRef(function (props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  // can't use named function expression since the function body references `Grid`\n  // which would point to the render function instead of the actual component\n  Grid.displayName = 'ForwardRef(Grid)';\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  /**\n   * Defines the `align-content` style property.\n   * It's applied for all screen sizes.\n   */\n  alignContent: PropTypes.oneOf(['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']),\n\n  /**\n   * Defines the `align-items` style property.\n   * It's applied for all screen sizes.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'stretch', 'baseline']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will have the flex *container* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  container: PropTypes.bool,\n\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   */\n  direction: PropTypes.oneOf(['row', 'row-reverse', 'column', 'column-reverse']),\n\n  /**\n   * If `true`, the component will have the flex *item* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  item: PropTypes.bool,\n\n  /**\n   * Defines the `justify-content` style property.\n   * It is applied for all screen sizes.\n   */\n  justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around', 'space-evenly']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `lg` breakpoint and wider screens if not overridden.\n   */\n  lg: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `md` breakpoint and wider screens if not overridden.\n   */\n  md: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `sm` breakpoint and wider screens if not overridden.\n   */\n  sm: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the space between the type `item` component.\n   * It can only be used on a type `container` component.\n   */\n  spacing: PropTypes.oneOf(SPACINGS),\n\n  /**\n   * Defines the `flex-wrap` style property.\n   * It's applied for all screen sizes.\n   */\n  wrap: PropTypes.oneOf(['nowrap', 'wrap', 'wrap-reverse']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `xl` breakpoint and wider screens.\n   */\n  xl: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for all the screen sizes with the lowest priority.\n   */\n  xs: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * If `true`, it sets `min-width: 0` on the item.\n   * Refer to the limitations section of the documentation to better understand the use case.\n   */\n  zeroMinWidth: PropTypes.bool\n} : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      minHeight: 36,\n      transition: theme.transitions.create(['background-color', 'box-shadow', 'border'], {\n        duration: theme.transitions.duration.short\n      }),\n      borderRadius: '50%',\n      padding: 0,\n      minWidth: 0,\n      width: 56,\n      height: 56,\n      boxShadow: theme.shadows[6],\n      '&:active': {\n        boxShadow: theme.shadows[12]\n      },\n      color: theme.palette.getContrastText(theme.palette.grey[300]),\n      backgroundColor: theme.palette.grey[300],\n      '&$focusVisible': {\n        boxShadow: theme.shadows[6]\n      },\n      '&:hover': {\n        backgroundColor: theme.palette.grey.A100,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.grey[300]\n        },\n        '&$disabled': {\n          backgroundColor: theme.palette.action.disabledBackground\n        },\n        textDecoration: 'none'\n      },\n      '&$disabled': {\n        color: theme.palette.action.disabled,\n        boxShadow: theme.shadows[0],\n        backgroundColor: theme.palette.action.disabledBackground\n      }\n    }),\n\n    /* Styles applied to the span element that wraps the children. */\n    label: {\n      width: '100%',\n      // assure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    primary: {\n      color: theme.palette.primary.contrastText,\n      backgroundColor: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.primary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    secondary: {\n      color: theme.palette.secondary.contrastText,\n      backgroundColor: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: theme.palette.secondary.dark,\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: theme.palette.secondary.main\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"extended\"`. */\n    extended: {\n      borderRadius: 48 / 2,\n      padding: '0 16px',\n      width: 'auto',\n      minHeight: 'auto',\n      minWidth: 48,\n      height: 48,\n      '&$sizeSmall': {\n        width: 'auto',\n        padding: '0 8px',\n        borderRadius: 34 / 2,\n        minWidth: 34,\n        height: 34\n      },\n      '&$sizeMedium': {\n        width: 'auto',\n        padding: '0 16px',\n        borderRadius: 40 / 2,\n        minWidth: 40,\n        height: 40\n      }\n    },\n\n    /* Pseudo-class applied to the ButtonBase root element if the button is keyboard focused. */\n    focusVisible: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"``. */\n    sizeSmall: {\n      width: 40,\n      height: 40\n    },\n\n    /* Styles applied to the root element if `size=\"medium\"``. */\n    sizeMedium: {\n      width: 48,\n      height: 48\n    }\n  };\n};\nvar Fab = React.forwardRef(function Fab(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      component = _props$component === void 0 ? 'button' : _props$component,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      focusVisibleClassName = props.focusVisibleClassName,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'large' : _props$size,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'round' : _props$variant,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"color\", \"component\", \"disabled\", \"disableFocusRipple\", \"focusVisibleClassName\", \"size\", \"variant\"]);\n\n  return React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, variant !== \"round\" && classes.extended, size !== 'large' && classes[\"size\".concat(capitalize(size))], disabled && classes.disabled, {\n      primary: classes.primary,\n      secondary: classes.secondary,\n      inherit: classes.colorInherit\n    }[color]),\n    component: component,\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n    ref: ref\n  }, other), React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? Fab.propTypes = {\n  /**\n   * The content of the button.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   * `disableRipple` must also be true.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  focusVisibleClassName: PropTypes.string,\n\n  /**\n   * The URL to link to when the button is clicked.\n   * If defined, an `a` element will be used as the root node.\n   */\n  href: PropTypes.string,\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * @ignore\n   */\n  type: PropTypes.string,\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['round', 'extended'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiFab'\n})(Fab);","function ownerDocument(node) {\n  return node && node.ownerDocument || document;\n}\n\nexport default ownerDocument;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@material-ui/utils';\nimport { setRef, useForkRef } from '../utils/reactHelpers';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container; // #StrictMode ready\n\n  return ReactDOM.findDOMNode(container);\n}\n\nvar useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Portals provide a first-class way to render children into a DOM node\n * that exists outside the DOM hierarchy of the parent component.\n */\n\nvar Portal = React.forwardRef(function Portal(props, ref) {\n  var children = props.children,\n      container = props.container,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      onRendered = props.onRendered;\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mountNode = _React$useState2[0],\n      setMountNode = _React$useState2[1];\n\n  var handleRef = useForkRef(children.ref, ref);\n  useEnhancedEffect(function () {\n    if (!disablePortal) {\n      setMountNode(getContainer(container) || document.body);\n    }\n  }, [container, disablePortal]);\n  useEnhancedEffect(function () {\n    if (mountNode && !disablePortal) {\n      setRef(ref, mountNode);\n      return function () {\n        setRef(ref, null);\n      };\n    }\n\n    return undefined;\n  }, [ref, mountNode, disablePortal]);\n  useEnhancedEffect(function () {\n    if (onRendered && (mountNode || disablePortal)) {\n      onRendered();\n    }\n  }, [onRendered, mountNode, disablePortal]);\n\n  if (disablePortal) {\n    React.Children.only(children);\n    return React.cloneElement(children, {\n      ref: handleRef\n    });\n  }\n\n  return mountNode ? ReactDOM.createPortal(children, mountNode) : mountNode;\n});\nprocess.env.NODE_ENV !== \"production\" ? Portal.propTypes = {\n  /**\n   * The children to render into the `container`.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A node, component instance, or function that returns either.\n   * The `container` will have the portal children appended to it.\n   * By default, it uses the body of the top-level document object,\n   * so it's simply `document.body` most of the time.\n   */\n  container: PropTypes.oneOfType([PropTypes.func, PropTypes.instanceOf(React.Component), PropTypes.instanceOf(typeof Element === 'undefined' ? Object : Element)]),\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * Callback fired once the children has been mounted into the `container`.\n   *\n   * This prop will be deprecated and removed in v5, the ref can be used instead.\n   */\n  onRendered: PropTypes.func\n} : void 0;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line\n  Portal['propTypes' + ''] = exactProp(Portal.propTypes);\n}\n\nexport default Portal;","// A change of the browser zoom change the scrollbar size.\n// Credit https://github.com/twbs/bootstrap/blob/3ffe3a5d82f6f561b82ff78d82b32a7d14aed558/js/src/modal.js#L512-L519\nfunction getScrollbarSize() {\n  var scrollDiv = document.createElement('div');\n  scrollDiv.style.width = '99px';\n  scrollDiv.style.height = '99px';\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  var scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarSize;\n}\n\nexport default getScrollbarSize;","import ownerDocument from './ownerDocument';\n\nfunction ownerWindow(node) {\n  var doc = ownerDocument(node);\n  return doc.defaultView || window;\n}\n\nexport default ownerWindow;","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport getScrollbarSize from '../utils/getScrollbarSize';\nimport ownerDocument from '../utils/ownerDocument';\nimport ownerWindow from '../utils/ownerWindow'; // Do we have a vertical scrollbar?\n\nfunction isOverflowing(container) {\n  var doc = ownerDocument(container);\n\n  if (doc.body === container) {\n    var win = ownerWindow(doc);\n    return win.innerWidth > doc.documentElement.clientWidth;\n  }\n\n  return container.scrollHeight > container.clientHeight;\n}\n\nexport function ariaHidden(node, show) {\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction getPaddingRight(node) {\n  return parseInt(window.getComputedStyle(node)['padding-right'], 10) || 0;\n}\n\nvar BLACKLIST = ['template', 'script', 'style'];\n\nfunction isHideable(node) {\n  return node.nodeType === 1 && BLACKLIST.indexOf(node.tagName.toLowerCase()) === -1;\n}\n\nfunction siblings(container, mount, currentNode, nodesToExclude, callback) {\n  var blacklist = [mount, currentNode].concat(_toConsumableArray(nodesToExclude));\n  [].forEach.call(container.children, function (node) {\n    if (blacklist.indexOf(node) === -1 && isHideable(node)) {\n      callback(node);\n    }\n  });\n}\n\nfunction ariaHiddenSiblings(container, mountNode, currentNode) {\n  var nodesToExclude = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var show = arguments.length > 4 ? arguments[4] : undefined;\n  siblings(container, mountNode, currentNode, nodesToExclude, function (node) {\n    return ariaHidden(node, show);\n  });\n}\n\nfunction findIndexOf(containerInfo, callback) {\n  var idx = -1;\n  containerInfo.some(function (item, index) {\n    if (callback(item)) {\n      idx = index;\n      return true;\n    }\n\n    return false;\n  });\n  return idx;\n}\n\nfunction handleContainer(containerInfo, props) {\n  var restoreStyle = {};\n  var style = {};\n  var restorePaddings = [];\n  var fixedNodes;\n\n  if (!props.disableScrollLock) {\n    restoreStyle.overflow = containerInfo.container.style.overflow;\n    restoreStyle['padding-right'] = containerInfo.container.style.paddingRight;\n    style.overflow = 'hidden';\n\n    if (isOverflowing(containerInfo.container)) {\n      var scrollbarSize = getScrollbarSize(); // Use computed style, here to get the real padding to add our scrollbar width.\n\n      style['padding-right'] = \"\".concat(getPaddingRight(containerInfo.container) + scrollbarSize, \"px\"); // .mui-fixed is a global helper.\n\n      fixedNodes = ownerDocument(containerInfo.container).querySelectorAll('.mui-fixed');\n      [].forEach.call(fixedNodes, function (node) {\n        restorePaddings.push(node.style.paddingRight);\n        node.style.paddingRight = \"\".concat(getPaddingRight(node) + scrollbarSize, \"px\");\n      });\n    }\n  }\n\n  Object.keys(style).forEach(function (key) {\n    containerInfo.container.style[key] = style[key];\n  });\n\n  var restore = function restore() {\n    if (fixedNodes) {\n      [].forEach.call(fixedNodes, function (node, i) {\n        if (restorePaddings[i]) {\n          node.style.paddingRight = restorePaddings[i];\n        } else {\n          node.style.removeProperty('padding-right');\n        }\n      });\n    }\n\n    Object.keys(restoreStyle).forEach(function (key) {\n      if (restoreStyle[key]) {\n        containerInfo.container.style.setProperty(key, restoreStyle[key]);\n      } else {\n        containerInfo.container.style.removeProperty(key);\n      }\n    });\n  };\n\n  return restore;\n}\n\nfunction getHiddenSiblings(container) {\n  var hiddenSiblings = [];\n  [].forEach.call(container.children, function (node) {\n    if (node.getAttribute && node.getAttribute('aria-hidden') === 'true') {\n      hiddenSiblings.push(node);\n    }\n  });\n  return hiddenSiblings;\n}\n/**\n * @ignore - do not document.\n *\n * Proper state management for containers and the modals in those containers.\n * Simplified, but inspired by react-overlay's ModalManager class.\n * Used by the Modal to ensure proper styling of containers.\n */\n\n\nvar ModalManager =\n/*#__PURE__*/\nfunction () {\n  function ModalManager() {\n    _classCallCheck(this, ModalManager); // this.modals[modalIndex] = modal\n\n\n    this.modals = []; // this.contaniners[containerIndex] = {\n    //   modals: [],\n    //   container,\n    //   restore: null,\n    // }\n\n    this.contaniners = [];\n  }\n\n  _createClass(ModalManager, [{\n    key: \"add\",\n    value: function add(modal, container) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex !== -1) {\n        return modalIndex;\n      }\n\n      modalIndex = this.modals.length;\n      this.modals.push(modal); // If the modal we are adding is already in the DOM.\n\n      if (modal.modalRef) {\n        ariaHidden(modal.modalRef, false);\n      }\n\n      var hiddenSiblingNodes = getHiddenSiblings(container);\n      ariaHiddenSiblings(container, modal.mountNode, modal.modalRef, hiddenSiblingNodes, true);\n      var containerIndex = findIndexOf(this.contaniners, function (item) {\n        return item.container === container;\n      });\n\n      if (containerIndex !== -1) {\n        this.contaniners[containerIndex].modals.push(modal);\n        return modalIndex;\n      }\n\n      this.contaniners.push({\n        modals: [modal],\n        container: container,\n        restore: null,\n        hiddenSiblingNodes: hiddenSiblingNodes\n      });\n      return modalIndex;\n    }\n  }, {\n    key: \"mount\",\n    value: function mount(modal, props) {\n      var containerIndex = findIndexOf(this.contaniners, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.contaniners[containerIndex];\n\n      if (!containerInfo.restore) {\n        containerInfo.restore = handleContainer(containerInfo, props);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(modal) {\n      var modalIndex = this.modals.indexOf(modal);\n\n      if (modalIndex === -1) {\n        return modalIndex;\n      }\n\n      var containerIndex = findIndexOf(this.contaniners, function (item) {\n        return item.modals.indexOf(modal) !== -1;\n      });\n      var containerInfo = this.contaniners[containerIndex];\n      containerInfo.modals.splice(containerInfo.modals.indexOf(modal), 1);\n      this.modals.splice(modalIndex, 1); // If that was the last modal in a container, clean up the container.\n\n      if (containerInfo.modals.length === 0) {\n        // The modal might be closed before it had the chance to be mounted in the DOM.\n        if (containerInfo.restore) {\n          containerInfo.restore();\n        }\n\n        if (modal.modalRef) {\n          // In case the modal wasn't in the DOM yet.\n          ariaHidden(modal.modalRef, true);\n        }\n\n        ariaHiddenSiblings(containerInfo.container, modal.mountNode, modal.modalRef, containerInfo.hiddenSiblingNodes, false);\n        this.contaniners.splice(containerIndex, 1);\n      } else {\n        // Otherwise make sure the next top modal is visible to a screen reader.\n        var nextTop = containerInfo.modals[containerInfo.modals.length - 1]; // as soon as a modal is adding its modalRef is undefined. it can't set\n        // aria-hidden because the dom element doesn't exist either\n        // when modal was unmounted before modalRef gets null\n\n        if (nextTop.modalRef) {\n          ariaHidden(nextTop.modalRef, false);\n        }\n      }\n\n      return modalIndex;\n    }\n  }, {\n    key: \"isTopModal\",\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexport { ModalManager as default };","/* eslint-disable consistent-return, jsx-a11y/no-noninteractive-tabindex */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport ownerDocument from '../utils/ownerDocument';\nimport { useForkRef } from '../utils/reactHelpers';\n/**\n * @ignore - internal component.\n */\n\nfunction TrapFocus(props) {\n  var children = props.children,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      getDoc = props.getDoc,\n      isEnabled = props.isEnabled,\n      open = props.open;\n  var ignoreNextEnforceFocus = React.useRef();\n  var sentinelStart = React.useRef(null);\n  var sentinelEnd = React.useRef(null);\n  var nodeToRestore = React.useRef();\n  var rootRef = React.useRef(null); // can be removed once we drop support for non ref forwarding class components\n\n  var handleOwnRef = React.useCallback(function (instance) {\n    // #StrictMode ready\n    rootRef.current = ReactDOM.findDOMNode(instance);\n  }, []);\n  var handleRef = useForkRef(children.ref, handleOwnRef); //  You may rely on React.useMemo as a performance optimization, not as a semantic guarantee.\n  // https://reactjs.org/docs/hooks-reference.html#usememo\n\n  React.useMemo(function () {\n    if (!open || typeof window === 'undefined') {\n      return;\n    }\n\n    nodeToRestore.current = getDoc().activeElement;\n  }, [open]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect(function () {\n    if (!open) {\n      return;\n    }\n\n    var doc = ownerDocument(rootRef.current); // We might render an empty child.\n\n    if (!disableAutoFocus && rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n      if (!rootRef.current.hasAttribute('tabIndex')) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, ['Material-UI: the modal content node does not accept focus.', 'For the benefit of assistive technologies, ' + 'the tabIndex of the node is being set to \"-1\".'].join('\\n')) : void 0;\n        rootRef.current.setAttribute('tabIndex', -1);\n      }\n\n      rootRef.current.focus();\n    }\n\n    var contain = function contain() {\n      if (disableEnforceFocus || !isEnabled() || ignoreNextEnforceFocus.current) {\n        ignoreNextEnforceFocus.current = false;\n        return;\n      }\n\n      if (rootRef.current && !rootRef.current.contains(doc.activeElement)) {\n        rootRef.current.focus();\n      }\n    };\n\n    var loopFocus = function loopFocus(event) {\n      // 9 = Tab\n      if (disableEnforceFocus || !isEnabled() || event.keyCode !== 9) {\n        return;\n      } // Make sure the next tab starts from the right place.\n\n\n      if (doc.activeElement === rootRef.current) {\n        // We need to ignore the next contain as\n        // it will try to move the focus back to the rootRef element.\n        ignoreNextEnforceFocus.current = true;\n\n        if (event.shiftKey) {\n          sentinelEnd.current.focus();\n        } else {\n          sentinelStart.current.focus();\n        }\n      }\n    };\n\n    doc.addEventListener('focus', contain, true);\n    doc.addEventListener('keydown', loopFocus, true); // With Edge, Safari and Firefox, no focus related events are fired when the focused area stops being a focused area\n    // e.g. https://bugzilla.mozilla.org/show_bug.cgi?id=559561.\n    //\n    // The whatwg spec defines how the browser should behave but does not explicitly mention any events:\n    // https://html.spec.whatwg.org/multipage/interaction.html#focus-fixup-rule.\n\n    var interval = setInterval(function () {\n      contain();\n    }, 50);\n    return function () {\n      clearInterval(interval);\n      doc.removeEventListener('focus', contain, true);\n      doc.removeEventListener('keydown', loopFocus, true); // restoreLastFocus()\n\n      if (!disableRestoreFocus) {\n        // In IE 11 it is possible for document.activeElement to be null resulting\n        // in nodeToRestore.current being null.\n        // Not all elements in IE 11 have a focus method.\n        // Once IE 11 support is dropped the focus() call can be unconditional.\n        if (nodeToRestore.current && nodeToRestore.current.focus) {\n          nodeToRestore.current.focus();\n        }\n\n        nodeToRestore.current = null;\n      }\n    };\n  }, [disableAutoFocus, disableEnforceFocus, disableRestoreFocus, isEnabled, open]);\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelStart,\n    \"data-test\": \"sentinelStart\"\n  }), React.cloneElement(children, {\n    ref: handleRef\n  }), React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelEnd,\n    \"data-test\": \"sentinelEnd\"\n  }));\n}\n\nprocess.env.NODE_ENV !== \"production\" ? TrapFocus.propTypes = {\n  /**\n   * A single child content element.\n   */\n  children: PropTypes.element.isRequired,\n\n  /**\n   * If `true`, the modal will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any modal children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableAutoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the modal will not prevent focus from leaving the modal while open.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableEnforceFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the modal will not restore focus to previously focused element once\n   * modal is hidden.\n   */\n  disableRestoreFocus: PropTypes.bool,\n\n  /**\n   * Return the document to consider.\n   * We use it to implement the restore focus between different browser documents.\n   */\n  getDoc: PropTypes.func.isRequired,\n\n  /**\n   * Do we still want to enforce the focus?\n   * This prop helps nesting TrapFocus elements.\n   */\n  isEnabled: PropTypes.func.isRequired,\n\n  /**\n   * If `true`, the modal is open.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\n/*\n\nIn the future, we should be able to replace TrapFocus with:\nhttps://github.com/facebook/react/blob/master/packages/react-events/docs/FocusScope.md\n\n```jsx\nimport FocusScope from 'react-dom/FocusScope';\n\nfunction TrapFocus(props) {\n  const {\n    children\n    disableAutoFocus = false,\n    disableEnforceFocus = false,\n    disableRestoreFocus = false,\n    open,\n  } = props;\n\n  if (!open) {\n    return children;\n  }\n\n  return (\n    <FocusScope\n      autoFocus={!disableAutoFocus}\n      contain={!disableEnforceFocus}\n      restoreFocus={!disableRestoreFocus}\n    >\n      {children}\n    </FocusScope>\n  );\n}\n```\n\n*/\n\nexport default TrapFocus;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    zIndex: -1,\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    // Remove grey highlight\n    WebkitTapHighlightColor: 'transparent',\n    // Disable scroll capabilities.\n    touchAction: 'none'\n  },\n\n  /* Styles applied to the root element if `invisible={true}`. */\n  invisible: {\n    backgroundColor: 'transparent'\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SimpleBackdrop = React.forwardRef(function SimpleBackdrop(props, ref) {\n  var _props$invisible = props.invisible,\n      invisible = _props$invisible === void 0 ? false : _props$invisible,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"invisible\", \"open\"]);\n\n  return open ? React.createElement(\"div\", _extends({\n    \"aria-hidden\": true,\n    ref: ref\n  }, other, {\n    style: _extends({}, styles.root, {}, invisible ? styles.invisible : {}, {}, other.style)\n  })) : null;\n});\nprocess.env.NODE_ENV !== \"production\" ? SimpleBackdrop.propTypes = {\n  /**\n   * If `true`, the backdrop is invisible.\n   * It can be used when rendering a popover or a custom select component.\n   */\n  invisible: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is open.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\nexport default SimpleBackdrop;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { useTheme } from '@material-ui/styles';\nimport { elementAcceptingRef } from '@material-ui/utils';\nimport ownerDocument from '../utils/ownerDocument';\nimport Portal from '../Portal';\nimport { createChainedFunction } from '../utils/helpers';\nimport { useForkRef } from '../utils/reactHelpers';\nimport useEventCallback from '../utils/useEventCallback';\nimport zIndex from '../styles/zIndex';\nimport ModalManager, { ariaHidden } from './ModalManager';\nimport TrapFocus from './TrapFocus';\nimport SimpleBackdrop from './SimpleBackdrop';\n\nfunction getContainer(container) {\n  container = typeof container === 'function' ? container() : container;\n  return ReactDOM.findDOMNode(container);\n}\n\nfunction getHasTransition(props) {\n  return props.children ? props.children.props.hasOwnProperty('in') : false;\n} // A modal manager used to track and manage the state of open Modals.\n// Modals don't open on the server so this won't conflict with concurrent requests.\n\n\nvar defaultManager = new ModalManager();\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'fixed',\n      zIndex: theme.zIndex.modal,\n      right: 0,\n      bottom: 0,\n      top: 0,\n      left: 0\n    },\n\n    /* Styles applied to the root element if the `Modal` has exited. */\n    hidden: {\n      visibility: 'hidden'\n    }\n  };\n};\n/**\n * Modal is a lower-level construct that is leveraged by the following components:\n *\n * - [Dialog](/api/dialog/)\n * - [Drawer](/api/drawer/)\n * - [Menu](/api/menu/)\n * - [Popover](/api/popover/)\n *\n * If you are creating a modal dialog, you probably want to use the [Dialog](/api/dialog/) component\n * rather than directly using Modal.\n *\n * This component shares many concepts with [react-overlays](https://react-bootstrap.github.io/react-overlays/#modals).\n */\n\nvar Modal = React.forwardRef(function Modal(props, ref) {\n  var _props$BackdropCompon = props.BackdropComponent,\n      BackdropComponent = _props$BackdropCompon === void 0 ? SimpleBackdrop : _props$BackdropCompon,\n      BackdropProps = props.BackdropProps,\n      children = props.children,\n      _props$closeAfterTran = props.closeAfterTransition,\n      closeAfterTransition = _props$closeAfterTran === void 0 ? false : _props$closeAfterTran,\n      container = props.container,\n      _props$disableAutoFoc = props.disableAutoFocus,\n      disableAutoFocus = _props$disableAutoFoc === void 0 ? false : _props$disableAutoFoc,\n      _props$disableBackdro = props.disableBackdropClick,\n      disableBackdropClick = _props$disableBackdro === void 0 ? false : _props$disableBackdro,\n      _props$disableEnforce = props.disableEnforceFocus,\n      disableEnforceFocus = _props$disableEnforce === void 0 ? false : _props$disableEnforce,\n      _props$disableEscapeK = props.disableEscapeKeyDown,\n      disableEscapeKeyDown = _props$disableEscapeK === void 0 ? false : _props$disableEscapeK,\n      _props$disablePortal = props.disablePortal,\n      disablePortal = _props$disablePortal === void 0 ? false : _props$disablePortal,\n      _props$disableRestore = props.disableRestoreFocus,\n      disableRestoreFocus = _props$disableRestore === void 0 ? false : _props$disableRestore,\n      _props$disableScrollL = props.disableScrollLock,\n      disableScrollLock = _props$disableScrollL === void 0 ? false : _props$disableScrollL,\n      _props$hideBackdrop = props.hideBackdrop,\n      hideBackdrop = _props$hideBackdrop === void 0 ? false : _props$hideBackdrop,\n      _props$keepMounted = props.keepMounted,\n      keepMounted = _props$keepMounted === void 0 ? false : _props$keepMounted,\n      _props$manager = props.manager,\n      manager = _props$manager === void 0 ? defaultManager : _props$manager,\n      onBackdropClick = props.onBackdropClick,\n      onClose = props.onClose,\n      onEscapeKeyDown = props.onEscapeKeyDown,\n      onRendered = props.onRendered,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"BackdropComponent\", \"BackdropProps\", \"children\", \"closeAfterTransition\", \"container\", \"disableAutoFocus\", \"disableBackdropClick\", \"disableEnforceFocus\", \"disableEscapeKeyDown\", \"disablePortal\", \"disableRestoreFocus\", \"disableScrollLock\", \"hideBackdrop\", \"keepMounted\", \"manager\", \"onBackdropClick\", \"onClose\", \"onEscapeKeyDown\", \"onRendered\", \"open\"]);\n\n  var theme = useTheme();\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      exited = _React$useState2[0],\n      setExited = _React$useState2[1];\n\n  var modal = React.useRef({});\n  var mountNodeRef = React.useRef(null);\n  var modalRef = React.useRef(null);\n  var handleRef = useForkRef(modalRef, ref);\n  var hasTransition = getHasTransition(props);\n\n  var getDoc = function getDoc() {\n    return ownerDocument(mountNodeRef.current);\n  };\n\n  var getModal = function getModal() {\n    modal.current.modalRef = modalRef.current;\n    modal.current.mountNode = mountNodeRef.current;\n    return modal.current;\n  };\n\n  var handleMounted = function handleMounted() {\n    manager.mount(getModal(), {\n      disableScrollLock: disableScrollLock\n    }); // Fix a bug on Chrome where the scroll isn't initially 0.\n\n    modalRef.current.scrollTop = 0;\n  };\n\n  var handleOpen = useEventCallback(function () {\n    var resolvedContainer = getContainer(container) || getDoc().body;\n    manager.add(getModal(), resolvedContainer); // The element was already mounted.\n\n    if (modalRef.current) {\n      handleMounted();\n    }\n  });\n  var isTopModal = React.useCallback(function () {\n    return manager.isTopModal(getModal());\n  }, [manager]);\n  var handlePortalRef = useEventCallback(function (node) {\n    mountNodeRef.current = node;\n\n    if (!node) {\n      return;\n    }\n\n    if (onRendered) {\n      onRendered();\n    }\n\n    if (open && isTopModal()) {\n      handleMounted();\n    } else {\n      ariaHidden(modalRef.current, true);\n    }\n  });\n  var handleClose = React.useCallback(function () {\n    manager.remove(getModal());\n  }, [manager]);\n  React.useEffect(function () {\n    return function () {\n      handleClose();\n    };\n  }, [handleClose]);\n  React.useEffect(function () {\n    if (open) {\n      handleOpen();\n    } else if (!hasTransition || !closeAfterTransition) {\n      handleClose();\n    }\n  }, [open, handleClose, hasTransition, closeAfterTransition, handleOpen]);\n\n  if (!keepMounted && !open && (!hasTransition || exited)) {\n    return null;\n  }\n\n  var handleEnter = function handleEnter() {\n    setExited(false);\n  };\n\n  var handleExited = function handleExited() {\n    setExited(true);\n\n    if (closeAfterTransition) {\n      handleClose();\n    }\n  };\n\n  var handleBackdropClick = function handleBackdropClick(event) {\n    if (event.target !== event.currentTarget) {\n      return;\n    }\n\n    if (onBackdropClick) {\n      onBackdropClick(event);\n    }\n\n    if (!disableBackdropClick && onClose) {\n      onClose(event, 'backdropClick');\n    }\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    // We don't take event.defaultPrevented into account:\n    //\n    // event.preventDefault() is meant to stop default behaviours like\n    // clicking a checkbox to check it, hitting a button to submit a form,\n    // and hitting left arrow to move the cursor in a text input etc.\n    // Only special HTML elements have these default behaviors.\n    if (event.key !== 'Escape' || !isTopModal()) {\n      return;\n    } // Swallow the event, in case someone is listening for the escape key on the body.\n\n\n    event.stopPropagation();\n\n    if (onEscapeKeyDown) {\n      onEscapeKeyDown(event);\n    }\n\n    if (!disableEscapeKeyDown && onClose) {\n      onClose(event, 'escapeKeyDown');\n    }\n  };\n\n  var inlineStyle = styles(theme || {\n    zIndex: zIndex\n  });\n  var childProps = {}; // FixMe: Always apply document role. Revisit once React Flare is released\n\n  if (children.role === undefined) {\n    childProps.role = children.role || 'document';\n  }\n\n  if (children.tabIndex === undefined) {\n    childProps.tabIndex = children.tabIndex || '-1';\n  } // It's a Transition like component\n\n\n  if (hasTransition) {\n    childProps.onEnter = createChainedFunction(handleEnter, children.props.onEnter);\n    childProps.onExited = createChainedFunction(handleExited, children.props.onExited);\n  }\n\n  return React.createElement(Portal, {\n    ref: handlePortalRef,\n    container: container,\n    disablePortal: disablePortal\n  }, React.createElement(\"div\", _extends({\n    ref: handleRef,\n    onKeyDown: handleKeyDown,\n    role: \"presentation\"\n  }, other, {\n    style: _extends({}, inlineStyle.root, {}, !open && exited ? inlineStyle.hidden : {}, {}, other.style)\n  }), hideBackdrop ? null : React.createElement(BackdropComponent, _extends({\n    open: open,\n    onClick: handleBackdropClick\n  }, BackdropProps)), React.createElement(TrapFocus, {\n    disableEnforceFocus: disableEnforceFocus,\n    disableAutoFocus: disableAutoFocus,\n    disableRestoreFocus: disableRestoreFocus,\n    getDoc: getDoc,\n    isEnabled: isTopModal,\n    open: open\n  }, React.cloneElement(children, childProps))));\n});\nprocess.env.NODE_ENV !== \"production\" ? Modal.propTypes = {\n  /**\n   * A backdrop component. This prop enables custom backdrop rendering.\n   */\n  BackdropComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`Backdrop`](/api/backdrop/) element.\n   */\n  BackdropProps: PropTypes.object,\n\n  /**\n   * A single child content element.\n   */\n  children: elementAcceptingRef.isRequired,\n\n  /**\n   * When set to true the Modal waits until a nested Transition is completed before closing.\n   */\n  closeAfterTransition: PropTypes.bool,\n\n  /**\n   * A node, component instance, or function that returns either.\n   * The `container` will have the portal children appended to it.\n   */\n  container: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\n  /**\n   * If `true`, the modal will not automatically shift focus to itself when it opens, and\n   * replace it to the last focused element when it closes.\n   * This also works correctly with any modal children that have the `disableAutoFocus` prop.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableAutoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, clicking the backdrop will not fire any callback.\n   */\n  disableBackdropClick: PropTypes.bool,\n\n  /**\n   * If `true`, the modal will not prevent focus from leaving the modal while open.\n   *\n   * Generally this should never be set to `true` as it makes the modal less\n   * accessible to assistive technologies, like screen readers.\n   */\n  disableEnforceFocus: PropTypes.bool,\n\n  /**\n   * If `true`, hitting escape will not fire any callback.\n   */\n  disableEscapeKeyDown: PropTypes.bool,\n\n  /**\n   * Disable the portal behavior.\n   * The children stay within it's parent DOM hierarchy.\n   */\n  disablePortal: PropTypes.bool,\n\n  /**\n   * If `true`, the modal will not restore focus to previously focused element once\n   * modal is hidden.\n   */\n  disableRestoreFocus: PropTypes.bool,\n\n  /**\n   * Disable the scroll lock behavior.\n   */\n  disableScrollLock: PropTypes.bool,\n\n  /**\n   * If `true`, the backdrop is not rendered.\n   */\n  hideBackdrop: PropTypes.bool,\n\n  /**\n   * Always keep the children in the DOM.\n   * This prop can be useful in SEO situation or\n   * when you want to maximize the responsiveness of the Modal.\n   */\n  keepMounted: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  manager: PropTypes.object,\n\n  /**\n   * Callback fired when the backdrop is clicked.\n   */\n  onBackdropClick: PropTypes.func,\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * The `reason` parameter can optionally be used to control the response to `onClose`.\n   *\n   * @param {object} event The event source of the callback\n   * @param {string} reason Can be:`\"escapeKeyDown\"`, `\"backdropClick\"`\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * Callback fired when the escape key is pressed,\n   * `disableEscapeKeyDown` is false and the modal is in focus.\n   */\n  onEscapeKeyDown: PropTypes.func,\n\n  /**\n   * Callback fired once the children has been mounted into the `container`.\n   * It signals that the `open={true}` prop took effect.\n   *\n   * This prop will be deprecated and removed in v5, the ref can be used instead.\n   */\n  onRendered: PropTypes.func,\n\n  /**\n   * If `true`, the modal is open.\n   */\n  open: PropTypes.bool.isRequired\n} : void 0;\nexport default Modal;","import React from 'react';\n/**\n * @ignore - internal component.\n */\n\nvar FormControlContext = React.createContext();\nexport function useFormControl() {\n  return React.useContext(FormControlContext);\n}\nexport default FormControlContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@material-ui/utils';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport ButtonBase from '../ButtonBase';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      textAlign: 'center',\n      flex: '0 0 auto',\n      fontSize: theme.typography.pxToRem(24),\n      padding: 12,\n      borderRadius: '50%',\n      overflow: 'visible',\n      // Explicitly set the default value to solve a bug on IE 11.\n      color: theme.palette.action.active,\n      transition: theme.transitions.create('background-color', {\n        duration: theme.transitions.duration.shortest\n      }),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.action.active, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      },\n      '&$disabled': {\n        backgroundColor: 'transparent',\n        color: theme.palette.action.disabled\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -12,\n      '$sizeSmall&': {\n        marginLeft: -3\n      }\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -12,\n      '$sizeSmall&': {\n        marginRight: -3\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main,\n      '&:hover': {\n        backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity),\n        // Reset on touch devices, it doesn't add specificity\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        }\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 3,\n      fontSize: theme.typography.pxToRem(18)\n    },\n\n    /* Styles applied to the children container element. */\n    label: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    }\n  };\n};\n/**\n * Refer to the [Icons](/components/icons/) section of the documentation\n * regarding the available icon options.\n */\n\nvar IconButton = React.forwardRef(function IconButton(props, ref) {\n  var _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"edge\", \"children\", \"classes\", \"className\", \"color\", \"disabled\", \"disableFocusRipple\", \"size\"]);\n\n  return React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], disabled && classes.disabled, {\n      small: classes[\"size\".concat(capitalize(size))]\n    }[size], {\n      start: classes.edgeStart,\n      end: classes.edgeEnd\n    }[edge]),\n    centerRipple: true,\n    focusRipple: !disableFocusRipple,\n    disabled: disabled,\n    ref: ref\n  }, other), React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? IconButton.propTypes = {\n  /**\n   * The icon element.\n   */\n  children: chainPropTypes(PropTypes.node, function (props) {\n    var found = React.Children.toArray(props.children).some(function (child) {\n      return React.isValidElement(child) && child.props.onClick;\n    });\n\n    if (found) {\n      return new Error(['Material-UI: you are providing an onClick event listener ' + 'to a child of a button element.', 'Firefox will never trigger the event.', 'You should move the onClick listener to the parent button element.', 'https://github.com/mui-org/material-ui/issues/13957'].join('\\n'));\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'inherit', 'primary', 'secondary']),\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   * `disableRipple` must also be true.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['start', 'end', false]),\n\n  /**\n   * The size of the button.\n   * `small` is equivalent to the dense button styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiIconButton'\n})(IconButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport useFormControl from '../FormControl/useFormControl';\nimport withStyles from '../styles/withStyles';\nimport IconButton from '../IconButton';\nexport var styles = {\n  root: {\n    padding: 9\n  },\n  checked: {},\n  disabled: {},\n  input: {\n    cursor: 'inherit',\n    position: 'absolute',\n    opacity: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    margin: 0,\n    padding: 0\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar SwitchBase = React.forwardRef(function SwitchBase(props, ref) {\n  var autoFocus = props.autoFocus,\n      checkedProp = props.checked,\n      checkedIcon = props.checkedIcon,\n      classes = props.classes,\n      classNameProp = props.className,\n      defaultChecked = props.defaultChecked,\n      disabledProp = props.disabled,\n      icon = props.icon,\n      id = props.id,\n      inputProps = props.inputProps,\n      inputRef = props.inputRef,\n      name = props.name,\n      onBlur = props.onBlur,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      readOnly = props.readOnly,\n      required = props.required,\n      tabIndex = props.tabIndex,\n      type = props.type,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"autoFocus\", \"checked\", \"checkedIcon\", \"classes\", \"className\", \"defaultChecked\", \"disabled\", \"icon\", \"id\", \"inputProps\", \"inputRef\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"readOnly\", \"required\", \"tabIndex\", \"type\", \"value\"]);\n\n  var _React$useRef = React.useRef(checkedProp != null),\n      isControlled = _React$useRef.current;\n\n  var _React$useState = React.useState(Boolean(defaultChecked)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      checkedState = _React$useState2[0],\n      setCheckedState = _React$useState2[1];\n\n  var muiFormControl = useFormControl();\n\n  var handleFocus = function handleFocus(event) {\n    if (onFocus) {\n      onFocus(event);\n    }\n\n    if (muiFormControl && muiFormControl.onFocus) {\n      muiFormControl.onFocus(event);\n    }\n  };\n\n  var handleBlur = function handleBlur(event) {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (muiFormControl && muiFormControl.onBlur) {\n      muiFormControl.onBlur(event);\n    }\n  };\n\n  var handleInputChange = function handleInputChange(event) {\n    var checked = event.target.checked;\n\n    if (!isControlled) {\n      setCheckedState(checked);\n    }\n\n    if (onChange) {\n      onChange(event, checked);\n    }\n  };\n\n  var disabled = disabledProp;\n\n  if (muiFormControl) {\n    if (typeof disabled === 'undefined') {\n      disabled = muiFormControl.disabled;\n    }\n  }\n\n  var checked = isControlled ? checkedProp : checkedState;\n  var hasLabelFor = type === 'checkbox' || type === 'radio';\n  return React.createElement(IconButton, _extends({\n    component: \"span\",\n    className: clsx(classes.root, classNameProp, checked && classes.checked, disabled && classes.disabled),\n    disabled: disabled,\n    tabIndex: null,\n    role: undefined,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    ref: ref\n  }, other), checked ? checkedIcon : icon, React.createElement(\"input\", _extends({\n    autoFocus: autoFocus,\n    checked: checkedProp,\n    defaultChecked: defaultChecked,\n    className: classes.input,\n    disabled: disabled,\n    id: hasLabelFor && id,\n    name: name,\n    onChange: handleInputChange,\n    readOnly: readOnly,\n    ref: inputRef,\n    required: required,\n    tabIndex: tabIndex,\n    type: type,\n    value: value\n  }, inputProps)));\n}); // NB: If changed, please update Checkbox, Switch and Radio\n// so that the API documentation is updated.\n\nprocess.env.NODE_ENV !== \"production\" ? SwitchBase.propTypes = {\n  /**\n   * If `true`, the `input` element will be focused during the first mount.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node.isRequired,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * This prop can be used to pass a ref callback to the `input` element.\n   */\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /*\n   * @ignore\n   */\n  name: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.checked`.\n   * @param {boolean} checked The `checked` value of the switch\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * It prevents the user from changing the value of the field\n   * (not from interacting with the field).\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string.isRequired,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateSwitchBase'\n})(SwitchBase);","import React from 'react';\nimport FormControlContext from './FormControlContext';\nexport default function useFormControl() {\n  return React.useContext(FormControlContext);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\"; // @inheritedComponent IconButton\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { fade } from '../styles/colorManipulator';\nimport { capitalize } from '../utils/helpers';\nimport SwitchBase from '../internal/SwitchBase';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      display: 'inline-flex',\n      width: 34 + 12 * 2,\n      height: 14 + 12 * 2,\n      overflow: 'hidden',\n      padding: 12,\n      boxSizing: 'border-box',\n      position: 'relative',\n      flexShrink: 0,\n      zIndex: 0,\n      // Reset the stacking context.\n      verticalAlign: 'middle' // For correct alignment with the text.\n\n    },\n\n    /* Styles applied to the root element if `edge=\"start\"`. */\n    edgeStart: {\n      marginLeft: -8\n    },\n\n    /* Styles applied to the root element if `edge=\"end\"`. */\n    edgeEnd: {\n      marginRight: -8\n    },\n\n    /* Styles applied to the internal `SwitchBase` component's `root` class. */\n    switchBase: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      zIndex: 1,\n      // Render above the focus ripple.\n      color: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[400],\n      transition: theme.transitions.create(['left', 'transform'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      willChange: 'left, transform',\n      '&$checked': {\n        left: '100%',\n        transform: 'translateX(-100%)'\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        opacity: 0.5\n      },\n      '&$disabled + $track': {\n        opacity: theme.palette.type === 'light' ? 0.12 : 0.1\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"primary\"`. */\n    colorPrimary: {\n      '&$checked': {\n        color: theme.palette.primary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.primary.main, theme.palette.action.hoverOpacity)\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.primary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the internal SwitchBase component's root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      '&$checked': {\n        color: theme.palette.secondary.main,\n        '&:hover': {\n          backgroundColor: fade(theme.palette.secondary.main, theme.palette.action.hoverOpacity)\n        }\n      },\n      '&$disabled': {\n        color: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[800]\n      },\n      '&$checked + $track': {\n        backgroundColor: theme.palette.secondary.main\n      },\n      '&$disabled + $track': {\n        backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white\n      }\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      width: 40,\n      height: 24,\n      padding: 7,\n      '& $thumb': {\n        width: 16,\n        height: 16\n      },\n      '& $switchBase': {\n        padding: 4\n      }\n    },\n\n    /* Pseudo-class applied to the internal `SwitchBase` component's `checked` class. */\n    checked: {},\n\n    /* Pseudo-class applied to the internal SwitchBase component's disabled class. */\n    disabled: {},\n\n    /* Styles applied to the internal SwitchBase component's input element. */\n    input: {\n      left: '-100%',\n      width: '300%'\n    },\n\n    /* Styles used to create the thumb passed to the internal `SwitchBase` component `icon` prop. */\n    thumb: {\n      boxShadow: theme.shadows[1],\n      backgroundColor: 'currentColor',\n      width: 20,\n      height: 20,\n      borderRadius: '50%'\n    },\n\n    /* Styles applied to the track element. */\n    track: {\n      height: '100%',\n      width: '100%',\n      borderRadius: 14 / 2,\n      zIndex: -1,\n      transition: theme.transitions.create(['opacity', 'background-color'], {\n        duration: theme.transitions.duration.shortest\n      }),\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.common.black : theme.palette.common.white,\n      opacity: theme.palette.type === 'light' ? 0.38 : 0.3\n    }\n  };\n};\nvar Switch = React.forwardRef(function Switch(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'secondary' : _props$color,\n      _props$edge = props.edge,\n      edge = _props$edge === void 0 ? false : _props$edge,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"edge\", \"size\"]);\n\n  var icon = React.createElement(\"span\", {\n    className: classes.thumb\n  });\n  return React.createElement(\"span\", {\n    className: clsx(classes.root, className, {\n      start: classes.edgeStart,\n      end: classes.edgeEnd\n    }[edge], {\n      small: classes[\"size\".concat(capitalize(size))]\n    }[size])\n  }, React.createElement(SwitchBase, _extends({\n    type: \"checkbox\",\n    icon: icon,\n    checkedIcon: icon,\n    classes: {\n      root: clsx(classes.switchBase, classes[\"color\".concat(capitalize(color))]),\n      input: classes.input,\n      checked: classes.checked,\n      disabled: classes.disabled\n    },\n    ref: ref\n  }, other)), React.createElement(\"span\", {\n    className: classes.track\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes = {\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary', 'default']),\n\n  /**\n   * @ignore\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the switch will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   */\n  edge: PropTypes.oneOf(['start', 'end', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * This prop can be used to pass a ref callback to the `input` element.\n   */\n  inputRef: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {object} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.checked`.\n   * @param {boolean} checked The `checked` value of the switch\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element will be required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the switch.\n   * `small` is equivalent to the dense switch styling.\n   */\n  size: PropTypes.oneOf(['small', 'medium']),\n\n  /**\n   * The input component prop `type`.\n   */\n  type: PropTypes.string,\n\n  /**\n   * The value of the component.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiSwitch'\n})(Switch);","import React from 'react';\nvar ThemeContext = React.createContext(null);\nexport default ThemeContext;","import React from 'react';\nimport ThemeContext from './ThemeContext';\nexport default function useTheme() {\n  return React.useContext(ThemeContext);\n}"],"sourceRoot":""}